(window.webpackJsonp=window.webpackJsonp||[]).push([[8,40],{115:function(t,e,o){"use strict";o.d(e,"c",(function(){return n})),o.d(e,"a",(function(){return i})),o.d(e,"b",(function(){return c}));const n=t=>{const e=document.cookie.split(";");if(e.length<1)return null;for(let o=0;o<e.length;o+=1){const n=e[o].split("=");if(n[0].replace(/\s/g,"")===t)return n[1]}return null},i=t=>null!==n(t),s=(t=document.location.hostname)=>"; domain=."+t.replace("www.",""),r=t=>{if(!t)return"";const e=new Date;return e.setTime(e.getTime()+24*t*60*60*1e3),"; expires="+e.toGMTString()},c=(t,e,o,n=!1)=>{const i=r(o),c=n?s():"";document.cookie=`${t}=${e}${i}${c}; path=/`}},181:function(t,e,o){"use strict";o.d(e,"b",(function(){return i})),o.d(e,"f",(function(){return s})),o.d(e,"c",(function(){return r})),o.d(e,"d",(function(){return c})),o.d(e,"a",(function(){return a})),o.d(e,"e",(function(){return l}));var n=o(115);const i=(t,e)=>e.every(e=>t.includes(e)),s=t=>t.replace("marketing & advertising","marketing").split(","),r=()=>{const t=window.jlr_consent;return!(!t||!t.manager||"none"===t.manager)},c=()=>{if(!document.querySelector(".FooterNav__donotselldata"))return!1;const t=Object(n.c)("notice_behavior");return!(!t||"implied,us"!==t)},a=(t,e,o=!1)=>{const c=Array.isArray(e)?e:[e];if((()=>{if(o)return!r();const e=document.querySelector(`[${t}]`)&&document.querySelector(`[${t}]`).getAttribute(t);return!(!e||"true"!==e.toLowerCase())})())return!0;const a=Object(n.c)("consent-categories"),l=!!a&&s(a);return!(!l||!i(l,c))||!(!l||!l.includes("all"))},l=t=>{window.addEventListener("cookie_priorConsentCallback",t),window.addEventListener("cookie_closeCallback",t),window.addEventListener("cookie_consentWithdrawnCallback",t),window.addEventListener("cookie_consentDeclinedCallback",t)}},207:function(t,e,o){"use strict";o.d(e,"b",(function(){return l})),o.d(e,"c",(function(){return u})),o.d(e,"a",(function(){return d}));const n=[["AF","AFG"],["AX","ALA"],["AL","ALB"],["DZ","DZA"],["AS","ASM"],["AD","AND"],["AO","AGO"],["AI","AIA"],["AQ","ATA"],["AG","ATG"],["AR","ARG"],["AM","ARM"],["AW","ABW"],["AU","AUS"],["AT","AUT"],["AZ","AZE"],["BS","BHS"],["BH","BHR"],["BD","BGD"],["BB","BRB"],["BY","BLR"],["BE","BEL"],["BZ","BLZ"],["BJ","BEN"],["BM","BMU"],["BT","BTN"],["BO","BOL"],["BQ","BES"],["BA","BIH"],["BW","BWA"],["BV","BVT"],["BR","BRA"],["IO","IOT"],["BN","BRN"],["BG","BGR"],["BF","BFA"],["BI","BDI"],["CV","CPV"],["KH","KHM"],["CM","CMR"],["CA","CAN"],["KY","CYM"],["CF","CAF"],["TD","TCD"],["CL","CHL"],["CN","CHN"],["CX","CXR"],["CC","CCK"],["CO","COL"],["KM","COM"],["CG","COG"],["CD","COD"],["CK","COK"],["CR","CRI"],["CI","CIV"],["HR","HRV"],["CU","CUB"],["CW","CUW"],["CY","CYP"],["CZ","CZE"],["DK","DNK"],["DJ","DJI"],["DM","DMA"],["DO","DOM"],["EC","ECU"],["EG","EGY"],["SV","SLV"],["GQ","GNQ"],["ER","ERI"],["EE","EST"],["SZ","SWZ"],["ET","ETH"],["FK","FLK"],["FO","FRO"],["FJ","FJI"],["FI","FIN"],["FR","FRA"],["GF","GUF"],["PF","PYF"],["TF","ATF"],["GA","GAB"],["GM","GMB"],["GE","GEO"],["DE","DEU"],["GH","GHA"],["GI","GIB"],["GR","GRC"],["GL","GRL"],["GD","GRD"],["GP","GLP"],["GU","GUM"],["GT","GTM"],["GG","GGY"],["GN","GIN"],["GW","GNB"],["GY","GUY"],["HT","HTI"],["HM","HMD"],["VA","VAT"],["HN","HND"],["HK","HKG"],["HU","HUN"],["IS","ISL"],["IN","IND"],["ID","IDN"],["IR","IRN"],["IQ","IRQ"],["IE","IRL"],["IM","IMN"],["IL","ISR"],["IT","ITA"],["JM","JAM"],["JP","JPN"],["JE","JEY"],["JO","JOR"],["KZ","KAZ"],["KE","KEN"],["KI","KIR"],["KP","PRK"],["KR","KOR"],["KW","KWT"],["KG","KGZ"],["LA","LAO"],["LV","LVA"],["LB","LBN"],["LS","LSO"],["LR","LBR"],["LY","LBY"],["LI","LIE"],["LT","LTU"],["LU","LUX"],["MO","MAC"],["MG","MDG"],["MW","MWI"],["MY","MYS"],["MV","MDV"],["ML","MLI"],["MT","MLT"],["MH","MHL"],["MQ","MTQ"],["MR","MRT"],["MU","MUS"],["YT","MYT"],["MX","MEX"],["FM","FSM"],["MD","MDA"],["MC","MCO"],["MN","MNG"],["ME","MNE"],["MS","MSR"],["MA","MAR"],["MZ","MOZ"],["MM","MMR"],["NA","NAM"],["NR","NRU"],["NP","NPL"],["NL","NLD"],["NC","NCL"],["NZ","NZL"],["NI","NIC"],["NE","NER"],["NG","NGA"],["NU","NIU"],["NF","NFK"],["MK","MKD"],["MP","MNP"],["NO","NOR"],["OM","OMN"],["PK","PAK"],["PW","PLW"],["PS","PSE"],["PA","PAN"],["PG","PNG"],["PY","PRY"],["PE","PER"],["PH","PHL"],["PN","PCN"],["PL","POL"],["PT","PRT"],["PR","PRI"],["QA","QAT"],["RE","REU"],["RO","ROU"],["RU","RUS"],["RW","RWA"],["BL","BLM"],["SH","SHN"],["KN","KNA"],["LC","LCA"],["MF","MAF"],["PM","SPM"],["VC","VCT"],["WS","WSM"],["SM","SMR"],["ST","STP"],["SA","SAU"],["SN","SEN"],["RS","SRB"],["SC","SYC"],["SL","SLE"],["SG","SGP"],["SX","SXM"],["SK","SVK"],["SI","SVN"],["SB","SLB"],["SO","SOM"],["ZA","ZAF"],["GS","SGS"],["SS","SSD"],["ES","ESP"],["LK","LKA"],["SD","SDN"],["SR","SUR"],["SJ","SJM"],["SE","SWE"],["CH","CHE"],["SY","SYR"],["TW","TWN"],["TJ","TJK"],["TZ","TZA"],["TH","THA"],["TL","TLS"],["TG","TGO"],["TK","TKL"],["TO","TON"],["TT","TTO"],["TN","TUN"],["TR","TUR"],["TM","TKM"],["TC","TCA"],["TV","TUV"],["UG","UGA"],["UA","UKR"],["AE","ARE"],["GB","GBR"],["US","USA"],["UM","UMI"],["UY","URY"],["UZ","UZB"],["VU","VUT"],["VE","VEN"],["VN","VNM"],["VG","VGB"],["VI","VIR"],["WF","WLF"],["EH","ESH"],["YE","YEM"],["ZM","ZMB"],["ZW","ZWE"],["TY","PYF"],["CYL","CYP"],["XK","UNK"],["AN","ANT"]];var i=o(115),s=o(181);class r{constructor(){this.cookieName="JLR_UserLocation",this.cookieDays=30,this.cookieConsentCategories=["functional"],this.sep="|"}hasLocation(){return Object(i.a)(this.cookieName)}getLocation(){const[t,e]=Object(i.c)(this.cookieName).split(this.sep);return{locality:t,country_code:e}}save(t){this.waitForConsent().then(()=>{Object(i.b)(this.cookieName,`${t.locality}${this.sep}${t.country_code}`,this.cookieDays)}).catch(()=>{})}waitForConsent(){return new Promise(t=>{const e=()=>!!Object(s.a)(null,this.cookieConsentCategories);return e()?t(!0):Object(s.e)(()=>{e()&&t(!0)})})}}class c{constructor(t,e,o,n){this.callback=t,this.options=e,this.nativeGeolocation=o,this.persistence=n}async init(){if(this.persistence.hasLocation())return this.persistence.getLocation();if(this.hasNotGeolocation())throw new Error("Geolocation is not enabled");const t=await this.reverseGeocode();return this.persistence.save(t),t}hasGeolocation(){return this.nativeGeolocation}hasNotGeolocation(){return!this.hasGeolocation()}reverseGeocode(){return new Promise(async t=>{const{coords:{latitude:e,longitude:o}}=await this.getCoordinates(),n=this.isWoosMapEnabled()?u:l;await n(e,o,t)})}getCoordinates(){return new Promise((t,e)=>{this.nativeGeolocation.getCurrentPosition(t,e)})}isWoosMapEnabled(){const{useWoosmap:t}=this.options;return!!t}}const a=(t="Google API")=>{dataLayer.push({event:"pushedEvent",eventAction:t,eventCategory:"Geolocation",eventLabel:window.location.href,nonInteraction:1})},l=(t,e,o)=>{a(),$.ajax({url:`https://maps.googleapis.com/maps/api/geocode/json?address=${t},${e}&key=AIzaSyAXwLJc64BMjGBcvfg1FwlRtJ7BXgAPBIA&sensor=false`,success:n=>{if(n.results.length>0){const i={longitude:e,latitude:t};$.each(n.results,(t,e)=>{if("postal_code"===e.types[0]&&(i.city=e.formatted_address),"country"===e.types[0]&&(i.country_code=e.address_components[0].short_name,i.country_name=e.address_components[0].long_name),Array.isArray(e.types)&&e.types.includes("locality")){const t=e.address_components.find(t=>Array.isArray(t.types)&&t.types.includes("locality"));t&&(i.locality=t.short_name)}}),o(i)}}})};async function u(t,e,o){try{const i=await fetch(`https://api.woosmap.com/address/geocode/json?&key=woos-dd262599-516b-3861-9df9-7e02f8f18ba3&latlng=${t},${e}`),s=(await i.json()).results[0],r={latitude:t,longitude:e},c=s.address_components.find(t=>Array.isArray(t.types)&&t.types.includes("country"));if(r.city=s.formatted_address,r.country_code=(t=>{const e=n.find(e=>e[1]===t);return Array.isArray(e)?e[0]:null})(c.short_name),null===r.country_code)return void l(t,e,o);r.country_name=c.long_name;const u=s.address_components.find(t=>Array.isArray(t.types)&&t.types.includes("locality"));u&&(r.locality=u.short_name),a("Woosmap API"),o(r)}catch(n){l(t,e,o)}}const d=(t,e={useWoosmap:!1})=>{new c(t,e,navigator.geolocation,new r).init().then(e=>{t(e)}).catch(()=>{})}},55:function(t,e,o){"use strict";o.r(e),o.d(e,"default",(function(){return l}));var n=o(9),i=o(103),s=o(102),r=o(207),c=o(115),a=o(181);class l{constructor(t,e){this.element=t,this.countryOptions=null,this.languageOptions=null,this.regionPlaceholder=null,this.countryPlaceholder=null,this.languagePlaceholder=null,this.cookieName="JLR_marketCookie",this.defaults={geoLocate:!0},this.uiSelectors={DxDropdowns:[...this.element.querySelectorAll(".dxDropdown")],regionDropdown:t.querySelector(".dxDropdown-region"),regionButton:t.querySelector(".dxDropdown__button-region"),countryDropdown:t.querySelector(".dxDropdown-country"),countryButton:t.querySelector(".dxDropdown__button-country"),languageDropdown:t.querySelector(".dxDropdown-language"),languageButton:t.querySelector(".dxDropdown__button-language"),countryList:t.querySelector(".dxDropdown__country-list-wrapper"),languageList:t.querySelector(".dxDropdown__language-list-wrapper"),continueButton:t.querySelector(".MarketSelector__continue-button"),visitInternationalButton:t.querySelector(".visitInternational")},this.options=Object.assign({},this.defaults,e),this.element.classList.add("MarketSelector--initialised"),this.initDxDropdowns(),this.cacheSelectOptions(),this.bindEvents(),this.options.geoLocate&&this.checkForCookiesAndGeoLocate()}initDxDropdowns(){this.uiSelectors.DxDropdowns.forEach(t=>new n.default(t))}cacheSelectOptions(){this.countryOptions=this.uiSelectors.countryList.innerHTML,this.languageOptions=this.uiSelectors.languageList.innerHTML,this.regionPlaceholder=this.uiSelectors.regionButton.innerHTML,this.countryPlaceholder=this.uiSelectors.countryButton.innerHTML,this.languagePlaceholder=this.uiSelectors.languageButton.innerHTML}bindEvents(){this.uiSelectors.regionDropdown.addEventListener("click",t=>this.regionClickHandler(t)),this.uiSelectors.regionDropdown.addEventListener("keydown",t=>this.regionClickHandler(t)),this.uiSelectors.countryDropdown.addEventListener("click",t=>this.countryClickHandler(t)),this.uiSelectors.countryDropdown.addEventListener("keydown",t=>this.countryClickHandler(t)),this.uiSelectors.languageDropdown.addEventListener("click",t=>this.languageClickHandler(t)),this.uiSelectors.languageDropdown.addEventListener("keydown",t=>this.languageClickHandler(t)),this.uiSelectors.continueButton.addEventListener("click",()=>this.redirectUserToChosenDestination()),this.uiSelectors.visitInternationalButton&&this.uiSelectors.visitInternationalButton.addEventListener("click",t=>this.redirectUserToInternational(t))}regionClickHandler(t){const{type:e,keyCode:o}=t,n=t.target;if("keydown"!==e||o===i.a.RETURN)if(n.classList.contains("dxDropdown__list-item-link")){if(this.constructor.clickCheckListItem(n)){const t=n.getAttribute("data-region"),{innerText:e}=n;this.updateCountryOptions(t),this.constructor.setAriaLabel(this.uiSelectors.regionButton,this.regionPlaceholder,e)}}else if(n.classList.contains("dxDropdown__list-item")){const t=n.querySelector(".dxDropdown__list-item-link"),e=t.getAttribute("data-region"),{innerText:o}=t;this.updateCountryOptions(e),this.constructor.setAriaLabel(this.uiSelectors.regionButton,this.regionPlaceholder,o)}}countryClickHandler(t){const e=t.target,{type:o,keyCode:n}=t,{parentElement:s}=e;if("keydown"!==o||n===i.a.RETURN)if(this.constructor.clickCheckListItem(e)){const t=e.getAttribute("data-country"),{innerText:o}=e.querySelector(".dxDropdown__list-item-link-inner");this.updatelanguageOptions(t),this.constructor.setAriaLabel(this.uiSelectors.countryButton,this.countryPlaceholder,o)}else if(this.constructor.clickCheckListItem(s))s.click();else if(e.classList.contains("dxDropdown__list-item")){const{innerText:t}=e.querySelector(".dxDropdown__list-item-link-inner"),o=e.querySelector(".dxDropdown__list-item-link").getAttribute("data-country");this.updatelanguageOptions(o),this.constructor.setAriaLabel(this.uiSelectors.countryButton,this.countryPlaceholder,t)}}languageClickHandler(t){let e;const{type:o,keyCode:n}=t;if(("keydown"!==o||n===i.a.RETURN)&&(this.constructor.clickCheckListItem(t.target)?e=t.target.parentElement.getAttribute("lang"):t.target.classList.contains("dxDropdown__list-item")&&(e=t.target.getAttribute("lang")),this.constructor.clickCheckListItem(t.target)||t.target.classList.contains("dxDropdown__list-item"))){const{innerText:o}=t.target;this.constructor.setAriaLabel(this.uiSelectors.languageButton,this.languagePlaceholder,o),this.addMenaFontStylingToLangaugeButton(e),this.enableContinueButton()}}updateCountryOptions(t){this.uiSelectors.countryList.innerHTML=this.countryOptions,[...this.element.querySelectorAll(".dxDropdown__list-country")].forEach(e=>{const o=e.getAttribute("data-region");t!==o&&this.uiSelectors.countryList.removeChild(e)}),this.resetLists(!0),this.uiSelectors.countryDropdown.classList.remove("dxDropdown--disabled"),this.uiSelectors.countryButton.removeAttribute("tabindex"),this.uiSelectors.countryButton.removeAttribute("disabled"),Object(s.h)(this.uiSelectors.countryDropdown,"dxDropdown:Rebind",{})}updatelanguageOptions(t){this.uiSelectors.languageList.innerHTML=this.languageOptions,[...this.element.querySelectorAll(".dxDropdown__list-language")].forEach(e=>{const o=e.getAttribute("data-country");t!==o&&this.uiSelectors.languageList.removeChild(e)}),this.resetLists(),this.preSelectOnlyLanguage(),this.uiSelectors.languageDropdown.classList.remove("dxDropdown--disabled"),this.uiSelectors.languageButton.removeAttribute("tabindex"),this.uiSelectors.languageButton.removeAttribute("disabled"),Object(s.h)(this.uiSelectors.languageDropdown,"dxDropdown:Rebind")}resetLists(t=!1){this.disableContinueButton(),!0===t&&(this.uiSelectors.countryButton.innerHTML=this.countryPlaceholder,this.constructor.setAriaLabel(this.uiSelectors.countryButton,this.countryPlaceholder),this.uiSelectors.languageDropdown.classList.add("dxDropdown--disabled"),this.uiSelectors.languageButton.setAttribute("tabindex","-1"),this.uiSelectors.languageButton.setAttribute("disabled","")),this.uiSelectors.languageButton.innerHTML=this.languagePlaceholder,this.constructor.setAriaLabel(this.uiSelectors.languageButton,this.languagePlaceholder)}preSelectOnlyLanguage(){const t=this.uiSelectors.languageDropdown.querySelectorAll(".dxDropdown__list-item");if(1===t.length){const e=t[0].querySelector(".dxDropdown__list-item-link"),o=e.parentElement.getAttribute("lang");this.uiSelectors.languageButton.innerHTML=e.innerHTML,this.addMenaFontStylingToLangaugeButton(o),this.constructor.setAriaLabel(this.uiSelectors.languageButton,this.languagePlaceholder,e.innerText),e.classList.add("dxDropdown__list-item-link--active"),this.enableContinueButton()}}addMenaFontStylingToLangaugeButton(t){this.uiSelectors.languageButton.classList.remove("dxDropdown__button--mena-font"),t&&"ar"===t.toLowerCase()&&this.uiSelectors.languageButton.classList.add("dxDropdown__button--mena-font")}enableContinueButton(){this.uiSelectors.continueButton.classList.remove("disabled"),this.uiSelectors.continueButton.removeAttribute("disabled")}disableContinueButton(){this.uiSelectors.continueButton.classList.add("disabled"),this.uiSelectors.continueButton.setAttribute("disabled","")}checkForCookiesAndGeoLocate(){const t=Object(c.c)(this.cookieName),[e,o,n]=t?t.split(","):[!1,!1,!1],i=this.constructor.checkReferrer(),s=Object(c.a)(this.cookieName);let a,l;s&&(a="XI"!==e,l=this.constructor.checkTimeStamp(n));const u="false"===this.element.getAttribute("data-disable-redirect");i&&s&&a&&l&&u&&(window.location=o),Object(r.a)(t=>this.preSelectDropdowns(t.country_code),{useWoosmap:!0})}static checkCookieConsent(){return Object(a.a)(null,["functional"],!0)}static checkCookieConsentCategory(t){const e=Array.isArray(t)?t:[t],o=Object(c.c)("consent-categories"),n=!!o&&Object(a.f)(o);return!(!n||!Object(a.b)(n,e))||!(!n||!n.includes("all"))}redirectUserToChosenDestination(){const t=this.uiSelectors.countryDropdown.querySelector(".dxDropdown__list-item-link--active").getAttribute("data-country").split("-")[1],e=this.uiSelectors.languageDropdown.querySelector(".dxDropdown__list-item-link--active"),o=e.getAttribute("href"),n=e.getAttribute("data-target");l.checkCookieConsent()&&l.checkCookieConsentCategory(["functional"])&&Object(c.b)(this.cookieName,[t,o,Date.now()].join(","),30),window.open(o,n)}redirectUserToInternational(t){t.preventDefault();const e=this.uiSelectors.visitInternationalButton.getAttribute("href");l.checkCookieConsent()&&l.checkCookieConsentCategory(["functional"])&&Object(c.b)(this.cookieName,["XI",e,Date.now()].join(","),30),window.location=e}preSelectDropdowns(t){const e=this.uiSelectors.countryDropdown.querySelector(`[data-country="country-${t}"]`);if(e){const o=e.parentElement.parentElement.getAttribute("data-region"),n=this.uiSelectors.regionDropdown.querySelector(`[data-region="${o}"]`);n.classList.add("dxDropdown__list-item-link--active"),this.uiSelectors.regionButton.innerHTML=n.innerHTML,this.updateCountryOptions(o);const i=this.uiSelectors.countryDropdown.querySelector(`[data-country="country-${t}"]`);i.classList.add("dxDropdown__list-item-link--active"),this.uiSelectors.countryButton.innerHTML=i.innerHTML,this.updatelanguageOptions("country-"+t),this.preSelectOnlyLanguage()}}static setAriaLabel(t,e,o=!1){const n=!1===o?""+e:`${e} ${o}`;t.setAttribute("aria-label",n)}static clickCheckListItem(t){return t.classList.contains("dxDropdown__list-item-link")}static checkTimeStamp(t){return!((Date.now()-Number(t))/1e3<20)}static checkReferrer(){const{referrer:t}=document;return-1===t.indexOf("landrover")&&-1===t.indexOf("local")}}const u=document.querySelectorAll(".MarketSelector:not(.MarketSelector--initialised)");u.length&&Array.prototype.forEach.call(u,t=>new l(t))},9:function(t,e,o){"use strict";o.r(e),o.d(e,"default",(function(){return s}));var n=o(103),i=o(102);class s{constructor(t,e=!0){this.element=t,this.open=!1,this.button=t.querySelector(".dxDropdown__button"),this.listbox=t.querySelector(".dxDropdown__list"),this.element.addEventListener("dxDropdown:Rebind",()=>this.rebindListBox()),this.element.addEventListener("click",t=>this.clickEventListeners(t,e)),this.button.addEventListener("keyup",t=>this.checkShow(t)),this.listbox.addEventListener("blur",t=>this.testBlur(t)),this.listbox.addEventListener("keydown",t=>this.keyDownEvents(t));const o=t.querySelector(".dxDropdown__list-item-link:not(.dxDropdown__list-item-link--disabled");this.addActiveDropdownItem(o),window.addEventListener("click",t=>this.handleWindowClick(t))}testBlur(t){t.relatedTarget.classList.contains("dxDropdown__list-item")||t.relatedTarget.classList.contains("dxDropdown__list-item-link")||this.closeDropdown()}rebindListBox(){this.listbox=this.element.querySelector(".dxDropdown__list"),this.listbox.addEventListener("blur",t=>this.testBlur(t)),this.listbox.addEventListener("keydown",t=>this.keyDownEvents(t))}handleWindowClick(t){const e=[];let o=t.target,n=!1;for(;o.parentNode;)e.unshift(o.parentNode),o=o.parentNode;e.forEach(t=>{t.classList&&t===this.element&&(n=!0)}),n||this.closeDropdown(!1)}clickEventListeners(t,e){e&&t.preventDefault();const o=t.target;if(o.classList.contains("dxDropdown__button"))this.toggleDropdown();else if(o.classList.contains("dxDropdown__list-item-link")&&!o.classList.contains("dxDropdown__list-item-link--disabled"))this.updateButtonText(t),this.closeDropdown();else if(o.classList.contains("dxDropdown__list-item")&&!o.querySelector(".dxDropdown__list-item-link").classList.contains("dxDropdown__list-item-link--disabled")){const t=o.querySelector(".dxDropdown__list-item-link");this.updateButtonText(t),this.closeDropdown()}else(o.classList.contains("RulesEngineDropdown__engine-label")||o.classList.contains("RulesEngineDropdown__engine-consumption"))&&(this.updateVehicleButtonText(t),this.closeDropdown())}keyDownEvents(t){const e=t.which||t.keyCode,{DOWN:o,UP:i,ESC:s,RETURN:r,TAB:c}=n.a;switch(e){case o:t.preventDefault(),this.nextItem(t);break;case c:t.preventDefault(),t.shiftKey?this.previousItem(t):this.nextItem(t);break;case i:t.preventDefault(),this.previousItem(t);break;case s:t.preventDefault(),this.closeDropdown();break;case r:t.preventDefault(),this.updateButtonText(t),this.closeDropdown()}}checkShow(t){const e=t.which||t.keyCode,{UP:o,DOWN:i}=n.a;switch(e){case o:case i:t.preventDefault(),this.openDropdown()}}toggleDropdown(){return this.open?this.closeDropdown():this.openDropdown()}openDropdown(){this.element.classList.add("dxDropdown--active"),this.button.setAttribute("aria-expanded","true"),this.focusFirstItem(),this.open=!0}closeDropdown(t=!0){this.element.classList.remove("dxDropdown--active"),this.button.setAttribute("aria-expanded","false"),this.open=!1,t&&this.button.focus()}updateButtonText(t){const e=t.target?t.target:t;this.button.innerHTML=e.innerHTML,this.fireEvent("DxDropdown:update",{target:e,value:this.button.innerHTML}),this.addActiveDropdownItem(e)}updateVehicleButtonText(t){const e=t.target.parentElement.closest(".dxDropdown__list-item-link");this.button.innerHTML=e.innerHTML,this.fireEvent("DxDropdown:update",{target:e,value:this.button.innerHTML}),this.addActiveDropdownItem(e)}nextItem(t){const e=this.listbox.querySelectorAll(".dxDropdown__list-item-link:not(.dxDropdown__list-item-link--disabled)");Array.prototype.forEach.call(e,(o,n)=>{t.target===o&&(n===e.length-1?this.focusFirstItem():e[n+1].focus())})}previousItem(t){const e=this.listbox.querySelectorAll(".dxDropdown__list-item-link:not(.dxDropdown__list-item-link--disabled)");Array.prototype.forEach.call(e,(o,n)=>{t.target===o&&(0===n?this.focusLastItem():e[n-1].focus())})}focusFirstItem(){this.listbox.querySelector(".dxDropdown__list-item-link:not(.dxDropdown__list-item-link--disabled)").focus()}focusLastItem(){const t=this.listbox.querySelectorAll(".dxDropdown__list-item-link:not(.dxDropdown__list-item-link--disabled)");t.length&&t[t.length-1].focus()}addActiveDropdownItem(t){const e=this.element.querySelector(".dxDropdown__list-item-link--active:not(.dxDropdown__list-item-link--disabled)");null!==e&&e.classList.remove("dxDropdown__list-item-link--active"),t.classList.add("dxDropdown__list-item-link--active")}fireEvent(t,e={}){Object(i.h)(this.element,t,e)}getElement(){return this.element}DxDropdown(t,e){const o=this[t];return"function"==typeof o?o.bind(this,e)():void 0}}}}]);
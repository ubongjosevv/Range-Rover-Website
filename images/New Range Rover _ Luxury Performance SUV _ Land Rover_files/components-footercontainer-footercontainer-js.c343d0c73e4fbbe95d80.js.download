(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{74:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var o=n(106),s=n.n(o),i=n(55),a=n(181);class l{constructor(e){this.el=e,this._defaults={},this.marketSelector=null,this.init()}init(){this.load()}load(){s()(this.el).find(".toggle").unbind("click").click(()=>{const e=s()(this.currentTarget),t=e.next("ul"),n=e.children("i");return t.slideToggle(),e.toggleClass("active"),n.toggleClass("active"),!1}),this._initHygieneToggleEvents(),s()(window).resize(()=>{this._setFooterNavPadding()}),this._setFooterNavPadding(),this._initMobileLinks(),Object(a.e)(()=>{const e=Object(a.c)(),t=Object(a.d)();this._reInitMobileLinks(e,t)})}_initHygieneToggleEvents(){const e=s()(this.el).find(".toggleHandle");e.on("click",t=>{t.preventDefault(),t.stopPropagation(),this._loadMarketSelector();const n=s()(t.currentTarget).parent();if(n.hasClass("open"))e.parent().removeClass("open");else{e.parent().removeClass("open"),n.addClass("open");const t=s()(".IgniteBarV1");t.hasClass("open")&&t.removeClass("open")}this._setFooterNavPadding()}),s()(document).on("click tap",t=>{s()(t.target).parents("li.open").length<1&&e.parent().removeClass("open")}),this._addKeyboardNavigation()}_loadMarketSelector(){const e=s()(this.el).find(".cmp_footerNav__selectMarket a").attr("href");if(void 0===e)return;const t=s()(this.el).find(".cmp_footerNav__marketSelectorContainer");t.load(e+" .MarketSelector__dropdowns-container",()=>{this.marketSelector=new i.default(t.get(0),{geoLocate:!1}),s()(this.el).find(".MarketSelector__continue-button").removeClass("plwsLight")})}_setFooterNavPadding(){const e=s()(this.el).find(".cmp_footerNav__hygieneLinks").height(),t=s()(this.el).find(".cmp_footerNav__mobile-links:visible").outerHeight()||0;s()(this.el).find(".cmp_footerNav__marketSelectorContainer").css("bottom",e+t+"px")}_initMobileLinks(){const e=s()(this.el).find(".cmp_footerNav__key-links-list > li").clone(),t=e.find(".cmp_footerNav__donotselldata").parent(),n=e.find(".cmp_footerNav__trustarc-link").parent();t.length>0&&e.splice(e.index(t[0]),1),n.length>0&&e.splice(e.index(n[0]),1),this._createKeyLinks(e)}_reInitMobileLinks(e,t){const n=s()(this.el).find(".cmp_footerNav__key-links-list > li").clone();if(e){const t=n.find(".cpm_footerNav__trustarc-link").removeAttr("id style").parent();if(t.length>0){t.find("script").remove(),t.removeAttr("id");const o=t.find("a");s()(o).on("click",e=>{e.preventDefault(),window.truste&&window.truste.eu.clickListener()}),this._checkLinkExists(e,t,n)}}else{const t=n.find(".cmp_footerNav__trustarc-link").parent();t.length>0&&this._checkLinkExists(e,t,n)}const o=n.find(".cmp_footerNav__donotselldata").parent();o.length>0&&this._checkLinkExists(t,o,n),this._createKeyLinks(n)}_checkLinkExists(e,t,n){e?(n.splice(n.index(t[0]),1),n.splice(0,0,t[0])):n.splice(n.index(t[0]),1)}_createKeyLinks(e){const t=s()(".cmp_footerNav"),n=e,o=s()("#mobileKeyLinks"),i=s()('<ul class="cmp_footerNav__primary-link-list"></ul>'),a=s()('<ul class="cmp_footerNav__secondary-link-list"></ul>'),l=s()(`\n        <button class="button-tertiary cmp_footerNav__show-more-btn">\n          <span>\n            ${t.data("show-more")}\n          </span>\n        </button>\n      `),r=s()(`\n        <button class="button-tertiary cmp_footerNav__show-less-btn cmp_footerNav__show-less-btn--hide">\n          <span>\n            ${t.data("show-less")}\n          </span>\n        </button>\n      `);if(o.empty(),n.length>5){const e=n.slice(0,4),t=n.slice(4,n.length);o.append(i),e.each((e,t)=>{i.append(t)}),o.append(a),t.each((e,t)=>{a.append(t)}),o.append(l),o.append(r),l.on("click keypress",e=>{e.preventDefault(),a.slideToggle(300),l.addClass("cmp_footerNav__show-more-btn--hide"),r.removeClass("cmp_footerNav__show-less-btn--hide"),13===e.keyCode&&s()(".cmp_footerNav__secondary-link-list").find("li").first().find("a").focus()}),r.on("click",e=>{e.preventDefault(),a.slideToggle(300),l.removeClass("cmp_footerNav__show-more-btn--hide"),r.addClass("cmp_footerNav__show-less-btn--hide")})}else{const e=n;o.append(i),e.each((e,t)=>{i.append(t)})}}_addKeyboardNavigation(){const e=s()(this.el).find(".toggleHandle"),t=e.parent(),n=t.find(".cmp_footerNav__marketSelectorContainer");e.keydown(e=>{const o=n.find("input, textarea, button, a, .focusable");return!t.hasClass("open")||38!==e.keyCode||(o.first().focus(),!1)})}}}}]);
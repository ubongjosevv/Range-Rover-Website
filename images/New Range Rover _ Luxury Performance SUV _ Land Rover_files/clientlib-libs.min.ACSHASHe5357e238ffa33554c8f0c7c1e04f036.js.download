/*! jQuery v3.6.0 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(C,e){"use strict";var t=[],r=Object.getPrototypeOf,s=t.slice,g=t.flat?function(e){return t.flat.call(e)}:function(e){return t.concat.apply([],e)},u=t.push,i=t.indexOf,n={},o=n.toString,v=n.hasOwnProperty,a=v.toString,l=a.call(Object),y={},m=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},x=function(e){return null!=e&&e===e.window},E=C.document,c={type:!0,src:!0,nonce:!0,noModule:!0};function b(e,t,n){var r,i,o=(n=n||E).createElement("script");if(o.text=e,t)for(r in c)(i=t[r]||t.getAttribute&&t.getAttribute(r))&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?n[o.call(e)]||"object":typeof e}var f="3.6.0",S=function(e,t){return new S.fn.init(e,t)};function p(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!m(e)&&!x(e)&&("array"===n||0===t||"number"==typeof t&&0<t&&t-1 in e)}S.fn=S.prototype={jquery:f,constructor:S,length:0,toArray:function(){return s.call(this)},get:function(e){return null==e?s.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=S.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return S.each(this,e)},map:function(n){return this.pushStack(S.map(this,function(e,t){return n.call(e,t,e)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(S.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(S.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(0<=n&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:t.sort,splice:t.splice},S.extend=S.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||m(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(S.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||S.isPlainObject(n)?n:{},i=!1,a[t]=S.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},S.extend({expando:"jQuery"+(f+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==o.call(e))&&(!(t=r(e))||"function"==typeof(n=v.call(t,"constructor")&&t.constructor)&&a.call(n)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){b(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,r=0;if(p(e)){for(n=e.length;r<n;r++)if(!1===t.call(e[r],r,e[r]))break}else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(p(Object(e))?S.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:i.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,i,o=0,a=[];if(p(e))for(r=e.length;o<r;o++)null!=(i=t(e[o],o,n))&&a.push(i);else for(o in e)null!=(i=t(e[o],o,n))&&a.push(i);return g(a)},guid:1,support:y}),"function"==typeof Symbol&&(S.fn[Symbol.iterator]=t[Symbol.iterator]),S.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){n["[object "+t+"]"]=t.toLowerCase()});var d=function(n){var e,d,b,o,i,h,f,g,w,u,l,T,C,a,E,v,s,c,y,S="sizzle"+1*new Date,p=n.document,k=0,r=0,m=ue(),x=ue(),A=ue(),N=ue(),j=function(e,t){return e===t&&(l=!0),0},D={}.hasOwnProperty,t=[],q=t.pop,L=t.push,H=t.push,O=t.slice,P=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",M="[\\x20\\t\\r\\n\\f]",I="(?:\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",W="\\["+M+"*("+I+")(?:"+M+"*([*^$|!~]?=)"+M+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+I+"))|)"+M+"*\\]",F=":("+I+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+W+")*)|.*)\\)|)",B=new RegExp(M+"+","g"),$=new RegExp("^"+M+"+|((?:^|[^\\\\])(?:\\\\.)*)"+M+"+$","g"),_=new RegExp("^"+M+"*,"+M+"*"),z=new RegExp("^"+M+"*([>+~]|"+M+")"+M+"*"),U=new RegExp(M+"|>"),X=new RegExp(F),V=new RegExp("^"+I+"$"),G={ID:new RegExp("^#("+I+")"),CLASS:new RegExp("^\\.("+I+")"),TAG:new RegExp("^("+I+"|[*])"),ATTR:new RegExp("^"+W),PSEUDO:new RegExp("^"+F),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+M+"*(even|odd|(([+-]|)(\\d*)n|)"+M+"*(?:([+-]|)"+M+"*(\\d+)|))"+M+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+M+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+M+"*((?:-\\d)?\\d*)"+M+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,Q=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+M+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ie=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){T()},ae=be(function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{H.apply(t=O.call(p.childNodes),p.childNodes),t[p.childNodes.length].nodeType}catch(e){H={apply:t.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}function se(t,e,n,r){var i,o,a,s,u,l,c,f=e&&e.ownerDocument,p=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==p&&9!==p&&11!==p)return n;if(!r&&(T(e),e=e||C,E)){if(11!==p&&(u=Z.exec(t)))if(i=u[1]){if(9===p){if(!(a=e.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(f&&(a=f.getElementById(i))&&y(e,a)&&a.id===i)return n.push(a),n}else{if(u[2])return H.apply(n,e.getElementsByTagName(t)),n;if((i=u[3])&&d.getElementsByClassName&&e.getElementsByClassName)return H.apply(n,e.getElementsByClassName(i)),n}if(d.qsa&&!N[t+" "]&&(!v||!v.test(t))&&(1!==p||"object"!==e.nodeName.toLowerCase())){if(c=t,f=e,1===p&&(U.test(t)||z.test(t))){(f=ee.test(t)&&ye(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(re,ie):e.setAttribute("id",s=S)),o=(l=h(t)).length;while(o--)l[o]=(s?"#"+s:":scope")+" "+xe(l[o]);c=l.join(",")}try{return H.apply(n,f.querySelectorAll(c)),n}catch(e){N(t,!0)}finally{s===S&&e.removeAttribute("id")}}}return g(t.replace($,"$1"),e,n,r)}function ue(){var r=[];return function e(t,n){return r.push(t+" ")>b.cacheLength&&delete e[r.shift()],e[t+" "]=n}}function le(e){return e[S]=!0,e}function ce(e){var t=C.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function fe(e,t){var n=e.split("|"),r=n.length;while(r--)b.attrHandle[n[r]]=t}function pe(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function de(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function he(n){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===n}}function ge(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ae(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ve(a){return le(function(o){return o=+o,le(function(e,t){var n,r=a([],e.length,o),i=r.length;while(i--)e[n=r[i]]&&(e[n]=!(t[n]=e[n]))})})}function ye(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}for(e in d=se.support={},i=se.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!Y.test(t||n&&n.nodeName||"HTML")},T=se.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:p;return r!=C&&9===r.nodeType&&r.documentElement&&(a=(C=r).documentElement,E=!i(C),p!=C&&(n=C.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",oe,!1):n.attachEvent&&n.attachEvent("onunload",oe)),d.scope=ce(function(e){return a.appendChild(e).appendChild(C.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),d.attributes=ce(function(e){return e.className="i",!e.getAttribute("className")}),d.getElementsByTagName=ce(function(e){return e.appendChild(C.createComment("")),!e.getElementsByTagName("*").length}),d.getElementsByClassName=K.test(C.getElementsByClassName),d.getById=ce(function(e){return a.appendChild(e).id=S,!C.getElementsByName||!C.getElementsByName(S).length}),d.getById?(b.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n=t.getElementById(e);return n?[n]:[]}}):(b.filter.ID=function(e){var n=e.replace(te,ne);return function(e){var t="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===n}},b.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&E){var n,r,i,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];i=t.getElementsByName(e),r=0;while(o=i[r++])if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),b.find.TAG=d.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):d.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){while(n=o[i++])1===n.nodeType&&r.push(n);return r}return o},b.find.CLASS=d.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&E)return t.getElementsByClassName(e)},s=[],v=[],(d.qsa=K.test(C.querySelectorAll))&&(ce(function(e){var t;a.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+M+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+M+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),(t=C.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||v.push("\\["+M+"*name"+M+"*="+M+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]"),e.querySelectorAll("\\\f"),v.push("[\\r\\n\\f]")}),ce(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=C.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+M+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&v.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(d.matchesSelector=K.test(c=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&ce(function(e){d.disconnectedMatch=c.call(e,"*"),c.call(e,"[s!='']:x"),s.push("!=",F)}),v=v.length&&new RegExp(v.join("|")),s=s.length&&new RegExp(s.join("|")),t=K.test(a.compareDocumentPosition),y=t||K.test(a.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},j=t?function(e,t){if(e===t)return l=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n||(1&(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!d.sortDetached&&t.compareDocumentPosition(e)===n?e==C||e.ownerDocument==p&&y(p,e)?-1:t==C||t.ownerDocument==p&&y(p,t)?1:u?P(u,e)-P(u,t):0:4&n?-1:1)}:function(e,t){if(e===t)return l=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,a=[e],s=[t];if(!i||!o)return e==C?-1:t==C?1:i?-1:o?1:u?P(u,e)-P(u,t):0;if(i===o)return pe(e,t);n=e;while(n=n.parentNode)a.unshift(n);n=t;while(n=n.parentNode)s.unshift(n);while(a[r]===s[r])r++;return r?pe(a[r],s[r]):a[r]==p?-1:s[r]==p?1:0}),C},se.matches=function(e,t){return se(e,null,null,t)},se.matchesSelector=function(e,t){if(T(e),d.matchesSelector&&E&&!N[t+" "]&&(!s||!s.test(t))&&(!v||!v.test(t)))try{var n=c.call(e,t);if(n||d.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(e){N(t,!0)}return 0<se(t,C,null,[e]).length},se.contains=function(e,t){return(e.ownerDocument||e)!=C&&T(e),y(e,t)},se.attr=function(e,t){(e.ownerDocument||e)!=C&&T(e);var n=b.attrHandle[t.toLowerCase()],r=n&&D.call(b.attrHandle,t.toLowerCase())?n(e,t,!E):void 0;return void 0!==r?r:d.attributes||!E?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},se.escape=function(e){return(e+"").replace(re,ie)},se.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},se.uniqueSort=function(e){var t,n=[],r=0,i=0;if(l=!d.detectDuplicates,u=!d.sortStable&&e.slice(0),e.sort(j),l){while(t=e[i++])t===e[i]&&(r=n.push(i));while(r--)e.splice(n[r],1)}return u=null,e},o=se.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=o(e)}else if(3===i||4===i)return e.nodeValue}else while(t=e[r++])n+=o(t);return n},(b=se.selectors={cacheLength:50,createPseudo:le,match:G,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||se.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&se.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return G.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&X.test(n)&&(t=h(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=m[e+" "];return t||(t=new RegExp("(^|"+M+")"+e+"("+M+"|$)"))&&m(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(n,r,i){return function(e){var t=se.attr(e,n);return null==t?"!="===r:!r||(t+="","="===r?t===i:"!="===r?t!==i:"^="===r?i&&0===t.indexOf(i):"*="===r?i&&-1<t.indexOf(i):"$="===r?i&&t.slice(-i.length)===i:"~="===r?-1<(" "+t.replace(B," ")+" ").indexOf(i):"|="===r&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(h,e,t,g,v){var y="nth"!==h.slice(0,3),m="last"!==h.slice(-4),x="of-type"===e;return 1===g&&0===v?function(e){return!!e.parentNode}:function(e,t,n){var r,i,o,a,s,u,l=y!==m?"nextSibling":"previousSibling",c=e.parentNode,f=x&&e.nodeName.toLowerCase(),p=!n&&!x,d=!1;if(c){if(y){while(l){a=e;while(a=a[l])if(x?a.nodeName.toLowerCase()===f:1===a.nodeType)return!1;u=l="only"===h&&!u&&"nextSibling"}return!0}if(u=[m?c.firstChild:c.lastChild],m&&p){d=(s=(r=(i=(o=(a=c)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1])&&r[2],a=s&&c.childNodes[s];while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if(1===a.nodeType&&++d&&a===e){i[h]=[k,s,d];break}}else if(p&&(d=s=(r=(i=(o=(a=e)[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]||[])[0]===k&&r[1]),!1===d)while(a=++s&&a&&a[l]||(d=s=0)||u.pop())if((x?a.nodeName.toLowerCase()===f:1===a.nodeType)&&++d&&(p&&((i=(o=a[S]||(a[S]={}))[a.uniqueID]||(o[a.uniqueID]={}))[h]=[k,d]),a===e))break;return(d-=v)===g||d%g==0&&0<=d/g}}},PSEUDO:function(e,o){var t,a=b.pseudos[e]||b.setFilters[e.toLowerCase()]||se.error("unsupported pseudo: "+e);return a[S]?a(o):1<a.length?(t=[e,e,"",o],b.setFilters.hasOwnProperty(e.toLowerCase())?le(function(e,t){var n,r=a(e,o),i=r.length;while(i--)e[n=P(e,r[i])]=!(t[n]=r[i])}):function(e){return a(e,0,t)}):a}},pseudos:{not:le(function(e){var r=[],i=[],s=f(e.replace($,"$1"));return s[S]?le(function(e,t,n,r){var i,o=s(e,null,r,[]),a=e.length;while(a--)(i=o[a])&&(e[a]=!(t[a]=i))}):function(e,t,n){return r[0]=e,s(r,null,n,i),r[0]=null,!i.pop()}}),has:le(function(t){return function(e){return 0<se(t,e).length}}),contains:le(function(t){return t=t.replace(te,ne),function(e){return-1<(e.textContent||o(e)).indexOf(t)}}),lang:le(function(n){return V.test(n||"")||se.error("unsupported lang: "+n),n=n.replace(te,ne).toLowerCase(),function(e){var t;do{if(t=E?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===n||0===t.indexOf(n+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=n.location&&n.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===C.activeElement&&(!C.hasFocus||C.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:ge(!1),disabled:ge(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!b.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return Q.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:ve(function(){return[0]}),last:ve(function(e,t){return[t-1]}),eq:ve(function(e,t,n){return[n<0?n+t:n]}),even:ve(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:ve(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:ve(function(e,t,n){for(var r=n<0?n+t:t<n?t:n;0<=--r;)e.push(r);return e}),gt:ve(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[e]=de(e);for(e in{submit:!0,reset:!0})b.pseudos[e]=he(e);function me(){}function xe(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function be(s,e,t){var u=e.dir,l=e.next,c=l||u,f=t&&"parentNode"===c,p=r++;return e.first?function(e,t,n){while(e=e[u])if(1===e.nodeType||f)return s(e,t,n);return!1}:function(e,t,n){var r,i,o,a=[k,p];if(n){while(e=e[u])if((1===e.nodeType||f)&&s(e,t,n))return!0}else while(e=e[u])if(1===e.nodeType||f)if(i=(o=e[S]||(e[S]={}))[e.uniqueID]||(o[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[u]||e;else{if((r=i[c])&&r[0]===k&&r[1]===p)return a[2]=r[2];if((i[c]=a)[2]=s(e,t,n))return!0}return!1}}function we(i){return 1<i.length?function(e,t,n){var r=i.length;while(r--)if(!i[r](e,t,n))return!1;return!0}:i[0]}function Te(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function Ce(d,h,g,v,y,e){return v&&!v[S]&&(v=Ce(v)),y&&!y[S]&&(y=Ce(y,e)),le(function(e,t,n,r){var i,o,a,s=[],u=[],l=t.length,c=e||function(e,t,n){for(var r=0,i=t.length;r<i;r++)se(e,t[r],n);return n}(h||"*",n.nodeType?[n]:n,[]),f=!d||!e&&h?c:Te(c,s,d,n,r),p=g?y||(e?d:l||v)?[]:t:f;if(g&&g(f,p,n,r),v){i=Te(p,u),v(i,[],n,r),o=i.length;while(o--)(a=i[o])&&(p[u[o]]=!(f[u[o]]=a))}if(e){if(y||d){if(y){i=[],o=p.length;while(o--)(a=p[o])&&i.push(f[o]=a);y(null,p=[],i,r)}o=p.length;while(o--)(a=p[o])&&-1<(i=y?P(e,a):s[o])&&(e[i]=!(t[i]=a))}}else p=Te(p===t?p.splice(l,p.length):p),y?y(null,t,p,r):H.apply(t,p)})}function Ee(e){for(var i,t,n,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,u=be(function(e){return e===i},a,!0),l=be(function(e){return-1<P(i,e)},a,!0),c=[function(e,t,n){var r=!o&&(n||t!==w)||((i=t).nodeType?u(e,t,n):l(e,t,n));return i=null,r}];s<r;s++)if(t=b.relative[e[s].type])c=[be(we(c),t)];else{if((t=b.filter[e[s].type].apply(null,e[s].matches))[S]){for(n=++s;n<r;n++)if(b.relative[e[n].type])break;return Ce(1<s&&we(c),1<s&&xe(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace($,"$1"),t,s<n&&Ee(e.slice(s,n)),n<r&&Ee(e=e.slice(n)),n<r&&xe(e))}c.push(t)}return we(c)}return me.prototype=b.filters=b.pseudos,b.setFilters=new me,h=se.tokenize=function(e,t){var n,r,i,o,a,s,u,l=x[e+" "];if(l)return t?0:l.slice(0);a=e,s=[],u=b.preFilter;while(a){for(o in n&&!(r=_.exec(a))||(r&&(a=a.slice(r[0].length)||a),s.push(i=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),i.push({value:n,type:r[0].replace($," ")}),a=a.slice(n.length)),b.filter)!(r=G[o].exec(a))||u[o]&&!(r=u[o](r))||(n=r.shift(),i.push({value:n,type:o,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?se.error(e):x(e,s).slice(0)},f=se.compile=function(e,t){var n,v,y,m,x,r,i=[],o=[],a=A[e+" "];if(!a){t||(t=h(e)),n=t.length;while(n--)(a=Ee(t[n]))[S]?i.push(a):o.push(a);(a=A(e,(v=o,m=0<(y=i).length,x=0<v.length,r=function(e,t,n,r,i){var o,a,s,u=0,l="0",c=e&&[],f=[],p=w,d=e||x&&b.find.TAG("*",i),h=k+=null==p?1:Math.random()||.1,g=d.length;for(i&&(w=t==C||t||i);l!==g&&null!=(o=d[l]);l++){if(x&&o){a=0,t||o.ownerDocument==C||(T(o),n=!E);while(s=v[a++])if(s(o,t||C,n)){r.push(o);break}i&&(k=h)}m&&((o=!s&&o)&&u--,e&&c.push(o))}if(u+=l,m&&l!==u){a=0;while(s=y[a++])s(c,f,t,n);if(e){if(0<u)while(l--)c[l]||f[l]||(f[l]=q.call(r));f=Te(f)}H.apply(r,f),i&&!e&&0<f.length&&1<u+y.length&&se.uniqueSort(r)}return i&&(k=h,w=p),c},m?le(r):r))).selector=e}return a},g=se.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&h(e=l.selector||e);if(n=n||[],1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(a=o[0]).type&&9===t.nodeType&&E&&b.relative[o[1].type]){if(!(t=(b.find.ID(a.matches[0].replace(te,ne),t)||[])[0]))return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}i=G.needsContext.test(e)?0:o.length;while(i--){if(a=o[i],b.relative[s=a.type])break;if((u=b.find[s])&&(r=u(a.matches[0].replace(te,ne),ee.test(o[0].type)&&ye(t.parentNode)||t))){if(o.splice(i,1),!(e=r.length&&xe(o)))return H.apply(n,r),n;break}}}return(l||f(e,c))(r,t,!E,n,!t||ee.test(e)&&ye(t.parentNode)||t),n},d.sortStable=S.split("").sort(j).join("")===S,d.detectDuplicates=!!l,T(),d.sortDetached=ce(function(e){return 1&e.compareDocumentPosition(C.createElement("fieldset"))}),ce(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||fe("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),d.attributes&&ce(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||fe("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ce(function(e){return null==e.getAttribute("disabled")})||fe(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),se}(C);S.find=d,S.expr=d.selectors,S.expr[":"]=S.expr.pseudos,S.uniqueSort=S.unique=d.uniqueSort,S.text=d.getText,S.isXMLDoc=d.isXML,S.contains=d.contains,S.escapeSelector=d.escape;var h=function(e,t,n){var r=[],i=void 0!==n;while((e=e[t])&&9!==e.nodeType)if(1===e.nodeType){if(i&&S(e).is(n))break;r.push(e)}return r},T=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},k=S.expr.match.needsContext;function A(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var N=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function j(e,n,r){return m(n)?S.grep(e,function(e,t){return!!n.call(e,t,e)!==r}):n.nodeType?S.grep(e,function(e){return e===n!==r}):"string"!=typeof n?S.grep(e,function(e){return-1<i.call(n,e)!==r}):S.filter(n,e,r)}S.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?S.find.matchesSelector(r,e)?[r]:[]:S.find.matches(e,S.grep(t,function(e){return 1===e.nodeType}))},S.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(S(e).filter(function(){for(t=0;t<r;t++)if(S.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)S.find(e,i[t],n);return 1<r?S.uniqueSort(n):n},filter:function(e){return this.pushStack(j(this,e||[],!1))},not:function(e){return this.pushStack(j(this,e||[],!0))},is:function(e){return!!j(this,"string"==typeof e&&k.test(e)?S(e):e||[],!1).length}});var D,q=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(S.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||D,"string"==typeof e){if(!(r="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:q.exec(e))||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof S?t[0]:t,S.merge(this,S.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:E,!0)),N.test(r[1])&&S.isPlainObject(t))for(r in t)m(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return(i=E.getElementById(r[2]))&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):m(e)?void 0!==n.ready?n.ready(e):e(S):S.makeArray(e,this)}).prototype=S.fn,D=S(E);var L=/^(?:parents|prev(?:Until|All))/,H={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){while((e=e[t])&&1!==e.nodeType);return e}S.fn.extend({has:function(e){var t=S(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(S.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&S(e);if(!k.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?-1<a.index(n):1===n.nodeType&&S.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(1<o.length?S.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?i.call(S(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(S.uniqueSort(S.merge(this.get(),S(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),S.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return h(e,"parentNode")},parentsUntil:function(e,t,n){return h(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return h(e,"nextSibling")},prevAll:function(e){return h(e,"previousSibling")},nextUntil:function(e,t,n){return h(e,"nextSibling",n)},prevUntil:function(e,t,n){return h(e,"previousSibling",n)},siblings:function(e){return T((e.parentNode||{}).firstChild,e)},children:function(e){return T(e.firstChild)},contents:function(e){return null!=e.contentDocument&&r(e.contentDocument)?e.contentDocument:(A(e,"template")&&(e=e.content||e),S.merge([],e.childNodes))}},function(r,i){S.fn[r]=function(e,t){var n=S.map(this,i,e);return"Until"!==r.slice(-5)&&(t=e),t&&"string"==typeof t&&(n=S.filter(t,n)),1<this.length&&(H[r]||S.uniqueSort(n),L.test(r)&&n.reverse()),this.pushStack(n)}});var P=/[^\x20\t\r\n\f]+/g;function R(e){return e}function M(e){throw e}function I(e,t,n,r){var i;try{e&&m(i=e.promise)?i.call(e).done(t).fail(n):e&&m(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}S.Callbacks=function(r){var e,n;r="string"==typeof r?(e=r,n={},S.each(e.match(P)||[],function(e,t){n[t]=!0}),n):S.extend({},r);var i,t,o,a,s=[],u=[],l=-1,c=function(){for(a=a||r.once,o=i=!0;u.length;l=-1){t=u.shift();while(++l<s.length)!1===s[l].apply(t[0],t[1])&&r.stopOnFalse&&(l=s.length,t=!1)}r.memory||(t=!1),i=!1,a&&(s=t?[]:"")},f={add:function(){return s&&(t&&!i&&(l=s.length-1,u.push(t)),function n(e){S.each(e,function(e,t){m(t)?r.unique&&f.has(t)||s.push(t):t&&t.length&&"string"!==w(t)&&n(t)})}(arguments),t&&!i&&c()),this},remove:function(){return S.each(arguments,function(e,t){var n;while(-1<(n=S.inArray(t,s,n)))s.splice(n,1),n<=l&&l--}),this},has:function(e){return e?-1<S.inArray(e,s):0<s.length},empty:function(){return s&&(s=[]),this},disable:function(){return a=u=[],s=t="",this},disabled:function(){return!s},lock:function(){return a=u=[],t||i||(s=t=""),this},locked:function(){return!!a},fireWith:function(e,t){return a||(t=[e,(t=t||[]).slice?t.slice():t],u.push(t),i||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!o}};return f},S.extend({Deferred:function(e){var o=[["notify","progress",S.Callbacks("memory"),S.Callbacks("memory"),2],["resolve","done",S.Callbacks("once memory"),S.Callbacks("once memory"),0,"resolved"],["reject","fail",S.Callbacks("once memory"),S.Callbacks("once memory"),1,"rejected"]],i="pending",a={state:function(){return i},always:function(){return s.done(arguments).fail(arguments),this},"catch":function(e){return a.then(null,e)},pipe:function(){var i=arguments;return S.Deferred(function(r){S.each(o,function(e,t){var n=m(i[t[4]])&&i[t[4]];s[t[1]](function(){var e=n&&n.apply(this,arguments);e&&m(e.promise)?e.promise().progress(r.notify).done(r.resolve).fail(r.reject):r[t[0]+"With"](this,n?[e]:arguments)})}),i=null}).promise()},then:function(t,n,r){var u=0;function l(i,o,a,s){return function(){var n=this,r=arguments,e=function(){var e,t;if(!(i<u)){if((e=a.apply(n,r))===o.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,m(t)?s?t.call(e,l(u,o,R,s),l(u,o,M,s)):(u++,t.call(e,l(u,o,R,s),l(u,o,M,s),l(u,o,R,o.notifyWith))):(a!==R&&(n=void 0,r=[e]),(s||o.resolveWith)(n,r))}},t=s?e:function(){try{e()}catch(e){S.Deferred.exceptionHook&&S.Deferred.exceptionHook(e,t.stackTrace),u<=i+1&&(a!==M&&(n=void 0,r=[e]),o.rejectWith(n,r))}};i?t():(S.Deferred.getStackHook&&(t.stackTrace=S.Deferred.getStackHook()),C.setTimeout(t))}}return S.Deferred(function(e){o[0][3].add(l(0,e,m(r)?r:R,e.notifyWith)),o[1][3].add(l(0,e,m(t)?t:R)),o[2][3].add(l(0,e,m(n)?n:M))}).promise()},promise:function(e){return null!=e?S.extend(e,a):a}},s={};return S.each(o,function(e,t){var n=t[2],r=t[5];a[t[1]]=n.add,r&&n.add(function(){i=r},o[3-e][2].disable,o[3-e][3].disable,o[0][2].lock,o[0][3].lock),n.add(t[3].fire),s[t[0]]=function(){return s[t[0]+"With"](this===s?void 0:this,arguments),this},s[t[0]+"With"]=n.fireWith}),a.promise(s),e&&e.call(s,s),s},when:function(e){var n=arguments.length,t=n,r=Array(t),i=s.call(arguments),o=S.Deferred(),a=function(t){return function(e){r[t]=this,i[t]=1<arguments.length?s.call(arguments):e,--n||o.resolveWith(r,i)}};if(n<=1&&(I(e,o.done(a(t)).resolve,o.reject,!n),"pending"===o.state()||m(i[t]&&i[t].then)))return o.then();while(t--)I(i[t],a(t),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;S.Deferred.exceptionHook=function(e,t){C.console&&C.console.warn&&e&&W.test(e.name)&&C.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},S.readyException=function(e){C.setTimeout(function(){throw e})};var F=S.Deferred();function B(){E.removeEventListener("DOMContentLoaded",B),C.removeEventListener("load",B),S.ready()}S.fn.ready=function(e){return F.then(e)["catch"](function(e){S.readyException(e)}),this},S.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--S.readyWait:S.isReady)||(S.isReady=!0)!==e&&0<--S.readyWait||F.resolveWith(E,[S])}}),S.ready.then=F.then,"complete"===E.readyState||"loading"!==E.readyState&&!E.documentElement.doScroll?C.setTimeout(S.ready):(E.addEventListener("DOMContentLoaded",B),C.addEventListener("load",B));var $=function(e,t,n,r,i,o,a){var s=0,u=e.length,l=null==n;if("object"===w(n))for(s in i=!0,n)$(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,m(r)||(a=!0),l&&(a?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(S(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:l?t.call(e):u?t(e[0],n):o},_=/^-ms-/,z=/-([a-z])/g;function U(e,t){return t.toUpperCase()}function X(e){return e.replace(_,"ms-").replace(z,U)}var V=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function G(){this.expando=S.expando+G.uid++}G.uid=1,G.prototype={cache:function(e){var t=e[this.expando];return t||(t={},V(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[X(t)]=n;else for(r in t)i[X(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in r?[t]:t.match(P)||[]).length;while(n--)delete r[t[n]]}(void 0===t||S.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!S.isEmptyObject(t)}};var Y=new G,Q=new G,J=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,K=/[A-Z]/g;function Z(e,t,n){var r,i;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(K,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===(i=n)||"false"!==i&&("null"===i?null:i===+i+""?+i:J.test(i)?JSON.parse(i):i)}catch(e){}Q.set(e,t,n)}else n=void 0;return n}S.extend({hasData:function(e){return Q.hasData(e)||Y.hasData(e)},data:function(e,t,n){return Q.access(e,t,n)},removeData:function(e,t){Q.remove(e,t)},_data:function(e,t,n){return Y.access(e,t,n)},_removeData:function(e,t){Y.remove(e,t)}}),S.fn.extend({data:function(n,e){var t,r,i,o=this[0],a=o&&o.attributes;if(void 0===n){if(this.length&&(i=Q.get(o),1===o.nodeType&&!Y.get(o,"hasDataAttrs"))){t=a.length;while(t--)a[t]&&0===(r=a[t].name).indexOf("data-")&&(r=X(r.slice(5)),Z(o,r,i[r]));Y.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof n?this.each(function(){Q.set(this,n)}):$(this,function(e){var t;if(o&&void 0===e)return void 0!==(t=Q.get(o,n))?t:void 0!==(t=Z(o,n))?t:void 0;this.each(function(){Q.set(this,n,e)})},null,e,1<arguments.length,null,!0)},removeData:function(e){return this.each(function(){Q.remove(this,e)})}}),S.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Y.get(e,t),n&&(!r||Array.isArray(n)?r=Y.access(e,t,S.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=S.queue(e,t),r=n.length,i=n.shift(),o=S._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){S.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y.get(e,n)||Y.access(e,n,{empty:S.Callbacks("once memory").add(function(){Y.remove(e,[t+"queue",n])})})}}),S.fn.extend({queue:function(t,n){var e=2;return"string"!=typeof t&&(n=t,t="fx",e--),arguments.length<e?S.queue(this[0],t):void 0===n?this:this.each(function(){var e=S.queue(this,t,n);S._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&S.dequeue(this,t)})},dequeue:function(e){return this.each(function(){S.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=S.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};"string"!=typeof e&&(t=e,e=void 0),e=e||"fx";while(a--)(n=Y.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var ee=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,te=new RegExp("^(?:([+-])=|)("+ee+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],re=E.documentElement,ie=function(e){return S.contains(e.ownerDocument,e)},oe={composed:!0};re.getRootNode&&(ie=function(e){return S.contains(e.ownerDocument,e)||e.getRootNode(oe)===e.ownerDocument});var ae=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&ie(e)&&"none"===S.css(e,"display")};function se(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return S.css(e,t,"")},u=s(),l=n&&n[3]||(S.cssNumber[t]?"":"px"),c=e.nodeType&&(S.cssNumber[t]||"px"!==l&&+u)&&te.exec(S.css(e,t));if(c&&c[3]!==l){u/=2,l=l||c[3],c=+u||1;while(a--)S.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c*=2,S.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var ue={};function le(e,t){for(var n,r,i,o,a,s,u,l=[],c=0,f=e.length;c<f;c++)(r=e[c]).style&&(n=r.style.display,t?("none"===n&&(l[c]=Y.get(r,"display")||null,l[c]||(r.style.display="")),""===r.style.display&&ae(r)&&(l[c]=(u=a=o=void 0,a=(i=r).ownerDocument,s=i.nodeName,(u=ue[s])||(o=a.body.appendChild(a.createElement(s)),u=S.css(o,"display"),o.parentNode.removeChild(o),"none"===u&&(u="block"),ue[s]=u)))):"none"!==n&&(l[c]="none",Y.set(r,"display",n)));for(c=0;c<f;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}S.fn.extend({show:function(){return le(this,!0)},hide:function(){return le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ae(this)?S(this).show():S(this).hide()})}});var ce,fe,pe=/^(?:checkbox|radio)$/i,de=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,he=/^$|^module$|\/(?:java|ecma)script/i;ce=E.createDocumentFragment().appendChild(E.createElement("div")),(fe=E.createElement("input")).setAttribute("type","radio"),fe.setAttribute("checked","checked"),fe.setAttribute("name","t"),ce.appendChild(fe),y.checkClone=ce.cloneNode(!0).cloneNode(!0).lastChild.checked,ce.innerHTML="<textarea>x</textarea>",y.noCloneChecked=!!ce.cloneNode(!0).lastChild.defaultValue,ce.innerHTML="<option></option>",y.option=!!ce.lastChild;var ge={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ve(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&A(e,t)?S.merge([e],n):n}function ye(e,t){for(var n=0,r=e.length;n<r;n++)Y.set(e[n],"globalEval",!t||Y.get(t[n],"globalEval"))}ge.tbody=ge.tfoot=ge.colgroup=ge.caption=ge.thead,ge.th=ge.td,y.option||(ge.optgroup=ge.option=[1,"<select multiple='multiple'>","</select>"]);var me=/<|&#?\w+;/;function xe(e,t,n,r,i){for(var o,a,s,u,l,c,f=t.createDocumentFragment(),p=[],d=0,h=e.length;d<h;d++)if((o=e[d])||0===o)if("object"===w(o))S.merge(p,o.nodeType?[o]:o);else if(me.test(o)){a=a||f.appendChild(t.createElement("div")),s=(de.exec(o)||["",""])[1].toLowerCase(),u=ge[s]||ge._default,a.innerHTML=u[1]+S.htmlPrefilter(o)+u[2],c=u[0];while(c--)a=a.lastChild;S.merge(p,a.childNodes),(a=f.firstChild).textContent=""}else p.push(t.createTextNode(o));f.textContent="",d=0;while(o=p[d++])if(r&&-1<S.inArray(o,r))i&&i.push(o);else if(l=ie(o),a=ve(f.appendChild(o),"script"),l&&ye(a),n){c=0;while(o=a[c++])he.test(o.type||"")&&n.push(o)}return f}var be=/^([^.]*)(?:\.(.+)|)/;function we(){return!0}function Te(){return!1}function Ce(e,t){return e===function(){try{return E.activeElement}catch(e){}}()==("focus"===t)}function Ee(e,t,n,r,i,o){var a,s;if("object"==typeof t){for(s in"string"!=typeof n&&(r=r||n,n=void 0),t)Ee(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=Te;else if(!i)return e;return 1===o&&(a=i,(i=function(e){return S().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=S.guid++)),e.each(function(){S.event.add(this,t,i,r,n)})}function Se(e,i,o){o?(Y.set(e,i,!1),S.event.add(e,i,{namespace:!1,handler:function(e){var t,n,r=Y.get(this,i);if(1&e.isTrigger&&this[i]){if(r.length)(S.event.special[i]||{}).delegateType&&e.stopPropagation();else if(r=s.call(arguments),Y.set(this,i,r),t=o(this,i),this[i](),r!==(n=Y.get(this,i))||t?Y.set(this,i,!1):n={},r!==n)return e.stopImmediatePropagation(),e.preventDefault(),n&&n.value}else r.length&&(Y.set(this,i,{value:S.event.trigger(S.extend(r[0],S.Event.prototype),r.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===Y.get(e,i)&&S.event.add(e,i,we)}S.event={global:{},add:function(t,e,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.get(t);if(V(t)){n.handler&&(n=(o=n).handler,i=o.selector),i&&S.find.matchesSelector(re,i),n.guid||(n.guid=S.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(e){return"undefined"!=typeof S&&S.event.triggered!==e.type?S.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(P)||[""]).length;while(l--)d=g=(s=be.exec(e[l])||[])[1],h=(s[2]||"").split(".").sort(),d&&(f=S.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=S.event.special[d]||{},c=S.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&S.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||((p=u[d]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(t,r,h,a)||t.addEventListener&&t.addEventListener(d,a)),f.add&&(f.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),S.event.global[d]=!0)}},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=Y.hasData(e)&&Y.get(e);if(v&&(u=v.events)){l=(t=(t||"").match(P)||[""]).length;while(l--)if(d=g=(s=be.exec(t[l])||[])[1],h=(s[2]||"").split(".").sort(),d){f=S.event.special[d]||{},p=u[d=(r?f.delegateType:f.bindType)||d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;while(o--)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&!1!==f.teardown.call(e,h,v.handle)||S.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)S.event.remove(e,d+t[l],n,r,!0);S.isEmptyObject(u)&&Y.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=S.event.fix(e),l=(Y.get(this,"events")||Object.create(null))[u.type]||[],c=S.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,u)){a=S.event.handlers.call(this,u,l),t=0;while((i=a[t++])&&!u.isPropagationStopped()){u.currentTarget=i.elem,n=0;while((o=i.handlers[n++])&&!u.isImmediatePropagationStopped())u.rnamespace&&!1!==o.namespace&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,void 0!==(r=((S.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(u.result=r)&&(u.preventDefault(),u.stopPropagation()))}return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(o=[],a={},n=0;n<u;n++)void 0===a[i=(r=t[n]).selector+" "]&&(a[i]=r.needsContext?-1<S(i,this).index(l):S.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(t,e){Object.defineProperty(S.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[S.expando]?e:new S.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click",we),!1},trigger:function(e){var t=this||e;return pe.test(t.type)&&t.click&&A(t,"input")&&Se(t,"click"),!0},_default:function(e){var t=e.target;return pe.test(t.type)&&t.click&&A(t,"input")&&Y.get(t,"click")||A(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},S.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},S.Event=function(e,t){if(!(this instanceof S.Event))return new S.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?we:Te,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&S.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[S.expando]=!0},S.Event.prototype={constructor:S.Event,isDefaultPrevented:Te,isPropagationStopped:Te,isImmediatePropagationStopped:Te,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=we,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=we,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=we,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},S.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},S.event.addProp),S.each({focus:"focusin",blur:"focusout"},function(e,t){S.event.special[e]={setup:function(){return Se(this,e,Ce),!1},trigger:function(){return Se(this,e),!0},_default:function(){return!0},delegateType:t}}),S.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){S.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,n=e.relatedTarget,r=e.handleObj;return n&&(n===this||S.contains(this,n))||(e.type=r.origType,t=r.handler.apply(this,arguments),e.type=i),t}}}),S.fn.extend({on:function(e,t,n,r){return Ee(this,e,t,n,r)},one:function(e,t,n,r){return Ee(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,S(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Te),this.each(function(){S.event.remove(this,e,n,t)})}});var ke=/<script|<style|<link/i,Ae=/checked\s*(?:[^=]|=\s*.checked.)/i,Ne=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function je(e,t){return A(e,"table")&&A(11!==t.nodeType?t:t.firstChild,"tr")&&S(e).children("tbody")[0]||e}function De(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function qe(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Le(e,t){var n,r,i,o,a,s;if(1===t.nodeType){if(Y.hasData(e)&&(s=Y.get(e).events))for(i in Y.remove(t,"handle events"),s)for(n=0,r=s[i].length;n<r;n++)S.event.add(t,i,s[i][n]);Q.hasData(e)&&(o=Q.access(e),a=S.extend({},o),Q.set(t,a))}}function He(n,r,i,o){r=g(r);var e,t,a,s,u,l,c=0,f=n.length,p=f-1,d=r[0],h=m(d);if(h||1<f&&"string"==typeof d&&!y.checkClone&&Ae.test(d))return n.each(function(e){var t=n.eq(e);h&&(r[0]=d.call(this,e,t.html())),He(t,r,i,o)});if(f&&(t=(e=xe(r,n[0].ownerDocument,!1,n,o)).firstChild,1===e.childNodes.length&&(e=t),t||o)){for(s=(a=S.map(ve(e,"script"),De)).length;c<f;c++)u=e,c!==p&&(u=S.clone(u,!0,!0),s&&S.merge(a,ve(u,"script"))),i.call(n[c],u,c);if(s)for(l=a[a.length-1].ownerDocument,S.map(a,qe),c=0;c<s;c++)u=a[c],he.test(u.type||"")&&!Y.access(u,"globalEval")&&S.contains(l,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?S._evalUrl&&!u.noModule&&S._evalUrl(u.src,{nonce:u.nonce||u.getAttribute("nonce")},l):b(u.textContent.replace(Ne,""),u,l))}return n}function Oe(e,t,n){for(var r,i=t?S.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||S.cleanData(ve(r)),r.parentNode&&(n&&ie(r)&&ye(ve(r,"script")),r.parentNode.removeChild(r));return e}S.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s,u,l,c=e.cloneNode(!0),f=ie(e);if(!(y.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||S.isXMLDoc(e)))for(a=ve(c),r=0,i=(o=ve(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(l=u.nodeName.toLowerCase())&&pe.test(s.type)?u.checked=s.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||ve(e),a=a||ve(c),r=0,i=o.length;r<i;r++)Le(o[r],a[r]);else Le(e,c);return 0<(a=ve(c,"script")).length&&ye(a,!f&&ve(e,"script")),c},cleanData:function(e){for(var t,n,r,i=S.event.special,o=0;void 0!==(n=e[o]);o++)if(V(n)){if(t=n[Y.expando]){if(t.events)for(r in t.events)i[r]?S.event.remove(n,r):S.removeEvent(n,r,t.handle);n[Y.expando]=void 0}n[Q.expando]&&(n[Q.expando]=void 0)}}}),S.fn.extend({detach:function(e){return Oe(this,e,!0)},remove:function(e){return Oe(this,e)},text:function(e){return $(this,function(e){return void 0===e?S.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return He(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||je(this,e).appendChild(e)})},prepend:function(){return He(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=je(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return He(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(S.cleanData(ve(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return S.clone(this,e,t)})},html:function(e){return $(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ke.test(e)&&!ge[(de.exec(e)||["",""])[1].toLowerCase()]){e=S.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(S.cleanData(ve(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=[];return He(this,arguments,function(e){var t=this.parentNode;S.inArray(this,n)<0&&(S.cleanData(ve(this)),t&&t.replaceChild(e,this))},n)}}),S.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,a){S.fn[e]=function(e){for(var t,n=[],r=S(e),i=r.length-1,o=0;o<=i;o++)t=o===i?this:this.clone(!0),S(r[o])[a](t),u.apply(n,t.get());return this.pushStack(n)}});var Pe=new RegExp("^("+ee+")(?!px)[a-z%]+$","i"),Re=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=C),t.getComputedStyle(e)},Me=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];for(i in r=n.call(e),t)e.style[i]=o[i];return r},Ie=new RegExp(ne.join("|"),"i");function We(e,t,n){var r,i,o,a,s=e.style;return(n=n||Re(e))&&(""!==(a=n.getPropertyValue(t)||n[t])||ie(e)||(a=S.style(e,t)),!y.pixelBoxStyles()&&Pe.test(a)&&Ie.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function Fe(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",re.appendChild(u).appendChild(l);var e=C.getComputedStyle(l);n="1%"!==e.top,s=12===t(e.marginLeft),l.style.right="60%",o=36===t(e.right),r=36===t(e.width),l.style.position="absolute",i=12===t(l.offsetWidth/3),re.removeChild(u),l=null}}function t(e){return Math.round(parseFloat(e))}var n,r,i,o,a,s,u=E.createElement("div"),l=E.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",y.clearCloneStyle="content-box"===l.style.backgroundClip,S.extend(y,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),o},pixelPosition:function(){return e(),n},reliableMarginLeft:function(){return e(),s},scrollboxSize:function(){return e(),i},reliableTrDimensions:function(){var e,t,n,r;return null==a&&(e=E.createElement("table"),t=E.createElement("tr"),n=E.createElement("div"),e.style.cssText="position:absolute;left:-11111px;border-collapse:separate",t.style.cssText="border:1px solid",t.style.height="1px",n.style.height="9px",n.style.display="block",re.appendChild(e).appendChild(t).appendChild(n),r=C.getComputedStyle(t),a=parseInt(r.height,10)+parseInt(r.borderTopWidth,10)+parseInt(r.borderBottomWidth,10)===t.offsetHeight,re.removeChild(e)),a}}))}();var Be=["Webkit","Moz","ms"],$e=E.createElement("div").style,_e={};function ze(e){var t=S.cssProps[e]||_e[e];return t||(e in $e?e:_e[e]=function(e){var t=e[0].toUpperCase()+e.slice(1),n=Be.length;while(n--)if((e=Be[n]+t)in $e)return e}(e)||e)}var Ue=/^(none|table(?!-c[ea]).+)/,Xe=/^--/,Ve={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"};function Ye(e,t,n){var r=te.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Qe(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=S.css(e,n+ne[a],!0,i)),r?("content"===n&&(u-=S.css(e,"padding"+ne[a],!0,i)),"margin"!==n&&(u-=S.css(e,"border"+ne[a]+"Width",!0,i))):(u+=S.css(e,"padding"+ne[a],!0,i),"padding"!==n?u+=S.css(e,"border"+ne[a]+"Width",!0,i):s+=S.css(e,"border"+ne[a]+"Width",!0,i));return!r&&0<=o&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function Je(e,t,n){var r=Re(e),i=(!y.boxSizingReliable()||n)&&"border-box"===S.css(e,"boxSizing",!1,r),o=i,a=We(e,t,r),s="offset"+t[0].toUpperCase()+t.slice(1);if(Pe.test(a)){if(!n)return a;a="auto"}return(!y.boxSizingReliable()&&i||!y.reliableTrDimensions()&&A(e,"tr")||"auto"===a||!parseFloat(a)&&"inline"===S.css(e,"display",!1,r))&&e.getClientRects().length&&(i="border-box"===S.css(e,"boxSizing",!1,r),(o=s in e)&&(a=e[s])),(a=parseFloat(a)||0)+Qe(e,t,n||(i?"border":"content"),o,r,a)+"px"}function Ke(e,t,n,r,i){return new Ke.prototype.init(e,t,n,r,i)}S.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=We(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=X(t),u=Xe.test(t),l=e.style;if(u||(t=ze(s)),a=S.cssHooks[t]||S.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t];"string"===(o=typeof n)&&(i=te.exec(n))&&i[1]&&(n=se(e,t,i),o="number"),null!=n&&n==n&&("number"!==o||u||(n+=i&&i[3]||(S.cssNumber[s]?"":"px")),y.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n))}},css:function(e,t,n,r){var i,o,a,s=X(t);return Xe.test(t)||(t=ze(s)),(a=S.cssHooks[t]||S.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=We(e,t,r)),"normal"===i&&t in Ge&&(i=Ge[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),S.each(["height","width"],function(e,u){S.cssHooks[u]={get:function(e,t,n){if(t)return!Ue.test(S.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?Je(e,u,n):Me(e,Ve,function(){return Je(e,u,n)})},set:function(e,t,n){var r,i=Re(e),o=!y.scrollboxSize()&&"absolute"===i.position,a=(o||n)&&"border-box"===S.css(e,"boxSizing",!1,i),s=n?Qe(e,u,n,a,i):0;return a&&o&&(s-=Math.ceil(e["offset"+u[0].toUpperCase()+u.slice(1)]-parseFloat(i[u])-Qe(e,u,"border",!1,i)-.5)),s&&(r=te.exec(t))&&"px"!==(r[3]||"px")&&(e.style[u]=t,t=S.css(e,u)),Ye(0,t,s)}}}),S.cssHooks.marginLeft=Fe(y.reliableMarginLeft,function(e,t){if(t)return(parseFloat(We(e,"marginLeft"))||e.getBoundingClientRect().left-Me(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),S.each({margin:"",padding:"",border:"Width"},function(i,o){S.cssHooks[i+o]={expand:function(e){for(var t=0,n={},r="string"==typeof e?e.split(" "):[e];t<4;t++)n[i+ne[t]+o]=r[t]||r[t-2]||r[0];return n}},"margin"!==i&&(S.cssHooks[i+o].set=Ye)}),S.fn.extend({css:function(e,t){return $(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=Re(e),i=t.length;a<i;a++)o[t[a]]=S.css(e,t[a],!1,r);return o}return void 0!==n?S.style(e,t,n):S.css(e,t)},e,t,1<arguments.length)}}),((S.Tween=Ke).prototype={constructor:Ke,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||S.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(S.cssNumber[n]?"":"px")},cur:function(){var e=Ke.propHooks[this.prop];return e&&e.get?e.get(this):Ke.propHooks._default.get(this)},run:function(e){var t,n=Ke.propHooks[this.prop];return this.options.duration?this.pos=t=S.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Ke.propHooks._default.set(this),this}}).init.prototype=Ke.prototype,(Ke.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=S.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){S.fx.step[e.prop]?S.fx.step[e.prop](e):1!==e.elem.nodeType||!S.cssHooks[e.prop]&&null==e.elem.style[ze(e.prop)]?e.elem[e.prop]=e.now:S.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=Ke.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},S.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},S.fx=Ke.prototype.init,S.fx.step={};var Ze,et,tt,nt,rt=/^(?:toggle|show|hide)$/,it=/queueHooks$/;function ot(){et&&(!1===E.hidden&&C.requestAnimationFrame?C.requestAnimationFrame(ot):C.setTimeout(ot,S.fx.interval),S.fx.tick())}function at(){return C.setTimeout(function(){Ze=void 0}),Ze=Date.now()}function st(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=ne[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function ut(e,t,n){for(var r,i=(lt.tweeners[t]||[]).concat(lt.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function lt(o,e,t){var n,a,r=0,i=lt.prefilters.length,s=S.Deferred().always(function(){delete u.elem}),u=function(){if(a)return!1;for(var e=Ze||at(),t=Math.max(0,l.startTime+l.duration-e),n=1-(t/l.duration||0),r=0,i=l.tweens.length;r<i;r++)l.tweens[r].run(n);return s.notifyWith(o,[l,n,t]),n<1&&i?t:(i||s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l]),!1)},l=s.promise({elem:o,props:S.extend({},e),opts:S.extend(!0,{specialEasing:{},easing:S.easing._default},t),originalProperties:e,originalOptions:t,startTime:Ze||at(),duration:t.duration,tweens:[],createTween:function(e,t){var n=S.Tween(o,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(n),n},stop:function(e){var t=0,n=e?l.tweens.length:0;if(a)return this;for(a=!0;t<n;t++)l.tweens[t].run(1);return e?(s.notifyWith(o,[l,1,0]),s.resolveWith(o,[l,e])):s.rejectWith(o,[l,e]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=X(n)],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=S.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);r<i;r++)if(n=lt.prefilters[r].call(l,o,c,l.opts))return m(n.stop)&&(S._queueHooks(l.elem,l.opts.queue).stop=n.stop.bind(n)),n;return S.map(c,ut,l),m(l.opts.start)&&l.opts.start.call(o,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),S.fx.timer(S.extend(u,{elem:o,anim:l,queue:l.opts.queue})),l}S.Animation=S.extend(lt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return se(n.elem,e,te.exec(t),n),n}]},tweener:function(e,t){m(e)?(t=e,e=["*"]):e=e.match(P);for(var n,r=0,i=e.length;r<i;r++)n=e[r],lt.tweeners[n]=lt.tweeners[n]||[],lt.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&ae(e),v=Y.get(e,"fxshow");for(r in n.queue||(null==(a=S._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,S.queue(e,"fx").length||a.empty.fire()})})),t)if(i=t[r],rt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||S.style(e,r)}if((u=!S.isEmptyObject(t))||!S.isEmptyObject(d))for(r in f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],null==(l=v&&v.display)&&(l=Y.get(e,"display")),"none"===(c=S.css(e,"display"))&&(l?c=l:(le([e],!0),l=e.style.display||l,c=S.css(e,"display"),le([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===S.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1,d)u||(v?"hidden"in v&&(g=v.hidden):v=Y.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&le([e],!0),p.done(function(){for(r in g||le([e]),Y.remove(e,"fxshow"),d)S.style(e,r,d[r])})),u=ut(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}],prefilter:function(e,t){t?lt.prefilters.unshift(e):lt.prefilters.push(e)}}),S.speed=function(e,t,n){var r=e&&"object"==typeof e?S.extend({},e):{complete:n||!n&&t||m(e)&&e,duration:e,easing:n&&t||t&&!m(t)&&t};return S.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in S.fx.speeds?r.duration=S.fx.speeds[r.duration]:r.duration=S.fx.speeds._default),null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){m(r.old)&&r.old.call(this),r.queue&&S.dequeue(this,r.queue)},r},S.fn.extend({fadeTo:function(e,t,n,r){return this.filter(ae).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(t,e,n,r){var i=S.isEmptyObject(t),o=S.speed(e,n,r),a=function(){var e=lt(this,S.extend({},t),o);(i||Y.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(i,e,o){var a=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof i&&(o=e,e=i,i=void 0),e&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",n=S.timers,r=Y.get(this);if(t)r[t]&&r[t].stop&&a(r[t]);else for(t in r)r[t]&&r[t].stop&&it.test(t)&&a(r[t]);for(t=n.length;t--;)n[t].elem!==this||null!=i&&n[t].queue!==i||(n[t].anim.stop(o),e=!1,n.splice(t,1));!e&&o||S.dequeue(this,i)})},finish:function(a){return!1!==a&&(a=a||"fx"),this.each(function(){var e,t=Y.get(this),n=t[a+"queue"],r=t[a+"queueHooks"],i=S.timers,o=n?n.length:0;for(t.finish=!0,S.queue(this,a,[]),r&&r.stop&&r.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===a&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete t.finish})}}),S.each(["toggle","show","hide"],function(e,r){var i=S.fn[r];S.fn[r]=function(e,t,n){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(st(r,!0),e,t,n)}}),S.each({slideDown:st("show"),slideUp:st("hide"),slideToggle:st("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,r){S.fn[e]=function(e,t,n){return this.animate(r,e,t,n)}}),S.timers=[],S.fx.tick=function(){var e,t=0,n=S.timers;for(Ze=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||S.fx.stop(),Ze=void 0},S.fx.timer=function(e){S.timers.push(e),S.fx.start()},S.fx.interval=13,S.fx.start=function(){et||(et=!0,ot())},S.fx.stop=function(){et=null},S.fx.speeds={slow:600,fast:200,_default:400},S.fn.delay=function(r,e){return r=S.fx&&S.fx.speeds[r]||r,e=e||"fx",this.queue(e,function(e,t){var n=C.setTimeout(e,r);t.stop=function(){C.clearTimeout(n)}})},tt=E.createElement("input"),nt=E.createElement("select").appendChild(E.createElement("option")),tt.type="checkbox",y.checkOn=""!==tt.value,y.optSelected=nt.selected,(tt=E.createElement("input")).value="t",tt.type="radio",y.radioValue="t"===tt.value;var ct,ft=S.expr.attrHandle;S.fn.extend({attr:function(e,t){return $(this,S.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){S.removeAttr(this,e)})}}),S.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?S.prop(e,t,n):(1===o&&S.isXMLDoc(e)||(i=S.attrHooks[t.toLowerCase()]||(S.expr.match.bool.test(t)?ct:void 0)),void 0!==n?null===n?void S.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=S.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!y.radioValue&&"radio"===t&&A(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(P);if(i&&1===e.nodeType)while(n=i[r++])e.removeAttribute(n)}}),ct={set:function(e,t,n){return!1===t?S.removeAttr(e,n):e.setAttribute(n,n),n}},S.each(S.expr.match.bool.source.match(/\w+/g),function(e,t){var a=ft[t]||S.find.attr;ft[t]=function(e,t,n){var r,i,o=t.toLowerCase();return n||(i=ft[o],ft[o]=r,r=null!=a(e,t,n)?o:null,ft[o]=i),r}});var pt=/^(?:input|select|textarea|button)$/i,dt=/^(?:a|area)$/i;function ht(e){return(e.match(P)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function vt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(P)||[]}S.fn.extend({prop:function(e,t){return $(this,S.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[S.propFix[e]||e]})}}),S.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&S.isXMLDoc(e)||(t=S.propFix[t]||t,i=S.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=S.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||dt.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),y.optSelected||(S.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),S.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){S.propFix[this.toLowerCase()]=this}),S.fn.extend({addClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).addClass(t.call(this,e,gt(this)))});if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},removeClass:function(t){var e,n,r,i,o,a,s,u=0;if(m(t))return this.each(function(e){S(this).removeClass(t.call(this,e,gt(this)))});if(!arguments.length)return this.attr("class","");if((e=vt(t)).length)while(n=this[u++])if(i=gt(n),r=1===n.nodeType&&" "+ht(i)+" "){a=0;while(o=e[a++])while(-1<r.indexOf(" "+o+" "))r=r.replace(" "+o+" "," ");i!==(s=ht(r))&&n.setAttribute("class",s)}return this},toggleClass:function(i,t){var o=typeof i,a="string"===o||Array.isArray(i);return"boolean"==typeof t&&a?t?this.addClass(i):this.removeClass(i):m(i)?this.each(function(e){S(this).toggleClass(i.call(this,e,gt(this),t),t)}):this.each(function(){var e,t,n,r;if(a){t=0,n=S(this),r=vt(i);while(e=r[t++])n.hasClass(e)?n.removeClass(e):n.addClass(e)}else void 0!==i&&"boolean"!==o||((e=gt(this))&&Y.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":Y.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;t=" "+e+" ";while(n=this[r++])if(1===n.nodeType&&-1<(" "+ht(gt(n))+" ").indexOf(t))return!0;return!1}});var yt=/\r/g;S.fn.extend({val:function(n){var r,e,i,t=this[0];return arguments.length?(i=m(n),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?n.call(this,e,S(this).val()):n)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=S.map(t,function(e){return null==e?"":e+""})),(r=S.valHooks[this.type]||S.valHooks[this.nodeName.toLowerCase()])&&"set"in r&&void 0!==r.set(this,t,"value")||(this.value=t))})):t?(r=S.valHooks[t.type]||S.valHooks[t.nodeName.toLowerCase()])&&"get"in r&&void 0!==(e=r.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(yt,""):null==e?"":e:void 0}}),S.extend({valHooks:{option:{get:function(e){var t=S.find.attr(e,"value");return null!=t?t:ht(S.text(e))}},select:{get:function(e){var t,n,r,i=e.options,o=e.selectedIndex,a="select-one"===e.type,s=a?null:[],u=a?o+1:i.length;for(r=o<0?u:a?o:0;r<u;r++)if(((n=i[r]).selected||r===o)&&!n.disabled&&(!n.parentNode.disabled||!A(n.parentNode,"optgroup"))){if(t=S(n).val(),a)return t;s.push(t)}return s},set:function(e,t){var n,r,i=e.options,o=S.makeArray(t),a=i.length;while(a--)((r=i[a]).selected=-1<S.inArray(S.valHooks.option.get(r),o))&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),S.each(["radio","checkbox"],function(){S.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<S.inArray(S(e).val(),t)}},y.checkOn||(S.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),y.focusin="onfocusin"in C;var mt=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};S.extend(S.event,{trigger:function(e,t,n,r){var i,o,a,s,u,l,c,f,p=[n||E],d=v.call(e,"type")?e.type:e,h=v.call(e,"namespace")?e.namespace.split("."):[];if(o=f=a=n=n||E,3!==n.nodeType&&8!==n.nodeType&&!mt.test(d+S.event.triggered)&&(-1<d.indexOf(".")&&(d=(h=d.split(".")).shift(),h.sort()),u=d.indexOf(":")<0&&"on"+d,(e=e[S.expando]?e:new S.Event(d,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=h.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=n),t=null==t?[e]:S.makeArray(t,[e]),c=S.event.special[d]||{},r||!c.trigger||!1!==c.trigger.apply(n,t))){if(!r&&!c.noBubble&&!x(n)){for(s=c.delegateType||d,mt.test(s+d)||(o=o.parentNode);o;o=o.parentNode)p.push(o),a=o;a===(n.ownerDocument||E)&&p.push(a.defaultView||a.parentWindow||C)}i=0;while((o=p[i++])&&!e.isPropagationStopped())f=o,e.type=1<i?s:c.bindType||d,(l=(Y.get(o,"events")||Object.create(null))[e.type]&&Y.get(o,"handle"))&&l.apply(o,t),(l=u&&o[u])&&l.apply&&V(o)&&(e.result=l.apply(o,t),!1===e.result&&e.preventDefault());return e.type=d,r||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(p.pop(),t)||!V(n)||u&&m(n[d])&&!x(n)&&((a=n[u])&&(n[u]=null),S.event.triggered=d,e.isPropagationStopped()&&f.addEventListener(d,xt),n[d](),e.isPropagationStopped()&&f.removeEventListener(d,xt),S.event.triggered=void 0,a&&(n[u]=a)),e.result}},simulate:function(e,t,n){var r=S.extend(new S.Event,n,{type:e,isSimulated:!0});S.event.trigger(r,null,t)}}),S.fn.extend({trigger:function(e,t){return this.each(function(){S.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return S.event.trigger(e,t,n,!0)}}),y.focusin||S.each({focus:"focusin",blur:"focusout"},function(n,r){var i=function(e){S.event.simulate(r,e.target,S.event.fix(e))};S.event.special[r]={setup:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r);t||e.addEventListener(n,i,!0),Y.access(e,r,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this.document||this,t=Y.access(e,r)-1;t?Y.access(e,r,t):(e.removeEventListener(n,i,!0),Y.remove(e,r))}}});var bt=C.location,wt={guid:Date.now()},Tt=/\?/;S.parseXML=function(e){var t,n;if(!e||"string"!=typeof e)return null;try{t=(new C.DOMParser).parseFromString(e,"text/xml")}catch(e){}return n=t&&t.getElementsByTagName("parsererror")[0],t&&!n||S.error("Invalid XML: "+(n?S.map(n.childNodes,function(e){return e.textContent}).join("\n"):e)),t};var Ct=/\[\]$/,Et=/\r?\n/g,St=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function At(n,e,r,i){var t;if(Array.isArray(e))S.each(e,function(e,t){r||Ct.test(n)?i(n,t):At(n+"["+("object"==typeof t&&null!=t?e:"")+"]",t,r,i)});else if(r||"object"!==w(e))i(n,e);else for(t in e)At(n+"["+t+"]",e[t],r,i)}S.param=function(e,t){var n,r=[],i=function(e,t){var n=m(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!S.isPlainObject(e))S.each(e,function(){i(this.name,this.value)});else for(n in e)At(n,e[n],t,i);return r.join("&")},S.fn.extend({serialize:function(){return S.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=S.prop(this,"elements");return e?S.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!S(this).is(":disabled")&&kt.test(this.nodeName)&&!St.test(e)&&(this.checked||!pe.test(e))}).map(function(e,t){var n=S(this).val();return null==n?null:Array.isArray(n)?S.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}});var Nt=/%20/g,jt=/#.*$/,Dt=/([?&])_=[^&]*/,qt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Ht=/^\/\//,Ot={},Pt={},Rt="*/".concat("*"),Mt=E.createElement("a");function It(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var n,r=0,i=e.toLowerCase().match(P)||[];if(m(t))while(n=i[r++])"+"===n[0]?(n=n.slice(1)||"*",(o[n]=o[n]||[]).unshift(t)):(o[n]=o[n]||[]).push(t)}}function Wt(t,i,o,a){var s={},u=t===Pt;function l(e){var r;return s[e]=!0,S.each(t[e]||[],function(e,t){var n=t(i,o,a);return"string"!=typeof n||u||s[n]?u?!(r=n):void 0:(i.dataTypes.unshift(n),l(n),!1)}),r}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Ft(e,t){var n,r,i=S.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&S.extend(!0,e,r),e}Mt.href=bt.href,S.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(bt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":S.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ft(Ft(e,S.ajaxSettings),t):Ft(S.ajaxSettings,e)},ajaxPrefilter:It(Ot),ajaxTransport:It(Pt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,f,p,n,d,r,h,g,i,o,v=S.ajaxSetup({},t),y=v.context||v,m=v.context&&(y.nodeType||y.jquery)?S(y):S.event,x=S.Deferred(),b=S.Callbacks("once memory"),w=v.statusCode||{},a={},s={},u="canceled",T={readyState:0,getResponseHeader:function(e){var t;if(h){if(!n){n={};while(t=qt.exec(p))n[t[1].toLowerCase()+" "]=(n[t[1].toLowerCase()+" "]||[]).concat(t[2])}t=n[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return h?p:null},setRequestHeader:function(e,t){return null==h&&(e=s[e.toLowerCase()]=s[e.toLowerCase()]||e,a[e]=t),this},overrideMimeType:function(e){return null==h&&(v.mimeType=e),this},statusCode:function(e){var t;if(e)if(h)T.always(e[T.status]);else for(t in e)w[t]=[w[t],e[t]];return this},abort:function(e){var t=e||u;return c&&c.abort(t),l(0,t),this}};if(x.promise(T),v.url=((e||v.url||bt.href)+"").replace(Ht,bt.protocol+"//"),v.type=t.method||t.type||v.method||v.type,v.dataTypes=(v.dataType||"*").toLowerCase().match(P)||[""],null==v.crossDomain){r=E.createElement("a");try{r.href=v.url,r.href=r.href,v.crossDomain=Mt.protocol+"//"+Mt.host!=r.protocol+"//"+r.host}catch(e){v.crossDomain=!0}}if(v.data&&v.processData&&"string"!=typeof v.data&&(v.data=S.param(v.data,v.traditional)),Wt(Ot,v,t,T),h)return T;for(i in(g=S.event&&v.global)&&0==S.active++&&S.event.trigger("ajaxStart"),v.type=v.type.toUpperCase(),v.hasContent=!Lt.test(v.type),f=v.url.replace(jt,""),v.hasContent?v.data&&v.processData&&0===(v.contentType||"").indexOf("application/x-www-form-urlencoded")&&(v.data=v.data.replace(Nt,"+")):(o=v.url.slice(f.length),v.data&&(v.processData||"string"==typeof v.data)&&(f+=(Tt.test(f)?"&":"?")+v.data,delete v.data),!1===v.cache&&(f=f.replace(Dt,"$1"),o=(Tt.test(f)?"&":"?")+"_="+wt.guid+++o),v.url=f+o),v.ifModified&&(S.lastModified[f]&&T.setRequestHeader("If-Modified-Since",S.lastModified[f]),S.etag[f]&&T.setRequestHeader("If-None-Match",S.etag[f])),(v.data&&v.hasContent&&!1!==v.contentType||t.contentType)&&T.setRequestHeader("Content-Type",v.contentType),T.setRequestHeader("Accept",v.dataTypes[0]&&v.accepts[v.dataTypes[0]]?v.accepts[v.dataTypes[0]]+("*"!==v.dataTypes[0]?", "+Rt+"; q=0.01":""):v.accepts["*"]),v.headers)T.setRequestHeader(i,v.headers[i]);if(v.beforeSend&&(!1===v.beforeSend.call(y,T,v)||h))return T.abort();if(u="abort",b.add(v.complete),T.done(v.success),T.fail(v.error),c=Wt(Pt,v,t,T)){if(T.readyState=1,g&&m.trigger("ajaxSend",[T,v]),h)return T;v.async&&0<v.timeout&&(d=C.setTimeout(function(){T.abort("timeout")},v.timeout));try{h=!1,c.send(a,l)}catch(e){if(h)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,n,r){var i,o,a,s,u,l=t;h||(h=!0,d&&C.clearTimeout(d),c=void 0,p=r||"",T.readyState=0<e?4:0,i=200<=e&&e<300||304===e,n&&(s=function(e,t,n){var r,i,o,a,s=e.contents,u=e.dataTypes;while("*"===u[0])u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(v,T,n)),!i&&-1<S.inArray("script",v.dataTypes)&&S.inArray("json",v.dataTypes)<0&&(v.converters["text script"]=function(){}),s=function(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];o=c.shift();while(o)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=l[u+" "+o]||l["* "+o]))for(i in l)if((s=i.split(" "))[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){!0===a?a=l[i]:!0!==l[i]&&(o=s[0],c.unshift(s[1]));break}if(!0!==a)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(v,s,T,i),i?(v.ifModified&&((u=T.getResponseHeader("Last-Modified"))&&(S.lastModified[f]=u),(u=T.getResponseHeader("etag"))&&(S.etag[f]=u)),204===e||"HEAD"===v.type?l="nocontent":304===e?l="notmodified":(l=s.state,o=s.data,i=!(a=s.error))):(a=l,!e&&l||(l="error",e<0&&(e=0))),T.status=e,T.statusText=(t||l)+"",i?x.resolveWith(y,[o,l,T]):x.rejectWith(y,[T,l,a]),T.statusCode(w),w=void 0,g&&m.trigger(i?"ajaxSuccess":"ajaxError",[T,v,i?o:a]),b.fireWith(y,[T,l]),g&&(m.trigger("ajaxComplete",[T,v]),--S.active||S.event.trigger("ajaxStop")))}return T},getJSON:function(e,t,n){return S.get(e,t,n,"json")},getScript:function(e,t){return S.get(e,void 0,t,"script")}}),S.each(["get","post"],function(e,i){S[i]=function(e,t,n,r){return m(t)&&(r=r||n,n=t,t=void 0),S.ajax(S.extend({url:e,type:i,dataType:r,data:t,success:n},S.isPlainObject(e)&&e))}}),S.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),S._evalUrl=function(e,t,n){return S.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){S.globalEval(e,t,n)}})},S.fn.extend({wrapAll:function(e){var t;return this[0]&&(m(e)&&(e=e.call(this[0])),t=S(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(n){return m(n)?this.each(function(e){S(this).wrapInner(n.call(this,e))}):this.each(function(){var e=S(this),t=e.contents();t.length?t.wrapAll(n):e.append(n)})},wrap:function(t){var n=m(t);return this.each(function(e){S(this).wrapAll(n?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){S(this).replaceWith(this.childNodes)}),this}}),S.expr.pseudos.hidden=function(e){return!S.expr.pseudos.visible(e)},S.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},S.ajaxSettings.xhr=function(){try{return new C.XMLHttpRequest}catch(e){}};var Bt={0:200,1223:204},$t=S.ajaxSettings.xhr();y.cors=!!$t&&"withCredentials"in $t,y.ajax=$t=!!$t,S.ajaxTransport(function(i){var o,a;if(y.cors||$t&&!i.crossDomain)return{send:function(e,t){var n,r=i.xhr();if(r.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(n in i.xhrFields)r[n]=i.xhrFields[n];for(n in i.mimeType&&r.overrideMimeType&&r.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)r.setRequestHeader(n,e[n]);o=function(e){return function(){o&&(o=a=r.onload=r.onerror=r.onabort=r.ontimeout=r.onreadystatechange=null,"abort"===e?r.abort():"error"===e?"number"!=typeof r.status?t(0,"error"):t(r.status,r.statusText):t(Bt[r.status]||r.status,r.statusText,"text"!==(r.responseType||"text")||"string"!=typeof r.responseText?{binary:r.response}:{text:r.responseText},r.getAllResponseHeaders()))}},r.onload=o(),a=r.onerror=r.ontimeout=o("error"),void 0!==r.onabort?r.onabort=a:r.onreadystatechange=function(){4===r.readyState&&C.setTimeout(function(){o&&a()})},o=o("abort");try{r.send(i.hasContent&&i.data||null)}catch(e){if(o)throw e}},abort:function(){o&&o()}}}),S.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),S.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return S.globalEval(e),e}}}),S.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),S.ajaxTransport("script",function(n){var r,i;if(n.crossDomain||n.scriptAttrs)return{send:function(e,t){r=S("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",i=function(e){r.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),E.head.appendChild(r[0])},abort:function(){i&&i()}}});var _t,zt=[],Ut=/(=)\?(?=&|$)|\?\?/;S.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=zt.pop()||S.expando+"_"+wt.guid++;return this[e]=!0,e}}),S.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,o,a=!1!==e.jsonp&&(Ut.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ut.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Ut,"$1"+r):!1!==e.jsonp&&(e.url+=(Tt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return o||S.error(r+" was not called"),o[0]},e.dataTypes[0]="json",i=C[r],C[r]=function(){o=arguments},n.always(function(){void 0===i?S(C).removeProp(r):C[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,zt.push(r)),o&&m(i)&&i(o[0]),o=i=void 0}),"script"}),y.createHTMLDocument=((_t=E.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===_t.childNodes.length),S.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(y.createHTMLDocument?((r=(t=E.implementation.createHTMLDocument("")).createElement("base")).href=E.location.href,t.head.appendChild(r)):t=E),o=!n&&[],(i=N.exec(e))?[t.createElement(i[1])]:(i=xe([e],t,o),o&&o.length&&S(o).remove(),S.merge([],i.childNodes)));var r,i,o},S.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return-1<s&&(r=ht(e.slice(s)),e=e.slice(0,s)),m(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<a.length&&S.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?S("<div>").append(S.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},S.expr.pseudos.animated=function(t){return S.grep(S.timers,function(e){return t===e.elem}).length},S.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l=S.css(e,"position"),c=S(e),f={};"static"===l&&(e.style.position="relative"),s=c.offset(),o=S.css(e,"top"),u=S.css(e,"left"),("absolute"===l||"fixed"===l)&&-1<(o+u).indexOf("auto")?(a=(r=c.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),m(t)&&(t=t.call(e,n,S.extend({},s))),null!=t.top&&(f.top=t.top-s.top+a),null!=t.left&&(f.left=t.left-s.left+i),"using"in t?t.using.call(e,f):c.css(f)}},S.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){S.offset.setOffset(this,t,e)});var e,n,r=this[0];return r?r.getClientRects().length?(e=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:e.top+n.pageYOffset,left:e.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===S.css(r,"position"))t=r.getBoundingClientRect();else{t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;while(e&&(e===n.body||e===n.documentElement)&&"static"===S.css(e,"position"))e=e.parentNode;e&&e!==r&&1===e.nodeType&&((i=S(e).offset()).top+=S.css(e,"borderTopWidth",!0),i.left+=S.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-S.css(r,"marginTop",!0),left:t.left-i.left-S.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var e=this.offsetParent;while(e&&"static"===S.css(e,"position"))e=e.offsetParent;return e||re})}}),S.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var o="pageYOffset"===i;S.fn[t]=function(e){return $(this,function(e,t,n){var r;if(x(e)?r=e:9===e.nodeType&&(r=e.defaultView),void 0===n)return r?r[i]:e[t];r?r.scrollTo(o?r.pageXOffset:n,o?n:r.pageYOffset):e[t]=n},t,e,arguments.length)}}),S.each(["top","left"],function(e,n){S.cssHooks[n]=Fe(y.pixelPosition,function(e,t){if(t)return t=We(e,n),Pe.test(t)?S(e).position()[n]+"px":t})}),S.each({Height:"height",Width:"width"},function(a,s){S.each({padding:"inner"+a,content:s,"":"outer"+a},function(r,o){S.fn[o]=function(e,t){var n=arguments.length&&(r||"boolean"!=typeof e),i=r||(!0===e||!0===t?"margin":"border");return $(this,function(e,t,n){var r;return x(e)?0===o.indexOf("outer")?e["inner"+a]:e.document.documentElement["client"+a]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+a],r["scroll"+a],e.body["offset"+a],r["offset"+a],r["client"+a])):void 0===n?S.css(e,t,i):S.style(e,t,n,i)},s,n?e:void 0,n)}})}),S.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){S.fn[t]=function(e){return this.on(t,e)}}),S.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),S.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,n){S.fn[n]=function(e,t){return 0<arguments.length?this.on(n,null,e,t):this.trigger(n)}});var Xt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;S.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),m(e))return r=s.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(s.call(arguments)))}).guid=e.guid=e.guid||S.guid++,i},S.holdReady=function(e){e?S.readyWait++:S.ready(!0)},S.isArray=Array.isArray,S.parseJSON=JSON.parse,S.nodeName=A,S.isFunction=m,S.isWindow=x,S.camelCase=X,S.type=w,S.now=Date.now,S.isNumeric=function(e){var t=S.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},S.trim=function(e){return null==e?"":(e+"").replace(Xt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return S});var Vt=C.jQuery,Gt=C.$;return S.noConflict=function(e){return C.$===S&&(C.$=Gt),e&&C.jQuery===S&&(C.jQuery=Vt),S},"undefined"==typeof e&&(C.jQuery=C.$=S),S});
/*! jQuery Migrate v3.4.0 | (c) OpenJS Foundation and other contributors | jquery.org/license */
"undefined"==typeof jQuery.migrateMute&&(jQuery.migrateMute=!0),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(e){return t(e,window)}):"object"==typeof module&&module.exports?module.exports=t(require("jquery"),window):t(jQuery,window)}(function(s,n){"use strict";function e(e){return 0<=function(e,t){for(var r=/^(\d+)\.(\d+)\.(\d+)/,n=r.exec(e)||[],o=r.exec(t)||[],a=1;a<=3;a++){if(+n[a]>+o[a])return 1;if(+n[a]<+o[a])return-1}return 0}(s.fn.jquery,e)}s.migrateVersion="3.4.0";var t=Object.create(null),o=(s.migrateDisablePatches=function(){for(var e=0;e<arguments.length;e++)t[arguments[e]]=!0},s.migrateEnablePatches=function(){for(var e=0;e<arguments.length;e++)delete t[arguments[e]]},s.migrateIsPatchEnabled=function(e){return!t[e]},n.console&&n.console.log&&(s&&e("3.0.0")||n.console.log("JQMIGRATE: jQuery 3.0.0+ REQUIRED"),s.migrateWarnings&&n.console.log("JQMIGRATE: Migrate plugin loaded multiple times"),n.console.log("JQMIGRATE: Migrate is installed"+(s.migrateMute?"":" with logging active")+", version "+s.migrateVersion)),{});function i(e,t){var r=n.console;!s.migrateIsPatchEnabled(e)||s.migrateDeduplicateWarnings&&o[t]||(o[t]=!0,s.migrateWarnings.push(t+" ["+e+"]"),r&&r.warn&&!s.migrateMute&&(r.warn("JQMIGRATE: "+t),s.migrateTrace&&r.trace&&r.trace()))}function r(e,t,r,n,o){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){return i(n,o),r},set:function(e){i(n,o),r=e}})}function a(e,t,r,n,o){var a=e[t];e[t]=function(){return o&&i(n,o),(s.migrateIsPatchEnabled(n)?r:a||s.noop).apply(this,arguments)}}function u(e,t,r,n,o){if(!o)throw new Error("No warning message provided");a(e,t,r,n,o)}function d(e,t,r,n){a(e,t,r,n)}s.migrateDeduplicateWarnings=!0,s.migrateWarnings=[],void 0===s.migrateTrace&&(s.migrateTrace=!0),s.migrateReset=function(){o={},s.migrateWarnings.length=0},"BackCompat"===n.document.compatMode&&i("quirks","jQuery is not compatible with Quirks Mode");var c,l,p,f={},m=s.fn.init,y=s.find,h=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/,g=/\[(\s*[-\w]+\s*)([~|^$*]?=)\s*([-\w#]*?#[-\w#]*)\s*\]/g,v=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;for(c in d(s.fn,"init",function(e){var t=Array.prototype.slice.call(arguments);return s.migrateIsPatchEnabled("selector-empty-id")&&"string"==typeof e&&"#"===e&&(i("selector-empty-id","jQuery( '#' ) is not a valid selector"),t[0]=[]),m.apply(this,t)},"selector-empty-id"),s.fn.init.prototype=s.fn,d(s,"find",function(t){var r=Array.prototype.slice.call(arguments);if("string"==typeof t&&h.test(t))try{n.document.querySelector(t)}catch(e){t=t.replace(g,function(e,t,r,n){return"["+t+r+'"'+n+'"]'});try{n.document.querySelector(t),i("selector-hash","Attribute selector with '#' must be quoted: "+r[0]),r[0]=t}catch(e){i("selector-hash","Attribute selector with '#' was not fixed: "+r[0])}}return y.apply(this,r)},"selector-hash"),y)Object.prototype.hasOwnProperty.call(y,c)&&(s.find[c]=y[c]);u(s.fn,"size",function(){return this.length},"size","jQuery.fn.size() is deprecated and removed; use the .length property"),u(s,"parseJSON",function(){return JSON.parse.apply(null,arguments)},"parseJSON","jQuery.parseJSON is deprecated; use JSON.parse"),u(s,"holdReady",s.holdReady,"holdReady","jQuery.holdReady is deprecated"),u(s,"unique",s.uniqueSort,"unique","jQuery.unique is deprecated; use jQuery.uniqueSort"),r(s.expr,"filters",s.expr.pseudos,"expr-pre-pseudos","jQuery.expr.filters is deprecated; use jQuery.expr.pseudos"),r(s.expr,":",s.expr.pseudos,"expr-pre-pseudos","jQuery.expr[':'] is deprecated; use jQuery.expr.pseudos"),e("3.1.1")&&u(s,"trim",function(e){return null==e?"":(e+"").replace(v,"")},"trim","jQuery.trim is deprecated; use String.prototype.trim"),e("3.2.0")&&(u(s,"nodeName",function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},"nodeName","jQuery.nodeName is deprecated"),u(s,"isArray",Array.isArray,"isArray","jQuery.isArray is deprecated; use Array.isArray")),e("3.3.0")&&(u(s,"isNumeric",function(e){var t=typeof e;return("number"==t||"string"==t)&&!isNaN(e-parseFloat(e))},"isNumeric","jQuery.isNumeric() is deprecated"),s.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){f["[object "+t+"]"]=t.toLowerCase()}),u(s,"type",function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?f[Object.prototype.toString.call(e)]||"object":typeof e},"type","jQuery.type is deprecated"),u(s,"isFunction",function(e){return"function"==typeof e},"isFunction","jQuery.isFunction() is deprecated"),u(s,"isWindow",function(e){return null!=e&&e===e.window},"isWindow","jQuery.isWindow() is deprecated")),s.ajax&&(l=s.ajax,p=/(=)\?(?=&|$)|\?\?/,d(s,"ajax",function(){var e=l.apply(this,arguments);return e.promise&&(u(e,"success",e.done,"jqXHR-methods","jQXHR.success is deprecated and removed"),u(e,"error",e.fail,"jqXHR-methods","jQXHR.error is deprecated and removed"),u(e,"complete",e.always,"jqXHR-methods","jQXHR.complete is deprecated and removed")),e},"jqXHR-methods"),e("4.0.0")||s.ajaxPrefilter("+json",function(e){!1!==e.jsonp&&(p.test(e.url)||"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&p.test(e.data))&&i("jsonp-promotion","JSON-to-JSONP auto-promotion is deprecated")}));var j=s.fn.removeAttr,b=s.fn.toggleClass,w=/\S+/g;function Q(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}d(s.fn,"removeAttr",function(e){var r=this;return s.each(e.match(w),function(e,t){s.expr.match.bool.test(t)&&(i("removeAttr-bool","jQuery.fn.removeAttr no longer sets boolean properties: "+t),r.prop(t,!1))}),j.apply(this,arguments)},"removeAttr-bool"),d(s.fn,"toggleClass",function(t){return void 0!==t&&"boolean"!=typeof t?b.apply(this,arguments):(i("toggleClass-bool","jQuery.fn.toggleClass( boolean ) is deprecated"),this.each(function(){var e=this.getAttribute&&this.getAttribute("class")||"";e&&s.data(this,"__className__",e),this.setAttribute&&this.setAttribute("class",!e&&!1!==t&&s.data(this,"__className__")||"")}))},"toggleClass-bool");var x,A=!1,R=/^[a-z]/,T=/^(?:Border(?:Top|Right|Bottom|Left)?(?:Width|)|(?:Margin|Padding)?(?:Top|Right|Bottom|Left)?|(?:Min|Max)?(?:Width|Height))$/;s.swap&&s.each(["height","width","reliableMarginRight"],function(e,t){var r=s.cssHooks[t]&&s.cssHooks[t].get;r&&(s.cssHooks[t].get=function(){var e;return A=!0,e=r.apply(this,arguments),A=!1,e})}),d(s,"swap",function(e,t,r,n){var o,a={};for(o in A||i("swap","jQuery.swap() is undocumented and deprecated"),t)a[o]=e.style[o],e.style[o]=t[o];for(o in r=r.apply(e,n||[]),t)e.style[o]=a[o];return r},"swap"),e("3.4.0")&&"undefined"!=typeof Proxy&&(s.cssProps=new Proxy(s.cssProps||{},{set:function(){return i("cssProps","jQuery.cssProps is deprecated"),Reflect.set.apply(this,arguments)}})),e("4.0.0")&&"undefined"!=typeof Proxy&&(s.cssNumber=new Proxy({animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},{get:function(){return i("css-number","jQuery.cssNumber is deprecated"),Reflect.get.apply(this,arguments)},set:function(){return i("css-number","jQuery.cssNumber is deprecated"),Reflect.set.apply(this,arguments)}})),x=s.fn.css,d(s.fn,"css",function(e,t){var r,n=this;return e&&"object"==typeof e&&!Array.isArray(e)?(s.each(e,function(e,t){s.fn.css.call(n,e,t)}),this):("number"==typeof t&&(t=Q(e),r=t,R.test(r)&&T.test(r[0].toUpperCase()+r.slice(1))||s.cssNumber[t]||i("css-number",'Number-typed values are deprecated for jQuery.fn.css( "'+e+'", value )')),x.apply(this,arguments))},"css-number");function C(e){var t=n.document.implementation.createHTMLDocument("");return t.body.innerHTML=e,t.body&&t.body.innerHTML}var S,N,P,k,H,E,M,q=s.data,D=(d(s,"data",function(e,t,r){var n,o,a;if(t&&"object"==typeof t&&2===arguments.length){for(a in n=s.hasData(e)&&q.call(this,e),o={},t)a!==Q(a)?(i("data-camelCase","jQuery.data() always sets/gets camelCased names: "+a),n[a]=t[a]):o[a]=t[a];return q.call(this,e,o),t}return t&&"string"==typeof t&&t!==Q(t)&&(n=s.hasData(e)&&q.call(this,e))&&t in n?(i("data-camelCase","jQuery.data() always sets/gets camelCased names: "+t),2<arguments.length&&(n[t]=r),n[t]):q.apply(this,arguments)},"data-camelCase"),s.fx&&(P=s.Tween.prototype.run,k=function(e){return e},d(s.Tween.prototype,"run",function(){1<s.easing[this.easing].length&&(i("easing-one-arg","'jQuery.easing."+this.easing.toString()+"' should use only one argument"),s.easing[this.easing]=k),P.apply(this,arguments)},"easing-one-arg"),S=s.fx.interval,N="jQuery.fx.interval is deprecated",n.requestAnimationFrame&&Object.defineProperty(s.fx,"interval",{configurable:!0,enumerable:!0,get:function(){return n.document.hidden||i("fx-interval",N),s.migrateIsPatchEnabled("fx-interval")&&void 0===S?13:S},set:function(e){i("fx-interval",N),S=e}})),s.fn.load),F=s.event.add,W=s.event.fix,O=(s.event.props=[],s.event.fixHooks={},r(s.event.props,"concat",s.event.props.concat,"event-old-patch","jQuery.event.props.concat() is deprecated and removed"),d(s.event,"fix",function(e){var t=e.type,r=this.fixHooks[t],n=s.event.props;if(n.length){i("event-old-patch","jQuery.event.props are deprecated and removed: "+n.join());while(n.length)s.event.addProp(n.pop())}if(r&&!r._migrated_&&(r._migrated_=!0,i("event-old-patch","jQuery.event.fixHooks are deprecated and removed: "+t),(n=r.props)&&n.length))while(n.length)s.event.addProp(n.pop());return t=W.call(this,e),r&&r.filter?r.filter(t,e):t},"event-old-patch"),d(s.event,"add",function(e,t){return e===n&&"load"===t&&"complete"===n.document.readyState&&i("load-after-event","jQuery(window).on('load'...) called after load event occurred"),F.apply(this,arguments)},"load-after-event"),s.each(["load","unload","error"],function(e,t){d(s.fn,t,function(){var e=Array.prototype.slice.call(arguments,0);return"load"===t&&"string"==typeof e[0]?D.apply(this,e):(i("shorthand-removed-v3","jQuery.fn."+t+"() is deprecated"),e.splice(0,0,t),arguments.length?this.on.apply(this,e):(this.triggerHandler.apply(this,e),this))},"shorthand-removed-v3")}),s.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,r){u(s.fn,r,function(e,t){return 0<arguments.length?this.on(r,null,e,t):this.trigger(r)},"shorthand-deprecated-v3","jQuery.fn."+r+"() event shorthand is deprecated")}),s(function(){s(n.document).triggerHandler("ready")}),s.event.special.ready={setup:function(){this===n.document&&i("ready-event","'ready' event is deprecated")}},u(s.fn,"bind",function(e,t,r){return this.on(e,null,t,r)},"pre-on-methods","jQuery.fn.bind() is deprecated"),u(s.fn,"unbind",function(e,t){return this.off(e,null,t)},"pre-on-methods","jQuery.fn.unbind() is deprecated"),u(s.fn,"delegate",function(e,t,r,n){return this.on(t,e,r,n)},"pre-on-methods","jQuery.fn.delegate() is deprecated"),u(s.fn,"undelegate",function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)},"pre-on-methods","jQuery.fn.undelegate() is deprecated"),u(s.fn,"hover",function(e,t){return this.on("mouseenter",e).on("mouseleave",t||e)},"pre-on-methods","jQuery.fn.hover() is deprecated"),/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi),_=(s.UNSAFE_restoreLegacyHtmlPrefilter=function(){s.migrateEnablePatches("self-closed-tags")},d(s,"htmlPrefilter",function(e){var t,r;return(r=(t=e).replace(O,"<$1></$2>"))!==t&&C(t)!==C(r)&&i("self-closed-tags","HTML tags must be properly nested and closed: "+t),e.replace(O,"<$1></$2>")},"self-closed-tags"),s.migrateDisablePatches("self-closed-tags"),s.fn.offset);return d(s.fn,"offset",function(){var e=this[0];return!e||e.nodeType&&e.getBoundingClientRect?_.apply(this,arguments):(i("offset-valid-elem","jQuery.fn.offset() requires a valid DOM element"),arguments.length?this:void 0)},"offset-valid-elem"),s.ajax&&(H=s.param,d(s,"param",function(e,t){var r=s.ajaxSettings&&s.ajaxSettings.traditional;return void 0===t&&r&&(i("param-ajax-traditional","jQuery.param() no longer uses jQuery.ajaxSettings.traditional"),t=r),H.call(this,e,t)},"param-ajax-traditional")),u(s.fn,"andSelf",s.fn.addBack,"andSelf","jQuery.fn.andSelf() is deprecated and removed, use jQuery.fn.addBack()"),s.Deferred&&(E=s.Deferred,M=[["resolve","done",s.Callbacks("once memory"),s.Callbacks("once memory"),"resolved"],["reject","fail",s.Callbacks("once memory"),s.Callbacks("once memory"),"rejected"],["notify","progress",s.Callbacks("memory"),s.Callbacks("memory")]],d(s,"Deferred",function(e){var a=E(),i=a.promise();function t(){var o=arguments;return s.Deferred(function(n){s.each(M,function(e,t){var r="function"==typeof o[e]&&o[e];a[t[1]](function(){var e=r&&r.apply(this,arguments);e&&"function"==typeof e.promise?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[t[0]+"With"](this===i?n.promise():this,r?[e]:arguments)})}),o=null}).promise()}return u(a,"pipe",t,"deferred-pipe","deferred.pipe() is deprecated"),u(i,"pipe",t,"deferred-pipe","deferred.pipe() is deprecated"),e&&e.call(a,a),a},"deferred-pipe"),s.Deferred.exceptionHook=E.exceptionHook),s});
/*! lazysizes - v4.1.6 */
!function(a,b){var c=b(a,a.document);a.lazySizes=c,"object"==typeof module&&module.exports&&(module.exports=c)}(window,function(a,b){"use strict";if(b.getElementsByClassName){var c,d,e=b.documentElement,f=a.Date,g=a.HTMLPictureElement,h="addEventListener",i="getAttribute",j=a[h],k=a.setTimeout,l=a.requestAnimationFrame||k,m=a.requestIdleCallback,n=/^picture$/i,o=["load","error","lazyincluded","_lazyloaded"],p={},q=Array.prototype.forEach,r=function(a,b){return p[b]||(p[b]=new RegExp("(\\s|^)"+b+"(\\s|$)")),p[b].test(a[i]("class")||"")&&p[b]},s=function(a,b){r(a,b)||a.setAttribute("class",(a[i]("class")||"").trim()+" "+b)},t=function(a,b){var c;(c=r(a,b))&&a.setAttribute("class",(a[i]("class")||"").replace(c," "))},u=function(a,b,c){var d=c?h:"removeEventListener";c&&u(a,b),o.forEach(function(c){a[d](c,b)})},v=function(a,d,e,f,g){var h=b.createEvent("Event");return e||(e={}),e.instance=c,h.initEvent(d,!f,!g),h.detail=e,a.dispatchEvent(h),h},w=function(b,c){var e;!g&&(e=a.picturefill||d.pf)?(c&&c.src&&!b[i]("srcset")&&b.setAttribute("srcset",c.src),e({reevaluate:!0,elements:[b]})):c&&c.src&&(b.src=c.src)},x=function(a,b){return(getComputedStyle(a,null)||{})[b]},y=function(a,b,c){for(c=c||a.offsetWidth;c<d.minSize&&b&&!a._lazysizesWidth;)c=b.offsetWidth,b=b.parentNode;return c},z=function(){var a,c,d=[],e=[],f=d,g=function(){var b=f;for(f=d.length?e:d,a=!0,c=!1;b.length;)b.shift()();a=!1},h=function(d,e){a&&!e?d.apply(this,arguments):(f.push(d),c||(c=!0,(b.hidden?k:l)(g)))};return h._lsFlush=g,h}(),A=function(a,b){return b?function(){z(a)}:function(){var b=this,c=arguments;z(function(){a.apply(b,c)})}},B=function(a){var b,c=0,e=d.throttleDelay,g=d.ricTimeout,h=function(){b=!1,c=f.now(),a()},i=m&&g>49?function(){m(h,{timeout:g}),g!==d.ricTimeout&&(g=d.ricTimeout)}:A(function(){k(h)},!0);return function(a){var d;(a=!0===a)&&(g=33),b||(b=!0,d=e-(f.now()-c),d<0&&(d=0),a||d<9?i():k(i,d))}},C=function(a){var b,c,d=99,e=function(){b=null,a()},g=function(){var a=f.now()-c;a<d?k(g,d-a):(m||e)(e)};return function(){c=f.now(),b||(b=k(g,d))}};!function(){var b,c={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};d=a.lazySizesConfig||a.lazysizesConfig||{};for(b in c)b in d||(d[b]=c[b]);a.lazySizesConfig=d,k(function(){d.init&&F()})}();var D=function(){var g,l,m,o,p,y,D,F,G,H,I,J,K=/^img$/i,L=/^iframe$/i,M="onscroll"in a&&!/(gle|ing)bot/.test(navigator.userAgent),N=0,O=0,P=0,Q=-1,R=function(a){P--,a&&a.target&&u(a.target,R),(!a||P<0||!a.target)&&(P=0)},S=function(a){return null==J&&(J="hidden"==x(b.body,"visibility")),J||"hidden"!=x(a.parentNode,"visibility")&&"hidden"!=x(a,"visibility")},T=function(a,c){var d,f=a,g=S(a);for(F-=c,I+=c,G-=c,H+=c;g&&(f=f.offsetParent)&&f!=b.body&&f!=e;)(g=(x(f,"opacity")||1)>0)&&"visible"!=x(f,"overflow")&&(d=f.getBoundingClientRect(),g=H>d.left&&G<d.right&&I>d.top-1&&F<d.bottom+1);return g},U=function(){var a,f,h,j,k,m,n,p,q,r,s,t,u=c.elements;if((o=d.loadMode)&&P<8&&(a=u.length)){for(f=0,Q++,r=!d.expand||d.expand<1?e.clientHeight>500&&e.clientWidth>500?500:370:d.expand,s=r*d.expFactor,t=d.hFac,J=null,O<s&&P<1&&Q>2&&o>2&&!b.hidden?(O=s,Q=0):O=o>1&&Q>1&&P<6?r:N;f<a;f++)if(u[f]&&!u[f]._lazyRace)if(M)if((p=u[f][i]("data-expand"))&&(m=1*p)||(m=O),q!==m&&(y=innerWidth+m*t,D=innerHeight+m,n=-1*m,q=m),h=u[f].getBoundingClientRect(),(I=h.bottom)>=n&&(F=h.top)<=D&&(H=h.right)>=n*t&&(G=h.left)<=y&&(I||H||G||F)&&(d.loadHidden||S(u[f]))&&(l&&P<3&&!p&&(o<3||Q<4)||T(u[f],m))){if(aa(u[f]),k=!0,P>9)break}else!k&&l&&!j&&P<4&&Q<4&&o>2&&(g[0]||d.preloadAfterLoad)&&(g[0]||!p&&(I||H||G||F||"auto"!=u[f][i](d.sizesAttr)))&&(j=g[0]||u[f]);else aa(u[f]);j&&!k&&aa(j)}},V=B(U),W=function(a){s(a.target,d.loadedClass),t(a.target,d.loadingClass),u(a.target,Y),v(a.target,"lazyloaded")},X=A(W),Y=function(a){X({target:a.target})},Z=function(a,b){try{a.contentWindow.location.replace(b)}catch(c){a.src=b}},$=function(a){var b,c=a[i](d.srcsetAttr);(b=d.customMedia[a[i]("data-media")||a[i]("media")])&&a.setAttribute("media",b),c&&a.setAttribute("srcset",c)},_=A(function(a,b,c,e,f){var g,h,j,l,o,p;(o=v(a,"lazybeforeunveil",b)).defaultPrevented||(e&&(c?s(a,d.autosizesClass):a.setAttribute("sizes",e)),h=a[i](d.srcsetAttr),g=a[i](d.srcAttr),f&&(j=a.parentNode,l=j&&n.test(j.nodeName||"")),p=b.firesLoad||"src"in a&&(h||g||l),o={target:a},p&&(u(a,R,!0),clearTimeout(m),m=k(R,2500),s(a,d.loadingClass),u(a,Y,!0)),l&&q.call(j.getElementsByTagName("source"),$),h?a.setAttribute("srcset",h):g&&!l&&(L.test(a.nodeName)?Z(a,g):a.src=g),f&&(h||l)&&w(a,{src:g})),a._lazyRace&&delete a._lazyRace,t(a,d.lazyClass),z(function(){(!p||a.complete&&a.naturalWidth>1)&&(p?R(o):P--,W(o))},!0)}),aa=function(a){var b,c=K.test(a.nodeName),e=c&&(a[i](d.sizesAttr)||a[i]("sizes")),f="auto"==e;(!f&&l||!c||!a[i]("src")&&!a.srcset||a.complete||r(a,d.errorClass)||!r(a,d.lazyClass))&&(b=v(a,"lazyunveilread").detail,f&&E.updateElem(a,!0,a.offsetWidth),a._lazyRace=!0,P++,_(a,b,f,e,c))},ba=function(){if(!l){if(f.now()-p<999)return void k(ba,999);var a=C(function(){d.loadMode=3,V()});l=!0,d.loadMode=3,V(),j("scroll",function(){3==d.loadMode&&(d.loadMode=2),a()},!0)}};return{_:function(){p=f.now(),c.elements=b.getElementsByClassName(d.lazyClass),g=b.getElementsByClassName(d.lazyClass+" "+d.preloadClass),j("scroll",V,!0),j("resize",V,!0),a.MutationObserver?new MutationObserver(V).observe(e,{childList:!0,subtree:!0,attributes:!0}):(e[h]("DOMNodeInserted",V,!0),e[h]("DOMAttrModified",V,!0),setInterval(V,999)),j("hashchange",V,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(a){b[h](a,V,!0)}),/d$|^c/.test(b.readyState)?ba():(j("load",ba),b[h]("DOMContentLoaded",V),k(ba,2e4)),c.elements.length?(U(),z._lsFlush()):V()},checkElems:V,unveil:aa}}(),E=function(){var a,c=A(function(a,b,c,d){var e,f,g;if(a._lazysizesWidth=d,d+="px",a.setAttribute("sizes",d),n.test(b.nodeName||""))for(e=b.getElementsByTagName("source"),f=0,g=e.length;f<g;f++)e[f].setAttribute("sizes",d);c.detail.dataAttr||w(a,c.detail)}),e=function(a,b,d){var e,f=a.parentNode;f&&(d=y(a,f,d),e=v(a,"lazybeforesizes",{width:d,dataAttr:!!b}),e.defaultPrevented||(d=e.detail.width)&&d!==a._lazysizesWidth&&c(a,f,e,d))},f=function(){var b,c=a.length;if(c)for(b=0;b<c;b++)e(a[b])},g=C(f);return{_:function(){a=b.getElementsByClassName(d.autosizesClass),j("resize",g)},checkElems:g,updateElem:e}}(),F=function(){F.i||(F.i=!0,E._(),D._())};return c={cfg:d,autoSizer:E,loader:D,init:F,uP:w,aC:s,rC:t,hC:r,fire:v,gW:y,rAF:z}}});
/* 
 *          Author:             Connect Group
*          Website:            connect-group.com
* 
 *          Title:                 LRDX
*          Build:                2021-03-03 08:25:50
* 
 */function Loader(a,b,c,d,e,f,g,h,i,j,k,l){this.canvas=b,this.ctx=a,this.x=c,this.y=d,this.radius=e,this.color=f,k&&(this.root=k),i&&(this.callback=i),j&&(this.callbackCheck=j),l&&(this.spinnerCompletedCallback=l.bind(this.root||this)),this.spinnerComplete=!1,this.tailLength=g,this.start=-.5,this.end=1.5,this.currentStart=this.start,this.currentEnd=this.start,this.waitFrames=5,this.waitIterator=0,this.totalIterations=60,this.alpha=1,this.startIterator=0,this.endIterator=0,this.totalMoved={x:0,y:0},this.state={loaded:!1,debug:!1,complete:!1},h&&(this.state.debug=!0,this.debugVars=["startIterator","endIterator","currentStart","currentEnd","totalIterations","tailLength","x","y","radius","color","waitFrames","waitIterator"]),this.hidden=!1,this.clickIterator=0,this.clickIteratorTotal=30,this[this.callback]||console.log('specified callback "'+this.callback+'" not found.'),this[this.callback+"Setup"]?this[this.callback+"Setup"]():console.log('specified setup function "'+this.callback+'Setup" not found.')}function loadInfoBox(){function a(a){a=a||{},google.maps.OverlayView.apply(this,arguments),this.content_=a.content||"",this.disableAutoPan_=a.disableAutoPan||!1,this.maxWidth_=a.maxWidth||0,this.pixelOffset_=a.pixelOffset||new google.maps.Size(0,0),this.position_=a.position||new google.maps.LatLng(0,0),this.zIndex_=a.zIndex||null,this.boxClass_=a.boxClass||"infoBox",this.boxStyle_=a.boxStyle||{},this.closeBoxMargin_=a.closeBoxMargin||"2px",this.closeBoxURL_=a.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===a.closeBoxURL&&(this.closeBoxURL_=""),this.infoBoxClearance_=a.infoBoxClearance||new google.maps.Size(1,1),"undefined"==typeof a.visible&&("undefined"==typeof a.isHidden?a.visible=!0:a.visible=!a.isHidden),this.isHidden_=!a.visible,this.alignBottom_=a.alignBottom||!1,this.pane_=a.pane||"floatPane",this.enableEventPropagation_=a.enableEventPropagation||!1,this.div_=null,this.closeListener_=null,this.moveListener_=null,this.contextListener_=null,this.eventListeners_=null,this.fixedWidthSet_=null}return a.prototype=new google.maps.OverlayView,a.prototype.createInfoBoxDiv_=function(){var a,b,c,d=this,e=function(a){a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation()},f=function(a){a.returnValue=!1,a.preventDefault&&a.preventDefault(),d.enableEventPropagation_||e(a)};if(!this.div_){if(this.div_=document.createElement("div"),this.setBoxStyle_(),"undefined"==typeof this.content_.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+this.content_:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(this.content_)),this.getPanes()[this.pane_].appendChild(this.div_),this.addClickHandler_(),this.div_.style.width?this.fixedWidthSet_=!0:0!==this.maxWidth_&&this.div_.offsetWidth>this.maxWidth_?(this.div_.style.width=this.maxWidth_,this.div_.style.overflow="auto",this.fixedWidthSet_=!0):(c=this.getBoxWidths_(),this.div_.style.width=this.div_.offsetWidth-c.left-c.right+"px",this.fixedWidthSet_=!1),this.panBox_(this.disableAutoPan_),!this.enableEventPropagation_){for(this.eventListeners_=[],b=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],a=0;a<b.length;a++)this.eventListeners_.push(google.maps.event.addDomListener(this.div_,b[a],e));this.eventListeners_.push(google.maps.event.addDomListener(this.div_,"mouseover",function(a){this.style.cursor="default"}))}this.contextListener_=google.maps.event.addDomListener(this.div_,"contextmenu",f),google.maps.event.trigger(this,"domready")}},a.prototype.getCloseBoxImg_=function(){var a="";return""!==this.closeBoxURL_&&(a="<img",a+=" src='"+this.closeBoxURL_+"'",a+=" align=right",a+=" style='",a+=" position: relative;",a+=" cursor: pointer;",a+=" margin: "+this.closeBoxMargin_+";",a+="'>"),a},a.prototype.addClickHandler_=function(){var a;""!==this.closeBoxURL_?(a=this.div_.firstChild,this.closeListener_=google.maps.event.addDomListener(a,"click",this.getCloseClickHandler_())):this.closeListener_=null},a.prototype.getCloseClickHandler_=function(){var a=this;return function(b){b.cancelBubble=!0,b.stopPropagation&&b.stopPropagation(),google.maps.event.trigger(a,"closeclick"),a.close()}},a.prototype.panBox_=function(a){var b,c,d=0,e=0;if(!a&&(b=this.getMap(),b instanceof google.maps.Map)){b.getBounds().contains(this.position_)||b.setCenter(this.position_),c=b.getBounds();var f=b.getDiv(),g=f.offsetWidth,h=f.offsetHeight,i=this.pixelOffset_.width,j=this.pixelOffset_.height,k=this.div_.offsetWidth,l=this.div_.offsetHeight,m=this.infoBoxClearance_.width,n=this.infoBoxClearance_.height,o=this.getProjection().fromLatLngToContainerPixel(this.position_);if(o.x<-i+m?d=o.x+i-m:o.x+k+i+m>g&&(d=o.x+k+i+m-g),this.alignBottom_?o.y<-j+n+l?e=o.y+j-n-l:o.y+j+n>h&&(e=o.y+j+n-h):o.y<-j+n?e=o.y+j-n:o.y+l+j+n>h&&(e=o.y+l+j+n-h),0!==d||0!==e){b.getCenter();b.panBy(d,e)}}},a.prototype.setBoxStyle_=function(){var a,b;if(this.div_){this.div_.className=this.boxClass_,this.div_.style.cssText="",b=this.boxStyle_;for(a in b)b.hasOwnProperty(a)&&(this.div_.style[a]=b[a]);this.div_.style.WebkitTransform="translateZ(0)","undefined"!=typeof this.div_.style.opacity&&""!==this.div_.style.opacity&&(this.div_.style.MsFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*this.div_.style.opacity+')"',this.div_.style.filter="alpha(opacity="+100*this.div_.style.opacity+")"),this.div_.style.position="absolute",this.div_.style.visibility="hidden",null!==this.zIndex_&&(this.div_.style.zIndex=this.zIndex_)}},a.prototype.getBoxWidths_=function(){var a,b={top:0,bottom:0,left:0,right:0},c=this.div_;return document.defaultView&&document.defaultView.getComputedStyle?(a=c.ownerDocument.defaultView.getComputedStyle(c,""),a&&(b.top=parseInt(a.borderTopWidth,10)||0,b.bottom=parseInt(a.borderBottomWidth,10)||0,b.left=parseInt(a.borderLeftWidth,10)||0,b.right=parseInt(a.borderRightWidth,10)||0)):document.documentElement.currentStyle&&c.currentStyle&&(b.top=parseInt(c.currentStyle.borderTopWidth,10)||0,b.bottom=parseInt(c.currentStyle.borderBottomWidth,10)||0,b.left=parseInt(c.currentStyle.borderLeftWidth,10)||0,b.right=parseInt(c.currentStyle.borderRightWidth,10)||0),b},a.prototype.onRemove=function(){this.div_&&(this.div_.parentNode.removeChild(this.div_),this.div_=null)},a.prototype.draw=function(){this.createInfoBoxDiv_();var a=this.getProjection().fromLatLngToDivPixel(this.position_);this.div_.style.left=a.x+this.pixelOffset_.width+"px",this.alignBottom_?this.div_.style.bottom=-(a.y+this.pixelOffset_.height)+"px":this.div_.style.top=a.y+this.pixelOffset_.height+"px",this.isHidden_?this.div_.style.visibility="hidden":this.div_.style.visibility="visible"},a.prototype.setOptions=function(a){"undefined"!=typeof a.boxClass&&(this.boxClass_=a.boxClass,this.setBoxStyle_()),"undefined"!=typeof a.boxStyle&&(this.boxStyle_=a.boxStyle,this.setBoxStyle_()),"undefined"!=typeof a.content&&this.setContent(a.content),"undefined"!=typeof a.disableAutoPan&&(this.disableAutoPan_=a.disableAutoPan),"undefined"!=typeof a.maxWidth&&(this.maxWidth_=a.maxWidth),"undefined"!=typeof a.pixelOffset&&(this.pixelOffset_=a.pixelOffset),"undefined"!=typeof a.alignBottom&&(this.alignBottom_=a.alignBottom),"undefined"!=typeof a.position&&this.setPosition(a.position),"undefined"!=typeof a.zIndex&&this.setZIndex(a.zIndex),"undefined"!=typeof a.closeBoxMargin&&(this.closeBoxMargin_=a.closeBoxMargin),"undefined"!=typeof a.closeBoxURL&&(this.closeBoxURL_=a.closeBoxURL),"undefined"!=typeof a.infoBoxClearance&&(this.infoBoxClearance_=a.infoBoxClearance),"undefined"!=typeof a.isHidden&&(this.isHidden_=a.isHidden),"undefined"!=typeof a.visible&&(this.isHidden_=!a.visible),"undefined"!=typeof a.enableEventPropagation&&(this.enableEventPropagation_=a.enableEventPropagation),this.div_&&this.draw()},a.prototype.setContent=function(a){this.content_=a,this.div_&&(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.fixedWidthSet_||(this.div_.style.width=""),"undefined"==typeof a.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+a:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(a)),this.fixedWidthSet_||(this.div_.style.width=this.div_.offsetWidth+"px","undefined"==typeof a.nodeType?this.div_.innerHTML=this.getCloseBoxImg_()+a:(this.div_.innerHTML=this.getCloseBoxImg_(),this.div_.appendChild(a))),this.addClickHandler_()),google.maps.event.trigger(this,"content_changed")},a.prototype.setPosition=function(a){this.position_=a,this.div_&&this.draw(),google.maps.event.trigger(this,"position_changed")},a.prototype.setZIndex=function(a){this.zIndex_=a,this.div_&&(this.div_.style.zIndex=a),google.maps.event.trigger(this,"zindex_changed")},a.prototype.setVisible=function(a){this.isHidden_=!a,this.div_&&(this.div_.style.visibility=this.isHidden_?"hidden":"visible")},a.prototype.getContent=function(){return this.content_},a.prototype.getPosition=function(){return this.position_},a.prototype.getZIndex=function(){return this.zIndex_},a.prototype.getVisible=function(){var a;return a="undefined"==typeof this.getMap()||null===this.getMap()?!1:!this.isHidden_},a.prototype.show=function(){this.isHidden_=!1,this.div_&&(this.div_.style.visibility="visible")},a.prototype.hide=function(){this.isHidden_=!0,this.div_&&(this.div_.style.visibility="hidden")},a.prototype.open=function(a,b){var c=this;b&&(this.position_=b.getPosition(),this.moveListener_=google.maps.event.addListener(b,"position_changed",function(){c.setPosition(this.getPosition())})),this.setMap(a),this.div_&&this.panBox_()},a.prototype.close=function(){var a;if(this.closeListener_&&(google.maps.event.removeListener(this.closeListener_),this.closeListener_=null),this.eventListeners_){for(a=0;a<this.eventListeners_.length;a++)google.maps.event.removeListener(this.eventListeners_[a]);this.eventListeners_=null}this.moveListener_&&(google.maps.event.removeListener(this.moveListener_),this.moveListener_=null),this.contextListener_&&(google.maps.event.removeListener(this.contextListener_),this.contextListener_=null),this.setMap(null)},a}function MarkerClustererV3(a,b,c){this.extend(MarkerClustererV3,google.maps.OverlayView),this.map_=a,this.markers_=[],this.clusters_=[],this.sizes=[53,56,66,78,90],this.styles_=[],this.ready_=!1;var d=c||{};this.gridSize_=d.gridSize||60,this.minClusterSize_=d.minimumClusterSize||2,this.maxZoom_=d.maxZoom||null,this.styles_=d.styles||[],this.imagePath_=d.imagePath||this.MARKER_CLUSTER_IMAGE_PATH_,this.imageExtension_=d.imageExtension||this.MARKER_CLUSTER_IMAGE_EXTENSION_,this.zoomOnClick_=!0,void 0!=d.zoomOnClick&&(this.zoomOnClick_=d.zoomOnClick),this.averageCenter_=!1,void 0!=d.averageCenter&&(this.averageCenter_=d.averageCenter),this.setupStyles_(),this.setMap(a),this.prevZoom_=this.map_.getZoom();var e=this;google.maps.event.addListener(this.map_,"zoom_changed",function(){var a=e.map_.getZoom(),b=e.map_.minZoom||0,c=Math.min(e.map_.maxZoom||100,e.map_.mapTypes[e.map_.getMapTypeId()].maxZoom);a=Math.min(Math.max(a,b),c),e.prevZoom_!=a&&(e.prevZoom_=a,e.resetViewport())}),google.maps.event.addListener(this.map_,"idle",function(){e.redraw()}),b&&(b.length||Object.keys(b).length)&&this.addMarkers(b,!1)}function ClusterV3(a){this.markerClusterer_=a,this.map_=a.getMap(),this.gridSize_=a.getGridSize(),this.minClusterSize_=a.getMinClusterSize(),this.averageCenter_=a.isAverageCenter(),this.center_=null,this.markers_=[],this.bounds_=null,this.clusterIcon_=new ClusterIconV3(this,a.getStyles(),a.getGridSize())}function ClusterIconV3(a,b,c){a.getMarkerClusterer().extend(ClusterIconV3,google.maps.OverlayView),this.styles_=b,this.padding_=c||0,this.cluster_=a,this.center_=null,this.map_=a.getMap(),this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(this.map_)}function onYouTubePlayerAPIReady(){mejs.YouTubeApi.iFrameReady()}function onYouTubePlayerReady(a){mejs.YouTubeApi.flashReady(a)}function loadOverlappingMarkerSpiderfier(){var a={}.hasOwnProperty,b=[].slice;this.OverlappingMarkerSpiderfier=function(){function c(b,c){var e,f,g,h,i,j;this.map=b,null==c&&(c={});for(f in c)a.call(c,f)&&(g=c[f],this[f]=g);for(this.projHelper=new this.constructor.ProjHelper(this.map),this.initMarkerArrays(),this.listeners={},j=["dragend","zoom_changed","maptypeid_changed"],h=0,i=j.length;i>h;h++)e=j[h],d.addListener(this.map,e,function(a){return function(){return a.unspiderfy()}}(this))}var d,e,f,g,h,i,j,k,l,m,n;for(i=c.prototype,n=[c,i],l=0,m=n.length;m>l;l++)k=n[l],k.VERSION="0.3.3";return e=google.maps,d=e.event,h=e.MapTypeId,j=2*Math.PI,i.keepSpiderfied=!1,i.markersWontHide=!1,i.markersWontMove=!1,i.nearbyDistance=20,i.circleSpiralSwitchover=9,i.circleFootSeparation=23,i.circleStartAngle=j/12,i.spiralFootSeparation=26,i.spiralLengthStart=11,i.spiralLengthFactor=4,i.spiderfiedZIndex=1e3,i.usualLegZIndex=10,i.highlightedLegZIndex=20,i.event="click",i.minZoomLevel=!1,i.legWeight=1.5,i.legColors={usual:{},highlighted:{}},g=i.legColors.usual,f=i.legColors.highlighted,g[h.HYBRID]=g[h.SATELLITE]="#fff",f[h.HYBRID]=f[h.SATELLITE]="#f00",g[h.TERRAIN]=g[h.ROADMAP]="#444",f[h.TERRAIN]=f[h.ROADMAP]="#f00",i.initMarkerArrays=function(){return this.markers=[],this.markerListenerRefs=[]},i.addMarker=function(a){var b;return null!=a._oms?this:(a._oms=!0,b=[d.addListener(a,this.event,function(b){return function(c){return b.spiderListener(a,c)}}(this))],this.markersWontHide||b.push(d.addListener(a,"visible_changed",function(b){return function(){return b.markerChangeListener(a,!1)}}(this))),this.markersWontMove||b.push(d.addListener(a,"position_changed",function(b){return function(){return b.markerChangeListener(a,!0)}}(this))),this.markerListenerRefs.push(b),this.markers.push(a),this)},i.markerChangeListener=function(a,b){return null==a._omsData||!b&&a.getVisible()||null!=this.spiderfying||null!=this.unspiderfying?void 0:this.unspiderfy(b?a:null)},i.getMarkers=function(){return this.markers.slice(0)},i.removeMarker=function(a){var b,c,e,f,g;if(null!=a._omsData&&this.unspiderfy(),b=this.arrIndexOf(this.markers,a),0>b)return this;for(e=this.markerListenerRefs.splice(b,1)[0],f=0,g=e.length;g>f;f++)c=e[f],d.removeListener(c);return delete a._oms,this.markers.splice(b,1),this},i.clearMarkers=function(){var a,b,c,e,f,g,h,i,j;for(this.unspiderfy(),j=this.markers,a=f=0,h=j.length;h>f;a=++f){for(e=j[a],c=this.markerListenerRefs[a],g=0,i=c.length;i>g;g++)b=c[g],d.removeListener(b);delete e._oms}return this.initMarkerArrays(),this},i.addListener=function(a,b){var c;return(null!=(c=this.listeners)[a]?c[a]:c[a]=[]).push(b),this},i.removeListener=function(a,b){var c;return c=this.arrIndexOf(this.listeners[a],b),0>c||this.listeners[a].splice(c,1),this},i.clearListeners=function(a){return this.listeners[a]=[],this},i.trigger=function(){var a,c,d,e,f,g,h,i;for(c=arguments[0],a=2<=arguments.length?b.call(arguments,1):[],h=null!=(g=this.listeners[c])?g:[],i=[],e=0,f=h.length;f>e;e++)d=h[e],i.push(d.apply(null,a));return i},i.generatePtsCircle=function(a,b){var c,d,f,g,h,i,k;for(f=this.circleFootSeparation*(2+a),h=f/j,d=j/a,k=[],g=i=0;a>=0?a>i:i>a;g=a>=0?++i:--i)c=this.circleStartAngle+g*d,k.push(new e.Point(b.x+h*Math.cos(c),b.y+h*Math.sin(c)));return k},i.generatePtsSpiral=function(a,b){var c,d,f,g,h,i;for(f=this.spiralLengthStart,c=0,i=[],d=h=0;a>=0?a>h:h>a;d=a>=0?++h:--h)c+=this.spiralFootSeparation/f+5e-4*d,g=new e.Point(b.x+f*Math.cos(c),b.y+f*Math.sin(c)),f+=j*this.spiralLengthFactor/c,i.push(g);return i},i.spiderListener=function(a,b){var c,d,e,f,g,h,j,k,l,m,n,o,p;if(h=null!=a._omsData,h&&this.keepSpiderfied||("mouseover"===this.event?(c=this,d=function(){return c.unspiderfy()},window.clearTimeout(i.timeout),i.timeout=setTimeout(d,3e3)):this.unspiderfy()),h||this.map.getStreetView().getVisible()||"GoogleEarthAPI"===this.map.getMapTypeId())return this.trigger("click",a,b);for(k=[],l=[],j=this.nearbyDistance,m=j*j,g=this.llToPt(a.position),p=this.markers,n=0,o=p.length;o>n;n++)e=p[n],null!=e.map&&e.getVisible()&&(f=this.llToPt(e.position),this.ptDistanceSq(f,g)<m?k.push({marker:e,markerPt:f}):l.push(e));return 1===k.length?this.trigger("click",a,b):this.spiderfy(k,l)},i.markersNearMarker=function(a,b){var c,d,e,f,g,h,i,j,k,l,m;if(null==b&&(b=!1),null==this.projHelper.getProjection())throw"Must wait for 'idle' event on map before calling markersNearMarker";for(g=this.nearbyDistance,h=g*g,e=this.llToPt(a.position),f=[],k=this.markers,i=0,j=k.length;j>i&&(c=k[i],!(c!==a&&null!=c.map&&c.getVisible()&&(d=this.llToPt(null!=(l=null!=(m=c._omsData)?m.usualPosition:void 0)?l:c.position),this.ptDistanceSq(d,e)<h&&(f.push(c),b))));i++);return f},i.markersNearAnyOtherMarker=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u;if(null==this.projHelper.getProjection())throw"Must wait for 'idle' event on map before calling markersNearAnyOtherMarker";for(j=this.nearbyDistance,k=j*j,i=function(){var a,b,c,e,f,g;for(c=this.markers,g=[],a=0,b=c.length;b>a;a++)d=c[a],g.push({pt:this.llToPt(null!=(e=null!=(f=d._omsData)?f.usualPosition:void 0)?e:d.position),willSpiderfy:!1});return g}.call(this),r=this.markers,b=l=0,o=r.length;o>l;b=++l)if(e=r[b],null!=e.map&&e.getVisible()&&(f=i[b],!f.willSpiderfy))for(s=this.markers,c=m=0,p=s.length;p>m;c=++m)if(g=s[c],c!==b&&null!=g.map&&g.getVisible()&&(h=i[c],(!(b>c)||h.willSpiderfy)&&this.ptDistanceSq(f.pt,h.pt)<k)){f.willSpiderfy=h.willSpiderfy=!0;break}for(t=this.markers,u=[],a=n=0,q=t.length;q>n;a=++n)d=t[a],i[a].willSpiderfy&&u.push(d);return u},i.makeHighlightListenerFuncs=function(a){return{highlight:function(b){return function(){return a._omsData.leg.setOptions({strokeColor:b.legColors.highlighted[b.map.mapTypeId],zIndex:b.highlightedLegZIndex})}}(this),unhighlight:function(b){return function(){return a._omsData.leg.setOptions({strokeColor:b.legColors.usual[b.map.mapTypeId],zIndex:b.usualLegZIndex})}}(this)}},i.spiderfy=function(a,b){var c,f,g,h,i,j,k,l,m,n,o;return this.minZoomLevel&&this.map.getZoom()<this.minZoomLevel?!1:(this.spiderfying=!0,n=a.length,c=this.ptAverage(function(){var b,c,d;for(d=[],b=0,c=a.length;c>b;b++)l=a[b],d.push(l.markerPt);return d}()),h=n>=this.circleSpiralSwitchover?this.generatePtsSpiral(n,c).reverse():this.generatePtsCircle(n,c),o=function(){var b,c,l;for(l=[],b=0,c=h.length;c>b;b++)g=h[b],f=this.ptToLl(g),m=this.minExtract(a,function(a){return function(b){return a.ptDistanceSq(b.markerPt,g)}}(this)),k=m.marker,j=new e.Polyline({map:this.map,path:[k.position,f],strokeColor:this.legColors.usual[this.map.mapTypeId],strokeWeight:this.legWeight,zIndex:this.usualLegZIndex}),k._omsData={usualPosition:k.position,leg:j},this.legColors.highlighted[this.map.mapTypeId]!==this.legColors.usual[this.map.mapTypeId]&&(i=this.makeHighlightListenerFuncs(k),k._omsData.hightlightListeners={highlight:d.addListener(k,"mouseover",i.highlight),unhighlight:d.addListener(k,"mouseout",i.unhighlight)}),k.setPosition(f),k.setZIndex(Math.round(this.spiderfiedZIndex+g.y)),l.push(k);return l}.call(this),delete this.spiderfying,this.spiderfied=!0,this.trigger("spiderfy",o,b))},i.unspiderfy=function(a){var b,c,e,f,g,h,i;if(null==a&&(a=null),null==this.spiderfied)return this;for(this.unspiderfying=!0,f=[],e=[],i=this.markers,g=0,h=i.length;h>g;g++)c=i[g],null!=c._omsData?(c._omsData.leg.setMap(null),c!==a&&c.setPosition(c._omsData.usualPosition),c.setZIndex(null),b=c._omsData.hightlightListeners,null!=b&&(d.removeListener(b.highlight),d.removeListener(b.unhighlight)),delete c._omsData,f.push(c)):e.push(c);return delete this.unspiderfying,delete this.spiderfied,this.trigger("unspiderfy",f,e),this},i.ptDistanceSq=function(a,b){var c,d;return c=a.x-b.x,d=a.y-b.y,c*c+d*d},i.ptAverage=function(a){var b,c,d,f,g,h;for(d=f=0,g=0,h=a.length;h>g;g++)c=a[g],d+=c.x,f+=c.y;return b=a.length,new e.Point(d/b,f/b)},i.llToPt=function(a){return this.projHelper.getProjection().fromLatLngToDivPixel(a)},i.ptToLl=function(a){return this.projHelper.getProjection().fromDivPixelToLatLng(a)},i.minExtract=function(a,b){var c,d,e,f,g,h,i;for(e=h=0,i=a.length;i>h;e=++h)f=a[e],g=b(f),("undefined"==typeof c||null===c||d>g)&&(d=g,c=e);return a.splice(c,1)[0]},i.arrIndexOf=function(a,b){var c,d,e,f;if(null!=a.indexOf)return a.indexOf(b);for(c=e=0,f=a.length;f>e;c=++e)if(d=a[c],d===b)return c;return-1},c.ProjHelper=function(a){return this.setMap(a)},c.ProjHelper.prototype=new e.OverlayView,c.ProjHelper.prototype.draw=function(){},c}()}function loadRichMarker(){function a(a){var b=a||{};this.d=this.c=n,void 0==a.visible&&(a.visible=m),void 0==a.shadow&&(a.shadow="7px -3px 5px rgba(88,88,88,0.7)"),void 0==a.anchor&&(a.anchor=o.BOTTOM),this.setValues(b)}function b(a,b){var c=document.createElement("DIV");if(c.innerHTML=b,1==c.childNodes.length)return c.removeChild(c.firstChild);for(var d=document.createDocumentFragment();c.firstChild;)d.appendChild(c.firstChild);return d}function c(a,b){if(b)for(var c;c=b.firstChild;)b.removeChild(c)}function d(a,b){if(a.c){var c="";-1!==navigator.userAgent.indexOf("Gecko/")?("dragging"==b&&(c="-moz-grabbing"),"dragready"==b&&(c="-moz-grab")):("dragging"==b||"dragready"==b)&&(c="move"),"draggable"==b&&(c="pointer"),a.a.style.cursor!=c&&(a.a.style.cursor=c)}}function e(a,b){if(a.getDraggable()&&!a.d){a.d=m;var c=a.getMap();a.m=c.get("draggable"),c.set("draggable",n),a.h=b.clientX,a.i=b.clientY,d(a,"dragready"),a.a.style.MozUserSelect="none",a.a.style.KhtmlUserSelect="none",a.a.style.WebkitUserSelect="none",a.a.unselectable="on",a.a.onselectstart=function(){return n},j(a),google.maps.event.trigger(a,"dragstart")}}function f(a){a.getDraggable()&&a.d&&(a.d=n,a.getMap().set("draggable",a.m),a.h=a.i=a.m=null,a.a.style.MozUserSelect="",a.a.style.KhtmlUserSelect="",a.a.style.WebkitUserSelect="",a.a.unselectable="off",a.a.onselectstart=function(){},k(a),d(a,"draggable"),google.maps.event.trigger(a,"dragend"),a.draw())}function g(a,b){if(a.getDraggable()&&a.d){var c=a.h-b.clientX,e=a.i-b.clientY;a.h=b.clientX,a.i=b.clientY,c=parseInt(a.a.style.left,10)-c,e=parseInt(a.a.style.top,10)-e,a.a.style.left=c+"px",a.a.style.top=e+"px";var g=l(a);a.setPosition(a.getProjection().fromDivPixelToLatLng(new google.maps.Point(c-g.width,e-g.height))),d(a,"dragging"),google.maps.event.trigger(a,"drag")}else f(a)}function h(a){a.f&&(google.maps.event.removeListener(a.f),delete a.f),d(a,"")}function i(a,b){b&&(a.f=google.maps.event.addDomListener(b,"mousedown",function(b){e(a,b)}),d(a,"draggable"))}function j(a){a.a.setCapture?(a.a.setCapture(m),a.e=[google.maps.event.addDomListener(a.a,"mousemove",function(b){g(a,b)},m),google.maps.event.addDomListener(a.a,"mouseup",function(){f(a),a.a.releaseCapture()},m)]):a.e=[google.maps.event.addDomListener(window,"mousemove",function(b){g(a,b)},m),google.maps.event.addDomListener(window,"mouseup",function(){f(a)},m)]}function k(a){if(a.e){for(var b,c=0;b=a.e[c];c++)google.maps.event.removeListener(b);a.e.length=0}}function l(a){var b=a.l();if("object"==typeof b)return b;var c=new google.maps.Size(0,0);if(!a.b)return c;var d=a.b.offsetWidth;switch(a=a.b.offsetHeight,b){case o.TOP:c.width=-d/2;break;case o.TOP_RIGHT:c.width=-d;break;case o.LEFT:c.height=-a/2;break;case o.MIDDLE:c.width=-d/2,c.height=-a/2;break;case o.RIGHT:c.width=-d,c.height=-a/2;break;case o.BOTTOM_LEFT:c.height=-a;break;case o.BOTTOM:c.width=-d/2,c.height=-a;break;case o.BOTTOM_RIGHT:c.width=-d,c.height=-a}return c}var m=!0,n=!1;a.prototype=new google.maps.OverlayView,window.RichMarker=a,a.prototype.getVisible=function(){return this.get("visible")},a.prototype.getVisible=a.prototype.getVisible,a.prototype.setVisible=function(a){this.set("visible",a)},a.prototype.setVisible=a.prototype.setVisible,a.prototype.s=function(){this.c&&(this.a.style.display=this.getVisible()?"":"none",this.draw())},a.prototype.visible_changed=a.prototype.s,a.prototype.setFlat=function(a){this.set("flat",!!a)},a.prototype.setFlat=a.prototype.setFlat,a.prototype.getFlat=function(){return this.get("flat")},a.prototype.getFlat=a.prototype.getFlat,a.prototype.p=function(){return this.get("width")},a.prototype.getWidth=a.prototype.p,a.prototype.o=function(){return this.get("height")},a.prototype.getHeight=a.prototype.o,a.prototype.setShadow=function(a){this.set("shadow",a),this.g()},a.prototype.setShadow=a.prototype.setShadow,a.prototype.getShadow=function(){return this.get("shadow")},a.prototype.getShadow=a.prototype.getShadow,a.prototype.g=function(){this.c&&(this.a.style.boxShadow=this.a.style.webkitBoxShadow=this.a.style.MozBoxShadow=this.getFlat()?"":this.getShadow())},a.prototype.flat_changed=a.prototype.g,a.prototype.setZIndex=function(a){this.set("zIndex",a)},a.prototype.setZIndex=a.prototype.setZIndex,a.prototype.getZIndex=function(){return this.get("zIndex")},a.prototype.getZIndex=a.prototype.getZIndex,a.prototype.t=function(){this.getZIndex()&&this.c&&(this.a.style.zIndex=this.getZIndex())},a.prototype.zIndex_changed=a.prototype.t,a.prototype.getDraggable=function(){return this.get("draggable")},a.prototype.getDraggable=a.prototype.getDraggable,a.prototype.setDraggable=function(a){this.set("draggable",!!a)},a.prototype.setDraggable=a.prototype.setDraggable,a.prototype.k=function(){this.c&&(this.getDraggable()?i(this,this.a):h(this))},a.prototype.draggable_changed=a.prototype.k,a.prototype.getPosition=function(){return this.get("position")},a.prototype.getPosition=a.prototype.getPosition,a.prototype.setPosition=function(a){this.set("position",a)},a.prototype.setPosition=a.prototype.setPosition,a.prototype.q=function(){this.draw()},a.prototype.position_changed=a.prototype.q,a.prototype.l=function(){return this.get("anchor")},a.prototype.getAnchor=a.prototype.l,a.prototype.r=function(a){this.set("anchor",a)},a.prototype.setAnchor=a.prototype.r,a.prototype.n=function(){this.draw()},a.prototype.anchor_changed=a.prototype.n,a.prototype.setContent=function(a){this.set("content",a)},a.prototype.setContent=a.prototype.setContent,a.prototype.getContent=function(){return this.get("content")},a.prototype.getContent=a.prototype.getContent,a.prototype.j=function(){if(this.b){c(this,this.b);var a=this.getContent();if(a){"string"==typeof a&&(a=a.replace(/^\s*([\S\s]*)\b\s*$/,"$1"),a=b(this,a)),this.b.appendChild(a);var d=this;a=this.b.getElementsByTagName("IMG");for(var e,f=0;e=a[f];f++)google.maps.event.addDomListener(e,"mousedown",function(a){d.getDraggable()&&(a.preventDefault&&a.preventDefault(),a.returnValue=n)}),google.maps.event.addDomListener(e,"load",function(){d.draw()});google.maps.event.trigger(this,"domready")}this.c&&this.draw()}},a.prototype.content_changed=a.prototype.j,a.prototype.onAdd=function(){if(this.a||(this.a=document.createElement("DIV"),this.a.style.position="absolute"),this.getZIndex()&&(this.a.style.zIndex=this.getZIndex()),this.a.style.display=this.getVisible()?"":"none",!this.b){this.b=document.createElement("DIV"),this.a.appendChild(this.b);var a=this;google.maps.event.addDomListener(this.b,"click",function(b){b.preventDefault(),google.maps.event.trigger(a,"click")}),google.maps.event.addDomListener(this.b,"mouseover",function(){google.maps.event.trigger(a,"mouseover")}),google.maps.event.addDomListener(this.b,"mouseout",function(){google.maps.event.trigger(a,"mouseout")})}this.c=m,this.j(),this.g(),this.k();var b=this.getPanes();b&&b.overlayImage.appendChild(this.a),google.maps.event.trigger(this,"ready")},a.prototype.onAdd=a.prototype.onAdd,a.prototype.draw=function(){if(this.c&&!this.d){var a=this.getProjection();if(a){var b=this.get("position");a=a.fromLatLngToDivPixel(b),b=l(this),this.a.style.top=a.y+b.height+"px",this.a.style.left=a.x+b.width+"px",a=this.b.offsetHeight,b=this.b.offsetWidth,b!=this.get("width")&&this.set("width",b),a!=this.get("height")&&this.set("height",a)}}},a.prototype.draw=a.prototype.draw,a.prototype.onRemove=function(){this.a&&this.a.parentNode&&this.a.parentNode.removeChild(this.a),h(this)},a.prototype.onRemove=a.prototype.onRemove;var o={TOP_LEFT:1,TOP:2,TOP_RIGHT:3,LEFT:4,MIDDLE:5,RIGHT:6,BOTTOM_LEFT:7,BOTTOM:8,BOTTOM_RIGHT:9};window.RichMarkerPosition=o}!function(a,b){"use strict";var c=a.GreenSockGlobals=a.GreenSockGlobals||a;if(!c.TweenLite){var d,e,f,g,h,i=function(a){var b,d=a.split("."),e=c;for(b=0;b<d.length;b++)e[d[b]]=e=e[d[b]]||{};return e},j=i("com.greensock"),k=1e-10,l=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},m=function(){},n=function(){var a=Object.prototype.toString,b=a.call([]);return function(c){return null!=c&&(c instanceof Array||"object"==typeof c&&!!c.push&&a.call(c)===b)}}(),o={},p=function(d,e,f,g){this.sc=o[d]?o[d].sc:[],o[d]=this,this.gsClass=null,this.func=f;var h=[];this.check=function(j){for(var k,l,m,n,q=e.length,r=q;--q>-1;)(k=o[e[q]]||new p(e[q],[])).gsClass?(h[q]=k.gsClass,r--):j&&k.sc.push(this);if(0===r&&f)for(l=("com.greensock."+d).split("."),m=l.pop(),n=i(l.join("."))[m]=this.gsClass=f.apply(f,h),g&&(c[m]=n,"function"==typeof define&&define.amd?define((a.GreenSockAMDPath?a.GreenSockAMDPath+"/":"")+d.split(".").pop(),[],function(){return n}):d===b&&"undefined"!=typeof module&&module.exports&&(module.exports=n)),q=0;q<this.sc.length;q++)this.sc[q].check()},this.check(!0)},q=a._gsDefine=function(a,b,c,d){return new p(a,b,c,d)},r=j._class=function(a,b,c){return b=b||function(){},q(a,[],function(){return b},c),b};q.globals=c;var s=[0,0,1,1],t=[],u=r("easing.Ease",function(a,b,c,d){this._func=a,this._type=c||0,this._power=d||0,this._params=b?s.concat(b):s},!0),v=u.map={},w=u.register=function(a,b,c,d){for(var e,f,g,h,i=b.split(","),k=i.length,l=(c||"easeIn,easeOut,easeInOut").split(",");--k>-1;)for(f=i[k],e=d?r("easing."+f,null,!0):j.easing[f]||{},g=l.length;--g>-1;)h=l[g],v[f+"."+h]=v[h+f]=e[h]=a.getRatio?a:a[h]||new a};for(f=u.prototype,f._calcEnd=!1,f.getRatio=function(a){if(this._func)return this._params[0]=a,this._func.apply(null,this._params);var b=this._type,c=this._power,d=1===b?1-a:2===b?a:.5>a?2*a:2*(1-a);return 1===c?d*=d:2===c?d*=d*d:3===c?d*=d*d*d:4===c&&(d*=d*d*d*d),1===b?1-d:2===b?d:.5>a?d/2:1-d/2},d=["Linear","Quad","Cubic","Quart","Quint,Strong"],e=d.length;--e>-1;)f=d[e]+",Power"+e,w(new u(null,null,1,e),f,"easeOut",!0),w(new u(null,null,2,e),f,"easeIn"+(0===e?",easeNone":"")),w(new u(null,null,3,e),f,"easeInOut");v.linear=j.easing.Linear.easeIn,v.swing=j.easing.Quad.easeInOut;var x=r("events.EventDispatcher",function(a){this._listeners={},this._eventTarget=a||this});f=x.prototype,f.addEventListener=function(a,b,c,d,e){e=e||0;var f,i,j=this._listeners[a],k=0;for(null==j&&(this._listeners[a]=j=[]),i=j.length;--i>-1;)f=j[i],f.c===b&&f.s===c?j.splice(i,1):0===k&&f.pr<e&&(k=i+1);j.splice(k,0,{c:b,s:c,up:d,pr:e}),this!==g||h||g.wake()},f.removeEventListener=function(a,b){var c,d=this._listeners[a];if(d)for(c=d.length;--c>-1;)if(d[c].c===b)return void d.splice(c,1)},f.dispatchEvent=function(a){var b,c,d,e=this._listeners[a];if(e)for(b=e.length,c=this._eventTarget;--b>-1;)d=e[b],d&&(d.up?d.c.call(d.s||c,{type:a,target:c}):d.c.call(d.s||c))};var y=a.requestAnimationFrame,z=a.cancelAnimationFrame,A=Date.now||function(){return(new Date).getTime()},B=A();for(d=["ms","moz","webkit","o"],e=d.length;--e>-1&&!y;)y=a[d[e]+"RequestAnimationFrame"],z=a[d[e]+"CancelAnimationFrame"]||a[d[e]+"CancelRequestAnimationFrame"];r("Ticker",function(a,b){var c,d,e,f,i,j=this,l=A(),n=b!==!1&&y,o=500,p=33,q="tick",r=function(a){var b,g,h=A()-B;h>o&&(l+=h-p),B+=h,j.time=(B-l)/1e3,b=j.time-i,(!c||b>0||a===!0)&&(j.frame++,i+=b+(b>=f?.004:f-b),g=!0),a!==!0&&(e=d(r)),g&&j.dispatchEvent(q)};x.call(j),j.time=j.frame=0,j.tick=function(){r(!0)},j.lagSmoothing=function(a,b){o=a||1/k,p=Math.min(b,o,0)},j.sleep=function(){null!=e&&(n&&z?z(e):clearTimeout(e),d=m,e=null,j===g&&(h=!1))},j.wake=function(){null!==e?j.sleep():j.frame>10&&(B=A()-o+5),d=0===c?m:n&&y?y:function(a){return setTimeout(a,1e3*(i-j.time)+1|0)},j===g&&(h=!0),r(2)},j.fps=function(a){return arguments.length?(c=a,f=1/(c||60),i=this.time+f,void j.wake()):c},j.useRAF=function(a){return arguments.length?(j.sleep(),n=a,void j.fps(c)):n},j.fps(a),setTimeout(function(){n&&j.frame<5&&j.useRAF(!1)},1500)}),f=j.Ticker.prototype=new j.events.EventDispatcher,
f.constructor=j.Ticker;var C=r("core.Animation",function(a,b){if(this.vars=b=b||{},this._duration=this._totalDuration=a||0,this._delay=Number(b.delay)||0,this._timeScale=1,this._active=b.immediateRender===!0,this.data=b.data,this._reversed=b.reversed===!0,R){h||g.wake();var c=this.vars.useFrames?Q:R;c.add(this,c._time),this.vars.paused&&this.paused(!0)}});g=C.ticker=new j.Ticker,f=C.prototype,f._dirty=f._gc=f._initted=f._paused=!1,f._totalTime=f._time=0,f._rawPrevTime=-1,f._next=f._last=f._onUpdate=f._timeline=f.timeline=null,f._paused=!1;var D=function(){h&&A()-B>2e3&&g.wake(),setTimeout(D,2e3)};D(),f.play=function(a,b){return null!=a&&this.seek(a,b),this.reversed(!1).paused(!1)},f.pause=function(a,b){return null!=a&&this.seek(a,b),this.paused(!0)},f.resume=function(a,b){return null!=a&&this.seek(a,b),this.paused(!1)},f.seek=function(a,b){return this.totalTime(Number(a),b!==!1)},f.restart=function(a,b){return this.reversed(!1).paused(!1).totalTime(a?-this._delay:0,b!==!1,!0)},f.reverse=function(a,b){return null!=a&&this.seek(a||this.totalDuration(),b),this.reversed(!0).paused(!1)},f.render=function(a,b,c){},f.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,(this._gc||!this.timeline)&&this._enabled(!0),this},f.isActive=function(){var a,b=this._timeline,c=this._startTime;return!b||!this._gc&&!this._paused&&b.isActive()&&(a=b.rawTime())>=c&&a<c+this.totalDuration()/this._timeScale},f._enabled=function(a,b){return h||g.wake(),this._gc=!a,this._active=this.isActive(),b!==!0&&(a&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!a&&this.timeline&&this._timeline._remove(this,!0)),!1},f._kill=function(a,b){return this._enabled(!1,!1)},f.kill=function(a,b){return this._kill(a,b),this},f._uncache=function(a){for(var b=a?this:this.timeline;b;)b._dirty=!0,b=b.timeline;return this},f._swapSelfInParams=function(a){for(var b=a.length,c=a.concat();--b>-1;)"{self}"===a[b]&&(c[b]=this);return c},f._callback=function(a){var b=this.vars;b[a].apply(b[a+"Scope"]||b.callbackScope||this,b[a+"Params"]||t)},f.eventCallback=function(a,b,c,d){if("on"===(a||"").substr(0,2)){var e=this.vars;if(1===arguments.length)return e[a];null==b?delete e[a]:(e[a]=b,e[a+"Params"]=n(c)&&-1!==c.join("").indexOf("{self}")?this._swapSelfInParams(c):c,e[a+"Scope"]=d),"onUpdate"===a&&(this._onUpdate=b)}return this},f.delay=function(a){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+a-this._delay),this._delay=a,this):this._delay},f.duration=function(a){return arguments.length?(this._duration=this._totalDuration=a,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==a&&this.totalTime(this._totalTime*(a/this._duration),!0),this):(this._dirty=!1,this._duration)},f.totalDuration=function(a){return this._dirty=!1,arguments.length?this.duration(a):this._totalDuration},f.time=function(a,b){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(a>this._duration?this._duration:a,b)):this._time},f.totalTime=function(a,b,c){if(h||g.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(0>a&&!c&&(a+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var d=this._totalDuration,e=this._timeline;if(a>d&&!c&&(a=d),this._startTime=(this._paused?this._pauseTime:e._time)-(this._reversed?d-a:a)/this._timeScale,e._dirty||this._uncache(!1),e._timeline)for(;e._timeline;)e._timeline._time!==(e._startTime+e._totalTime)/e._timeScale&&e.totalTime(e._totalTime,!0),e=e._timeline}this._gc&&this._enabled(!0,!1),(this._totalTime!==a||0===this._duration)&&(this.render(a,b,!1),I.length&&T())}return this},f.progress=f.totalProgress=function(a,b){return arguments.length?this.totalTime(this.duration()*a,b):this._time/this.duration()},f.startTime=function(a){return arguments.length?(a!==this._startTime&&(this._startTime=a,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,a-this._delay)),this):this._startTime},f.endTime=function(a){return this._startTime+(0!=a?this.totalDuration():this.duration())/this._timeScale},f.timeScale=function(a){if(!arguments.length)return this._timeScale;if(a=a||k,this._timeline&&this._timeline.smoothChildTiming){var b=this._pauseTime,c=b||0===b?b:this._timeline.totalTime();this._startTime=c-(c-this._startTime)*this._timeScale/a}return this._timeScale=a,this._uncache(!1)},f.reversed=function(a){return arguments.length?(a!=this._reversed&&(this._reversed=a,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},f.paused=function(a){if(!arguments.length)return this._paused;var b,c,d=this._timeline;return a!=this._paused&&d&&(h||a||g.wake(),b=d.rawTime(),c=b-this._pauseTime,!a&&d.smoothChildTiming&&(this._startTime+=c,this._uncache(!1)),this._pauseTime=a?b:null,this._paused=a,this._active=this.isActive(),!a&&0!==c&&this._initted&&this.duration()&&this.render(d.smoothChildTiming?this._totalTime:(b-this._startTime)/this._timeScale,!0,!0)),this._gc&&!a&&this._enabled(!0,!1),this};var E=r("core.SimpleTimeline",function(a){C.call(this,0,a),this.autoRemoveChildren=this.smoothChildTiming=!0});f=E.prototype=new C,f.constructor=E,f.kill()._gc=!1,f._first=f._last=f._recent=null,f._sortChildren=!1,f.add=f.insert=function(a,b,c,d){var e,f;if(a._startTime=Number(b||0)+a._delay,a._paused&&this!==a._timeline&&(a._pauseTime=a._startTime+(this.rawTime()-a._startTime)/a._timeScale),a.timeline&&a.timeline._remove(a,!0),a.timeline=a._timeline=this,a._gc&&a._enabled(!0,!0),e=this._last,this._sortChildren)for(f=a._startTime;e&&e._startTime>f;)e=e._prev;return e?(a._next=e._next,e._next=a):(a._next=this._first,this._first=a),a._next?a._next._prev=a:this._last=a,a._prev=e,this._recent=a,this._timeline&&this._uncache(!0),this},f._remove=function(a,b){return a.timeline===this&&(b||a._enabled(!1,!0),a._prev?a._prev._next=a._next:this._first===a&&(this._first=a._next),a._next?a._next._prev=a._prev:this._last===a&&(this._last=a._prev),a._next=a._prev=a.timeline=null,a===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},f.render=function(a,b,c){var d,e=this._first;for(this._totalTime=this._time=this._rawPrevTime=a;e;)d=e._next,(e._active||a>=e._startTime&&!e._paused)&&(e._reversed?e.render((e._dirty?e.totalDuration():e._totalDuration)-(a-e._startTime)*e._timeScale,b,c):e.render((a-e._startTime)*e._timeScale,b,c)),e=d},f.rawTime=function(){return h||g.wake(),this._totalTime};var F=r("TweenLite",function(b,c,d){if(C.call(this,c,d),this.render=F.prototype.render,null==b)throw"Cannot tween a null target.";this.target=b="string"!=typeof b?b:F.selector(b)||b;var e,f,g,h=b.jquery||b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType),i=this.vars.overwrite;if(this._overwrite=i=null==i?P[F.defaultOverwrite]:"number"==typeof i?i>>0:P[i],(h||b instanceof Array||b.push&&n(b))&&"number"!=typeof b[0])for(this._targets=g=l(b),this._propLookup=[],this._siblings=[],e=0;e<g.length;e++)f=g[e],f?"string"!=typeof f?f.length&&f!==a&&f[0]&&(f[0]===a||f[0].nodeType&&f[0].style&&!f.nodeType)?(g.splice(e--,1),this._targets=g=g.concat(l(f))):(this._siblings[e]=U(f,this,!1),1===i&&this._siblings[e].length>1&&W(f,this,null,1,this._siblings[e])):(f=g[e--]=F.selector(f),"string"==typeof f&&g.splice(e+1,1)):g.splice(e--,1);else this._propLookup={},this._siblings=U(b,this,!1),1===i&&this._siblings.length>1&&W(b,this,null,1,this._siblings);(this.vars.immediateRender||0===c&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-k,this.render(-this._delay))},!0),G=function(b){return b&&b.length&&b!==a&&b[0]&&(b[0]===a||b[0].nodeType&&b[0].style&&!b.nodeType)},H=function(a,b){var c,d={};for(c in a)O[c]||c in b&&"transform"!==c&&"x"!==c&&"y"!==c&&"width"!==c&&"height"!==c&&"className"!==c&&"border"!==c||!(!L[c]||L[c]&&L[c]._autoCSS)||(d[c]=a[c],delete a[c]);a.css=d};f=F.prototype=new C,f.constructor=F,f.kill()._gc=!1,f.ratio=0,f._firstPT=f._targets=f._overwrittenProps=f._startAt=null,f._notifyPluginsOfEnabled=f._lazy=!1,F.version="1.17.0",F.defaultEase=f._ease=new u(null,null,1,1),F.defaultOverwrite="auto",F.ticker=g,F.autoSleep=120,F.lagSmoothing=function(a,b){g.lagSmoothing(a,b)},F.selector=a.$||a.jQuery||function(b){var c=a.$||a.jQuery;return c?(F.selector=c,c(b)):"undefined"==typeof document?b:document.querySelectorAll?document.querySelectorAll(b):document.getElementById("#"===b.charAt(0)?b.substr(1):b)};var I=[],J={},K=F._internals={isArray:n,isSelector:G,lazyTweens:I},L=F._plugins={},M=K.tweenLookup={},N=0,O=K.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1},P={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,"true":1,"false":0},Q=C._rootFramesTimeline=new E,R=C._rootTimeline=new E,S=30,T=K.lazyRender=function(){var a,b=I.length;for(J={};--b>-1;)a=I[b],a&&a._lazy!==!1&&(a.render(a._lazy[0],a._lazy[1],!0),a._lazy=!1);I.length=0};R._startTime=g.time,Q._startTime=g.frame,R._active=Q._active=!0,setTimeout(T,1),C._updateRoot=F.render=function(){var a,b,c;if(I.length&&T(),R.render((g.time-R._startTime)*R._timeScale,!1,!1),Q.render((g.frame-Q._startTime)*Q._timeScale,!1,!1),I.length&&T(),g.frame>=S){S=g.frame+(parseInt(F.autoSleep,10)||120);for(c in M){for(b=M[c].tweens,a=b.length;--a>-1;)b[a]._gc&&b.splice(a,1);0===b.length&&delete M[c]}if(c=R._first,(!c||c._paused)&&F.autoSleep&&!Q._first&&1===g._listeners.tick.length){for(;c&&c._paused;)c=c._next;c||g.sleep()}}},g.addEventListener("tick",C._updateRoot);var U=function(a,b,c){var d,e,f=a._gsTweenID;if(M[f||(a._gsTweenID=f="t"+N++)]||(M[f]={target:a,tweens:[]}),b&&(d=M[f].tweens,d[e=d.length]=b,c))for(;--e>-1;)d[e]===b&&d.splice(e,1);return M[f].tweens},V=function(a,b,c,d){var e,f,g=a.vars.onOverwrite;return g&&(e=g(a,b,c,d)),g=F.onOverwrite,g&&(f=g(a,b,c,d)),e!==!1&&f!==!1},W=function(a,b,c,d,e){var f,g,h,i;if(1===d||d>=4){for(i=e.length,f=0;i>f;f++)if((h=e[f])!==b)h._gc||h._kill(null,a,b)&&(g=!0);else if(5===d)break;return g}var j,l=b._startTime+k,m=[],n=0,o=0===b._duration;for(f=e.length;--f>-1;)(h=e[f])===b||h._gc||h._paused||(h._timeline!==b._timeline?(j=j||X(b,0,o),0===X(h,j,o)&&(m[n++]=h)):h._startTime<=l&&h._startTime+h.totalDuration()/h._timeScale>l&&((o||!h._initted)&&l-h._startTime<=2e-10||(m[n++]=h)));for(f=n;--f>-1;)if(h=m[f],2===d&&h._kill(c,a,b)&&(g=!0),2!==d||!h._firstPT&&h._initted){if(2!==d&&!V(h,b))continue;h._enabled(!1,!1)&&(g=!0)}return g},X=function(a,b,c){for(var d=a._timeline,e=d._timeScale,f=a._startTime;d._timeline;){if(f+=d._startTime,e*=d._timeScale,d._paused)return-100;d=d._timeline}return f/=e,f>b?f-b:c&&f===b||!a._initted&&2*k>f-b?k:(f+=a.totalDuration()/a._timeScale/e)>b+k?0:f-b-k};f._init=function(){var a,b,c,d,e,f=this.vars,g=this._overwrittenProps,h=this._duration,i=!!f.immediateRender,j=f.ease;if(f.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),e={};for(d in f.startAt)e[d]=f.startAt[d];if(e.overwrite=!1,e.immediateRender=!0,e.lazy=i&&f.lazy!==!1,e.startAt=e.delay=null,this._startAt=F.to(this.target,0,e),i)if(this._time>0)this._startAt=null;else if(0!==h)return}else if(f.runBackwards&&0!==h)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(i=!1),c={};for(d in f)O[d]&&"autoCSS"!==d||(c[d]=f[d]);if(c.overwrite=0,c.data="isFromStart",c.lazy=i&&f.lazy!==!1,c.immediateRender=i,this._startAt=F.to(this.target,0,c),i){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=j=j?j instanceof u?j:"function"==typeof j?new u(j,f.easeParams):v[j]||F.defaultEase:F.defaultEase,f.easeParams instanceof Array&&j.config&&(this._ease=j.config.apply(j,f.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(a=this._targets.length;--a>-1;)this._initProps(this._targets[a],this._propLookup[a]={},this._siblings[a],g?g[a]:null)&&(b=!0);else b=this._initProps(this.target,this._propLookup,this._siblings,g);if(b&&F._onPluginEvent("_onInitAllProps",this),g&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),f.runBackwards)for(c=this._firstPT;c;)c.s+=c.c,c.c=-c.c,c=c._next;this._onUpdate=f.onUpdate,this._initted=!0},f._initProps=function(b,c,d,e){var f,g,h,i,j,k;if(null==b)return!1;J[b._gsTweenID]&&T(),this.vars.css||b.style&&b!==a&&b.nodeType&&L.css&&this.vars.autoCSS!==!1&&H(this.vars,b);for(f in this.vars){if(k=this.vars[f],O[f])k&&(k instanceof Array||k.push&&n(k))&&-1!==k.join("").indexOf("{self}")&&(this.vars[f]=k=this._swapSelfInParams(k,this));else if(L[f]&&(i=new L[f])._onInitTween(b,this.vars[f],this)){for(this._firstPT=j={_next:this._firstPT,t:i,p:"setRatio",s:0,c:1,f:!0,n:f,pg:!0,pr:i._priority},g=i._overwriteProps.length;--g>-1;)c[i._overwriteProps[g]]=this._firstPT;(i._priority||i._onInitAllProps)&&(h=!0),(i._onDisable||i._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=c[f]=j={_next:this._firstPT,t:b,p:f,f:"function"==typeof b[f],n:f,pg:!1,pr:0},j.s=j.f?b[f.indexOf("set")||"function"!=typeof b["get"+f.substr(3)]?f:"get"+f.substr(3)]():parseFloat(b[f]),j.c="string"==typeof k&&"="===k.charAt(1)?parseInt(k.charAt(0)+"1",10)*Number(k.substr(2)):Number(k)-j.s||0;j&&j._next&&(j._next._prev=j)}return e&&this._kill(e,b)?this._initProps(b,c,d,e):this._overwrite>1&&this._firstPT&&d.length>1&&W(b,this,c,this._overwrite,d)?(this._kill(c,b),this._initProps(b,c,d,e)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(J[b._gsTweenID]=!0),h)},f.render=function(a,b,c){var d,e,f,g,h=this._time,i=this._duration,j=this._rawPrevTime;if(a>=i)this._totalTime=this._time=i,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(d=!0,e="onComplete",c=c||this._timeline.autoRemoveChildren),0===i&&(this._initted||!this.vars.lazy||c)&&(this._startTime===this._timeline._duration&&(a=0),(0===a||0>j||j===k&&"isPause"!==this.data)&&j!==a&&(c=!0,j>k&&(e="onReverseComplete")),this._rawPrevTime=g=!b||a||j===a?a:k);else if(1e-7>a)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==h||0===i&&j>0)&&(e="onReverseComplete",d=this._reversed),0>a&&(this._active=!1,0===i&&(this._initted||!this.vars.lazy||c)&&(j>=0&&(j!==k||"isPause"!==this.data)&&(c=!0),this._rawPrevTime=g=!b||a||j===a?a:k)),this._initted||(c=!0);else if(this._totalTime=this._time=a,this._easeType){var l=a/i,m=this._easeType,n=this._easePower;(1===m||3===m&&l>=.5)&&(l=1-l),3===m&&(l*=2),1===n?l*=l:2===n?l*=l*l:3===n?l*=l*l*l:4===n&&(l*=l*l*l*l),1===m?this.ratio=1-l:2===m?this.ratio=l:.5>a/i?this.ratio=l/2:this.ratio=1-l/2}else this.ratio=this._ease.getRatio(a/i);if(this._time!==h||c){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!c&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=h,this._rawPrevTime=j,I.push(this),void(this._lazy=[a,b]);this._time&&!d?this.ratio=this._ease.getRatio(this._time/i):d&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==h&&a>=0&&(this._active=!0),0===h&&(this._startAt&&(a>=0?this._startAt.render(a,b,c):e||(e="_dummyGS")),this.vars.onStart&&(0!==this._time||0===i)&&(b||this._callback("onStart"))),f=this._firstPT;f;)f.f?f.t[f.p](f.c*this.ratio+f.s):f.t[f.p]=f.c*this.ratio+f.s,f=f._next;this._onUpdate&&(0>a&&this._startAt&&a!==-1e-4&&this._startAt.render(a,b,c),b||(this._time!==h||d)&&this._callback("onUpdate")),e&&(!this._gc||c)&&(0>a&&this._startAt&&!this._onUpdate&&a!==-1e-4&&this._startAt.render(a,b,c),d&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[e]&&this._callback(e),0===i&&this._rawPrevTime===k&&g!==k&&(this._rawPrevTime=0))}},f._kill=function(a,b,c){if("all"===a&&(a=null),null==a&&(null==b||b===this.target))return this._lazy=!1,this._enabled(!1,!1);b="string"!=typeof b?b||this._targets||this.target:F.selector(b)||b;var d,e,f,g,h,i,j,k,l,m=c&&this._time&&c._startTime===this._startTime&&this._timeline===c._timeline;if((n(b)||G(b))&&"number"!=typeof b[0])for(d=b.length;--d>-1;)this._kill(a,b[d],c)&&(i=!0);else{if(this._targets){for(d=this._targets.length;--d>-1;)if(b===this._targets[d]){h=this._propLookup[d]||{},this._overwrittenProps=this._overwrittenProps||[],e=this._overwrittenProps[d]=a?this._overwrittenProps[d]||{}:"all";break}}else{if(b!==this.target)return!1;h=this._propLookup,e=this._overwrittenProps=a?this._overwrittenProps||{}:"all"}if(h){if(j=a||h,k=a!==e&&"all"!==e&&a!==h&&("object"!=typeof a||!a._tempKill),c&&(F.onOverwrite||this.vars.onOverwrite)){for(f in j)h[f]&&(l||(l=[]),l.push(f));if((l||!a)&&!V(this,c,b,l))return!1}for(f in j)(g=h[f])&&(m&&(g.f?g.t[g.p](g.s):g.t[g.p]=g.s,i=!0),g.pg&&g.t._kill(j)&&(i=!0),g.pg&&0!==g.t._overwriteProps.length||(g._prev?g._prev._next=g._next:g===this._firstPT&&(this._firstPT=g._next),g._next&&(g._next._prev=g._prev),g._next=g._prev=null),delete h[f]),k&&(e[f]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return i},f.invalidate=function(){return this._notifyPluginsOfEnabled&&F._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],C.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-k,this.render(-this._delay)),this},f._enabled=function(a,b){if(h||g.wake(),a&&this._gc){var c,d=this._targets;if(d)for(c=d.length;--c>-1;)this._siblings[c]=U(d[c],this,!0);else this._siblings=U(this.target,this,!0)}return C.prototype._enabled.call(this,a,b),this._notifyPluginsOfEnabled&&this._firstPT?F._onPluginEvent(a?"_onEnable":"_onDisable",this):!1},F.to=function(a,b,c){return new F(a,b,c)},F.from=function(a,b,c){return c.runBackwards=!0,c.immediateRender=0!=c.immediateRender,new F(a,b,c)},F.fromTo=function(a,b,c,d){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,new F(a,b,d)},F.delayedCall=function(a,b,c,d,e){return new F(b,0,{delay:a,onComplete:b,onCompleteParams:c,callbackScope:d,onReverseComplete:b,onReverseCompleteParams:c,immediateRender:!1,lazy:!1,useFrames:e,overwrite:0})},F.set=function(a,b){return new F(a,0,b)},F.getTweensOf=function(a,b){if(null==a)return[];a="string"!=typeof a?a:F.selector(a)||a;var c,d,e,f;if((n(a)||G(a))&&"number"!=typeof a[0]){for(c=a.length,d=[];--c>-1;)d=d.concat(F.getTweensOf(a[c],b));for(c=d.length;--c>-1;)for(f=d[c],e=c;--e>-1;)f===d[e]&&d.splice(c,1)}else for(d=U(a).concat(),c=d.length;--c>-1;)(d[c]._gc||b&&!d[c].isActive())&&d.splice(c,1);return d},F.killTweensOf=F.killDelayedCallsTo=function(a,b,c){"object"==typeof b&&(c=b,b=!1);for(var d=F.getTweensOf(a,b),e=d.length;--e>-1;)d[e]._kill(c,a)};var Y=r("plugins.TweenPlugin",function(a,b){this._overwriteProps=(a||"").split(","),this._propName=this._overwriteProps[0],this._priority=b||0,this._super=Y.prototype},!0);if(f=Y.prototype,Y.version="1.10.1",Y.API=2,f._firstPT=null,f._addTween=function(a,b,c,d,e,f){var g,h;return null!=d&&(g="number"==typeof d||"="!==d.charAt(1)?Number(d)-Number(c):parseInt(d.charAt(0)+"1",10)*Number(d.substr(2)))?(this._firstPT=h={_next:this._firstPT,t:a,p:b,s:c,c:g,f:"function"==typeof a[b],n:e||b,r:f},h._next&&(h._next._prev=h),h):void 0},f.setRatio=function(a){for(var b,c=this._firstPT,d=1e-6;c;)b=c.c*a+c.s,c.r?b=Math.round(b):d>b&&b>-d&&(b=0),c.f?c.t[c.p](b):c.t[c.p]=b,c=c._next},f._kill=function(a){var b,c=this._overwriteProps,d=this._firstPT;if(null!=a[this._propName])this._overwriteProps=[];else for(b=c.length;--b>-1;)null!=a[c[b]]&&c.splice(b,1);for(;d;)null!=a[d.n]&&(d._next&&(d._next._prev=d._prev),d._prev?(d._prev._next=d._next,d._prev=null):this._firstPT===d&&(this._firstPT=d._next)),d=d._next;return!1},f._roundProps=function(a,b){for(var c=this._firstPT;c;)(a[this._propName]||null!=c.n&&a[c.n.split(this._propName+"_").join("")])&&(c.r=b),c=c._next},F._onPluginEvent=function(a,b){var c,d,e,f,g,h=b._firstPT;if("_onInitAllProps"===a){for(;h;){for(g=h._next,d=e;d&&d.pr>h.pr;)d=d._next;(h._prev=d?d._prev:f)?h._prev._next=h:e=h,(h._next=d)?d._prev=h:f=h,h=g}h=b._firstPT=e}for(;h;)h.pg&&"function"==typeof h.t[a]&&h.t[a]()&&(c=!0),h=h._next;return c},Y.activate=function(a){for(var b=a.length;--b>-1;)a[b].API===Y.API&&(L[(new a[b])._propName]=a[b]);return!0},q.plugin=function(a){if(!(a&&a.propName&&a.init&&a.API))throw"illegal plugin definition.";var b,c=a.propName,d=a.priority||0,e=a.overwriteProps,f={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},g=r("plugins."+c.charAt(0).toUpperCase()+c.substr(1)+"Plugin",function(){Y.call(this,c,d),this._overwriteProps=e||[]},a.global===!0),h=g.prototype=new Y(c);h.constructor=g,g.API=a.API;for(b in f)"function"==typeof a[b]&&(h[f[b]]=a[b]);return g.version=a.version,Y.activate([g]),g},d=a._gsQueue){for(e=0;e<d.length;e++)d[e]();for(f in o)o[f].func||a.console.log("GSAP encountered missing dependency: com.greensock."+f)}h=!1}}("undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window,"TweenLite");var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(a,b,c){var d=function(a){b.call(this,a),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var c,d,e=this.vars;for(d in e)c=e[d],i(c)&&-1!==c.join("").indexOf("{self}")&&(e[d]=this._swapSelfInParams(c));i(e.tweens)&&this.add(e.tweens,0,e.align,e.stagger)},e=1e-10,f=c._internals,g=d._internals={},h=f.isSelector,i=f.isArray,j=f.lazyTweens,k=f.lazyRender,l=[],m=_gsScope._gsDefine.globals,n=function(a){var b,c={};for(b in a)c[b]=a[b];return c},o=g.pauseCallback=function(a,b,c,d){var f,g=a._timeline,h=g._totalTime,i=a._startTime,j=a._rawPrevTime<0||0===a._rawPrevTime&&g._reversed,k=j?0:e,m=j?e:0;if(b||!this._forcingPlayhead){for(g.pause(i),f=a._prev;f&&f._startTime===i;)f._rawPrevTime=m,f=f._prev;for(f=a._next;f&&f._startTime===i;)f._rawPrevTime=k,f=f._next;b&&b.apply(d||g.vars.callbackScope||g,c||l),(this._forcingPlayhead||!g._paused)&&g.seek(h)}},p=function(a){var b,c=[],d=a.length;for(b=0;b!==d;c.push(a[b++]));return c},q=d.prototype=new b;return d.version="1.17.0",q.constructor=d,q.kill()._gc=q._forcingPlayhead=!1,q.to=function(a,b,d,e){var f=d.repeat&&m.TweenMax||c;return b?this.add(new f(a,b,d),e):this.set(a,d,e)},q.from=function(a,b,d,e){return this.add((d.repeat&&m.TweenMax||c).from(a,b,d),e)},q.fromTo=function(a,b,d,e,f){var g=e.repeat&&m.TweenMax||c;return b?this.add(g.fromTo(a,b,d,e),f):this.set(a,e,f)},q.staggerTo=function(a,b,e,f,g,i,j,k){var l,m=new d({onComplete:i,onCompleteParams:j,callbackScope:k,smoothChildTiming:this.smoothChildTiming});for("string"==typeof a&&(a=c.selector(a)||a),a=a||[],h(a)&&(a=p(a)),f=f||0,0>f&&(a=p(a),a.reverse(),f*=-1),l=0;l<a.length;l++)e.startAt&&(e.startAt=n(e.startAt)),m.to(a[l],b,n(e),l*f);return this.add(m,g)},q.staggerFrom=function(a,b,c,d,e,f,g,h){return c.immediateRender=0!=c.immediateRender,c.runBackwards=!0,this.staggerTo(a,b,c,d,e,f,g,h)},q.staggerFromTo=function(a,b,c,d,e,f,g,h,i){return d.startAt=c,d.immediateRender=0!=d.immediateRender&&0!=c.immediateRender,this.staggerTo(a,b,d,e,f,g,h,i)},q.call=function(a,b,d,e){return this.add(c.delayedCall(0,a,b,d),e)},q.set=function(a,b,d){return d=this._parseTimeOrLabel(d,0,!0),null==b.immediateRender&&(b.immediateRender=d===this._time&&!this._paused),this.add(new c(a,0,b),d)},d.exportRoot=function(a,b){a=a||{},null==a.smoothChildTiming&&(a.smoothChildTiming=!0);var e,f,g=new d(a),h=g._timeline;for(null==b&&(b=!0),h._remove(g,!0),g._startTime=0,g._rawPrevTime=g._time=g._totalTime=h._time,e=h._first;e;)f=e._next,b&&e instanceof c&&e.target===e.vars.onComplete||g.add(e,e._startTime-e._delay),e=f;return h.add(g,0),g},q.add=function(e,f,g,h){var j,k,l,m,n,o;if("number"!=typeof f&&(f=this._parseTimeOrLabel(f,0,!0,e)),!(e instanceof a)){if(e instanceof Array||e&&e.push&&i(e)){for(g=g||"normal",h=h||0,j=f,k=e.length,l=0;k>l;l++)i(m=e[l])&&(m=new d({tweens:m})),this.add(m,j),"string"!=typeof m&&"function"!=typeof m&&("sequence"===g?j=m._startTime+m.totalDuration()/m._timeScale:"start"===g&&(m._startTime-=m.delay())),j+=h;return this._uncache(!0)}if("string"==typeof e)return this.addLabel(e,f);if("function"!=typeof e)throw"Cannot add "+e+" into the timeline; it is not a tween, timeline, function, or string.";e=c.delayedCall(0,e)}if(b.prototype.add.call(this,e,f),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(n=this,o=n.rawTime()>e._startTime;n._timeline;)o&&n._timeline.smoothChildTiming?n.totalTime(n._totalTime,!0):n._gc&&n._enabled(!0,!1),n=n._timeline;return this},q.remove=function(b){if(b instanceof a)return this._remove(b,!1);if(b instanceof Array||b&&b.push&&i(b)){for(var c=b.length;--c>-1;)this.remove(b[c]);return this}return"string"==typeof b?this.removeLabel(b):this.kill(null,b)},q._remove=function(a,c){b.prototype._remove.call(this,a,c);var d=this._last;return d?this._time>d._startTime+d._totalDuration/d._timeScale&&(this._time=this.duration(),this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},q.append=function(a,b){return this.add(a,this._parseTimeOrLabel(null,b,!0,a))},q.insert=q.insertMultiple=function(a,b,c,d){return this.add(a,b||0,c,d)},q.appendMultiple=function(a,b,c,d){return this.add(a,this._parseTimeOrLabel(null,b,!0,a),c,d)},q.addLabel=function(a,b){return this._labels[a]=this._parseTimeOrLabel(b),this},q.addPause=function(a,b,d,e){var f=c.delayedCall(0,o,["{self}",b,d,e],this);return f.data="isPause",this.add(f,a)},q.removeLabel=function(a){return delete this._labels[a],this},q.getLabelTime=function(a){return null!=this._labels[a]?this._labels[a]:-1},q._parseTimeOrLabel=function(b,c,d,e){var f;if(e instanceof a&&e.timeline===this)this.remove(e);else if(e&&(e instanceof Array||e.push&&i(e)))for(f=e.length;--f>-1;)e[f]instanceof a&&e[f].timeline===this&&this.remove(e[f]);if("string"==typeof c)return this._parseTimeOrLabel(c,d&&"number"==typeof b&&null==this._labels[c]?b-this.duration():0,d);if(c=c||0,"string"!=typeof b||!isNaN(b)&&null==this._labels[b])null==b&&(b=this.duration());else{if(f=b.indexOf("="),-1===f)return null==this._labels[b]?d?this._labels[b]=this.duration()+c:c:this._labels[b]+c;c=parseInt(b.charAt(f-1)+"1",10)*Number(b.substr(f+1)),b=f>1?this._parseTimeOrLabel(b.substr(0,f-1),0,d):this.duration()}return Number(b)+c},q.seek=function(a,b){return this.totalTime("number"==typeof a?a:this._parseTimeOrLabel(a),b!==!1)},q.stop=function(){return this.paused(!0)},q.gotoAndPlay=function(a,b){return this.play(a,b)},q.gotoAndStop=function(a,b){return this.pause(a,b)},q.render=function(a,b,c){this._gc&&this._enabled(!0,!1);var d,f,g,h,i,l=this._dirty?this.totalDuration():this._totalDuration,m=this._time,n=this._startTime,o=this._timeScale,p=this._paused;if(a>=l)this._totalTime=this._time=l,this._reversed||this._hasPausedChild()||(f=!0,h="onComplete",i=!!this._timeline.autoRemoveChildren,0===this._duration&&(0===a||this._rawPrevTime<0||this._rawPrevTime===e)&&this._rawPrevTime!==a&&this._first&&(i=!0,this._rawPrevTime>e&&(h="onReverseComplete"))),this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,a=l+1e-4;else if(1e-7>a)if(this._totalTime=this._time=0,(0!==m||0===this._duration&&this._rawPrevTime!==e&&(this._rawPrevTime>0||0>a&&this._rawPrevTime>=0))&&(h="onReverseComplete",f=this._reversed),0>a)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(i=f=!0,h="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(i=!0),this._rawPrevTime=a;else{if(this._rawPrevTime=this._duration||!b||a||this._rawPrevTime===a?a:e,0===a&&f)for(d=this._first;d&&0===d._startTime;)d._duration||(f=!1),d=d._next;a=0,this._initted||(i=!0)}else this._totalTime=this._time=this._rawPrevTime=a;if(this._time!==m&&this._first||c||i){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==m&&a>0&&(this._active=!0),0===m&&this.vars.onStart&&0!==this._time&&(b||this._callback("onStart")),this._time>=m)for(d=this._first;d&&(g=d._next,!this._paused||p);)(d._active||d._startTime<=this._time&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;else for(d=this._last;d&&(g=d._prev,!this._paused||p);)(d._active||d._startTime<=m&&!d._paused&&!d._gc)&&(d._reversed?d.render((d._dirty?d.totalDuration():d._totalDuration)-(a-d._startTime)*d._timeScale,b,c):d.render((a-d._startTime)*d._timeScale,b,c)),d=g;this._onUpdate&&(b||(j.length&&k(),this._callback("onUpdate"))),h&&(this._gc||(n===this._startTime||o!==this._timeScale)&&(0===this._time||l>=this.totalDuration())&&(f&&(j.length&&k(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!b&&this.vars[h]&&this._callback(h)))}},q._hasPausedChild=function(){for(var a=this._first;a;){if(a._paused||a instanceof d&&a._hasPausedChild())return!0;a=a._next}return!1},q.getChildren=function(a,b,d,e){e=e||-9999999999;for(var f=[],g=this._first,h=0;g;)g._startTime<e||(g instanceof c?b!==!1&&(f[h++]=g):(d!==!1&&(f[h++]=g),a!==!1&&(f=f.concat(g.getChildren(!0,b,d)),h=f.length))),g=g._next;return f},q.getTweensOf=function(a,b){var d,e,f=this._gc,g=[],h=0;for(f&&this._enabled(!0,!0),d=c.getTweensOf(a),e=d.length;--e>-1;)(d[e].timeline===this||b&&this._contains(d[e]))&&(g[h++]=d[e]);return f&&this._enabled(!1,!0),g},q.recent=function(){return this._recent},q._contains=function(a){for(var b=a.timeline;b;){if(b===this)return!0;b=b.timeline}return!1},q.shiftChildren=function(a,b,c){c=c||0;for(var d,e=this._first,f=this._labels;e;)e._startTime>=c&&(e._startTime+=a),e=e._next;if(b)for(d in f)f[d]>=c&&(f[d]+=a);return this._uncache(!0)},q._kill=function(a,b){if(!a&&!b)return this._enabled(!1,!1);for(var c=b?this.getTweensOf(b):this.getChildren(!0,!0,!1),d=c.length,e=!1;--d>-1;)c[d]._kill(a,b)&&(e=!0);return e},q.clear=function(a){var b=this.getChildren(!1,!0,!0),c=b.length;for(this._time=this._totalTime=0;--c>-1;)b[c]._enabled(!1,!1);return a!==!1&&(this._labels={}),this._uncache(!0)},q.invalidate=function(){for(var b=this._first;b;)b.invalidate(),b=b._next;return a.prototype.invalidate.call(this)},q._enabled=function(a,c){if(a===this._gc)for(var d=this._first;d;)d._enabled(a,!0),d=d._next;return b.prototype._enabled.call(this,a,c)},q.totalTime=function(b,c,d){this._forcingPlayhead=!0;var e=a.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,e},q.duration=function(a){return arguments.length?(0!==this.duration()&&0!==a&&this.timeScale(this._duration/a),this):(this._dirty&&this.totalDuration(),this._duration)},q.totalDuration=function(a){if(!arguments.length){if(this._dirty){for(var b,c,d=0,e=this._last,f=999999999999;e;)b=e._prev,e._dirty&&e.totalDuration(),e._startTime>f&&this._sortChildren&&!e._paused?this.add(e,e._startTime-e._delay):f=e._startTime,e._startTime<0&&!e._paused&&(d-=e._startTime,this._timeline.smoothChildTiming&&(this._startTime+=e._startTime/this._timeScale),this.shiftChildren(-e._startTime,!1,-9999999999),f=0),c=e._startTime+e._totalDuration/e._timeScale,
c>d&&(d=c),e=b;this._duration=this._totalDuration=d,this._dirty=!1}return this._totalDuration}return 0!==this.totalDuration()&&0!==a&&this.timeScale(this._totalDuration/a),this},q.paused=function(b){if(!b)for(var c=this._first,d=this._time;c;)c._startTime===d&&"isPause"===c.data&&(c._rawPrevTime=0),c=c._next;return a.prototype.paused.apply(this,arguments)},q.usesFrames=function(){for(var b=this._timeline;b._timeline;)b=b._timeline;return b===a._rootFramesTimeline},q.rawTime=function(){return this._paused?this._totalTime:(this._timeline.rawTime()-this._startTime)*this._timeScale},d},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(a){"use strict";var b=function(){return(_gsScope.GreenSockGlobals||_gsScope)[a]};"function"==typeof define&&define.amd?define(["TweenLite"],b):"undefined"!=typeof module&&module.exports&&(require("./TweenLite.js"),module.exports=b())}("TimelineLite"),function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.ScrollMagic=b()}(this,function(){"use strict";var a=function(){e.log(2,"(COMPATIBILITY NOTICE) -> As of ScrollMagic 2.0.0 you need to use 'new ScrollMagic.Controller()' to create a new controller instance. Use 'new ScrollMagic.Scene()' to instance a scene.")};a.version="2.0.5",window.addEventListener("mousewheel",function(){});var b="data-scrollmagic-pin-spacer";a.Controller=function(d){var f,g,h="ScrollMagic.Controller",i="FORWARD",j="REVERSE",k="PAUSED",l=c.defaults,m=this,n=e.extend({},l,d),o=[],p=!1,q=0,r=k,s=!0,t=0,u=!0,v=function(){for(var b in n)l.hasOwnProperty(b)||(E(2,'WARNING: Unknown option "'+b+'"'),delete n[b]);if(n.container=e.get.elements(n.container)[0],!n.container)throw E(1,"ERROR creating object "+h+": No valid scroll container supplied"),h+" init failed.";s=n.container===window||n.container===document.body||!document.body.contains(n.container),s&&(n.container=window),t=y(),n.container.addEventListener("resize",C),n.container.addEventListener("scroll",C),n.refreshInterval=parseInt(n.refreshInterval)||l.refreshInterval,w(),E(3,"added new "+h+" controller (v"+a.version+")")},w=function(){n.refreshInterval>0&&(g=window.setTimeout(D,n.refreshInterval))},x=function(){return n.vertical?e.get.scrollTop(n.container):e.get.scrollLeft(n.container)},y=function(){return n.vertical?e.get.height(n.container):e.get.width(n.container)},z=this._setScrollPos=function(a){n.vertical?s?window.scrollTo(e.get.scrollLeft(),a):n.container.scrollTop=a:s?window.scrollTo(a,e.get.scrollTop()):n.container.scrollLeft=a},A=function(){if(u&&p){var a=e.type.Array(p)?p:o.slice(0);p=!1;var b=q;q=m.scrollPos();var c=q-b;0!==c&&(r=c>0?i:j),r===j&&a.reverse(),a.forEach(function(b,c){E(3,"updating Scene "+(c+1)+"/"+a.length+" ("+o.length+" total)"),b.update(!0)}),0===a.length&&n.loglevel>=3&&E(3,"updating 0 Scenes (nothing added to controller)")}},B=function(){f=e.rAF(A)},C=function(a){E(3,"event fired causing an update:",a.type),"resize"==a.type&&(t=y(),r=k),p!==!0&&(p=!0,B())},D=function(){if(!s&&t!=y()){var a;try{a=new Event("resize",{bubbles:!1,cancelable:!1})}catch(b){a=document.createEvent("Event"),a.initEvent("resize",!1,!1)}n.container.dispatchEvent(a)}o.forEach(function(a,b){a.refresh()}),w()},E=this._log=function(a,b){n.loglevel>=a&&(Array.prototype.splice.call(arguments,1,0,"("+h+") ->"),e.log.apply(window,arguments))};this._options=n;var F=function(a){if(a.length<=1)return a;var b=a.slice(0);return b.sort(function(a,b){return a.scrollOffset()>b.scrollOffset()?1:-1}),b};return this.addScene=function(b){if(e.type.Array(b))b.forEach(function(a,b){m.addScene(a)});else if(b instanceof a.Scene){if(b.controller()!==m)b.addTo(m);else if(o.indexOf(b)<0){o.push(b),o=F(o),b.on("shift.controller_sort",function(){o=F(o)});for(var c in n.globalSceneOptions)b[c]&&b[c].call(b,n.globalSceneOptions[c]);E(3,"adding Scene (now "+o.length+" total)")}}else E(1,"ERROR: invalid argument supplied for '.addScene()'");return m},this.removeScene=function(a){if(e.type.Array(a))a.forEach(function(a,b){m.removeScene(a)});else{var b=o.indexOf(a);b>-1&&(a.off("shift.controller_sort"),o.splice(b,1),E(3,"removing Scene (now "+o.length+" left)"),a.remove())}return m},this.updateScene=function(b,c){return e.type.Array(b)?b.forEach(function(a,b){m.updateScene(a,c)}):c?b.update(!0):p!==!0&&b instanceof a.Scene&&(p=p||[],-1==p.indexOf(b)&&p.push(b),p=F(p),B()),m},this.update=function(a){return C({type:"resize"}),a&&A(),m},this.scrollTo=function(c,d){if(e.type.Number(c))z.call(n.container,c,d);else if(c instanceof a.Scene)c.controller()===m?m.scrollTo(c.scrollOffset(),d):E(2,"scrollTo(): The supplied scene does not belong to this controller. Scroll cancelled.",c);else if(e.type.Function(c))z=c;else{var f=e.get.elements(c)[0];if(f){for(;f.parentNode.hasAttribute(b);)f=f.parentNode;var g=n.vertical?"top":"left",h=e.get.offset(n.container),i=e.get.offset(f);s||(h[g]-=m.scrollPos()),m.scrollTo(i[g]-h[g],d)}else E(2,"scrollTo(): The supplied argument is invalid. Scroll cancelled.",c)}return m},this.scrollPos=function(a){return arguments.length?(e.type.Function(a)?x=a:E(2,"Provided value for method 'scrollPos' is not a function. To change the current scroll position use 'scrollTo()'."),m):x.call(m)},this.info=function(a){var b={size:t,vertical:n.vertical,scrollPos:q,scrollDirection:r,container:n.container,isDocument:s};return arguments.length?void 0!==b[a]?b[a]:void E(1,'ERROR: option "'+a+'" is not available'):b},this.loglevel=function(a){return arguments.length?(n.loglevel!=a&&(n.loglevel=a),m):n.loglevel},this.enabled=function(a){return arguments.length?(u!=a&&(u=!!a,m.updateScene(o,!0)),m):u},this.destroy=function(a){window.clearTimeout(g);for(var b=o.length;b--;)o[b].destroy(a);return n.container.removeEventListener("resize",C),n.container.removeEventListener("scroll",C),e.cAF(f),E(3,"destroyed "+h+" (reset: "+(a?"true":"false")+")"),null},v(),m};var c={defaults:{container:window,vertical:!0,globalSceneOptions:{},loglevel:2,refreshInterval:100}};a.Controller.addOption=function(a,b){c.defaults[a]=b},a.Controller.extend=function(b){var c=this;a.Controller=function(){return c.apply(this,arguments),this.$super=e.extend({},this),b.apply(this,arguments)||this},e.extend(a.Controller,c),a.Controller.prototype=c.prototype,a.Controller.prototype.constructor=a.Controller},a.Scene=function(c){var f,g,h="ScrollMagic.Scene",i="BEFORE",j="DURING",k="AFTER",l=d.defaults,m=this,n=e.extend({},l,c),o=i,p=0,q={start:0,end:0},r=0,s=!0,t=function(){for(var a in n)l.hasOwnProperty(a)||(v(2,'WARNING: Unknown option "'+a+'"'),delete n[a]);for(var b in l)D(b);B()},u={};this.on=function(a,b){return e.type.Function(b)?(a=a.trim().split(" "),a.forEach(function(a){var c=a.split("."),d=c[0],e=c[1];"*"!=d&&(u[d]||(u[d]=[]),u[d].push({namespace:e||"",callback:b}))})):v(1,"ERROR when calling '.on()': Supplied callback for '"+a+"' is not a valid function!"),m},this.off=function(a,b){return a?(a=a.trim().split(" "),a.forEach(function(a,c){var d=a.split("."),e=d[0],f=d[1]||"",g="*"===e?Object.keys(u):[e];g.forEach(function(a){for(var c=u[a]||[],d=c.length;d--;){var e=c[d];!e||f!==e.namespace&&"*"!==f||b&&b!=e.callback||c.splice(d,1)}c.length||delete u[a]})}),m):(v(1,"ERROR: Invalid event name supplied."),m)},this.trigger=function(b,c){if(b){var d=b.trim().split("."),e=d[0],f=d[1],g=u[e];v(3,"event fired:",e,c?"->":"",c||""),g&&g.forEach(function(b,d){f&&f!==b.namespace||b.callback.call(m,new a.Event(e,b.namespace,m,c))})}else v(1,"ERROR: Invalid event name supplied.");return m},m.on("change.internal",function(a){"loglevel"!==a.what&&"tweenChanges"!==a.what&&("triggerElement"===a.what?y():"reverse"===a.what&&m.update())}).on("shift.internal",function(a){w(),m.update()});var v=this._log=function(a,b){n.loglevel>=a&&(Array.prototype.splice.call(arguments,1,0,"("+h+") ->"),e.log.apply(window,arguments))};this.addTo=function(b){return b instanceof a.Controller?g!=b&&(g&&g.removeScene(m),g=b,B(),x(!0),y(!0),w(),g.info("container").addEventListener("resize",z),b.addScene(m),m.trigger("add",{controller:g}),v(3,"added "+h+" to controller"),m.update()):v(1,"ERROR: supplied argument of 'addTo()' is not a valid ScrollMagic Controller"),m},this.enabled=function(a){return arguments.length?(s!=a&&(s=!!a,m.update(!0)),m):s},this.remove=function(){if(g){g.info("container").removeEventListener("resize",z);var a=g;g=void 0,a.removeScene(m),m.trigger("remove"),v(3,"removed "+h+" from controller")}return m},this.destroy=function(a){return m.trigger("destroy",{reset:a}),m.remove(),m.off("*.*"),v(3,"destroyed "+h+" (reset: "+(a?"true":"false")+")"),null},this.update=function(a){if(g)if(a)if(g.enabled()&&s){var b,c=g.info("scrollPos");b=n.duration>0?(c-q.start)/(q.end-q.start):c>=q.start?1:0,m.trigger("update",{startPos:q.start,endPos:q.end,scrollPos:c}),m.progress(b)}else E&&o===j&&G(!0);else g.updateScene(m,!1);return m},this.refresh=function(){return x(),y(),m},this.progress=function(a){if(arguments.length){var b=!1,c=o,d=g?g.info("scrollDirection"):"PAUSED",e=n.reverse||a>=p;if(0===n.duration?(b=p!=a,p=1>a&&e?0:1,o=0===p?i:j):0>a&&o!==i&&e?(p=0,o=i,b=!0):a>=0&&1>a&&e?(p=a,o=j,b=!0):a>=1&&o!==k?(p=1,o=k,b=!0):o!==j||e||G(),b){var f={progress:p,state:o,scrollDirection:d},h=o!=c,l=function(a){m.trigger(a,f)};h&&c!==j&&(l("enter"),l(c===i?"start":"end")),l("progress"),h&&o!==j&&(l(o===i?"start":"end"),l("leave"))}return m}return p};var w=function(){q={start:r+n.offset},g&&n.triggerElement&&(q.start-=g.info("size")*n.triggerHook),q.end=q.start+n.duration},x=function(a){if(f){var b="duration";C(b,f.call(m))&&!a&&(m.trigger("change",{what:b,newval:n[b]}),m.trigger("shift",{reason:b}))}},y=function(a){var c=0,d=n.triggerElement;if(g&&d){for(var f=g.info(),h=e.get.offset(f.container),i=f.vertical?"top":"left";d.parentNode.hasAttribute(b);)d=d.parentNode;var j=e.get.offset(d);f.isDocument||(h[i]-=g.scrollPos()),c=j[i]-h[i]}var k=c!=r;r=c,k&&!a&&m.trigger("shift",{reason:"triggerElementPosition"})},z=function(a){n.triggerHook>0&&m.trigger("shift",{reason:"containerResize"})},A=e.extend(d.validate,{duration:function(a){if(e.type.String(a)&&a.match(/^(\.|\d)*\d+%$/)){var b=parseFloat(a)/100;a=function(){return g?g.info("size")*b:0}}if(e.type.Function(a)){f=a;try{a=parseFloat(f())}catch(c){a=-1}}if(a=parseFloat(a),!e.type.Number(a)||0>a)throw f?(f=void 0,['Invalid return value of supplied function for option "duration":',a]):['Invalid value for option "duration":',a];return a}}),B=function(a){a=arguments.length?[a]:Object.keys(A),a.forEach(function(a,b){var c;if(A[a])try{c=A[a](n[a])}catch(d){c=l[a];var f=e.type.String(d)?[d]:d;e.type.Array(f)?(f[0]="ERROR: "+f[0],f.unshift(1),v.apply(this,f)):v(1,"ERROR: Problem executing validation callback for option '"+a+"':",d.message)}finally{n[a]=c}})},C=function(a,b){var c=!1,d=n[a];return n[a]!=b&&(n[a]=b,B(a),c=d!=n[a]),c},D=function(a){m[a]||(m[a]=function(b){return arguments.length?("duration"===a&&(f=void 0),C(a,b)&&(m.trigger("change",{what:a,newval:n[a]}),d.shifts.indexOf(a)>-1&&m.trigger("shift",{reason:a})),m):n[a]})};this.controller=function(){return g},this.state=function(){return o},this.scrollOffset=function(){return q.start},this.triggerPosition=function(){var a=n.offset;return g&&(a+=n.triggerElement?r:g.info("size")*m.triggerHook()),a};var E,F;m.on("shift.internal",function(a){var b="duration"===a.reason;(o===k&&b||o===j&&0===n.duration)&&G(),b&&H()}).on("progress.internal",function(a){G()}).on("add.internal",function(a){H()}).on("destroy.internal",function(a){m.removePin(a.reset)});var G=function(a){if(E&&g){var b=g.info(),c=F.spacer.firstChild;if(a||o!==j){var d={position:F.inFlow?"relative":"absolute",top:0,left:0},f=e.css(c,"position")!=d.position;F.pushFollowers?n.duration>0&&(o===k&&0===parseFloat(e.css(F.spacer,"padding-top"))?f=!0:o===i&&0===parseFloat(e.css(F.spacer,"padding-bottom"))&&(f=!0)):d[b.vertical?"top":"left"]=n.duration*p,e.css(c,d),f&&H()}else{"fixed"!=e.css(c,"position")&&(e.css(c,{position:"fixed"}),H());var h=e.get.offset(F.spacer,!0),l=n.reverse||0===n.duration?b.scrollPos-q.start:Math.round(p*n.duration*10)/10;h[b.vertical?"top":"left"]+=l,e.css(F.spacer.firstChild,{top:h.top,left:h.left})}}},H=function(){if(E&&g&&F.inFlow){var a=o===j,b=g.info("vertical"),c=F.spacer.firstChild,d=e.isMarginCollapseType(e.css(F.spacer,"display")),f={};F.relSize.width||F.relSize.autoFullWidth?a?e.css(E,{width:e.get.width(F.spacer)}):e.css(E,{width:"100%"}):(f["min-width"]=e.get.width(b?E:c,!0,!0),f.width=a?f["min-width"]:"auto"),F.relSize.height?a?e.css(E,{height:e.get.height(F.spacer)-(F.pushFollowers?n.duration:0)}):e.css(E,{height:"100%"}):(f["min-height"]=e.get.height(b?c:E,!0,!d),f.height=a?f["min-height"]:"auto"),F.pushFollowers&&(f["padding"+(b?"Top":"Left")]=n.duration*p,f["padding"+(b?"Bottom":"Right")]=n.duration*(1-p)),e.css(F.spacer,f)}},I=function(){g&&E&&o===j&&!g.info("isDocument")&&G()},J=function(){g&&E&&o===j&&((F.relSize.width||F.relSize.autoFullWidth)&&e.get.width(window)!=e.get.width(F.spacer.parentNode)||F.relSize.height&&e.get.height(window)!=e.get.height(F.spacer.parentNode))&&H()},K=function(a){g&&E&&o===j&&!g.info("isDocument")&&(a.preventDefault(),g._setScrollPos(g.info("scrollPos")-((a.wheelDelta||a[g.info("vertical")?"wheelDeltaY":"wheelDeltaX"])/3||30*-a.detail)))};this.setPin=function(a,c){var d={pushFollowers:!0,spacerClass:"scrollmagic-pin-spacer"};if(c=e.extend({},d,c),a=e.get.elements(a)[0],!a)return v(1,"ERROR calling method 'setPin()': Invalid pin element supplied."),m;if("fixed"===e.css(a,"position"))return v(1,"ERROR calling method 'setPin()': Pin does not work with elements that are positioned 'fixed'."),m;if(E){if(E===a)return m;m.removePin()}E=a;var f=E.parentNode.style.display,g=["top","left","bottom","right","margin","marginLeft","marginRight","marginTop","marginBottom"];E.parentNode.style.display="none";var h="absolute"!=e.css(E,"position"),i=e.css(E,g.concat(["display"])),j=e.css(E,["width","height"]);E.parentNode.style.display=f,!h&&c.pushFollowers&&(v(2,"WARNING: If the pinned element is positioned absolutely pushFollowers will be disabled."),c.pushFollowers=!1),window.setTimeout(function(){E&&0===n.duration&&c.pushFollowers&&v(2,"WARNING: pushFollowers =",!0,"has no effect, when scene duration is 0.")},0);var k=E.parentNode.insertBefore(document.createElement("div"),E),l=e.extend(i,{position:h?"relative":"absolute",boxSizing:"content-box",mozBoxSizing:"content-box",webkitBoxSizing:"content-box"});if(h||e.extend(l,e.css(E,["width","height"])),e.css(k,l),k.setAttribute(b,""),e.addClass(k,c.spacerClass),F={spacer:k,relSize:{width:"%"===j.width.slice(-1),height:"%"===j.height.slice(-1),autoFullWidth:"auto"===j.width&&h&&e.isMarginCollapseType(i.display)},pushFollowers:c.pushFollowers,inFlow:h},!E.___origStyle){E.___origStyle={};var o=E.style,p=g.concat(["width","height","position","boxSizing","mozBoxSizing","webkitBoxSizing"]);p.forEach(function(a){E.___origStyle[a]=o[a]||""})}return F.relSize.width&&e.css(k,{width:j.width}),F.relSize.height&&e.css(k,{height:j.height}),k.appendChild(E),e.css(E,{position:h?"relative":"absolute",margin:"auto",top:"auto",left:"auto",bottom:"auto",right:"auto"}),(F.relSize.width||F.relSize.autoFullWidth)&&e.css(E,{boxSizing:"border-box",mozBoxSizing:"border-box",webkitBoxSizing:"border-box"}),window.addEventListener("scroll",I),window.addEventListener("resize",I),window.addEventListener("resize",J),E.addEventListener("mousewheel",K),E.addEventListener("DOMMouseScroll",K),v(3,"added pin"),G(),m},this.removePin=function(a){if(E){if(o===j&&G(!0),a||!g){var c=F.spacer.firstChild;if(c.hasAttribute(b)){var d=F.spacer.style,f=["margin","marginLeft","marginRight","marginTop","marginBottom"];margins={},f.forEach(function(a){margins[a]=d[a]||""}),e.css(c,margins)}F.spacer.parentNode.insertBefore(c,F.spacer),F.spacer.parentNode.removeChild(F.spacer),E.parentNode.hasAttribute(b)||(e.css(E,E.___origStyle),delete E.___origStyle)}window.removeEventListener("scroll",I),window.removeEventListener("resize",I),window.removeEventListener("resize",J),E.removeEventListener("mousewheel",K),E.removeEventListener("DOMMouseScroll",K),E=void 0,v(3,"removed pin (reset: "+(a?"true":"false")+")")}return m};var L,M=[];return m.on("destroy.internal",function(a){m.removeClassToggle(a.reset)}),this.setClassToggle=function(a,b){var c=e.get.elements(a);return 0!==c.length&&e.type.String(b)?(M.length>0&&m.removeClassToggle(),L=b,M=c,m.on("enter.internal_class leave.internal_class",function(a){var b="enter"===a.type?e.addClass:e.removeClass;M.forEach(function(a,c){b(a,L)})}),m):(v(1,"ERROR calling method 'setClassToggle()': Invalid "+(0===c.length?"element":"classes")+" supplied."),m)},this.removeClassToggle=function(a){return a&&M.forEach(function(a,b){e.removeClass(a,L)}),m.off("start.internal_class end.internal_class"),L=void 0,M=[],m},t(),m};var d={defaults:{duration:0,offset:0,triggerElement:void 0,triggerHook:.5,reverse:!0,loglevel:2},validate:{offset:function(a){if(a=parseFloat(a),!e.type.Number(a))throw['Invalid value for option "offset":',a];return a},triggerElement:function(a){if(a=a||void 0){var b=e.get.elements(a)[0];if(!b)throw['Element defined in option "triggerElement" was not found:',a];a=b}return a},triggerHook:function(a){var b={onCenter:.5,onEnter:1,onLeave:0};if(e.type.Number(a))a=Math.max(0,Math.min(parseFloat(a),1));else{if(!(a in b))throw['Invalid value for option "triggerHook": ',a];a=b[a]}return a},reverse:function(a){return!!a},loglevel:function(a){if(a=parseInt(a),!e.type.Number(a)||0>a||a>3)throw['Invalid value for option "loglevel":',a];return a}},shifts:["duration","offset","triggerHook"]};a.Scene.addOption=function(b,c,e,f){b in d.defaults?a._util.log(1,"[static] ScrollMagic.Scene -> Cannot add Scene option '"+b+"', because it already exists."):(d.defaults[b]=c,d.validate[b]=e,f&&d.shifts.push(b))},a.Scene.extend=function(b){var c=this;a.Scene=function(){return c.apply(this,arguments),this.$super=e.extend({},this),b.apply(this,arguments)||this},e.extend(a.Scene,c),a.Scene.prototype=c.prototype,a.Scene.prototype.constructor=a.Scene},a.Event=function(a,b,c,d){d=d||{};for(var e in d)this[e]=d[e];return this.type=a,this.target=this.currentTarget=c,this.namespace=b||"",this.timeStamp=this.timestamp=Date.now(),this};var e=a._util=function(a){var b,c={},d=function(a){return parseFloat(a)||0},e=function(b){return b.currentStyle?b.currentStyle:a.getComputedStyle(b)},f=function(b,c,f,g){if(c=c===document?a:c,c===a)g=!1;else if(!o.DomElement(c))return 0;b=b.charAt(0).toUpperCase()+b.substr(1).toLowerCase();var h=(f?c["offset"+b]||c["outer"+b]:c["client"+b]||c["inner"+b])||0;if(f&&g){var i=e(c);h+="Height"===b?d(i.marginTop)+d(i.marginBottom):d(i.marginLeft)+d(i.marginRight)}return h},g=function(a){return a.replace(/^[^a-z]+([a-z])/g,"$1").replace(/-([a-z])/g,function(a){return a[1].toUpperCase()})};c.extend=function(a){for(a=a||{},b=1;b<arguments.length;b++)if(arguments[b])for(var c in arguments[b])arguments[b].hasOwnProperty(c)&&(a[c]=arguments[b][c]);return a},c.isMarginCollapseType=function(a){return["block","flex","list-item","table","-webkit-box"].indexOf(a)>-1};var h=0,i=["ms","moz","webkit","o"],j=a.requestAnimationFrame,k=a.cancelAnimationFrame;for(b=0;!j&&b<i.length;++b)j=a[i[b]+"RequestAnimationFrame"],k=a[i[b]+"CancelAnimationFrame"]||a[i[b]+"CancelRequestAnimationFrame"];j||(j=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-h)),e=a.setTimeout(function(){b(c+d)},d);return h=c+d,e}),k||(k=function(b){a.clearTimeout(b)}),c.rAF=j.bind(a),c.cAF=k.bind(a);var l=["error","warn","log"],m=a.console||{};for(m.log=m.log||function(){},b=0;b<l.length;b++){var n=l[b];m[n]||(m[n]=m.log)}c.log=function(a){(a>l.length||0>=a)&&(a=l.length);var b=new Date,c=("0"+b.getHours()).slice(-2)+":"+("0"+b.getMinutes()).slice(-2)+":"+("0"+b.getSeconds()).slice(-2)+":"+("00"+b.getMilliseconds()).slice(-3),d=l[a-1],e=Array.prototype.splice.call(arguments,1),f=Function.prototype.bind.call(m[d],m);e.unshift(c),f.apply(m,e)};var o=c.type=function(a){return Object.prototype.toString.call(a).replace(/^\[object (.+)\]$/,"$1").toLowerCase()};o.String=function(a){return"string"===o(a)},o.Function=function(a){return"function"===o(a)},o.Array=function(a){return Array.isArray(a)},o.Number=function(a){return!o.Array(a)&&a-parseFloat(a)+1>=0},o.DomElement=function(a){return"object"==typeof HTMLElement?a instanceof HTMLElement:a&&"object"==typeof a&&null!==a&&1===a.nodeType&&"string"==typeof a.nodeName};var p=c.get={};return p.elements=function(b){var c=[];if(o.String(b))try{b=document.querySelectorAll(b)}catch(d){return c}if("nodelist"===o(b)||o.Array(b))for(var e=0,f=c.length=b.length;f>e;e++){var g=b[e];c[e]=o.DomElement(g)?g:p.elements(g)}else(o.DomElement(b)||b===document||b===a)&&(c=[b]);return c},p.scrollTop=function(b){return b&&"number"==typeof b.scrollTop?b.scrollTop:a.pageYOffset||0},p.scrollLeft=function(b){return b&&"number"==typeof b.scrollLeft?b.scrollLeft:a.pageXOffset||0},p.width=function(a,b,c){return f("width",a,b,c)},p.height=function(a,b,c){return f("height",a,b,c)},p.offset=function(a,b){var c={top:0,left:0};if(a&&a.getBoundingClientRect){var d=a.getBoundingClientRect();c.top=d.top,c.left=d.left,b||(c.top+=p.scrollTop(),c.left+=p.scrollLeft())}return c},c.addClass=function(a,b){b&&(a.classList?a.classList.add(b):a.className+=" "+b)},c.removeClass=function(a,b){b&&(a.classList?a.classList.remove(b):a.className=a.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," "))},c.css=function(a,b){if(o.String(b))return e(a)[g(b)];if(o.Array(b)){var c={},d=e(a);return b.forEach(function(a,b){c[a]=d[g(a)]}),c}for(var f in b){var h=b[f];h==parseFloat(h)&&(h+="px"),a.style[g(f)]=h}},c}(window||{});return a.Scene.prototype.addIndicators=function(){return a._util.log(1,"(ScrollMagic.Scene) -> ERROR calling addIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"),this},a.Scene.prototype.removeIndicators=function(){return a._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeIndicators() due to missing Plugin 'debug.addIndicators'. Please make sure to include plugins/debug.addIndicators.js"),this},a.Scene.prototype.setTween=function(){return a._util.log(1,"(ScrollMagic.Scene) -> ERROR calling setTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"),this},a.Scene.prototype.removeTween=function(){return a._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeTween() due to missing Plugin 'animation.gsap'. Please make sure to include plugins/animation.gsap.js"),this},a.Scene.prototype.setVelocity=function(){return a._util.log(1,"(ScrollMagic.Scene) -> ERROR calling setVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"),this},a.Scene.prototype.removeVelocity=function(){return a._util.log(1,"(ScrollMagic.Scene) -> ERROR calling removeVelocity() due to missing Plugin 'animation.velocity'. Please make sure to include plugins/animation.velocity.js"),this},a});var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";var a=180/Math.PI,b=[],c=[],d=[],e={},f=_gsScope._gsDefine.globals,g=function(a,b,c,d){this.a=a,this.b=b,this.c=c,this.d=d,this.da=d-a,this.ca=c-a,this.ba=b-a},h=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",i=function(a,b,c,d){var e={a:a},f={},g={},h={c:d},i=(a+b)/2,j=(b+c)/2,k=(c+d)/2,l=(i+j)/2,m=(j+k)/2,n=(m-l)/8;return e.b=i+(a-i)/4,f.b=l+n,e.c=f.a=(e.b+f.b)/2,f.c=g.a=(l+m)/2,g.b=m-n,h.b=k+(d-k)/4,g.c=h.a=(g.b+h.b)/2,[e,f,g,h]},j=function(a,e,f,g,h){var j,k,l,m,n,o,p,q,r,s,t,u,v,w=a.length-1,x=0,y=a[0].a;for(j=0;w>j;j++)n=a[x],k=n.a,l=n.d,m=a[x+1].d,h?(t=b[j],u=c[j],v=(u+t)*e*.25/(g?.5:d[j]||.5),o=l-(l-k)*(g?.5*e:0!==t?v/t:0),p=l+(m-l)*(g?.5*e:0!==u?v/u:0),q=l-(o+((p-o)*(3*t/(t+u)+.5)/4||0))):(o=l-(l-k)*e*.5,p=l+(m-l)*e*.5,q=l-(o+p)/2),o+=q,p+=q,n.c=r=o,0!==j?n.b=y:n.b=y=n.a+.6*(n.c-n.a),n.da=l-k,n.ca=r-k,n.ba=y-k,f?(s=i(k,y,r,l),a.splice(x,1,s[0],s[1],s[2],s[3]),x+=4):x++,y=p;n=a[x],n.b=y,n.c=y+.4*(n.d-y),n.da=n.d-n.a,n.ca=n.c-n.a,n.ba=y-n.a,f&&(s=i(n.a,y,n.c,n.d),a.splice(x,1,s[0],s[1],s[2],s[3]))},k=function(a,d,e,f){var h,i,j,k,l,m,n=[];if(f)for(a=[f].concat(a),i=a.length;--i>-1;)"string"==typeof(m=a[i][d])&&"="===m.charAt(1)&&(a[i][d]=f[d]+Number(m.charAt(0)+m.substr(2)));if(h=a.length-2,0>h)return n[0]=new g(a[0][d],0,0,a[-1>h?0:1][d]),n;for(i=0;h>i;i++)j=a[i][d],k=a[i+1][d],n[i]=new g(j,0,0,k),e&&(l=a[i+2][d],b[i]=(b[i]||0)+(k-j)*(k-j),c[i]=(c[i]||0)+(l-k)*(l-k));return n[i]=new g(a[i][d],0,0,a[i+1][d]),n},l=function(a,f,g,i,l,m){var n,o,p,q,r,s,t,u,v={},w=[],x=m||a[0];l="string"==typeof l?","+l+",":h,null==f&&(f=1);for(o in a[0])w.push(o);if(a.length>1){for(u=a[a.length-1],t=!0,n=w.length;--n>-1;)if(o=w[n],Math.abs(x[o]-u[o])>.05){t=!1;break}t&&(a=a.concat(),m&&a.unshift(m),a.push(a[1]),m=a[a.length-3])}for(b.length=c.length=d.length=0,n=w.length;--n>-1;)o=w[n],e[o]=-1!==l.indexOf(","+o+","),v[o]=k(a,o,e[o],m);for(n=b.length;--n>-1;)b[n]=Math.sqrt(b[n]),c[n]=Math.sqrt(c[n]);if(!i){for(n=w.length;--n>-1;)if(e[o])for(p=v[w[n]],s=p.length-1,q=0;s>q;q++)r=p[q+1].da/c[q]+p[q].da/b[q],d[q]=(d[q]||0)+r*r;for(n=d.length;--n>-1;)d[n]=Math.sqrt(d[n])}for(n=w.length,q=g?4:1;--n>-1;)o=w[n],p=v[o],j(p,f,g,i,e[o]),t&&(p.splice(0,q),p.splice(p.length-q,q));return v},m=function(a,b,c){b=b||"soft";var d,e,f,h,i,j,k,l,m,n,o,p={},q="cubic"===b?3:2,r="soft"===b,s=[];if(r&&c&&(a=[c].concat(a)),null==a||a.length<q+1)throw"invalid Bezier data";for(m in a[0])s.push(m);for(j=s.length;--j>-1;){for(m=s[j],p[m]=i=[],n=0,l=a.length,k=0;l>k;k++)d=null==c?a[k][m]:"string"==typeof(o=a[k][m])&&"="===o.charAt(1)?c[m]+Number(o.charAt(0)+o.substr(2)):Number(o),r&&k>1&&l-1>k&&(i[n++]=(d+i[n-2])/2),i[n++]=d;for(l=n-q+1,n=0,k=0;l>k;k+=q)d=i[k],e=i[k+1],f=i[k+2],h=2===q?0:i[k+3],i[n++]=o=3===q?new g(d,e,f,h):new g(d,(2*e+d)/3,(2*e+f)/3,f);i.length=n}return p},n=function(a,b,c){for(var d,e,f,g,h,i,j,k,l,m,n,o=1/c,p=a.length;--p>-1;)for(m=a[p],f=m.a,g=m.d-f,h=m.c-f,i=m.b-f,d=e=0,k=1;c>=k;k++)j=o*k,l=1-j,d=e-(e=(j*j*g+3*l*(j*h+l*i))*j),n=p*c+k-1,b[n]=(b[n]||0)+d*d},o=function(a,b){b=b>>0||6;var c,d,e,f,g=[],h=[],i=0,j=0,k=b-1,l=[],m=[];for(c in a)n(a[c],g,b);for(e=g.length,d=0;e>d;d++)i+=Math.sqrt(g[d]),f=d%b,m[f]=i,f===k&&(j+=i,f=d/b>>0,l[f]=m,h[f]=j,i=0,m=[]);return{length:j,lengths:h,segments:l}},p=_gsScope._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.4",API:2,global:!0,init:function(a,b,c){this._target=a,b instanceof Array&&(b={values:b}),this._func={},this._round={},this._props=[],this._timeRes=null==b.timeResolution?6:parseInt(b.timeResolution,10);var d,e,f,g,h,i=b.values||[],j={},k=i[0],n=b.autoRotate||c.vars.orientToBezier;this._autoRotate=n?n instanceof Array?n:[["x","y","rotation",n===!0?0:Number(n)||0]]:null;for(d in k)this._props.push(d);for(f=this._props.length;--f>-1;)d=this._props[f],this._overwriteProps.push(d),e=this._func[d]="function"==typeof a[d],j[d]=e?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]():parseFloat(a[d]),h||j[d]!==i[0][d]&&(h=j);if(this._beziers="cubic"!==b.type&&"quadratic"!==b.type&&"soft"!==b.type?l(i,isNaN(b.curviness)?1:b.curviness,!1,"thruBasic"===b.type,b.correlate,h):m(i,b.type,j),this._segCount=this._beziers[d].length,this._timeRes){var p=o(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(n=this._autoRotate)for(this._initialRotations=[],n[0]instanceof Array||(this._autoRotate=n=[n]),f=n.length;--f>-1;){for(g=0;3>g;g++)d=n[f][g],this._func[d]="function"==typeof a[d]?a[d.indexOf("set")||"function"!=typeof a["get"+d.substr(3)]?d:"get"+d.substr(3)]:!1;d=n[f][2],this._initialRotations[f]=this._func[d]?this._func[d].call(this._target):this._target[d]}return this._startRatio=c.vars.runBackwards?1:0,!0},set:function(b){var c,d,e,f,g,h,i,j,k,l,m=this._segCount,n=this._func,o=this._target,p=b!==this._startRatio;if(this._timeRes){if(k=this._lengths,l=this._curSeg,b*=this._length,e=this._li,b>this._l2&&m-1>e){for(j=m-1;j>e&&(this._l2=k[++e])<=b;);this._l1=k[e-1],this._li=e,this._curSeg=l=this._segments[e],this._s2=l[this._s1=this._si=0]}else if(b<this._l1&&e>0){for(;e>0&&(this._l1=k[--e])>=b;);0===e&&b<this._l1?this._l1=0:e++,this._l2=k[e],this._li=e,this._curSeg=l=this._segments[e],this._s1=l[(this._si=l.length-1)-1]||0,this._s2=l[this._si]}if(c=e,b-=this._l1,e=this._si,b>this._s2&&e<l.length-1){for(j=l.length-1;j>e&&(this._s2=l[++e])<=b;);this._s1=l[e-1],this._si=e}else if(b<this._s1&&e>0){for(;e>0&&(this._s1=l[--e])>=b;);0===e&&b<this._s1?this._s1=0:e++,this._s2=l[e],this._si=e}h=(e+(b-this._s1)/(this._s2-this._s1))*this._prec}else c=0>b?0:b>=1?m-1:m*b>>0,h=(b-c*(1/m))*m;for(d=1-h,e=this._props.length;--e>-1;)f=this._props[e],g=this._beziers[f][c],i=(h*h*g.da+3*d*(h*g.ca+d*g.ba))*h+g.a,this._round[f]&&(i=Math.round(i)),n[f]?o[f](i):o[f]=i;if(this._autoRotate){var q,r,s,t,u,v,w,x=this._autoRotate;for(e=x.length;--e>-1;)f=x[e][2],v=x[e][3]||0,w=x[e][4]===!0?1:a,g=this._beziers[x[e][0]],q=this._beziers[x[e][1]],g&&q&&(g=g[c],q=q[c],r=g.a+(g.b-g.a)*h,t=g.b+(g.c-g.b)*h,r+=(t-r)*h,t+=(g.c+(g.d-g.c)*h-t)*h,s=q.a+(q.b-q.a)*h,u=q.b+(q.c-q.b)*h,s+=(u-s)*h,u+=(q.c+(q.d-q.c)*h-u)*h,i=p?Math.atan2(u-s,t-r)*w+v:this._initialRotations[e],n[f]?o[f](i):o[f]=i)}}}),q=p.prototype;p.bezierThrough=l,p.cubicToQuadratic=i,p._autoCSS=!0,p.quadraticToCubic=function(a,b,c){return new g(a,(2*b+a)/3,(2*b+c)/3,c)},p._cssRegister=function(){var a=f.CSSPlugin;if(a){var b=a._internals,c=b._parseToProxy,d=b._setPluginRatio,e=b.CSSPropTween;b._registerComplexSpecialProp("bezier",{parser:function(a,b,f,g,h,i){b instanceof Array&&(b={values:b}),i=new p;var j,k,l,m=b.values,n=m.length-1,o=[],q={};if(0>n)return h;for(j=0;n>=j;j++)l=c(a,m[j],g,h,i,n!==j),o[j]=l.end;for(k in b)q[k]=b[k];return q.values=o,h=new e(a,"bezier",0,0,l.pt,2),h.data=l,h.plugin=i,h.setRatio=d,0===q.autoRotate&&(q.autoRotate=!0),!q.autoRotate||q.autoRotate instanceof Array||(j=q.autoRotate===!0?0:Number(q.autoRotate),q.autoRotate=null!=l.end.left?[["left","top","rotation",j,!1]]:null!=l.end.x?[["x","y","rotation",j,!1]]:!1),q.autoRotate&&(g._transform||g._enableTransforms(!1),l.autoRotate=g._target._gsTransform),i._onInitTween(l.proxy,q,g._tween),h}})}},q._roundProps=function(a,b){for(var c=this._overwriteProps,d=c.length;--d>-1;)(a[c[d]]||a.bezier||a.bezierThrough)&&(this._round[c[d]]=b)},q._kill=function(a){var b,c,d=this._props;for(b in this._beziers)if(b in a)for(delete this._beziers[b],delete this._func[b],c=d.length;--c>-1;)d[c]===b&&d.splice(c,1);return this._super._kill.call(this,a)}}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(a){"use strict";var b=function(){return(_gsScope.GreenSockGlobals||_gsScope)[a]};"function"==typeof define&&define.amd?define(["TweenLite"],b):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=b())}("BezierPlugin");var _gsScope="undefined"!=typeof module&&module.exports&&"undefined"!=typeof global?global:this||window;(_gsScope._gsQueue||(_gsScope._gsQueue=[])).push(function(){"use strict";_gsScope._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(a,b){var c,d,e,f,g=function(){a.call(this,"css"),this._overwriteProps.length=0,this.setRatio=g.prototype.setRatio},h=_gsScope._gsDefine.globals,i={},j=g.prototype=new a("css");j.constructor=g,g.version="1.17.0",g.API=2,g.defaultTransformPerspective=0,g.defaultSkewType="compensated",g.defaultSmoothOrigin=!0,j="px",g.suffixMap={top:j,right:j,bottom:j,left:j,width:j,height:j,fontSize:j,padding:j,margin:j,perspective:j,lineHeight:""
};var k,l,m,n,o,p,q=/(?:\d|\-\d|\.\d|\-\.\d)+/g,r=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,s=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,t=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,u=/(?:\d|\-|\+|=|#|\.)*/g,v=/opacity *= *([^)]*)/i,w=/opacity:([^;]*)/i,x=/alpha\(opacity *=.+?\)/i,y=/^(rgb|hsl)/,z=/([A-Z])/g,A=/-([a-z])/gi,B=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,C=function(a,b){return b.toUpperCase()},D=/(?:Left|Right|Width)/i,E=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,F=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,G=/,(?=[^\)]*(?:\(|$))/gi,H=Math.PI/180,I=180/Math.PI,J={},K=document,L=function(a){return K.createElementNS?K.createElementNS("http://www.w3.org/1999/xhtml",a):K.createElement(a)},M=L("div"),N=L("img"),O=g._internals={_specialProps:i},P=navigator.userAgent,Q=function(){var a=P.indexOf("Android"),b=L("a");return m=-1!==P.indexOf("Safari")&&-1===P.indexOf("Chrome")&&(-1===a||Number(P.substr(a+8,1))>3),o=m&&Number(P.substr(P.indexOf("Version/")+8,1))<6,n=-1!==P.indexOf("Firefox"),(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(P)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(P))&&(p=parseFloat(RegExp.$1)),b?(b.style.cssText="top:1px;opacity:.55;",/^0.55/.test(b.style.opacity)):!1}(),R=function(a){return v.test("string"==typeof a?a:(a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?parseFloat(RegExp.$1)/100:1},S=function(a){window.console&&console.log(a)},T="",U="",V=function(a,b){b=b||M;var c,d,e=b.style;if(void 0!==e[a])return a;for(a=a.charAt(0).toUpperCase()+a.substr(1),c=["O","Moz","ms","Ms","Webkit"],d=5;--d>-1&&void 0===e[c[d]+a];);return d>=0?(U=3===d?"ms":c[d],T="-"+U.toLowerCase()+"-",U+a):null},W=K.defaultView?K.defaultView.getComputedStyle:function(){},X=g.getStyle=function(a,b,c,d,e){var f;return Q||"opacity"!==b?(!d&&a.style[b]?f=a.style[b]:(c=c||W(a))?f=c[b]||c.getPropertyValue(b)||c.getPropertyValue(b.replace(z,"-$1").toLowerCase()):a.currentStyle&&(f=a.currentStyle[b]),null==e||f&&"none"!==f&&"auto"!==f&&"auto auto"!==f?f:e):R(a)},Y=O.convertToPixels=function(a,c,d,e,f){if("px"===e||!e)return d;if("auto"===e||!d)return 0;var h,i,j,k=D.test(c),l=a,m=M.style,n=0>d;if(n&&(d=-d),"%"===e&&-1!==c.indexOf("border"))h=d/100*(k?a.clientWidth:a.clientHeight);else{if(m.cssText="border:0 solid red;position:"+X(a,"position")+";line-height:0;","%"!==e&&l.appendChild)m[k?"borderLeftWidth":"borderTopWidth"]=d+e;else{if(l=a.parentNode||K.body,i=l._gsCache,j=b.ticker.frame,i&&k&&i.time===j)return i.width*d/100;m[k?"width":"height"]=d+e}l.appendChild(M),h=parseFloat(M[k?"offsetWidth":"offsetHeight"]),l.removeChild(M),k&&"%"===e&&g.cacheWidths!==!1&&(i=l._gsCache=l._gsCache||{},i.time=j,i.width=h/d*100),0!==h||f||(h=Y(a,c,d,e,!0))}return n?-h:h},Z=O.calculateOffset=function(a,b,c){if("absolute"!==X(a,"position",c))return 0;var d="left"===b?"Left":"Top",e=X(a,"margin"+d,c);return a["offset"+d]-(Y(a,b,parseFloat(e),e.replace(u,""))||0)},$=function(a,b){var c,d,e,f={};if(b=b||W(a,null))if(c=b.length)for(;--c>-1;)e=b[c],(-1===e.indexOf("-transform")||ya===e)&&(f[e.replace(A,C)]=b.getPropertyValue(e));else for(c in b)(-1===c.indexOf("Transform")||xa===c)&&(f[c]=b[c]);else if(b=a.currentStyle||a.style)for(c in b)"string"==typeof c&&void 0===f[c]&&(f[c.replace(A,C)]=b[c]);return Q||(f.opacity=R(a)),d=Ka(a,b,!1),f.rotation=d.rotation,f.skewX=d.skewX,f.scaleX=d.scaleX,f.scaleY=d.scaleY,f.x=d.x,f.y=d.y,Aa&&(f.z=d.z,f.rotationX=d.rotationX,f.rotationY=d.rotationY,f.scaleZ=d.scaleZ),f.filters&&delete f.filters,f},_=function(a,b,c,d,e){var f,g,h,i={},j=a.style;for(g in c)"cssText"!==g&&"length"!==g&&isNaN(g)&&(b[g]!==(f=c[g])||e&&e[g])&&-1===g.indexOf("Origin")&&("number"==typeof f||"string"==typeof f)&&(i[g]="auto"!==f||"left"!==g&&"top"!==g?""!==f&&"auto"!==f&&"none"!==f||"string"!=typeof b[g]||""===b[g].replace(t,"")?f:0:Z(a,g),void 0!==j[g]&&(h=new na(j,g,j[g],h)));if(d)for(g in d)"className"!==g&&(i[g]=d[g]);return{difs:i,firstMPT:h}},aa={width:["Left","Right"],height:["Top","Bottom"]},ba=["marginLeft","marginRight","marginTop","marginBottom"],ca=function(a,b,c){var d=parseFloat("width"===b?a.offsetWidth:a.offsetHeight),e=aa[b],f=e.length;for(c=c||W(a,null);--f>-1;)d-=parseFloat(X(a,"padding"+e[f],c,!0))||0,d-=parseFloat(X(a,"border"+e[f]+"Width",c,!0))||0;return d},da=function(a,b){(null==a||""===a||"auto"===a||"auto auto"===a)&&(a="0 0");var c=a.split(" "),d=-1!==a.indexOf("left")?"0%":-1!==a.indexOf("right")?"100%":c[0],e=-1!==a.indexOf("top")?"0%":-1!==a.indexOf("bottom")?"100%":c[1];return null==e?e="center"===d?"50%":"0":"center"===e&&(e="50%"),("center"===d||isNaN(parseFloat(d))&&-1===(d+"").indexOf("="))&&(d="50%"),a=d+" "+e+(c.length>2?" "+c[2]:""),b&&(b.oxp=-1!==d.indexOf("%"),b.oyp=-1!==e.indexOf("%"),b.oxr="="===d.charAt(1),b.oyr="="===e.charAt(1),b.ox=parseFloat(d.replace(t,"")),b.oy=parseFloat(e.replace(t,"")),b.v=a),b||a},ea=function(a,b){return"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2)):parseFloat(a)-parseFloat(b)},fa=function(a,b){return null==a?b:"string"==typeof a&&"="===a.charAt(1)?parseInt(a.charAt(0)+"1",10)*parseFloat(a.substr(2))+b:parseFloat(a)},ga=function(a,b,c,d){var e,f,g,h,i,j=1e-6;return null==a?h=b:"number"==typeof a?h=a:(e=360,f=a.split("_"),i="="===a.charAt(1),g=(i?parseInt(a.charAt(0)+"1",10)*parseFloat(f[0].substr(2)):parseFloat(f[0]))*(-1===a.indexOf("rad")?1:I)-(i?0:b),f.length&&(d&&(d[c]=b+g),-1!==a.indexOf("short")&&(g%=e,g!==g%(e/2)&&(g=0>g?g+e:g-e)),-1!==a.indexOf("_cw")&&0>g?g=(g+9999999999*e)%e-(g/e|0)*e:-1!==a.indexOf("ccw")&&g>0&&(g=(g-9999999999*e)%e-(g/e|0)*e)),h=b+g),j>h&&h>-j&&(h=0),h},ha={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ia=function(a,b,c){return a=0>a?a+1:a>1?a-1:a,255*(1>6*a?b+(c-b)*a*6:.5>a?c:2>3*a?b+(c-b)*(2/3-a)*6:b)+.5|0},ja=g.parseColor=function(a){var b,c,d,e,f,g;return a&&""!==a?"number"==typeof a?[a>>16,a>>8&255,255&a]:(","===a.charAt(a.length-1)&&(a=a.substr(0,a.length-1)),ha[a]?ha[a]:"#"===a.charAt(0)?(4===a.length&&(b=a.charAt(1),c=a.charAt(2),d=a.charAt(3),a="#"+b+b+c+c+d+d),a=parseInt(a.substr(1),16),[a>>16,a>>8&255,255&a]):"hsl"===a.substr(0,3)?(a=a.match(q),e=Number(a[0])%360/360,f=Number(a[1])/100,g=Number(a[2])/100,c=.5>=g?g*(f+1):g+f-g*f,b=2*g-c,a.length>3&&(a[3]=Number(a[3])),a[0]=ia(e+1/3,b,c),a[1]=ia(e,b,c),a[2]=ia(e-1/3,b,c),a):(a=a.match(q)||ha.transparent,a[0]=Number(a[0]),a[1]=Number(a[1]),a[2]=Number(a[2]),a.length>3&&(a[3]=Number(a[3])),a)):ha.black},ka="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(j in ha)ka+="|"+j+"\\b";ka=new RegExp(ka+")","gi");var la=function(a,b,c,d){if(null==a)return function(a){return a};var e,f=b?(a.match(ka)||[""])[0]:"",g=a.split(f).join("").match(s)||[],h=a.substr(0,a.indexOf(g[0])),i=")"===a.charAt(a.length-1)?")":"",j=-1!==a.indexOf(" ")?" ":",",k=g.length,l=k>0?g[0].replace(q,""):"";return k?e=b?function(a){var b,m,n,o;if("number"==typeof a)a+=l;else if(d&&G.test(a)){for(o=a.replace(G,"|").split("|"),n=0;n<o.length;n++)o[n]=e(o[n]);return o.join(",")}if(b=(a.match(ka)||[f])[0],m=a.split(b).join("").match(s)||[],n=m.length,k>n--)for(;++n<k;)m[n]=c?m[(n-1)/2|0]:g[n];return h+m.join(j)+j+b+i+(-1!==a.indexOf("inset")?" inset":"")}:function(a){var b,f,m;if("number"==typeof a)a+=l;else if(d&&G.test(a)){for(f=a.replace(G,"|").split("|"),m=0;m<f.length;m++)f[m]=e(f[m]);return f.join(",")}if(b=a.match(s)||[],m=b.length,k>m--)for(;++m<k;)b[m]=c?b[(m-1)/2|0]:g[m];return h+b.join(j)+i}:function(a){return a}},ma=function(a){return a=a.split(","),function(b,c,d,e,f,g,h){var i,j=(c+"").split(" ");for(h={},i=0;4>i;i++)h[a[i]]=j[i]=j[i]||j[(i-1)/2>>0];return e.parse(b,h,f,g)}},na=(O._setPluginRatio=function(a){this.plugin.setRatio(a);for(var b,c,d,e,f=this.data,g=f.proxy,h=f.firstMPT,i=1e-6;h;)b=g[h.v],h.r?b=Math.round(b):i>b&&b>-i&&(b=0),h.t[h.p]=b,h=h._next;if(f.autoRotate&&(f.autoRotate.rotation=g.rotation),1===a)for(h=f.firstMPT;h;){if(c=h.t,c.type){if(1===c.type){for(e=c.xs0+c.s+c.xs1,d=1;d<c.l;d++)e+=c["xn"+d]+c["xs"+(d+1)];c.e=e}}else c.e=c.s+c.xs0;h=h._next}},function(a,b,c,d,e){this.t=a,this.p=b,this.v=c,this.r=e,d&&(d._prev=this,this._next=d)}),oa=(O._parseToProxy=function(a,b,c,d,e,f){var g,h,i,j,k,l=d,m={},n={},o=c._transform,p=J;for(c._transform=null,J=b,d=k=c.parse(a,b,d,e),J=p,f&&(c._transform=o,l&&(l._prev=null,l._prev&&(l._prev._next=null)));d&&d!==l;){if(d.type<=1&&(h=d.p,n[h]=d.s+d.c,m[h]=d.s,f||(j=new na(d,"s",h,j,d.r),d.c=0),1===d.type))for(g=d.l;--g>0;)i="xn"+g,h=d.p+"_"+i,n[h]=d.data[i],m[h]=d[i],f||(j=new na(d,i,h,j,d.rxp[i]));d=d._next}return{proxy:m,end:n,firstMPT:j,pt:k}},O.CSSPropTween=function(a,b,d,e,g,h,i,j,k,l,m){this.t=a,this.p=b,this.s=d,this.c=e,this.n=i||b,a instanceof oa||f.push(this.n),this.r=j,this.type=h||0,k&&(this.pr=k,c=!0),this.b=void 0===l?d:l,this.e=void 0===m?d+e:m,g&&(this._next=g,g._prev=this)}),pa=function(a,b,c,d,e,f){var g=new oa(a,b,c,d-c,e,-1,f);return g.b=c,g.e=g.xs0=d,g},qa=g.parseComplex=function(a,b,c,d,e,f,g,h,i,j){c=c||f||"",g=new oa(a,b,0,0,g,j?2:1,null,!1,h,c,d),d+="";var l,m,n,o,p,s,t,u,v,w,x,z,A=c.split(", ").join(",").split(" "),B=d.split(", ").join(",").split(" "),C=A.length,D=k!==!1;for((-1!==d.indexOf(",")||-1!==c.indexOf(","))&&(A=A.join(" ").replace(G,", ").split(" "),B=B.join(" ").replace(G,", ").split(" "),C=A.length),C!==B.length&&(A=(f||"").split(" "),C=A.length),g.plugin=i,g.setRatio=j,l=0;C>l;l++)if(o=A[l],p=B[l],u=parseFloat(o),u||0===u)g.appendXtra("",u,ea(p,u),p.replace(r,""),D&&-1!==p.indexOf("px"),!0);else if(e&&("#"===o.charAt(0)||ha[o]||y.test(o)))z=","===p.charAt(p.length-1)?"),":")",o=ja(o),p=ja(p),v=o.length+p.length>6,v&&!Q&&0===p[3]?(g["xs"+g.l]+=g.l?" transparent":"transparent",g.e=g.e.split(B[l]).join("transparent")):(Q||(v=!1),g.appendXtra(v?"rgba(":"rgb(",o[0],p[0]-o[0],",",!0,!0).appendXtra("",o[1],p[1]-o[1],",",!0).appendXtra("",o[2],p[2]-o[2],v?",":z,!0),v&&(o=o.length<4?1:o[3],g.appendXtra("",o,(p.length<4?1:p[3])-o,z,!1)));else if(s=o.match(q)){if(t=p.match(r),!t||t.length!==s.length)return g;for(n=0,m=0;m<s.length;m++)x=s[m],w=o.indexOf(x,n),g.appendXtra(o.substr(n,w-n),Number(x),ea(t[m],x),"",D&&"px"===o.substr(w+x.length,2),0===m),n=w+x.length;g["xs"+g.l]+=o.substr(n)}else g["xs"+g.l]+=g.l?" "+o:o;if(-1!==d.indexOf("=")&&g.data){for(z=g.xs0+g.data.s,l=1;l<g.l;l++)z+=g["xs"+l]+g.data["xn"+l];g.e=z+g["xs"+l]}return g.l||(g.type=-1,g.xs0=g.e),g.xfirst||g},ra=9;for(j=oa.prototype,j.l=j.pr=0;--ra>0;)j["xn"+ra]=0,j["xs"+ra]="";j.xs0="",j._next=j._prev=j.xfirst=j.data=j.plugin=j.setRatio=j.rxp=null,j.appendXtra=function(a,b,c,d,e,f){var g=this,h=g.l;return g["xs"+h]+=f&&h?" "+a:a||"",c||0===h||g.plugin?(g.l++,g.type=g.setRatio?2:1,g["xs"+g.l]=d||"",h>0?(g.data["xn"+h]=b+c,g.rxp["xn"+h]=e,g["xn"+h]=b,g.plugin||(g.xfirst=new oa(g,"xn"+h,b,c,g.xfirst||g,0,g.n,e,g.pr),g.xfirst.xs0=0),g):(g.data={s:b+c},g.rxp={},g.s=b,g.c=c,g.r=e,g)):(g["xs"+h]+=b+(d||""),g)};var sa=function(a,b){b=b||{},this.p=b.prefix?V(a)||a:a,i[a]=i[this.p]=this,this.format=b.formatter||la(b.defaultValue,b.color,b.collapsible,b.multi),b.parser&&(this.parse=b.parser),this.clrs=b.color,this.multi=b.multi,this.keyword=b.keyword,this.dflt=b.defaultValue,this.pr=b.priority||0},ta=O._registerComplexSpecialProp=function(a,b,c){"object"!=typeof b&&(b={parser:c});var d,e,f=a.split(","),g=b.defaultValue;for(c=c||[g],d=0;d<f.length;d++)b.prefix=0===d&&b.prefix,b.defaultValue=c[d]||g,e=new sa(f[d],b)},ua=function(a){if(!i[a]){var b=a.charAt(0).toUpperCase()+a.substr(1)+"Plugin";ta(a,{parser:function(a,c,d,e,f,g,j){var k=h.com.greensock.plugins[b];return k?(k._cssRegister(),i[d].parse(a,c,d,e,f,g,j)):(S("Error: "+b+" js file not loaded."),f)}})}};j=sa.prototype,j.parseComplex=function(a,b,c,d,e,f){var g,h,i,j,k,l,m=this.keyword;if(this.multi&&(G.test(c)||G.test(b)?(h=b.replace(G,"|").split("|"),i=c.replace(G,"|").split("|")):m&&(h=[b],i=[c])),i){for(j=i.length>h.length?i.length:h.length,g=0;j>g;g++)b=h[g]=h[g]||this.dflt,c=i[g]=i[g]||this.dflt,m&&(k=b.indexOf(m),l=c.indexOf(m),k!==l&&(-1===l?h[g]=h[g].split(m).join(""):-1===k&&(h[g]+=" "+m)));b=h.join(", "),c=i.join(", ")}return qa(a,this.p,b,c,this.clrs,this.dflt,d,this.pr,e,f)},j.parse=function(a,b,c,d,f,g,h){return this.parseComplex(a.style,this.format(X(a,this.p,e,!1,this.dflt)),this.format(b),f,g)},g.registerSpecialProp=function(a,b,c){ta(a,{parser:function(a,d,e,f,g,h,i){var j=new oa(a,e,0,0,g,2,e,!1,c);return j.plugin=h,j.setRatio=b(a,d,f._tween,e),j},priority:c})},g.useSVGTransformAttr=m||n;var va,wa="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),xa=V("transform"),ya=T+"transform",za=V("transformOrigin"),Aa=null!==V("perspective"),Ba=O.Transform=function(){this.perspective=parseFloat(g.defaultTransformPerspective)||0,this.force3D=g.defaultForce3D!==!1&&Aa?g.defaultForce3D||"auto":!1},Ca=window.SVGElement,Da=function(a,b,c){var d,e=K.createElementNS("http://www.w3.org/2000/svg",a),f=/([a-z])([A-Z])/g;for(d in c)e.setAttributeNS(null,d.replace(f,"$1-$2").toLowerCase(),c[d]);return b.appendChild(e),e},Ea=K.documentElement,Fa=function(){var a,b,c,d=p||/Android/i.test(P)&&!window.chrome;return K.createElementNS&&!d&&(a=Da("svg",Ea),b=Da("rect",a,{width:100,height:50,x:100}),c=b.getBoundingClientRect().width,b.style[za]="50% 50%",b.style[xa]="scaleX(0.5)",d=c===b.getBoundingClientRect().width&&!(n&&Aa),Ea.removeChild(a)),d}(),Ga=function(a,b,c,d,e){var f,h,i,j,k,l,m,n,o,p,q,r,s,t,u=a._gsTransform,v=Ja(a,!0);u&&(s=u.xOrigin,t=u.yOrigin),(!d||(f=d.split(" ")).length<2)&&(m=a.getBBox(),b=da(b).split(" "),f=[(-1!==b[0].indexOf("%")?parseFloat(b[0])/100*m.width:parseFloat(b[0]))+m.x,(-1!==b[1].indexOf("%")?parseFloat(b[1])/100*m.height:parseFloat(b[1]))+m.y]),c.xOrigin=j=parseFloat(f[0]),c.yOrigin=k=parseFloat(f[1]),d&&v!==Ia&&(l=v[0],m=v[1],n=v[2],o=v[3],p=v[4],q=v[5],r=l*o-m*n,h=j*(o/r)+k*(-n/r)+(n*q-o*p)/r,i=j*(-m/r)+k*(l/r)-(l*q-m*p)/r,j=c.xOrigin=f[0]=h,k=c.yOrigin=f[1]=i),u&&(e||e!==!1&&g.defaultSmoothOrigin!==!1?(h=j-s,i=k-t,u.xOffset+=h*v[0]+i*v[2]-h,u.yOffset+=h*v[1]+i*v[3]-i):u.xOffset=u.yOffset=0),a.setAttribute("data-svg-origin",f.join(" "))},Ha=function(a){return!!(Ca&&"function"==typeof a.getBBox&&a.getCTM&&(!a.parentNode||a.parentNode.getBBox&&a.parentNode.getCTM))},Ia=[1,0,0,1,0,0],Ja=function(a,b){var c,d,e,f,g,h=a._gsTransform||new Ba,i=1e5;if(xa?d=X(a,ya,null,!0):a.currentStyle&&(d=a.currentStyle.filter.match(E),d=d&&4===d.length?[d[0].substr(4),Number(d[2].substr(4)),Number(d[1].substr(4)),d[3].substr(4),h.x||0,h.y||0].join(","):""),c=!d||"none"===d||"matrix(1, 0, 0, 1, 0, 0)"===d,(h.svg||a.getBBox&&Ha(a))&&(c&&-1!==(a.style[xa]+"").indexOf("matrix")&&(d=a.style[xa],c=0),e=a.getAttribute("transform"),c&&e&&(-1!==e.indexOf("matrix")?(d=e,c=0):-1!==e.indexOf("translate")&&(d="matrix(1,0,0,1,"+e.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",c=0))),c)return Ia;for(e=(d||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[],ra=e.length;--ra>-1;)f=Number(e[ra]),e[ra]=(g=f-(f|=0))?(g*i+(0>g?-.5:.5)|0)/i+f:f;return b&&e.length>6?[e[0],e[1],e[4],e[5],e[12],e[13]]:e},Ka=O.getTransform=function(a,c,d,f){if(a._gsTransform&&d&&!f)return a._gsTransform;var h,i,j,k,l,m,n=d?a._gsTransform||new Ba:new Ba,o=n.scaleX<0,p=2e-5,q=1e5,r=Aa?parseFloat(X(a,za,c,!1,"0 0 0").split(" ")[2])||n.zOrigin||0:0,s=parseFloat(g.defaultTransformPerspective)||0;if(n.svg=!(!a.getBBox||!Ha(a)),n.svg&&(Ga(a,X(a,za,e,!1,"50% 50%")+"",n,a.getAttribute("data-svg-origin")),va=g.useSVGTransformAttr||Fa),h=Ja(a),h!==Ia){if(16===h.length){var t,u,v,w,x,y=h[0],z=h[1],A=h[2],B=h[3],C=h[4],D=h[5],E=h[6],F=h[7],G=h[8],H=h[9],J=h[10],K=h[12],L=h[13],M=h[14],N=h[11],O=Math.atan2(E,J);n.zOrigin&&(M=-n.zOrigin,K=G*M-h[12],L=H*M-h[13],M=J*M+n.zOrigin-h[14]),n.rotationX=O*I,O&&(w=Math.cos(-O),x=Math.sin(-O),t=C*w+G*x,u=D*w+H*x,v=E*w+J*x,G=C*-x+G*w,H=D*-x+H*w,J=E*-x+J*w,N=F*-x+N*w,C=t,D=u,E=v),O=Math.atan2(G,J),n.rotationY=O*I,O&&(w=Math.cos(-O),x=Math.sin(-O),t=y*w-G*x,u=z*w-H*x,v=A*w-J*x,H=z*x+H*w,J=A*x+J*w,N=B*x+N*w,y=t,z=u,A=v),O=Math.atan2(z,y),n.rotation=O*I,O&&(w=Math.cos(-O),x=Math.sin(-O),y=y*w+C*x,u=z*w+D*x,D=z*-x+D*w,E=A*-x+E*w,z=u),n.rotationX&&Math.abs(n.rotationX)+Math.abs(n.rotation)>359.9&&(n.rotationX=n.rotation=0,n.rotationY+=180),n.scaleX=(Math.sqrt(y*y+z*z)*q+.5|0)/q,n.scaleY=(Math.sqrt(D*D+H*H)*q+.5|0)/q,n.scaleZ=(Math.sqrt(E*E+J*J)*q+.5|0)/q,n.skewX=0,n.perspective=N?1/(0>N?-N:N):0,n.x=K,n.y=L,n.z=M,n.svg&&(n.x-=n.xOrigin-(n.xOrigin*y-n.yOrigin*C),n.y-=n.yOrigin-(n.yOrigin*z-n.xOrigin*D))}else if((!Aa||f||!h.length||n.x!==h[4]||n.y!==h[5]||!n.rotationX&&!n.rotationY)&&(void 0===n.x||"none"!==X(a,"display",c))){var P=h.length>=6,Q=P?h[0]:1,R=h[1]||0,S=h[2]||0,T=P?h[3]:1;n.x=h[4]||0,n.y=h[5]||0,j=Math.sqrt(Q*Q+R*R),k=Math.sqrt(T*T+S*S),l=Q||R?Math.atan2(R,Q)*I:n.rotation||0,m=S||T?Math.atan2(S,T)*I+l:n.skewX||0,Math.abs(m)>90&&Math.abs(m)<270&&(o?(j*=-1,m+=0>=l?180:-180,l+=0>=l?180:-180):(k*=-1,m+=0>=m?180:-180)),n.scaleX=j,n.scaleY=k,n.rotation=l,n.skewX=m,Aa&&(n.rotationX=n.rotationY=n.z=0,n.perspective=s,n.scaleZ=1),n.svg&&(n.x-=n.xOrigin-(n.xOrigin*Q+n.yOrigin*S),n.y-=n.yOrigin-(n.xOrigin*R+n.yOrigin*T))}n.zOrigin=r;for(i in n)n[i]<p&&n[i]>-p&&(n[i]=0)}return d&&(a._gsTransform=n,n.svg&&(va&&a.style[xa]?b.delayedCall(.001,function(){Oa(a.style,xa)}):!va&&a.getAttribute("transform")&&b.delayedCall(.001,function(){a.removeAttribute("transform")}))),n},La=function(a){var b,c,d=this.data,e=-d.rotation*H,f=e+d.skewX*H,g=1e5,h=(Math.cos(e)*d.scaleX*g|0)/g,i=(Math.sin(e)*d.scaleX*g|0)/g,j=(Math.sin(f)*-d.scaleY*g|0)/g,k=(Math.cos(f)*d.scaleY*g|0)/g,l=this.t.style,m=this.t.currentStyle;if(m){c=i,i=-j,j=-c,b=m.filter,l.filter="";var n,o,q=this.t.offsetWidth,r=this.t.offsetHeight,s="absolute"!==m.position,t="progid:DXImageTransform.Microsoft.Matrix(M11="+h+", M12="+i+", M21="+j+", M22="+k,w=d.x+q*d.xPercent/100,x=d.y+r*d.yPercent/100;if(null!=d.ox&&(n=(d.oxp?q*d.ox*.01:d.ox)-q/2,o=(d.oyp?r*d.oy*.01:d.oy)-r/2,w+=n-(n*h+o*i),x+=o-(n*j+o*k)),s?(n=q/2,o=r/2,t+=", Dx="+(n-(n*h+o*i)+w)+", Dy="+(o-(n*j+o*k)+x)+")"):t+=", sizingMethod='auto expand')",-1!==b.indexOf("DXImageTransform.Microsoft.Matrix(")?l.filter=b.replace(F,t):l.filter=t+" "+b,(0===a||1===a)&&1===h&&0===i&&0===j&&1===k&&(s&&-1===t.indexOf("Dx=0, Dy=0")||v.test(b)&&100!==parseFloat(RegExp.$1)||-1===b.indexOf(b.indexOf("Alpha"))&&l.removeAttribute("filter")),!s){var y,z,A,B=8>p?1:-1;for(n=d.ieOffsetX||0,o=d.ieOffsetY||0,d.ieOffsetX=Math.round((q-((0>h?-h:h)*q+(0>i?-i:i)*r))/2+w),d.ieOffsetY=Math.round((r-((0>k?-k:k)*r+(0>j?-j:j)*q))/2+x),ra=0;4>ra;ra++)z=ba[ra],y=m[z],c=-1!==y.indexOf("px")?parseFloat(y):Y(this.t,z,parseFloat(y),y.replace(u,""))||0,A=c!==d[z]?2>ra?-d.ieOffsetX:-d.ieOffsetY:2>ra?n-d.ieOffsetX:o-d.ieOffsetY,l[z]=(d[z]=Math.round(c-A*(0===ra||2===ra?1:B)))+"px"}}},Ma=O.set3DTransformRatio=O.setTransformRatio=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,o,p,q,r,s,t,u,v,w,x,y,z=this.data,A=this.t.style,B=z.rotation,C=z.rotationX,D=z.rotationY,E=z.scaleX,F=z.scaleY,G=z.scaleZ,I=z.x,J=z.y,K=z.z,L=z.svg,M=z.perspective,N=z.force3D;if(((1===a||0===a)&&"auto"===N&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!N)&&!K&&!M&&!D&&!C||va&&L||!Aa)return void(B||z.skewX||L?(B*=H,x=z.skewX*H,y=1e5,b=Math.cos(B)*E,e=Math.sin(B)*E,c=Math.sin(B-x)*-F,f=Math.cos(B-x)*F,x&&"simple"===z.skewType&&(s=Math.tan(x),s=Math.sqrt(1+s*s),c*=s,f*=s,z.skewY&&(b*=s,e*=s)),L&&(I+=z.xOrigin-(z.xOrigin*b+z.yOrigin*c)+z.xOffset,J+=z.yOrigin-(z.xOrigin*e+z.yOrigin*f)+z.yOffset,va&&(z.xPercent||z.yPercent)&&(p=this.t.getBBox(),I+=.01*z.xPercent*p.width,J+=.01*z.yPercent*p.height),p=1e-6,p>I&&I>-p&&(I=0),p>J&&J>-p&&(J=0)),u=(b*y|0)/y+","+(e*y|0)/y+","+(c*y|0)/y+","+(f*y|0)/y+","+I+","+J+")",L&&va?this.t.setAttribute("transform","matrix("+u):A[xa]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix(":"matrix(")+u):A[xa]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix(":"matrix(")+E+",0,0,"+F+","+I+","+J+")");if(n&&(p=1e-4,p>E&&E>-p&&(E=G=2e-5),p>F&&F>-p&&(F=G=2e-5),!M||z.z||z.rotationX||z.rotationY||(M=0)),B||z.skewX)B*=H,q=b=Math.cos(B),r=e=Math.sin(B),z.skewX&&(B-=z.skewX*H,q=Math.cos(B),r=Math.sin(B),"simple"===z.skewType&&(s=Math.tan(z.skewX*H),s=Math.sqrt(1+s*s),q*=s,r*=s,z.skewY&&(b*=s,e*=s))),c=-r,f=q;else{if(!(D||C||1!==G||M||L))return void(A[xa]=(z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) translate3d(":"translate3d(")+I+"px,"+J+"px,"+K+"px)"+(1!==E||1!==F?" scale("+E+","+F+")":""));b=f=1,c=e=0}j=1,d=g=h=i=k=l=0,m=M?-1/M:0,o=z.zOrigin,p=1e-6,v=",",w="0",B=D*H,B&&(q=Math.cos(B),r=Math.sin(B),h=-r,k=m*-r,d=b*r,g=e*r,j=q,m*=q,b*=q,e*=q),B=C*H,B&&(q=Math.cos(B),r=Math.sin(B),s=c*q+d*r,t=f*q+g*r,i=j*r,l=m*r,d=c*-r+d*q,g=f*-r+g*q,j*=q,m*=q,c=s,f=t),1!==G&&(d*=G,g*=G,j*=G,m*=G),1!==F&&(c*=F,f*=F,i*=F,l*=F),1!==E&&(b*=E,e*=E,h*=E,k*=E),(o||L)&&(o&&(I+=d*-o,J+=g*-o,K+=j*-o+o),L&&(I+=z.xOrigin-(z.xOrigin*b+z.yOrigin*c)+z.xOffset,J+=z.yOrigin-(z.xOrigin*e+z.yOrigin*f)+z.yOffset),p>I&&I>-p&&(I=w),p>J&&J>-p&&(J=w),p>K&&K>-p&&(K=0)),u=z.xPercent||z.yPercent?"translate("+z.xPercent+"%,"+z.yPercent+"%) matrix3d(":"matrix3d(",u+=(p>b&&b>-p?w:b)+v+(p>e&&e>-p?w:e)+v+(p>h&&h>-p?w:h),u+=v+(p>k&&k>-p?w:k)+v+(p>c&&c>-p?w:c)+v+(p>f&&f>-p?w:f),C||D?(u+=v+(p>i&&i>-p?w:i)+v+(p>l&&l>-p?w:l)+v+(p>d&&d>-p?w:d),u+=v+(p>g&&g>-p?w:g)+v+(p>j&&j>-p?w:j)+v+(p>m&&m>-p?w:m)+v):u+=",0,0,0,0,1,0,",u+=I+v+J+v+K+v+(M?1+-K/M:1)+")",A[xa]=u};j=Ba.prototype,j.x=j.y=j.z=j.skewX=j.skewY=j.rotation=j.rotationX=j.rotationY=j.zOrigin=j.xPercent=j.yPercent=j.xOffset=j.yOffset=0,j.scaleX=j.scaleY=j.scaleZ=1,ta("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(a,b,c,d,f,h,i){if(d._lastParsedTransform===i)return f;d._lastParsedTransform=i;var j,k,l,m,n,o,p,q,r,s=a._gsTransform,t=d._transform=Ka(a,e,!0,i.parseTransform),u=a.style,v=1e-6,w=wa.length,x=i,y={},z="transformOrigin";if("string"==typeof x.transform&&xa)l=M.style,l[xa]=x.transform,l.display="block",l.position="absolute",K.body.appendChild(M),j=Ka(M,null,!1),K.body.removeChild(M),null!=x.xPercent&&(j.xPercent=fa(x.xPercent,t.xPercent)),null!=x.yPercent&&(j.yPercent=fa(x.yPercent,t.yPercent));else if("object"==typeof x){if(j={scaleX:fa(null!=x.scaleX?x.scaleX:x.scale,t.scaleX),scaleY:fa(null!=x.scaleY?x.scaleY:x.scale,t.scaleY),scaleZ:fa(x.scaleZ,t.scaleZ),x:fa(x.x,t.x),y:fa(x.y,t.y),z:fa(x.z,t.z),xPercent:fa(x.xPercent,t.xPercent),yPercent:fa(x.yPercent,t.yPercent),perspective:fa(x.transformPerspective,t.perspective)},p=x.directionalRotation,null!=p)if("object"==typeof p)for(l in p)x[l]=p[l];else x.rotation=p;"string"==typeof x.x&&-1!==x.x.indexOf("%")&&(j.x=0,j.xPercent=fa(x.x,t.xPercent)),"string"==typeof x.y&&-1!==x.y.indexOf("%")&&(j.y=0,j.yPercent=fa(x.y,t.yPercent)),j.rotation=ga("rotation"in x?x.rotation:"shortRotation"in x?x.shortRotation+"_short":"rotationZ"in x?x.rotationZ:t.rotation,t.rotation,"rotation",y),Aa&&(j.rotationX=ga("rotationX"in x?x.rotationX:"shortRotationX"in x?x.shortRotationX+"_short":t.rotationX||0,t.rotationX,"rotationX",y),j.rotationY=ga("rotationY"in x?x.rotationY:"shortRotationY"in x?x.shortRotationY+"_short":t.rotationY||0,t.rotationY,"rotationY",y)),j.skewX=null==x.skewX?t.skewX:ga(x.skewX,t.skewX),j.skewY=null==x.skewY?t.skewY:ga(x.skewY,t.skewY),(k=j.skewY-t.skewY)&&(j.skewX+=k,j.rotation+=k)}for(Aa&&null!=x.force3D&&(t.force3D=x.force3D,o=!0),t.skewType=x.skewType||t.skewType||g.defaultSkewType,n=t.force3D||t.z||t.rotationX||t.rotationY||j.z||j.rotationX||j.rotationY||j.perspective,n||null==x.scale||(j.scaleZ=1);--w>-1;)c=wa[w],m=j[c]-t[c],(m>v||-v>m||null!=x[c]||null!=J[c])&&(o=!0,f=new oa(t,c,t[c],m,f),c in y&&(f.e=y[c]),f.xs0=0,f.plugin=h,d._overwriteProps.push(f.n));return m=x.transformOrigin,t.svg&&(m||x.svgOrigin)&&(q=t.xOffset,r=t.yOffset,Ga(a,da(m),j,x.svgOrigin,x.smoothOrigin),f=pa(t,"xOrigin",(s?t:j).xOrigin,j.xOrigin,f,z),f=pa(t,"yOrigin",(s?t:j).yOrigin,j.yOrigin,f,z),(q!==t.xOffset||r!==t.yOffset)&&(f=pa(t,"xOffset",s?q:t.xOffset,t.xOffset,f,z),f=pa(t,"yOffset",s?r:t.yOffset,t.yOffset,f,z)),m=va?null:"0px 0px"),(m||Aa&&n&&t.zOrigin)&&(xa?(o=!0,c=za,m=(m||X(a,c,e,!1,"50% 50%"))+"",f=new oa(u,c,0,0,f,-1,z),f.b=u[c],f.plugin=h,Aa?(l=t.zOrigin,m=m.split(" "),t.zOrigin=(m.length>2&&(0===l||"0px"!==m[2])?parseFloat(m[2]):l)||0,f.xs0=f.e=m[0]+" "+(m[1]||"50%")+" 0px",f=new oa(t,"zOrigin",0,0,f,-1,f.n),f.b=l,f.xs0=f.e=t.zOrigin):f.xs0=f.e=m):da(m+"",t)),o&&(d._transformType=t.svg&&va||!n&&3!==this._transformType?2:3),f},prefix:!0}),ta("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),ta("borderRadius",{defaultValue:"0px",parser:function(a,b,c,f,g,h){b=this.format(b);var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],z=a.style;for(q=parseFloat(a.offsetWidth),r=parseFloat(a.offsetHeight),i=b.split(" "),j=0;j<y.length;j++)this.p.indexOf("border")&&(y[j]=V(y[j])),m=l=X(a,y[j],e,!1,"0px"),-1!==m.indexOf(" ")&&(l=m.split(" "),m=l[0],l=l[1]),n=k=i[j],o=parseFloat(m),t=m.substr((o+"").length),u="="===n.charAt(1),u?(p=parseInt(n.charAt(0)+"1",10),n=n.substr(2),p*=parseFloat(n),s=n.substr((p+"").length-(0>p?1:0))||""):(p=parseFloat(n),s=n.substr((p+"").length)),""===s&&(s=d[c]||t),s!==t&&(v=Y(a,"borderLeft",o,t),w=Y(a,"borderTop",o,t),"%"===s?(m=v/q*100+"%",l=w/r*100+"%"):"em"===s?(x=Y(a,"borderLeft",1,"em"),m=v/x+"em",l=w/x+"em"):(m=v+"px",l=w+"px"),u&&(n=parseFloat(m)+p+s,k=parseFloat(l)+p+s)),g=qa(z,y[j],m+" "+l,n+" "+k,!1,"0px",g);return g},prefix:!0,formatter:la("0px 0px 0px 0px",!1,!0)}),ta("backgroundPosition",{defaultValue:"0 0",parser:function(a,b,c,d,f,g){var h,i,j,k,l,m,n="background-position",o=e||W(a,null),q=this.format((o?p?o.getPropertyValue(n+"-x")+" "+o.getPropertyValue(n+"-y"):o.getPropertyValue(n):a.currentStyle.backgroundPositionX+" "+a.currentStyle.backgroundPositionY)||"0 0"),r=this.format(b);if(-1!==q.indexOf("%")!=(-1!==r.indexOf("%"))&&(m=X(a,"backgroundImage").replace(B,""),m&&"none"!==m)){for(h=q.split(" "),i=r.split(" "),N.setAttribute("src",m),j=2;--j>-1;)q=h[j],k=-1!==q.indexOf("%"),k!==(-1!==i[j].indexOf("%"))&&(l=0===j?a.offsetWidth-N.width:a.offsetHeight-N.height,h[j]=k?parseFloat(q)/100*l+"px":parseFloat(q)/l*100+"%");q=h.join(" ")}return this.parseComplex(a.style,q,r,f,g)},formatter:da}),ta("backgroundSize",{defaultValue:"0 0",formatter:da}),ta("perspective",{defaultValue:"0px",prefix:!0}),ta("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),ta("transformStyle",{prefix:!0}),ta("backfaceVisibility",{prefix:!0}),ta("userSelect",{prefix:!0}),ta("margin",{parser:ma("marginTop,marginRight,marginBottom,marginLeft")}),ta("padding",{parser:ma("paddingTop,paddingRight,paddingBottom,paddingLeft")}),ta("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(a,b,c,d,f,g){var h,i,j;return 9>p?(i=a.currentStyle,j=8>p?" ":",",h="rect("+i.clipTop+j+i.clipRight+j+i.clipBottom+j+i.clipLeft+")",b=this.format(b).split(",").join(j)):(h=this.format(X(a,this.p,e,!1,this.dflt)),b=this.format(b)),this.parseComplex(a.style,h,b,f,g)}}),ta("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),ta("autoRound,strictUnits",{parser:function(a,b,c,d,e){return e}}),ta("border",{defaultValue:"0px solid #000",parser:function(a,b,c,d,f,g){return this.parseComplex(a.style,this.format(X(a,"borderTopWidth",e,!1,"0px")+" "+X(a,"borderTopStyle",e,!1,"solid")+" "+X(a,"borderTopColor",e,!1,"#000")),this.format(b),f,g)},color:!0,formatter:function(a){var b=a.split(" ");return b[0]+" "+(b[1]||"solid")+" "+(a.match(ka)||["#000"])[0]}}),ta("borderWidth",{parser:ma("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),ta("float,cssFloat,styleFloat",{parser:function(a,b,c,d,e,f){var g=a.style,h="cssFloat"in g?"cssFloat":"styleFloat";return new oa(g,h,0,0,e,-1,c,!1,0,g[h],b)}});var Na=function(a){var b,c=this.t,d=c.filter||X(this.data,"filter")||"",e=this.s+this.c*a|0;100===e&&(-1===d.indexOf("atrix(")&&-1===d.indexOf("radient(")&&-1===d.indexOf("oader(")?(c.removeAttribute("filter"),b=!X(this.data,"filter")):(c.filter=d.replace(x,""),b=!0)),b||(this.xn1&&(c.filter=d=d||"alpha(opacity="+e+")"),-1===d.indexOf("pacity")?0===e&&this.xn1||(c.filter=d+" alpha(opacity="+e+")"):c.filter=d.replace(v,"opacity="+e))};ta("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(a,b,c,d,f,g){var h=parseFloat(X(a,"opacity",e,!1,"1")),i=a.style,j="autoAlpha"===c;return"string"==typeof b&&"="===b.charAt(1)&&(b=("-"===b.charAt(0)?-1:1)*parseFloat(b.substr(2))+h),j&&1===h&&"hidden"===X(a,"visibility",e)&&0!==b&&(h=0),Q?f=new oa(i,"opacity",h,b-h,f):(f=new oa(i,"opacity",100*h,100*(b-h),f),f.xn1=j?1:0,i.zoom=1,f.type=2,f.b="alpha(opacity="+f.s+")",f.e="alpha(opacity="+(f.s+f.c)+")",f.data=a,f.plugin=g,f.setRatio=Na),j&&(f=new oa(i,"visibility",0,0,f,-1,null,!1,0,0!==h?"inherit":"hidden",0===b?"hidden":"inherit"),f.xs0="inherit",d._overwriteProps.push(f.n),d._overwriteProps.push(c)),f}});var Oa=function(a,b){b&&(a.removeProperty?(("ms"===b.substr(0,2)||"webkit"===b.substr(0,6))&&(b="-"+b),a.removeProperty(b.replace(z,"-$1").toLowerCase())):a.removeAttribute(b))},Pa=function(a){if(this.t._gsClassPT=this,1===a||0===a){this.t.setAttribute("class",0===a?this.b:this.e);for(var b=this.data,c=this.t.style;b;)b.v?c[b.p]=b.v:Oa(c,b.p),b=b._next;1===a&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};ta("className",{parser:function(a,b,d,f,g,h,i){var j,k,l,m,n,o=a.getAttribute("class")||"",p=a.style.cssText;if(g=f._classNamePT=new oa(a,d,0,0,g,2),g.setRatio=Pa,g.pr=-11,c=!0,g.b=o,k=$(a,e),l=a._gsClassPT){for(m={},n=l.data;n;)m[n.p]=1,n=n._next;l.setRatio(1)}return a._gsClassPT=g,g.e="="!==b.charAt(1)?b:o.replace(new RegExp("\\s*\\b"+b.substr(2)+"\\b"),"")+("+"===b.charAt(0)?" "+b.substr(2):""),a.setAttribute("class",g.e),j=_(a,k,$(a),i,m),a.setAttribute("class",o),g.data=j.firstMPT,a.style.cssText=p,g=g.xfirst=f.parse(a,j.difs,g,h)}});var Qa=function(a){if((1===a||0===a)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var b,c,d,e,f,g=this.t.style,h=i.transform.parse;if("all"===this.e)g.cssText="",e=!0;else for(b=this.e.split(" ").join("").split(","),d=b.length;--d>-1;)c=b[d],i[c]&&(i[c].parse===h?e=!0:c="transformOrigin"===c?za:i[c].p),Oa(g,c);e&&(Oa(g,xa),f=this.t._gsTransform,f&&(f.svg&&this.t.removeAttribute("data-svg-origin"),delete this.t._gsTransform))}};for(ta("clearProps",{parser:function(a,b,d,e,f){return f=new oa(a,d,0,0,f,2),f.setRatio=Qa,f.e=b,f.pr=-10,f.data=e._tween,c=!0,f}}),j="bezier,throwProps,physicsProps,physics2D".split(","),ra=j.length;ra--;)ua(j[ra]);j=g.prototype,j._firstPT=j._lastParsedTransform=j._transform=null,j._onInitTween=function(a,b,h){if(!a.nodeType)return!1;this._target=a,this._tween=h,this._vars=b,k=b.autoRound,c=!1,d=b.suffixMap||g.suffixMap,e=W(a,""),f=this._overwriteProps;var j,n,p,q,r,s,t,u,v,x=a.style;if(l&&""===x.zIndex&&(j=X(a,"zIndex",e),("auto"===j||""===j)&&this._addLazySet(x,"zIndex",0)),"string"==typeof b&&(q=x.cssText,j=$(a,e),x.cssText=q+";"+b,j=_(a,j,$(a)).difs,!Q&&w.test(b)&&(j.opacity=parseFloat(RegExp.$1)),b=j,x.cssText=q),b.className?this._firstPT=n=i.className.parse(a,b.className,"className",this,null,null,b):this._firstPT=n=this.parse(a,b,null),this._transformType){for(v=3===this._transformType,xa?m&&(l=!0,""===x.zIndex&&(t=X(a,"zIndex",e),("auto"===t||""===t)&&this._addLazySet(x,"zIndex",0)),o&&this._addLazySet(x,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(v?"visible":"hidden"))):x.zoom=1,
p=n;p&&p._next;)p=p._next;u=new oa(a,"transform",0,0,null,2),this._linkCSSP(u,null,p),u.setRatio=xa?Ma:La,u.data=this._transform||Ka(a,e,!0),u.tween=h,u.pr=-1,f.pop()}if(c){for(;n;){for(s=n._next,p=q;p&&p.pr>n.pr;)p=p._next;(n._prev=p?p._prev:r)?n._prev._next=n:q=n,(n._next=p)?p._prev=n:r=n,n=s}this._firstPT=q}return!0},j.parse=function(a,b,c,f){var g,h,j,l,m,n,o,p,q,r,s=a.style;for(g in b)n=b[g],h=i[g],h?c=h.parse(a,n,g,this,c,f,b):(m=X(a,g,e)+"",q="string"==typeof n,"color"===g||"fill"===g||"stroke"===g||-1!==g.indexOf("Color")||q&&y.test(n)?(q||(n=ja(n),n=(n.length>3?"rgba(":"rgb(")+n.join(",")+")"),c=qa(s,g,m,n,!0,"transparent",c,0,f)):!q||-1===n.indexOf(" ")&&-1===n.indexOf(",")?(j=parseFloat(m),o=j||0===j?m.substr((j+"").length):"",(""===m||"auto"===m)&&("width"===g||"height"===g?(j=ca(a,g,e),o="px"):"left"===g||"top"===g?(j=Z(a,g,e),o="px"):(j="opacity"!==g?0:1,o="")),r=q&&"="===n.charAt(1),r?(l=parseInt(n.charAt(0)+"1",10),n=n.substr(2),l*=parseFloat(n),p=n.replace(u,"")):(l=parseFloat(n),p=q?n.replace(u,""):""),""===p&&(p=g in d?d[g]:o),n=l||0===l?(r?l+j:l)+p:b[g],o!==p&&""!==p&&(l||0===l)&&j&&(j=Y(a,g,j,o),"%"===p?(j/=Y(a,g,100,"%")/100,b.strictUnits!==!0&&(m=j+"%")):"em"===p?j/=Y(a,g,1,"em"):"px"!==p&&(l=Y(a,g,l,p),p="px"),r&&(l||0===l)&&(n=l+j+p)),r&&(l+=j),!j&&0!==j||!l&&0!==l?void 0!==s[g]&&(n||n+""!="NaN"&&null!=n)?(c=new oa(s,g,l||j||0,0,c,-1,g,!1,0,m,n),c.xs0="none"!==n||"display"!==g&&-1===g.indexOf("Style")?n:m):S("invalid "+g+" tween value: "+b[g]):(c=new oa(s,g,j,l-j,c,0,g,k!==!1&&("px"===p||"zIndex"===g),0,m,n),c.xs0=p)):c=qa(s,g,m,n,!0,null,c,0,f)),f&&c&&!c.plugin&&(c.plugin=f);return c},j.setRatio=function(a){var b,c,d,e=this._firstPT,f=1e-6;if(1!==a||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(a||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;e;){if(b=e.c*a+e.s,e.r?b=Math.round(b):f>b&&b>-f&&(b=0),e.type)if(1===e.type)if(d=e.l,2===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2;else if(3===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3;else if(4===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4;else if(5===d)e.t[e.p]=e.xs0+b+e.xs1+e.xn1+e.xs2+e.xn2+e.xs3+e.xn3+e.xs4+e.xn4+e.xs5;else{for(c=e.xs0+b+e.xs1,d=1;d<e.l;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}else-1===e.type?e.t[e.p]=e.xs0:e.setRatio&&e.setRatio(a);else e.t[e.p]=b+e.xs0;e=e._next}else for(;e;)2!==e.type?e.t[e.p]=e.b:e.setRatio(a),e=e._next;else for(;e;){if(2!==e.type)if(e.r&&-1!==e.type)if(b=Math.round(e.s+e.c),e.type){if(1===e.type){for(d=e.l,c=e.xs0+b+e.xs1,d=1;d<e.l;d++)c+=e["xn"+d]+e["xs"+(d+1)];e.t[e.p]=c}}else e.t[e.p]=b+e.xs0;else e.t[e.p]=e.e;else e.setRatio(a);e=e._next}},j._enableTransforms=function(a){this._transform=this._transform||Ka(this._target,e,!0),this._transformType=this._transform.svg&&va||!a&&3!==this._transformType?2:3};var Ra=function(a){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};j._addLazySet=function(a,b,c){var d=this._firstPT=new oa(a,b,0,0,this._firstPT,2);d.e=c,d.setRatio=Ra,d.data=this},j._linkCSSP=function(a,b,c,d){return a&&(b&&(b._prev=a),a._next&&(a._next._prev=a._prev),a._prev?a._prev._next=a._next:this._firstPT===a&&(this._firstPT=a._next,d=!0),c?c._next=a:d||null!==this._firstPT||(this._firstPT=a),a._next=b,a._prev=c),a},j._kill=function(b){var c,d,e,f=b;if(b.autoAlpha||b.alpha){f={};for(d in b)f[d]=b[d];f.opacity=1,f.autoAlpha&&(f.visibility=1)}return b.className&&(c=this._classNamePT)&&(e=c.xfirst,e&&e._prev?this._linkCSSP(e._prev,c._next,e._prev._prev):e===this._firstPT&&(this._firstPT=c._next),c._next&&this._linkCSSP(c._next,c._next._next,e._prev),this._classNamePT=null),a.prototype._kill.call(this,f)};var Sa=function(a,b,c){var d,e,f,g;if(a.slice)for(e=a.length;--e>-1;)Sa(a[e],b,c);else for(d=a.childNodes,e=d.length;--e>-1;)f=d[e],g=f.type,f.style&&(b.push($(f)),c&&c.push(f)),1!==g&&9!==g&&11!==g||!f.childNodes.length||Sa(f,b,c)};return g.cascadeTo=function(a,c,d){var e,f,g,h,i=b.to(a,c,d),j=[i],k=[],l=[],m=[],n=b._internals.reservedProps;for(a=i._targets||i.target,Sa(a,k,m),i.render(c,!0,!0),Sa(a,l),i.render(0,!0,!0),i._enabled(!0),e=m.length;--e>-1;)if(f=_(m[e],k[e],l[e]),f.firstMPT){f=f.difs;for(g in d)n[g]&&(f[g]=d[g]);h={};for(g in f)h[g]=k[e][g];j.push(b.fromTo(m[e],c,h,f))}return j},a.activate([g]),g},!0)}),_gsScope._gsDefine&&_gsScope._gsQueue.pop()(),function(a){"use strict";var b=function(){return(_gsScope.GreenSockGlobals||_gsScope)[a]};"function"==typeof define&&define.amd?define(["TweenLite"],b):"undefined"!=typeof module&&module.exports&&(require("../TweenLite.js"),module.exports=b())}("CSSPlugin"),function(a){"use strict";var b=function(b){var c,d,e={tolerance:50,selector:"img[data-src]",placeholder:"/resources/public/images/lazy-load-placeholder.png"},f=function(a){a&&(e=Object.assign({},e,a)),j(),g()},g=function(){d.filter(function(a){var b=l(a,"data-src");b&&(a.classList.remove("has-placeholder"),a.src=b,a.attributes.loaded=!0,a.setAttribute("data-loaded","true"))})},h=function o(a){/in/.test(document.readyState)?setTimeout(function(){return o(a)},9):a()},i=function(a,b){var c=Date.now();return function(){c+b-Date.now()<0&&(a(),c=Date.now())}},j=function(){c=a.document.querySelectorAll(e.selector),c=[].slice.call(c),d=c.filter(function(a){var b=l(a,"data-disable-lazy-load");return"true"===b||null!==l(a,"data-src")&&null===l(a,"data-background-image")}),c=c.filter(function(a){var b=l(a,"data-disable-lazy-load");return(null===b||"true"!==b)&&null!==l(a,"data-src")||null!==l(a,"data-background-image")}),c=c.filter(function(a){return null!==l(a,"data-src")&&null!==l(a,"data-background-image")}),e.placeholder&&c.filter(function(a){a.getAttribute("data-loaded")||(a.src=e.placeholder,a.classList.add("has-placeholder"))}),a.onscroll=i(n,150),h(function(){m(k())})},k=function(){var b=document.documentElement,c=(a.pageYOffset||b.scrollTop)-(b.clientTop||0);return a.innerHeight+c+e.tolerance},l=function(a,b){return a.attributes&&a.attributes.getNamedItem(b)?a.attributes.getNamedItem(b).value:null},m=function(a){c.filter(function(b){if(a>(b.y||b.scrollTop)&&!b.attributes.loaded){var c=l(b,"data-src");if(c&&(b.classList.remove("has-placeholder"),b.src=c,b.attributes.loaded=!0,b.setAttribute("data-loaded","true")),l(b,"data-background-image")){var d=[].slice.call(b.children),e=d.filter(function(a){return a.classList.contains("active-media")}),f=l(e,"data-src");b.style.backgroundImage=f,b.classList.add("backgroundImage"),b.classList.add("image"),b.setAttribute("data-loaded","true")}}})},n=function(a){return m(k())};f(b)};a.addEventListener("responsive:complete",function(){return b()})}(window),function(a,b){"function"==typeof define&&define.amd?define(["ScrollMagic","TweenMax","TimelineMax"],b):"object"==typeof exports?(require("gsap"),b(require("scrollmagic"),TweenMax,TimelineMax)):b(a.ScrollMagic||a.jQuery&&a.jQuery.ScrollMagic,a.TweenMax||a.TweenLite,a.TimelineMax||a.TimelineLite)}(this,function(a,b,c){"use strict";var d="animation.gsap",e=window.console||{},f=Function.prototype.bind.call(e.error||e.log||function(){},e);a||f("("+d+") -> ERROR: The ScrollMagic main module could not be found. Please make sure it's loaded before this plugin or use an asynchronous loader like requirejs."),b||f("("+d+") -> ERROR: TweenLite or TweenMax could not be found. Please make sure GSAP is loaded before ScrollMagic or use an asynchronous loader like requirejs."),a.Scene.addOption("tweenChanges",!1,function(a){return!!a}),a.Scene.extend(function(){var a,e=this,f=function(){e._log&&(Array.prototype.splice.call(arguments,1,0,"("+d+")","->"),e._log.apply(this,arguments))};e.on("progress.plugin_gsap",function(){g()}),e.on("destroy.plugin_gsap",function(a){e.removeTween(a.reset)});var g=function(){if(a){var b=e.progress(),c=e.state();a.repeat&&-1===a.repeat()?"DURING"===c&&a.paused()?a.play():"DURING"===c||a.paused()||a.pause():b!=a.progress()&&(0===e.duration()?b>0?a.play():a.reverse():e.tweenChanges()&&a.tweenTo?a.tweenTo(b*a.duration()):a.progress(b).pause())}};e.setTween=function(d,h,i){var j;arguments.length>1&&(arguments.length<3&&(i=h,h=1),d=b.to(d,h,i));try{j=c?new c({smoothChildTiming:!0}).add(d):d,j.pause()}catch(k){return f(1,"ERROR calling method 'setTween()': Supplied argument is not a valid TweenObject"),e}if(a&&e.removeTween(),a=j,d.repeat&&-1===d.repeat()&&(a.repeat(-1),a.yoyo(d.yoyo())),e.tweenChanges()&&!a.tweenTo&&f(2,"WARNING: tweenChanges will only work if the TimelineMax object is available for ScrollMagic."),a&&e.controller()&&e.triggerElement()&&e.loglevel()>=2){var l=b.getTweensOf(e.triggerElement()),m=e.controller().info("vertical");l.forEach(function(a,b){var c=a.vars.css||a.vars,d=m?void 0!==c.top||void 0!==c.bottom:void 0!==c.left||void 0!==c.right;return d?(f(2,"WARNING: Tweening the position of the trigger element affects the scene timing and should be avoided!"),!1):void 0})}if(parseFloat(TweenLite.version)>=1.14)for(var n,o,p=a.getChildren?a.getChildren(!0,!0,!1):[a],q=function(){f(2,"WARNING: tween was overwritten by another. To learn how to avoid this issue see here: https://github.com/janpaepke/ScrollMagic/wiki/WARNING:-tween-was-overwritten-by-another")},r=0;r<p.length;r++)n=p[r],o!==q&&(o=n.vars.onOverwrite,n.vars.onOverwrite=function(){o&&o.apply(this,arguments),q.apply(this,arguments)});return f(3,"added tween"),g(),e},e.removeTween=function(b){return a&&(b&&a.progress(0).pause(),a.kill(),a=void 0,f(3,"removed tween (reset: "+(b?"true":"false")+")")),e}})}),function(a){var b=0,c={resizeMaxTry:4,resizeWaitTime:50,minimumHeight:50,defaultHeight:1500,heightOffset:0,exceptPages:"",debugMode:!1,visibilitybeforeload:!1,blockCrossDomain:!1,externalHeightName:"bodyHeight",onMessageFunctionName:"getHeight",domainName:"*",watcher:!1,watcherTime:400,uuid:""};a.iframeHeight=function(c,d){var e=this,f=d.uuid?d.uuid:b;e.resizeEventsOnce=!1,a.iframeHeight.resizeTimeout=null,a.iframeHeight.resizeCount=0,e.$el=a(c),e.el=c,e.$el.before("<div id='iframeHeight-Container-"+f+"' style='padding: 0; margin: 0; border: none; background-color: transparent;'></div>"),e.$el.appendTo("#iframeHeight-Container-"+f),e.$container=a("#iframeHeight-Container-"+f),e.$el.data("iframeHeight",e),e.watcher=null,e.debug={FirstTime:!0,Init:function(){"console"in window||(console={}),"log info warn error dir clear".replace(/\w+/g,function(a){a in console||(console[a]=console.log||new Function)})},Log:function(a){this.FirstTime&&this.FirstTime===!0&&(this.Init(),this.FirstTime=!1),e.options.debugMode&&e.options.debugMode===!0&&console&&(null!==a||""!==a)&&console.log("Iframe Plugin : "+a)},GetBrowserInfo:function(a){var b,c,d=function(a){a=a.toLowerCase();var b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||a.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browserObj:b[1]||"",version:b[2]||"0"}};return b=d(navigator.userAgent),c={chrome:!1,safari:!1,mozilla:!1,msie:!1,webkit:!1},b.browserObj&&(c[b.browserObj]=!0,c.version=b.version),c.chrome?c.webkit=!0:c.webkit&&(c.safari=!0),a=c}(this.GetBrowserInfo||{})};var g=function(){try{var a;return a=e.debug.GetBrowserInfo.msie&&"7.0"==e.debug.GetBrowserInfo.version?e.$el.get(0).contentWindow.location.href:e.$el.get(0).contentDocument.location.href,e.debug.Log("This page is non-Cross Domain - "+a),!1}catch(b){return e.debug.Log("This page is Cross Domain"),!0}};e.resetIframe=function(){!e.options.visibilitybeforeload||e.debug.GetBrowserInfo.msie&&"7.0"==e.debug.GetBrowserInfo.version||e.$el.css("visibility","hidden"),e.debug.Log("Old Height is "+e.$el.height()+"px"),e.$el.css("height","").removeAttr("height"),e.debug.Log("Reset iframe"),e.debug.Log("Height is "+e.$el.height()+"px after reset")},e.resizeFromOutside=function(b){if(e.options.blockCrossDomain)return e.debug.Log("Blocked cross domain fix"),!1;if("undefined"==typeof b)return!1;if("string"!=typeof b.data)return!1;if("reset"==b.data)e.$el.css("height","").removeAttr("height");else{if(!/^ifh*/.test(b.data))return!1;if(e.resizeEventsOnce||(e.resizeEventsOnce=!0,a(window).resize(function(){e.$el.trigger("updateIframe")}),window.setTimeout(function(){e.resetIframe(),e.$el.trigger("updateIframe")},100)),e.$el.attr("scrolling","no"),e.debug.Log("resizeFromOutside "+b.data),"number"!=typeof parseInt(b.data.substring(3)))return!1;var c=parseInt(b.data.substring(3))+parseInt(e.options.heightOffset);!e.options.visibilitybeforeload||e.debug.GetBrowserInfo.msie&&"7.0"==e.debug.GetBrowserInfo.version||e.$el.css("visibility","hidden"),e.$el.css("height","").removeAttr("height"),e.debug.Log("resizeFromOutside "+c),e.resetIframe(),e.setIframeHeight(c)}return!0},e.checkMessageEvent=function(){if(e.options.blockCrossDomain||e.debug.GetBrowserInfo.msie&&"7.0"==e.debug.GetBrowserInfo.version)return e.debug.Log("Blocked cross domain fix"),!1;!e.options.visibilitybeforeload||e.debug.GetBrowserInfo.msie&&"7.0"==e.debug.GetBrowserInfo.version||e.$el.css("visibility","visible"),window.addEventListener?window.addEventListener("message",e.resizeFromOutside,!1):window.attachEvent&&window.attachEvent("onmessage",e.resizeFromOutside),e.$el.id||(e.$el.id="iframe-id-"+ ++b);var a=document.getElementById(e.$el.attr("id")),c=e.options.onMessageFunctionName;return a.contentWindow.postMessage?(a.contentWindow.postMessage(c,"*"),e.debug.Log("Cross Domain Iframe started"),!0):(e.debug.Log("Your browser does not support the postMessage method!"),!1)};var h=function(){a.iframeHeight.resizeCount<=e.options.resizeMaxTry?(a.iframeHeight.resizeCount++,a.iframeHeight.resizeTimeout=setTimeout(a.iframeHeight.resizeIframe,e.options.resizeWaitTime),e.debug.Log(a.iframeHeight.resizeCount+" time(s) tried")):(clearTimeout(a.iframeHeight.resizeTimeout),a.iframeHeight.resizeCount=0,e.debug.Log("set default height for iframe"),e.setIframeHeight(e.options.defaultHeight+e.options.heightOffset))};e.sendInfotoTop=function(){if(top.length>0&&"undefined"!=typeof JSON){var b={};b[e.options.externalHeightName].value=a(document).height();var c="*";return b=JSON.stringify(b),top.postMessage(b,c),e.debug.Log("sent info to top page"),!1}return!0},e.setIframeHeight=function(a){e.$el.height(a).css("height",a),e.$el.data("iframeheight")!=a&&e.$container.height(a).css("height",a),!e.options.visibilitybeforeload||e.debug.GetBrowserInfo.msie&&"7.0"==e.debug.GetBrowserInfo.version||e.$el.css("visibility","visible"),e.debug.Log("Now iframe height is "+a+"px"),e.$el.data("iframeheight",a)},a.iframeHeight.resizeIframe=function(){if(g())e.debug.Log("options height : "+e.options.defaultHeight),!e.options.visibilitybeforeload||e.debug.GetBrowserInfo.msie&&"7.0"==e.debug.GetBrowserInfo.version||e.$el.css("visibility","visible"),e.checkMessageEvent();else if(e.$el.css("height")===e.options.minimumHeight+"px",null!==e.$el.get(0).contentWindow.document.body){e.debug.Log("This page has body info");var b=a(e.$el.get(0).contentWindow.document).height(),c=e.$el.get(0).contentWindow.document.location.pathname.substring(e.$el.get(0).contentWindow.document.location.pathname.lastIndexOf("/")+1).toLowerCase();e.debug.Log("page height : "+b+"px || page name : "+c),b<=e.options.minimumHeight&&-1==e.options.exceptPages.indexOf(c)?h():b>e.options.minimumHeight&&-1==e.options.exceptPages.indexOf(c)&&e.setIframeHeight(b+e.options.heightOffset)}else e.debug.Log("This page has not body info"),h()},this.$el.bind("updateIframe",function(){a.iframeHeight.resizeIframe(),e.debug.Log("Updated Iframe Manually")}),this.$el.bind("killWatcher",function(){window.clearInterval(e.watcher),e.debug.Log("Killed Watcher")}),e.init=function(){return e.options=a.extend({},a.iframeHeight.defaultOptions,d),1==e.options.watcher&&(e.options.blockCrossDomain=!0),e.debug.Log(e.options),void 0===e.$el.get(0).tagName||"iframe"!==e.$el.get(0).tagName.toLowerCase()?(e.debug.Log("This element is not iframe!"),!1):(a.iframeHeight.resizeIframe(),e.$el.load(function(){a.iframeHeight.resizeIframe()}),e.options.watcher&&(e.watcher=setInterval(function(){e.debug.Log("Checked Iframe")},e.options.watcherTime)),!0)},e.init()},a.iframeHeight.defaultOptions=c,a.fn.iframeHeight=function(b){return this.each(function(){new a.iframeHeight(this,b)})},a.iframeHeightExternal=function(){function b(b){var d;if("domain"in b&&(d=b.domain),"origin"in b&&(base.debug.Log(b.origin),d=b.origin),"*"!==c.domainName&&d!==c.domainName)return void a.iframeHeight.debug.Log("It's not same domain. Blocked!");if(b.data==c.onMessageFunctionName){var e="ifh"+a(document).height();b.source.postMessage(e,b.origin)}}return 1===arguments.length&&a.isPlainObject(arguments[0])&&(c=arguments[0]),window.addEventListener?window.addEventListener("message",b,!1):window.attachEvent&&window.attachEvent("onmessage",b),{update:function(){this.reset(),window.__domainname=c.domainName,setTimeout(function(){var b="ifh"+a(document).height();parent.postMessage(b,window.__domainname)},90)},reset:function(){parent.postMessage("reset",c.domainName)}}}}(jQuery),Loader.prototype.easeInOutSine=function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b},Loader.prototype.iterate=function(){this.endIterator===this.totalIterations&&this.startIterator===this.totalIterations?(this.startIterator=0,this.endIterator=0):0===this.endIterator&&0===this.startIterator?this.waitIterator===this.waitFrames?(this.waitIterator=0,this.endIterator++,this.state.loaded&&(this.finalIteration=!0)):this.waitIterator++:(this.endIterator!==this.totalIterations&&this.endIterator++,this.endIterator>this.tailLength&&!this.finalIteration&&this.startIterator++),(this.currentStart===this.start&&this.currentEnd>=this.callbackCheck&&this.finalIteration||this.interacted)&&this[this.callback]&&(this[this.callback](),this.state.complete=!0)},Loader.prototype.loaded=function(){this.state.loaded||(this.state.loaded=!0)},Loader.prototype.drawLoaderElement=function(){this.ctx.lineCap="round",this.ctx.lineWidth=5,this.ctx.strokeStyle=this.color,this.ctx.lineWidth=5,this.alpha<0&&(this.alpha=0),this.ctx.save(),this.hidden&&(this.alpha=0),this.alpha>1&&(this.alpha=1),this.ctx.globalAlpha=this.alpha,this.ctx.translate(this.x,this.y),this.ctx.beginPath(),this.currentStart=this.easeInOutSine(this.startIterator,this.start,this.end-this.start,this.totalIterations),this.currentEnd=this.easeInOutSine(this.endIterator,this.start,this.end-this.start,this.totalIterations),this.ctx.arc(0,0,this.radius,this.currentStart*Math.PI,this.currentEnd*Math.PI),this.ctx.stroke(),this.ctx.closePath(),this.ctx.restore()},Loader.prototype.draw=function(){this.state.complete&&this.spinnerCompletedCallback&&!this.spinnerComplete&&(this.spinnerComplete=!0,setTimeout(function(){this.spinnerCompletedCallback()}.bind(this),200)),this.iterate(),this.drawLoaderElement(),this.debug()},Loader.prototype.resize=function(){this.x=this.canvas.width/2,this.y=this.canvas.height/2,this.callback&&"fadeOut"!==this.callback&&this[this.callback+"Resize"]()},Loader.prototype.hide=function(){this.hidden=!0},Loader.prototype.show=function(){this.hidden=!1},Loader.prototype.debug=function(){if(this.state.debug)for(var a in this.debugVars)this.ctx.fillText(this.debugVars[a]+": "+this[this.debugVars[a]],10,10*(parseInt(a,10)+1));var b=a;b++;for(var c in this.state)b++,this.ctx.fillText("state."+c+": "+this.state[c],10,10*b)},Loader.prototype.fadeOutSetup=function(){},Loader.prototype.fadeOut=function(){this.alpha>0?this.alpha-=.02:this.state.complete=!0,this.alpha<0&&(this.alpha=0)},Loader.prototype.easeInOutCubic=function(a,b,c,d){return(a/=d/2)<1?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b},Loader.prototype.animateArrow=function(a){var b=this.arrows[a];b.iterator===b.moveIterations||b.rev?b.iterator!==b.moveIterations||b.rev?b.rev&&0!==b.iterator?(b.iterator--,b.x-=b.moveSpeed):b.rev&&0===b.iterator&&(this.arrows.waitIterator===this.arrows.waitBetween?(this.root.mouse.down||(b.rev=!1,this.arrows.animating.left=!this.arrows.animating.left,this.arrows.animating.right=!this.arrows.animating.right),this.arrows.waitIterator=0):this.arrows.waitIterator++):b.rev=!0:(b.iterator++,b.x+=b.moveSpeed)},Loader.prototype.resetElement=function(){this.x!==this.arrows.loaderStartPosition.x||this.arrows.nudge>0||this.arrows.nudge<0?(this.arrows.areResetting=!0,this.x=this.easeInOutCubic(this.arrows.returnIterator,this.arrows.resetStart,-this.arrows.resetDistance,this.arrows.returnIterations),this.alpha=this.easeInOutCubic(this.arrows.returnIterator,this.arrows.alphaResetStart,1-this.arrows.alphaResetStart,this.arrows.returnIterations),this.arrows.alpha=this.easeInOutCubic(this.arrows.returnIterator,this.arrows.alphaResetStart,1-this.arrows.alphaResetStart,this.arrows.returnIterations),this.arrows.nudge=this.easeInOutCubic(this.arrows.returnIterator,this.arrows.nudgeStart,-this.arrows.nudgeStart,this.arrows.returnIterations),this.arrows.returnIterator++):(this.arrows.areResetting=!1,this.arrows.haveReset=!0,this.arrows.returnIterator=0)},Loader.prototype.fadeArrowsIn=function(){this.arrows.alpha<1?(this.arrows.alpha+=this.arrows.alphaAdd,this.arrows.left.x+=this.arrows.left.diffX/this.arrows.alphaIterations/2,this.arrows.right.x+=this.arrows.right.diffX/this.arrows.alphaIterations/2):this.arrows.inPosition=!0},Loader.prototype.checkArrowAnimations=function(){this.arrows.inPosition&&(this.arrows.animating.left||this.arrows.animating.right?this.arrows.animating.left?this.animateArrow("left"):this.arrows.animating.right&&this.animateArrow("right"):this.arrows.animating.left=!0)},Loader.prototype.checkMouse=function(){if(this.root.mouse.down){this.arrows.haveReset=!1,this.root.totalDragged<15&&this.root.totalDragged>-15?this.arrows.nudge=this.root.totalDragged:this.x+=this.root.lastMoveValue;var a=1-Math.abs(this.root.totalDragged)/100;this.alpha=a,this.arrows.alpha=a,0>a&&this.hide()}else this.arrows.haveReset||(this.arrows.areResetting||(this.arrows.resetDistance=this.x-this.arrows.loaderStartPosition.x,this.arrows.resetStart=this.x,this.arrows.alphaResetStart=this.alpha,this.arrows.nudgeStart=this.arrows.nudge),this.resetElement()),this.hidden&&this.root.cursorAlpha<1&&(this.root.cursorHidden=!1,this.root.cursorAlpha+=.05,this.root.$element.hasClass("noCursor")||this.root.$element.addClass("noCursor"))},Loader.prototype.showArrows=function(){this.arrows.inPosition||this.fadeArrowsIn(),this.checkMouse(),this.checkArrowAnimations(),this.renderArrows()},Loader.prototype.renderArrows=function(){this.hidden?this.arrows.alpha=0:this.arrows.alpha<1&&(this.arrows.alpha+=.02),this.arrows.alpha>1?this.arrows.alpha=1:this.arrows.alpha<0&&(this.arrows.alpha=0),this.hidden||(this.ctx.save(),this.ctx.globalAlpha=this.arrows.alpha,this.ctx.translate(this.x,this.y),this.ctx.drawImage(this.arrows.left.img,this.arrows.left.x+this.arrows.nudge,this.arrows.left.y,this.arrows.left.width,this.arrows.left.height),this.ctx.drawImage(this.arrows.right.img,this.arrows.right.x+this.arrows.nudge,this.arrows.right.y,this.arrows.right.width,this.arrows.right.height),this.ctx.restore())},Loader.prototype.showArrowsResize=function(){this.arrows.loaderStartPosition.x=this.canvas.width/2,this.arrows.loaderStartPosition.y=this.canvas.height/2},Loader.prototype.showArrowsSetup=function(){this.arrows={eventsBound:!1,waitBetween:40,waitIterator:0,alpha:0,arrowMoveIterations:50,alphaIterations:20,alphaAdd:0,left:{diffX:-10,x:-20,y:-8,height:16,width:16,color:"#000",iterator:0,moveSpeed:0,moveIterations:20,img:new Image},right:{diffX:10,x:4,y:-8,height:16,width:16,color:"#000",iterator:0,moveSpeed:0,moveIterations:20,img:new Image},animating:{left:!1,right:!1},startClick:{x:0,y:0},hovered:!1,lastMove:{x:0,y:0},loaderStartPosition:{x:this.x,y:this.y},interacted:!1,returnIterator:0,returnIterations:40,nudge:0,lastX:0,xDifference:0,xTotalDifference:0,inPosition:!1,resetDistance:null,resetStart:null,haveReset:!0,areResetting:!1,alphaResetStart:0},this.root.cursorAlpha=0,this.arrows.left.img.src="/resources/public/images/exterior-360-left.png",this.arrows.right.img.src="/resources/public/images/exterior-360-right.png",this.arrows.alphaAdd=1/this.arrows.alphaIterations,this.arrows.left.moveSpeed=this.arrows.left.diffX/this.arrows.arrowMoveIterations,this.arrows.right.moveSpeed=this.arrows.right.diffX/this.arrows.arrowMoveIterations},function(){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(a){var b=this;do{if(b.matches(a))return b;b=b.parentElement||b.parentNode}while(null!==b&&1===b.nodeType);return null})}(),eval(function(a,b,c,d,e,f){if(e=function(a){return(b>a?"":e(parseInt(a/b)))+((a%=b)>35?String.fromCharCode(a+29):a.toString(36))},!"".replace(/^/,String)){for(;c--;)f[e(c)]=d[c]||e(c);d=[function(a){return f[a]}],e=function(){return"\\w+"},c=1}for(;c--;)d[c]&&(a=a.replace(new RegExp("\\b"+e(c)+"\\b","g"),d[c]));return a}('5 G(b,a){b.N().14(G,o.n.31);4.H=b;4.2B=b.N().2q();4.M=a;4.C=u;4.q=u;4.16=u;4.1i=t;4.L(b.w())}G.6.2C=5(){7 d=4;7 g;7 f;4.q=3x.3r("1Z");4.q.5n=4.2B;9(4.1i){4.29()}4.4L().4D.4x(4.q);4.2W=o.n.v.1M(4.w(),"49",5(){f=g});o.n.v.1G(4.q,"3Z",5(){g=I;f=t});o.n.v.1G(4.q,"2L",5(e){g=t;9(!f){7 c;7 b;7 a=d.H.N();o.n.v.12(a,"2L",d.H);o.n.v.12(a,"3T",d.H);9(a.2z()){b=a.1s();c=d.H.1B();a.w().1O(c);1P(5(){a.w().1O(c);9(b!==u&&(a.w().15()>b)){a.w().3C(b+1)}},3w)}e.3t=I;9(e.2g){e.2g()}}});o.n.v.1G(4.q,"2f",5(){7 a=d.H.N();o.n.v.12(a,"2f",d.H)});o.n.v.1G(4.q,"2e",5(){7 a=d.H.N();o.n.v.12(a,"2e",d.H)})};G.6.2Q=5(){9(4.q&&4.q.3h){4.1N();o.n.v.2S(4.2W);o.n.v.55(4.q);4.q.3h.4X(4.q);4.q=u}};G.6.38=5(){9(4.1i){7 a=4.26(4.C);4.q.S.1L=a.y+"B";4.q.S.1I=a.x+"B"}};G.6.1N=5(){9(4.q){4.q.S.3a="2V"}4.1i=t};G.6.29=5(){9(4.q){7 e="";7 c=4.3e.4h(" ");7 b=Y(c[0].3f(/^\\s+|\\s+$/g,""),10);7 d=Y(c[1].3f(/^\\s+|\\s+$/g,""),10);7 a=4.26(4.C);4.q.S.3Y=4.2O(a);e="<3X 3W=\'"+4.2K+"\' S=\'1X: 1W; 1L: "+d+"B; 1I: "+b+"B; ";9(!4.H.N().1d){e+="3V: 3U("+(-1*d)+"B, "+((-1*b)+4.1h)+"B, "+((-1*d)+4.1m)+"B, "+(-1*b)+"B);"}e+="\'>";4.q.3S=e+"<1Z S=\'"+"1X: 1W;"+"1L: "+4.1V[0]+"B;"+"1I: "+4.1V[1]+"B;"+"3P: "+4.2F+";"+"1y-1o: "+4.2v+"B;"+"1y-3J: "+4.2s+";"+"1y-3H: "+4.2p+";"+"1y-S: "+4.2n+";"+"1x-3D: "+4.2l+";"+"1x-3A: 1c;"+"1C: "+4.1h+"B;"+"3v-1A:"+4.1m+"B;"+"\'>"+4.16.1x+"</1Z>";9(2i 4.16.13==="1a"||4.16.13===""){4.q.13=4.H.N().2U()}K{4.q.13=4.16.13}4.q.S.3a=""}4.1i=I};G.6.2M=5(a){4.16=a;7 b=z.3l(0,a.2R-1);b=z.21(4.M.p-1,b);7 c=4.M[b];4.2K=c.3g;4.1m=c.1A;4.1h=c.1C;4.1V=c.5i||[0,0];4.2d=c.5c||[Y(4.1m/2,10),Y(4.1h/2,10)];4.2F=c.54||"4Z";4.2v=c.4W||11;4.2l=c.4Q||"2V";4.2p=c.4N||"4K";4.2n=c.4H||"4F";4.2s=c.4E||"4C,4B-4z";4.3e=c.4y||"0 0"};G.6.30=5(a){4.C=a};G.6.2O=5(b){7 a=[];a.Z("4v: 4t;");a.Z("1X: 1W; 1L: "+b.y+"B; 1I: "+b.x+"B;");a.Z("1C: "+4.1h+"B; 1A: "+4.1m+"B;");j a.4s("")};G.6.26=5(b){7 a=4.39().28(b);a.x-=4.2d[1];a.y-=4.2d[0];a.x=Y(a.x,10);a.y=Y(a.y,10);j a};5 D(a){4.V=a;4.T=a.w();4.U=a.2T();4.X=a.3d();4.19=a.3c();4.k=[];4.C=u;4.2c=u;4.W=F G(4,a.20())}D.6.41=5(){j 4.k.p};D.6.1D=5(){j 4.k};D.6.2P=5(){j 4.C};D.6.w=5(){j 4.T};D.6.N=5(){j 4.V};D.6.1B=5(){7 i;7 b=F o.n.1l(4.C,4.C);7 a=4.1D();A(i=0;i<a.p;i++){b.14(a[i].P())}j b};D.6.1F=5(){4.W.L(u);4.k=[];1Y 4.k};D.6.1E=5(e){7 i;7 c;7 b;9(4.2X(e)){j t}9(!4.C){4.C=e.P();4.24()}K{9(4.19){7 l=4.k.p+1;7 a=(4.C.Q()*(l-1)+e.P().Q())/l;7 d=(4.C.17()*(l-1)+e.P().17())/l;4.C=F o.n.1p(a,d);4.24()}}e.1j=I;4.k.Z(e);c=4.k.p;b=4.V.1s();9(b!==u&&4.T.15()>b){9(e.w()!==4.T){e.L(4.T)}}K 9(c<4.X){9(e.w()!==4.T){e.L(4.T)}}K 9(c===4.X){A(i=0;i<c;i++){4.k[i].L(u)}}K{e.L(u)}4.2J();j I};D.6.2I=5(a){j 4.2c.2H(a.P())};D.6.24=5(){7 a=F o.n.1l(4.C,4.C);4.2c=4.V.2a(a)};D.6.2J=5(){7 c=4.k.p;7 a=4.V.1s();9(a!==u&&4.T.15()>a){4.W.1N();j}9(c<4.X){4.W.1N();j}7 b=4.V.20().p;7 d=4.V.2G()(4.k,b);4.W.30(4.C);4.W.2M(d);4.W.29()};D.6.2X=5(a){7 i;9(4.k.1g){j 4.k.1g(a)!==-1}K{A(i=0;i<4.k.p;i++){9(a===4.k[i]){j I}}}j t};5 8(a,c,b){4.14(8,o.n.31);c=c||[];b=b||{};4.k=[];4.E=[];4.1r=[];4.1f=u;4.1b=t;4.U=b.3R||3Q;4.X=b.3N||2;4.1U=b.2y||u;4.M=b.3K||[];4.1T=b.13||"";4.1v=I;9(b.2x!==1a){4.1v=b.2x}4.19=t;9(b.2w!==1a){4.19=b.2w}4.18=t;9(b.2u!==1a){4.18=b.2u}4.1d=t;9(b.2t!==1a){4.1d=b.2t}4.1t=b.3I||8.2r;4.1u=b.3G||8.2o;4.1e=b.3F||8.2j;4.1S=b.3E||8.2m;4.1Q=b.3B||8.2E;4.1z=b.3z||8.2k;4.1R=b.3y||"O";9(3L.3M.3u().1g("3O")!==-1){4.1Q=4.1z}4.2D();4.2A(c,I);4.L(a)}8.6.2C=5(){7 a=4;4.1f=4.w();4.1b=I;4.1q();4.1r=[o.n.v.1M(4.w(),"3s",5(){a.1w(t);9(4.15()===(4.2h("3q")||0)||4.15()===4.2h("2y")){o.n.v.12(4,"2N")}}),o.n.v.1M(4.w(),"2N",5(){a.1k()})]};8.6.2Q=5(){7 i;A(i=0;i<4.k.p;i++){9(4.k[i].w()!==4.1f){4.k[i].L(4.1f)}}A(i=0;i<4.E.p;i++){4.E[i].1F()}4.E=[];A(i=0;i<4.1r.p;i++){o.n.v.2S(4.1r[i])}4.1r=[];4.1f=u;4.1b=t};8.6.38=5(){};8.6.2D=5(){7 i,1o;9(4.M.p>0){j}A(i=0;i<4.1e.p;i++){1o=4.1e[i];4.M.Z({3g:4.1t+(i+1)+"."+4.1u,1A:1o,1C:1o})}};8.6.3p=5(){7 i;7 a=4.1D();7 b=F o.n.1l();A(i=0;i<a.p;i++){b.14(a[i].P())}4.w().1O(b)};8.6.2T=5(){j 4.U};8.6.3o=5(a){4.U=a};8.6.3d=5(){j 4.X};8.6.40=5(a){4.X=a};8.6.1s=5(){j 4.1U};8.6.3n=5(a){4.1U=a};8.6.20=5(){j 4.M};8.6.3m=5(a){4.M=a};8.6.2U=5(){j 4.1T};8.6.43=5(a){4.1T=a};8.6.2z=5(){j 4.1v};8.6.44=5(a){4.1v=a};8.6.3c=5(){j 4.19};8.6.3k=5(a){4.19=a};8.6.3j=5(){j 4.18};8.6.3i=5(a){4.18=a};8.6.47=5(){j 4.1d};8.6.5m=5(a){4.1d=a};8.6.5l=5(){j 4.1u};8.6.5k=5(a){4.1u=a};8.6.5j=5(){j 4.1t};8.6.5h=5(a){4.1t=a};8.6.5f=5(){j 4.1e};8.6.5e=5(a){4.1e=a};8.6.2G=5(){j 4.1S};8.6.5d=5(a){4.1S=a};8.6.5b=5(){j 4.1z};8.6.5a=5(a){4.1z=a};8.6.2q=5(){j 4.1R};8.6.59=5(a){4.1R=a};8.6.1D=5(){j 4.k};8.6.57=5(){j 4.k.p};8.6.51=5(){j 4.E};8.6.50=5(){j 4.E.p};8.6.1E=5(b,a){4.2b(b);9(!a){4.1k()}};8.6.2A=5(b,a){7 c;A(c 3b b){9(b.4V(c)){4.2b(b[c])}}9(!a){4.1k()}};8.6.2b=5(b){9(b.4U()){7 a=4;o.n.v.1M(b,"4T",5(){9(a.1b){4.1j=t;a.1q()}})}b.1j=t;4.k.Z(b)};8.6.4S=5(c,a){7 b=4.27(c);9(!a&&b){4.1q()}j b};8.6.4O=5(a,c){7 i,r;7 b=t;A(i=0;i<a.p;i++){r=4.27(a[i]);b=b||r}9(!c&&b){4.1q()}j b};8.6.27=5(b){7 i;7 a=-1;9(4.k.1g){a=4.k.1g(b)}K{A(i=0;i<4.k.p;i++){9(b===4.k[i]){a=i;4M}}}9(a===-1){j t}b.L(u);4.k.4J(a,1);j I};8.6.4I=5(){4.1w(I);4.k=[]};8.6.1q=5(){7 a=4.E.4G();4.E=[];4.1w(t);4.1k();1P(5(){7 i;A(i=0;i<a.p;i++){a[i].1F()}},0)};8.6.2a=5(d){7 f=4.39();7 c=F o.n.1p(d.25().Q(),d.25().17());7 a=F o.n.1p(d.22().Q(),d.22().17());7 e=f.28(c);e.x+=4.U;e.y-=4.U;7 g=f.28(a);g.x-=4.U;g.y+=4.U;7 b=f.33(e);7 h=f.33(g);d.14(b);d.14(h);j d};8.6.1k=5(){4.23(0)};8.6.1w=5(a){7 i,J;A(i=0;i<4.E.p;i++){4.E[i].1F()}4.E=[];A(i=0;i<4.k.p;i++){J=4.k[i];J.1j=t;9(a){J.L(u)}}};8.6.32=5(b,e){7 R=4A;7 g=(e.Q()-b.Q())*z.1K/1H;7 f=(e.17()-b.17())*z.1K/1H;7 a=z.1J(g/2)*z.1J(g/2)+z.34(b.Q()*z.1K/1H)*z.34(e.Q()*z.1K/1H)*z.1J(f/2)*z.1J(f/2);7 c=2*z.4w(z.36(a),z.36(1-a));7 d=R*c;j d};8.6.2Z=5(b,a){j a.2H(b.P())};8.6.35=5(c){7 i,d,O,1c;7 a=4u;7 b=u;A(i=0;i<4.E.p;i++){O=4.E[i];1c=O.2P();9(1c){d=4.32(1c,c.P());9(d<a){a=d;b=O}}}9(b&&b.2I(c)){b.1E(c)}K{O=F D(4);O.1E(c);4.E.Z(O)}};8.6.23=5(e){7 i,J;7 d;7 c=4;9(!4.1b){j}9(e===0){o.n.v.12(4,"4P",4);9(2i 4.1n!=="1a"){4R(4.1n);1Y 4.1n}}9(4.w().15()>3){d=F o.n.1l(4.w().1B().22(),4.w().1B().25())}K{d=F o.n.1l(F o.n.1p(2Y.4r,-37.4q),F o.n.1p(-2Y.4p,37.4o))}7 a=4.2a(d);7 b=z.21(e+4.1Q,4.k.p);A(i=e;i<b;i++){J=4.k[i];9(!J.1j&&4.2Z(J,a)){9(!4.18||(4.18&&J.4Y())){4.35(J)}}}9(b<4.k.p){4.1n=1P(5(){c.23(b)},0)}K{1Y 4.1n;o.n.v.12(4,"4n",4)}};8.6.14=5(d,c){j(5(b){7 a;A(a 3b b.6){4.6[a]=b.6[a]}j 4}).4m(d,[c])};8.2m=5(a,c){7 f=0;7 b="";7 d=a.p.4l();7 e=d;52(e!==0){e=Y(e/10,10);f++}f=z.21(f,c);j{1x:d,2R:f,13:b}};8.2E=4k;8.2k=4j;8.2r="4i://o-n-58-4g-4f.4e.4d/4c/4b/4a/5g/m";8.2o="48";8.2j=[53,56,46,45,42];',62,334,"||||this|function|prototype|var|MarkerClusterer|if||||||||||return|markers_|||maps|google|length|div_|||false|null|event|getMap|||Math|for|px|center_|Cluster|clusters_|new|ClusterIcon|cluster_|true|marker|else|setMap|styles_|getMarkerClusterer|cluster|getPosition|lat||style|map_|gridSize_|markerClusterer_|clusterIcon_|minClusterSize_|parseInt|push|||trigger|title|extend|getZoom|sums_|lng|ignoreHidden_|averageCenter_|undefined|ready_|center|enableRetinaIcons_|imageSizes_|activeMap_|indexOf|width_|visible_|isAdded|redraw_|LatLngBounds|height_|timerRefStatic|size|LatLng|repaint|listeners_|getMaxZoom|imagePath_|imageExtension_|zoomOnClick_|resetViewport_|text|font|batchSizeIE_|height|getBounds|width|getMarkers|addMarker|remove|addDomListener|180|left|sin|PI|top|addListener|hide|fitBounds|setTimeout|batchSize_|clusterClass_|calculator_|title_|maxZoom_|anchorText_|absolute|position|delete|div|getStyles|min|getSouthWest|createClusters_|calculateBounds_|getNorthEast|getPosFromLatLng_|removeMarker_|fromLatLngToDivPixel|show|getExtendedBounds|pushMarkerTo_|bounds_|anchorIcon_|mouseout|mouseover|stopPropagation|get|typeof|IMAGE_SIZES|BATCH_SIZE_IE|textDecoration_|CALCULATOR|fontStyle_|IMAGE_EXTENSION|fontWeight_|getClusterClass|IMAGE_PATH|fontFamily_|enableRetinaIcons|ignoreHidden|textSize_|averageCenter|zoomOnClick|maxZoom|getZoomOnClick|addMarkers|className_|onAdd|setupStyles_|BATCH_SIZE|textColor_|getCalculator|contains|isMarkerInClusterBounds|updateIcon_|url_|click|useStyle|idle|createCss|getCenter|onRemove|index|removeListener|getGridSize|getTitle|none|boundsChangedListener_|isMarkerAlreadyAdded_|85|isMarkerInBounds_|setCenter|OverlayView|distanceBetweenPoints_|fromDivPixelToLatLng|cos|addToClosestCluster_|sqrt|178|draw|getProjection|display|in|getAverageCenter|getMinimumClusterSize|backgroundPosition_|replace|url|parentNode|setIgnoreHidden|getIgnoreHidden|setAverageCenter|max|setStyles|setMaxZoom|setGridSize|fitMapToMarkers|minZoom|createElement|zoom_changed|cancelBubble|toLowerCase|line|100|document|clusterClass|batchSizeIE|align|batchSize|setZoom|decoration|calculator|imageSizes|imageExtension|weight|imagePath|family|styles|navigator|userAgent|minimumClusterSize|msie|color|60|gridSize|innerHTML|clusterclick|rect|clip|src|img|cssText|mousedown|setMinimumClusterSize|getSize|90|setTitle|setZoomOnClick|78|66|getEnableRetinaIcons|png|bounds_changed|markerclustererplus|trunk|svn|com|googlecode|v3|library|split|http|500|2000|toString|apply|clusteringend|00048865625|08136444384544|48388434375|02070771743472|join|pointer|40000|cursor|atan2|appendChild|backgroundPosition|serif|6371|sans|Arial|overlayMouseTarget|fontFamily|normal|slice|fontStyle|clearMarkers|splice|bold|getPanes|break|fontWeight|removeMarkers|clusteringbegin|textDecoration|clearTimeout|removeMarker|dragend|getDraggable|hasOwnProperty|textSize|removeChild|getVisible|black|getTotalClusters|getClusters|while||textColor|clearInstanceListeners||getTotalMarkers|utility|setClusterClass|setBatchSizeIE|getBatchSizeIE|anchorIcon|setCalculator|setImageSizes|getImageSizes|images|setImagePath|anchorText|getImagePath|setImageExtension|getImageExtension|setEnableRetinaIcons|className".split("|"),0,{}));
var coverVid=function(a,b,c){function d(a,b){var c=null;return function(){var d=this,e=arguments;window.clearTimeout(c),c=window.setTimeout(function(){a.apply(d,e)},b)}}function e(){var d=a.parentNode.offsetHeight,e=a.parentNode.offsetWidth,f=b,g=c,h=d/g,i=e/f;i>h?(a.style.height="auto",a.style.width=e+"px"):(a.style.height=d+"px",a.style.width="auto")}document.addEventListener("DOMContentLoaded",e),window.onresize=function(){d(e(),50)},a.style.position="absolute",a.style.top="50%",a.style.left="50%",a.style["-webkit-transform"]="translate(-50%, -50%)",a.style["-ms-transform"]="translate(-50%, -50%)",a.style.transform="translate(-50%, -50%)",a.parentNode.style.overflow="hidden"};window.jQuery&&jQuery.fn.extend({coverVid:function(){return coverVid(this[0],arguments[0],arguments[1]),this}}),function(a){function b(a,b){var c,d,e=this;return function(){return d=Array.prototype.slice.call(arguments,0),c=clearTimeout(c,d),c=setTimeout(function(){a.apply(e,d),c=0},b),this}}a.extend(a.fn,{debounce:function(a,c,d){this.bind(a,b.apply(this,[c,d]))}})}(jQuery);var deepLink=function(a,b,c,d){var e,f,g=function(){_getElement(),_jumpToElement(),_startUpdating(),_addTimeout(),_addEvents()};_getElement=function(){location.hash&&-1===location.hash.indexOf("/")&&($element=$(location.hash),$element.length>0&&(e=$element))},_jumpToElement=function(){e&&site.utils.scrollTo(e,0)},_startUpdating=function(){e&&(f=setInterval(_jumpToElement,10))},_stopUpdating=function(){clearInterval(f),_removeEvents()},_addEvents=function(){$(b).on("click tap mousewheel",_stopUpdating)},_removeEvents=function(){$(b).off("click tap mousewheel",_stopUpdating)},_addTimeout=function(){setTimeout(_stopUpdating,1e3)};var h={init:g};return h}(jQuery,window,document);!function(a,b){"function"==typeof define&&define.amd?define(b):a.Dragdealer=b()}(this,function(){function a(a){var b="Webkit Moz ms O".split(" "),c=document.documentElement.style;if(void 0!==c[a])return a;a=a.charAt(0).toUpperCase()+a.substr(1);for(var d=0;d<b.length;d++)if(void 0!==c[b[d]+a])return b[d]+a}function b(a){k.backfaceVisibility&&k.perspective&&(a.style[k.perspective]="1000px",a.style[k.backfaceVisibility]="hidden")}var c=function(a,b){this.options=this.applyDefaults(b||{}),this.bindMethods(),this.wrapper=this.getWrapperElement(a),this.wrapper&&(this.handle=this.getHandleElement(this.wrapper,this.options.handleClass),this.handle&&(this.init(),this.bindEventListeners()))};c.prototype={defaults:{disabled:!1,horizontal:!0,vertical:!1,slide:!0,steps:0,snap:!1,loose:!1,speed:.1,xPrecision:0,yPrecision:0,handleClass:"handle",css3:!0,activeClass:"active",tapping:!0,tapPauseTimeout:1200,slideOnTap:!1},init:function(){this.options.css3&&b(this.handle),this.value={prev:[-1,-1],current:[this.options.x||0,this.options.y||0],target:[this.options.x||0,this.options.y||0]},this.offset={wrapper:[0,0],mouse:[0,0],prev:[-999999,-999999],current:[0,0],target:[0,0]},this.change=[0,0],this.stepRatios=this.calculateStepRatios(),this.activity=!1,this.dragging=!1,this.tapping=!1,this.activePauseTimout=!1,this.reflow(),this.options.disabled&&this.disable()},applyDefaults:function(a){for(var b in this.defaults)a.hasOwnProperty(b)||(a[b]=this.defaults[b]);return a},getWrapperElement:function(a){return"string"==typeof a?document.getElementById(a):a},getHandleElement:function(a,b){var c,d,e;if(a.getElementsByClassName){if(c=a.getElementsByClassName(b),c.length>0)return c[0]}else for(d=new RegExp("(^|\\s)"+b+"(\\s|$)"),c=a.getElementsByTagName("*"),e=0;e<c.length;e++)if(d.test(c[e].className))return c[e]},calculateStepRatios:function(){var a=[];if(this.options.steps>=1)for(var b=0;b<=this.options.steps-1;b++)this.options.steps>1?a[b]=b/(this.options.steps-1):a[b]=0;return a},setWrapperOffset:function(){this.offset.wrapper=j.get(this.wrapper)},calculateBounds:function(){var a={top:this.options.top||0,bottom:-(this.options.bottom||0)+this.wrapper.offsetHeight,left:this.options.left||0,right:-(this.options.right||0)+this.wrapper.offsetWidth};return a.availWidth=a.right-a.left-this.handle.offsetWidth,a.availHeight=a.bottom-a.top-this.handle.offsetHeight,a},calculateValuePrecision:function(){var a=this.options.xPrecision||Math.abs(this.bounds.availWidth),b=this.options.yPrecision||Math.abs(this.bounds.availHeight);return[a?1/a:0,b?1/b:0]},bindMethods:function(){"function"==typeof this.options.customRequestAnimationFrame?this.requestAnimationFrame=d(this.options.customRequestAnimationFrame,window):this.requestAnimationFrame=d(m,window),"function"==typeof this.options.customCancelAnimationFrame?this.cancelAnimationFrame=d(this.options.customCancelAnimationFrame,window):this.cancelAnimationFrame=d(n,window),this.animateWithRequestAnimationFrame=d(this.animateWithRequestAnimationFrame,this),this.animate=d(this.animate,this),this.onHandleMouseDown=d(this.onHandleMouseDown,this),this.onHandleTouchStart=d(this.onHandleTouchStart,this),this.onDocumentMouseMove=d(this.onDocumentMouseMove,this),this.onWrapperTouchMove=d(this.onWrapperTouchMove,this),this.onWrapperMouseDown=d(this.onWrapperMouseDown,this),this.onWrapperTouchStart=d(this.onWrapperTouchStart,this),this.onDocumentMouseUp=d(this.onDocumentMouseUp,this),this.onDocumentTouchEnd=d(this.onDocumentTouchEnd,this),this.onHandleClick=d(this.onHandleClick,this),this.onWindowResize=d(this.onWindowResize,this)},bindEventListeners:function(){e(this.handle,"mousedown",this.onHandleMouseDown),e(this.handle,"touchstart",this.onHandleTouchStart),e(document,"mousemove",this.onDocumentMouseMove),e(this.wrapper,"touchmove",this.onWrapperTouchMove),e(this.wrapper,"mousedown",this.onWrapperMouseDown),e(this.wrapper,"touchstart",this.onWrapperTouchStart),e(document,"mouseup",this.onDocumentMouseUp),e(document,"touchend",this.onDocumentTouchEnd),e(this.handle,"click",this.onHandleClick),e(window,"resize",this.onWindowResize),this.animate(!1,!0),this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},unbindEventListeners:function(){f(this.handle,"mousedown",this.onHandleMouseDown),f(this.handle,"touchstart",this.onHandleTouchStart),f(document,"mousemove",this.onDocumentMouseMove),f(this.wrapper,"touchmove",this.onWrapperTouchMove),f(this.wrapper,"mousedown",this.onWrapperMouseDown),f(this.wrapper,"touchstart",this.onWrapperTouchStart),f(document,"mouseup",this.onDocumentMouseUp),f(document,"touchend",this.onDocumentTouchEnd),f(this.handle,"click",this.onHandleClick),f(window,"resize",this.onWindowResize),this.cancelAnimationFrame(this.interval)},onHandleMouseDown:function(a){i.refresh(a),g(a),h(a),this.activity=!1,this.startDrag()},onHandleTouchStart:function(a){i.refresh(a),h(a),this.activity=!1,this.startDrag()},onDocumentMouseMove:function(a){i.refresh(a),this.dragging&&(this.activity=!0,g(a))},onWrapperTouchMove:function(a){return i.refresh(a),!this.activity&&this.draggingOnDisabledAxis()?void(this.dragging&&this.stopDrag()):(g(a),void(this.activity=!0))},onWrapperMouseDown:function(a){i.refresh(a),g(a),this.startTap()},onWrapperTouchStart:function(a){i.refresh(a),g(a),this.startTap()},onDocumentMouseUp:function(a){this.stopDrag(),this.stopTap()},onDocumentTouchEnd:function(a){this.stopDrag(),this.stopTap()},onHandleClick:function(a){this.activity&&(g(a),h(a))},onWindowResize:function(a){this.reflow()},enable:function(){this.disabled=!1,this.handle.className=this.handle.className.replace(/\s?disabled/g,"")},disable:function(){this.disabled=!0,this.handle.className+=" disabled"},reflow:function(){this.setWrapperOffset(),this.bounds=this.calculateBounds(),this.valuePrecision=this.calculateValuePrecision(),this.updateOffsetFromValue()},getStep:function(){return[this.getStepNumber(this.value.target[0]),this.getStepNumber(this.value.target[1])]},getValue:function(){return this.value.target},setStep:function(a,b,c){this.setValue(this.options.steps&&a>1?(a-1)/(this.options.steps-1):0,this.options.steps&&b>1?(b-1)/(this.options.steps-1):0,c)},setValue:function(a,b,c){this.setTargetValue([a,b||0]),c&&(this.groupCopy(this.value.current,this.value.target),this.updateOffsetFromValue(),this.callAnimationCallback())},startTap:function(){if(!this.disabled&&this.options.tapping)if(this.speedCache=this.options.speed,this.options.slideOnTap||(this.options.speed=2),this.tapping=!0,this.setWrapperOffset(),this.options.slideOnTap){var a=[i.x-this.offset.wrapper[0]-this.handle.offsetWidth/2,i.y-this.offset.wrapper[1]-this.handle.offsetHeight/2],b=this.getRatiosByOffsets(a),c=this.getClosestSteps(b),d=this.getOffsetsByRatios(c);this.setTargetValueByOffset(d)}else this.setTargetValueByOffset([i.x-this.offset.wrapper[0]-this.handle.offsetWidth/2,i.y-this.offset.wrapper[1]-this.handle.offsetHeight/2])},stopTap:function(){!this.disabled&&this.tapping&&(this.tapping=!1,this.pauseFlag=!0,this.animate(),this.setTargetValue(this.value.current),this.options.speed=this.speedCache)},startDrag:function(){this.disabled||(this.dragging=!0,this.setWrapperOffset(),this.offset.mouse=[i.x-j.get(this.handle)[0],i.y-j.get(this.handle)[1]],this.wrapper.className.match(this.options.activeClass)||(this.wrapper.className+=" "+this.options.activeClass),this.callDragStartCallback())},stopDrag:function(){if(!this.disabled&&this.dragging){this.dragging=!1;var a=this.groupClone(this.value.current);if(this.pauseFlag=!0,this.options.slide){var b=this.change;a[0]+=4*b[0],a[1]+=4*b[1],0!==b[0]&&(this.pauseFlag=!1)}this.setTargetValue(a),this.wrapper.className=this.wrapper.className.replace(" "+this.options.activeClass,""),this.callDragStopCallback()}},callAnimationCallback:function(){var a=this.value.current;this.options.snap&&this.options.steps>1&&(a=this.getClosestSteps(a)),this.groupCompare(a,this.value.prev)||("function"==typeof this.options.animationCallback&&this.options.animationCallback.call(this,a[0],a[1]),this.groupCopy(this.value.prev,a))},callTargetCallback:function(){"function"==typeof this.options.callback&&this.options.callback.call(this,this.value.target[0],this.value.target[1])},callDragStartCallback:function(){"function"==typeof this.options.dragStartCallback&&this.options.dragStartCallback.call(this,this.value.target[0],this.value.target[1])},callDragStopCallback:function(){"function"==typeof this.options.dragStopCallback&&this.options.dragStopCallback.call(this,this.value.target[0],this.value.target[1])},animateWithRequestAnimationFrame:function(a){a?(this.timeOffset=this.timeStamp?a-this.timeStamp:0,this.timeStamp=a):this.timeOffset=25,this.animate(),this.interval=this.requestAnimationFrame(this.animateWithRequestAnimationFrame)},animate:function(a,b){if(!a||this.dragging){if(this.dragging){var c=this.groupClone(this.value.target),d=[i.x-this.offset.wrapper[0]-this.offset.mouse[0],i.y-this.offset.wrapper[1]-this.offset.mouse[1]];this.setTargetValueByOffset(d,this.options.loose),this.change=[this.value.target[0]-c[0],this.value.target[1]-c[1]]}(this.dragging||b)&&this.groupCopy(this.value.current,this.value.target),(this.dragging||this.glide()||b)&&(this.updateOffsetFromValue(),this.callAnimationCallback())}},glide:function(){var a=[this.value.target[0]-this.value.current[0],this.value.target[1]-this.value.current[1]];return a[0]||a[1]?(Math.abs(a[0])>this.valuePrecision[0]||Math.abs(a[1])>this.valuePrecision[1]?(this.value.current[0]+=a[0]*Math.min(this.options.speed*this.timeOffset/25,1),this.value.current[1]+=a[1]*Math.min(this.options.speed*this.timeOffset/25,1)):this.groupCopy(this.value.current,this.value.target),!0):!1},updateOffsetFromValue:function(){this.options.snap?this.offset.current=this.getOffsetsByRatios(this.getClosestSteps(this.value.current)):this.offset.current=this.getOffsetsByRatios(this.value.current),this.groupCompare(this.offset.current,this.offset.prev)||(this.renderHandlePosition(),this.groupCopy(this.offset.prev,this.offset.current))},renderHandlePosition:function(){var a="";return this.options.css3&&k.transform?(this.options.horizontal&&(a+="translateX("+this.offset.current[0]+"px)"),this.options.vertical&&(a+=" translateY("+this.offset.current[1]+"px)"),void(this.handle.style[k.transform]=a)):(this.options.horizontal&&(this.handle.style.left=this.offset.current[0]+"px"),void(this.options.vertical&&(this.handle.style.top=this.offset.current[1]+"px")))},setTargetValue:function(a,b){var c=b?this.getLooseValue(a):this.getProperValue(a),d=this;clearTimeout(d.activePauseTimout);var e=this.pauseFlag===!0?this.options.tapPauseTimeout:0;this.options.slideOnTap?this.activePauseTimout=setTimeout(function(){d.setTargetValueByOffset(d.getOffsetsByRatios(d.value.current),!1)},e):this.activePauseTimout=setTimeout(function(){d.groupCopy(d.value.target,c),d.offset.target=d.getOffsetsByRatios(c)},e),this.callTargetCallback()},setTargetValueByOffset:function(a,b){var c=this.getRatiosByOffsets(a),d=b?this.getLooseValue(c):this.getProperValue(c);this.groupCopy(this.value.target,d),this.offset.target=this.getOffsetsByRatios(d)},getLooseValue:function(a){var b=this.getProperValue(a);return[b[0]+(a[0]-b[0])/4,b[1]+(a[1]-b[1])/4]},getProperValue:function(a){var b=this.groupClone(a);return b[0]=Math.max(b[0],0),b[1]=Math.max(b[1],0),b[0]=Math.min(b[0],1),b[1]=Math.min(b[1],1),(!this.dragging&&!this.tapping||this.options.snap)&&this.options.steps>1&&(b=this.getClosestSteps(b)),b},getRatiosByOffsets:function(a){return[this.getRatioByOffset(a[0],this.bounds.availWidth,this.bounds.left),this.getRatioByOffset(a[1],this.bounds.availHeight,this.bounds.top)]},getRatioByOffset:function(a,b,c){return b?(a-c)/b:0},getOffsetsByRatios:function(a){return[this.getOffsetByRatio(a[0],this.bounds.availWidth,this.bounds.left),this.getOffsetByRatio(a[1],this.bounds.availHeight,this.bounds.top)]},getOffsetByRatio:function(a,b,c){return Math.round(a*b)+c},getStepNumber:function(a){return this.getClosestStep(a)*(this.options.steps-1)+1},getClosestSteps:function(a){return[this.getClosestStep(a[0]),this.getClosestStep(a[1])]},getClosestStep:function(a){for(var b=0,c=1,d=0;d<=this.options.steps-1;d++)Math.abs(this.stepRatios[d]-a)<c&&(c=Math.abs(this.stepRatios[d]-a),b=d);return this.stepRatios[b]},groupCompare:function(a,b){return a[0]==b[0]&&a[1]==b[1]},groupCopy:function(a,b){a[0]=b[0],a[1]=b[1]},groupClone:function(a){return[a[0],a[1]]},draggingOnDisabledAxis:function(){return!this.options.horizontal&&i.xDiff>i.yDiff||!this.options.vertical&&i.yDiff>i.xDiff}};for(var d=function(a,b){return function(){return a.apply(b,arguments)}},e=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)},f=function(a,b,c){a.removeEventListener?a.removeEventListener(b,c,!1):a.detachEvent&&a.detachEvent("on"+b,c)},g=function(a){a||(a=window.event),a.preventDefault&&a.preventDefault(),a.returnValue=!1},h=function(a){a||(a=window.event),a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0},i={x:0,y:0,xDiff:0,yDiff:0,refresh:function(a){a||(a=window.event),"mousemove"==a.type?this.set(a):a.touches&&this.set(a.touches[0])},set:function(a){var b=this.x,c=this.y;a.clientX||a.clientY?(this.x=a.clientX,this.y=a.clientY):(a.pageX||a.pageY)&&(this.x=a.pageX-document.body.scrollLeft-document.documentElement.scrollLeft,this.y=a.pageY-document.body.scrollTop-document.documentElement.scrollTop),this.xDiff=Math.abs(this.x-b),this.yDiff=Math.abs(this.y-c)}},j={get:function(a){var b={left:0,top:0};return void 0!==a.getBoundingClientRect&&(b=a.getBoundingClientRect()),[b.left,b.top]}},k={transform:a("transform"),perspective:a("perspective"),backfaceVisibility:a("backfaceVisibility")},l=["webkit","moz"],m=window.requestAnimationFrame,n=window.cancelAnimationFrame,o=0;o<l.length&&!m;++o)m=window[l[o]+"RequestAnimationFrame"],n=window[l[o]+"CancelAnimationFrame"]||window[l[o]+"CancelRequestAnimationFrame"];return m||(m=function(a){return setTimeout(a,25)},n=clearTimeout),c}),function(a,b,c,d){function e(b,c){this.$element=a(b),this.options=a.extend({},g,c),this._defaults=g,this._name=f,this.options.buttonWithinMenu===!0?this._$button=a(this.options.button,this.$element):this._$button=a(this.options.button),this._menuitem=null,this.init(this)}var f="Dropdown",g={timeout:500,button:null,buttonWithinMenu:!1,closeOnTapOutside:!0,closeOnTapOutsideExclude:null,openByDefault:!1,onClose:function(){},onOpen:function(){}};"ontouchstart"in b||b.DocumentTouch&&c instanceof DocumentTouch;e.prototype={init:function(){var a=this;a.options.openByDefault===!0&&(a._menuitem=a.$element),a._$button.on("click tap",function(b){b.preventDefault(),a._toggle(a),b.stopPropagation()}),a.$element.on("open",function(){a._openMenu(a)}),a.$element.on("close",{that:a},function(b,c){a._closeMenu(a,c)})},_openMenu:function(b){b.$element.hasClass("animating")||(b._menuitem=b.$element,b.options.onOpen(),b.options.closeOnTapOutside===!0&&a("body").children().on("click tap touchstart",{that:b},function(c){0!==a(c.target).not(b.options.closeOnTapOutsideExclude).length&&setTimeout(function(){b._closeMenu(c)},100)}))},_closeMenu:function(b,c){if("undefined"!=typeof b){var d=null;if(d="undefined"!=typeof b.data?b.data.that:b,"undefined"!=typeof d.$element&&!d.$element.hasClass("animating")&&null!==d._menuitem){if("undefined"!=typeof b.target){var e=!1;return jQuery.each(d._$button,function(c,d){a(b.target)[0]==d&&(e=!0)}),e===!0?void b.stopPropagation():a(b.target).closest(d.$element).length>0?void b.stopPropagation():(b.stopPropagation(),a("body").children().off("click tap touchstart",d._closeMenu),d._menuitem=null,void d.options.onClose(c))}a("body").children().off("click tap touchstart",d._closeMenu),d._menuitem=null,d.options.onClose(c)}}},_toggle:function(a){null!==a._menuitem?a._closeMenu(a):a._openMenu(a)}},a.fn[f]=function(b){return this.each(function(){a.data(this,f)||a.data(this,f,new e(this,b))})}}(jQuery,window,document),function(a){function b(){this.isField=!0,this.down=!1,this.inFocus=!1,this.disabled=!1,this.cutOff=!1,this.hasLabel=!1,this.keyboardMode=!1,this.nativeTouch=!0,this.wrapperClass="dropdown",this.onChange=null}b.prototype={constructor:b,instances:{},init:function(b,c){var d=this;a.extend(d,c),d.$select=a(b),d.id=b.id,d.options=[],d.$options=d.$select.find("option"),d.isTouch="ontouchend"in document,d.$select.removeClass(d.wrapperClass+" dropdown"),d.$select.is(":disabled")&&(d.disabled=!0),d.$options.length&&(d.$options.each(function(b){var c=a(this);c.is(":selected")&&(d.selected={index:b,title:c.text()},d.focusIndex=b),c.hasClass("label")&&0==b?(d.hasLabel=!0,d.label=c.text(),c.attr("value","")):d.options.push({domNode:c[0],title:c.text(),value:c.val(),selected:c.is(":selected")})}),d.selected||(d.selected={index:0,title:d.$options.eq(0).text()},d.focusIndex=0),d.render())},render:function(){var b=this,c=b.isTouch&&b.nativeTouch?" touch":"",d=b.disabled?" disabled":"";b.$container=b.$select.wrap('<div class="'+b.wrapperClass+c+d+'"><span class="old"/></div>').parent().parent(),b.$active=a('<span class="selected">'+b.selected.title+"</span>").appendTo(b.$container),b.$iconUp=a('<i class="icon-chevron-up"/>').appendTo(b.$container),b.$iconDown=a('<i class="icon-chevron-down"/>').appendTo(b.$container),b.$scrollWrapper=a("<div><ul/></div>").appendTo(b.$container),b.$dropDown=b.$scrollWrapper.find("ul"),b.$form=b.$container.closest("form"),a.each(b.options,function(){var a=this,c=a.selected?' class="active"':"";b.$dropDown.append("<li"+c+">"+a.title+"</li>")}),b.$items=b.$dropDown.find("li"),b.cutOff&&b.$items.length>b.cutOff&&b.$container.addClass("scrollable"),b.getMaxHeight(),b.isTouch&&b.nativeTouch?b.bindTouchHandlers():b.bindHandlers()},getMaxHeight:function(){var a=this;for(a.maxHeight=0,i=0;i<a.$items.length;i++){var b=a.$items.eq(i);if(a.maxHeight+=b.outerHeight(),a.cutOff==i+1)break}},bindTouchHandlers:function(){var b=this;b.$container.on("click.easyDropDown",function(){b.$select.focus()}),b.$select.on({change:function(){var c=a(this).find("option:selected"),d=c.text(),e=c.val();b.$active.text(d),"function"==typeof b.onChange&&b.onChange.call(b.$select[0],{title:d,value:e})},focus:function(){b.$container.addClass("focus")},blur:function(){b.$container.removeClass("focus")}})},bindHandlers:function(){var b=this;b.query="",b.$container.on({"click.easyDropDown":function(){b.down||b.disabled?b.close():b.open()},"mousemove.easyDropDown":function(){b.keyboardMode&&(b.keyboardMode=!1)}}),a("body").on("click.easyDropDown."+b.id,function(c){var d=a(c.target),e=b.wrapperClass.split(" ").join(".");!d.closest("."+e).length&&b.down&&b.close()}),b.$items.on({"click.easyDropDown":function(){var c=a(this).index();b.select(c),b.$select.focus()},"mouseover.easyDropDown":function(){if(!b.keyboardMode){var c=a(this);c.addClass("focus").siblings().removeClass("focus"),b.focusIndex=c.index()}},"mouseout.easyDropDown":function(){b.keyboardMode||a(this).removeClass("focus")}}),b.$select.on({"focus.easyDropDown":function(){b.$container.addClass("focus"),b.inFocus=!0},"blur.easyDropDown":function(){b.$container.removeClass("focus"),b.inFocus=!1},"keydown.easyDropDown":function(a){if(b.inFocus){b.keyboardMode=!0;var c=a.keyCode;if((38==c||40==c||32==c)&&(a.preventDefault(),38==c?(b.focusIndex--,b.focusIndex=b.focusIndex<0?b.$items.length-1:b.focusIndex):40==c&&(b.focusIndex++,b.focusIndex=b.focusIndex>b.$items.length-1?0:b.focusIndex),b.down||b.open(),b.$items.removeClass("focus").eq(b.focusIndex).addClass("focus"),b.cutOff&&b.scrollToView(),b.query=""),b.down)if(9==c||27==c)b.close();else{if(13==c)return a.preventDefault(),b.select(b.focusIndex),b.close(),!1;if(8==c)return a.preventDefault(),b.query=b.query.slice(0,-1),b.search(),clearTimeout(b.resetQuery),!1;if(38!=c&&40!=c){var d=String.fromCharCode(c);b.query+=d,b.search(),clearTimeout(b.resetQuery)}}}},"keyup.easyDropDown":function(){b.resetQuery=setTimeout(function(){b.query=""},1200)}}),b.$dropDown.on("scroll.easyDropDown",function(a){b.$dropDown[0].scrollTop>=b.$dropDown[0].scrollHeight-b.maxHeight?b.$container.addClass("bottom"):b.$container.removeClass("bottom")}),b.$form.length&&b.$form.on("reset.easyDropDown",function(){var a=b.hasLabel?b.label:b.options[0].title;b.$active.text(a)})},unbindHandlers:function(){var b=this;b.$container.add(b.$select).add(b.$items).add(b.$form).add(b.$dropDown).off(".easyDropDown"),a("body").off("."+b.id)},open:function(){var a=this;window.scrollY||document.documentElement.scrollTop,window.scrollX||document.documentElement.scrollLeft;a.closeAll(),a.getMaxHeight(),a.$select.focus(),a.$container.addClass("open"),a.$scrollWrapper.css("height",a.maxHeight+"px"),a.down=!0},close:function(){var a=this;a.$iconUp.css("display","none"),a.$iconDown.css("display","block"),a.$container.removeClass("open"),a.$scrollWrapper.css("height","0px"),a.focusIndex=a.selected.index,a.query="",a.down=!1},closeAll:function(){var a=this,b=Object.getPrototypeOf(a).instances;for(var c in b){var d=b[c];d.close()}},select:function(a){var b=this;"string"==typeof a&&(a=b.$select.find("option[value="+a+"]").index()-1);var c=b.options[a],d=b.hasLabel?a+1:a;b.$items.removeClass("active").eq(a).addClass("active"),b.$active.text(c.title),b.$select.find("option").removeAttr("selected").eq(d).prop("selected",!0).parent().trigger("change"),b.selected={index:a,title:c.title},b.focusIndex=i,"function"==typeof b.onChange&&b.onChange.call(b.$select[0],{title:c.title,value:c.value})},search:function(){var a=this,b=function(b){a.focusIndex=b,a.$items.removeClass("focus").eq(a.focusIndex).addClass("focus"),a.scrollToView()},c=function(b){return a.options[b].title.toUpperCase()};for(i=0;i<a.options.length;i++){var d=c(i);if(0==d.indexOf(a.query))return void b(i)}for(i=0;i<a.options.length;i++){var d=c(i);if(d.indexOf(a.query)>-1){b(i);break}}},scrollToView:function(){var a=this;if(a.focusIndex>=a.cutOff){var b=a.$items.eq(a.focusIndex),c=b.outerHeight()*(a.focusIndex+1)-a.maxHeight;a.$dropDown.scrollTop(c)}},notInViewport:function(a){var b=this,c={min:a,max:a+(window.innerHeight||document.documentElement.clientHeight)},d=b.$dropDown.offset().top+b.maxHeight;return d>=c.min&&d<=c.max?0:d-c.max+5},destroy:function(){var a=this;a.unbindHandlers(),a.$select.unwrap().siblings().remove(),a.$select.unwrap(),delete Object.getPrototypeOf(a).instances[a.$select[0].id]},disable:function(){var a=this;a.disabled=!0,a.$container.addClass("disabled"),a.$select.attr("disabled",!0),a.down||a.close()},enable:function(){var a=this;a.disabled=!1,a.$container.removeClass("disabled"),a.$select.attr("disabled",!1)}};var c=function(a,c){a.id=a.id?a.id:"EasyDropDown"+d();var e=new b;e.instances[a.id]||(e.instances[a.id]=e,e.init(a,c))},d=function(){return("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6).toUpperCase()};a.fn.easyDropDown=function(){var a,d=arguments,e=[];return a=this.each(function(){if(d&&"string"==typeof d[0]){var a=b.prototype.instances[this.id][d[0]](d[1],d[2]);a&&e.push(a)}else c(this,d[0])}),e.length?e.length>1?e:e[0]:a},a(function(){"function"!=typeof Object.getPrototypeOf&&("object"==typeof"test".__proto__?Object.getPrototypeOf=function(a){return a.__proto__}:Object.getPrototypeOf=function(a){return a.constructor.prototype}),a("select.dropdown").each(function(){var b=a(this).attr("data-settings");settings=b?a.parseJSON(b):{},c(this,settings)})})}(jQuery),function(a,b,c){var d=window.matchMedia;"undefined"!=typeof module&&module.exports?module.exports=c(d):"function"==typeof define&&define.amd?define(function(){return b[a]=c(d)}):b[a]=c(d)}("enquire",this,function(a){"use strict";function b(a,b){var c,d=0,e=a.length;for(d;e>d&&(c=b(a[d],d),c!==!1);d++);}function c(a){return"[object Array]"===Object.prototype.toString.apply(a)}function d(a){return"function"==typeof a}function e(a){this.options=a,!a.deferSetup&&this.setup()}function f(b,c){this.query=b,this.isUnconditional=c,this.handlers=[],this.mql=a(b);var d=this;this.listener=function(a){d.mql=a,d.assess()},this.mql.addListener(this.listener)}function g(){if(!a)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!a("only all").matches}return e.prototype={setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(a){return this.options===a||this.options.match===a}},f.prototype={addHandler:function(a){var b=new e(a);this.handlers.push(b),this.matches()&&b.on()},removeHandler:function(a){var c=this.handlers;b(c,function(b,d){return b.equals(a)?(b.destroy(),!c.splice(d,1)):void 0})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){b(this.handlers,function(a){a.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var a=this.matches()?"on":"off";b(this.handlers,function(b){b[a]()})}},g.prototype={register:function(a,e,g){var h=this.queries,i=g&&this.browserIsIncapable;return h[a]||(h[a]=new f(a,i)),d(e)&&(e={match:e}),c(e)||(e=[e]),b(e,function(b){h[a].addHandler(b)}),this},unregister:function(a,b){var c=this.queries[a];return c&&(b?c.removeHandler(b):(c.clear(),delete this.queries[a])),this}},new g}),function(a){a.fn.equalHeights=function(){var b=0,c=a(this);return c.each(function(){var c=a(this).innerHeight();c>b&&(b=c)}),c.css("height",b)},a("[data-equal]").each(function(){var b=a(this),c=b.data("equal");b.find(c).equalHeights()})}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a,b){function c(a){function b(a){d?(c(),J(b),e=!0,d=!1):e=!1}var c=a,d=!1,e=!1;this.kick=function(a){d=!0,e||b()},this.end=function(a){var b=c;a&&(e?(c=d?function(){b(),a()}:a,d=!0):a())}}function d(){return!0}function e(){return!1}function f(a){a.preventDefault()}function g(a){K[a.target.tagName.toLowerCase()]||a.preventDefault()}function h(a){return 1===a.which&&!a.ctrlKey&&!a.altKey}function i(a,b){var c,d;if(a.identifiedTouch)return a.identifiedTouch(b);for(c=-1,d=a.length;++c<d;)if(a[c].identifier===b)return a[c]}function j(a,b){var c=i(a.changedTouches,b.identifier);if(c&&(c.pageX!==b.pageX||c.pageY!==b.pageY))return c}function k(a){var b;h(a)&&(b={target:a.target,startX:a.pageX,startY:a.pageY,timeStamp:a.timeStamp},G(document,L.move,l,b),G(document,L.cancel,m,b))}function l(a){var b=a.data;s(a,b,a,n)}function m(a){n()}function n(){H(document,L.move,l),H(document,L.cancel,m)}function o(a){var b,c;K[a.target.tagName.toLowerCase()]||(b=a.changedTouches[0],c={target:b.target,startX:b.pageX,startY:b.pageY,timeStamp:a.timeStamp,identifier:b.identifier},G(document,M.move+"."+b.identifier,p,c),G(document,M.cancel+"."+b.identifier,q,c))}function p(a){var b=a.data,c=j(a,b);c&&s(a,b,c,r)}function q(a){var b=a.data,c=i(a.changedTouches,b.identifier);c&&r(b.identifier)}function r(a){H(document,"."+a,p),H(document,"."+a,q)}function s(a,b,c,d){var e=c.pageX-b.startX,f=c.pageY-b.startY;F*F>e*e+f*f||v(a,b,c,e,f,d)}function t(){return this._handled=d,!1}function u(a){a._handled()}function v(a,b,c,d,e,f){var g,h;b.target;g=a.targetTouches,h=a.timeStamp-b.timeStamp,b.type="movestart",b.distX=d,b.distY=e,b.deltaX=d,b.deltaY=e,b.pageX=c.pageX,b.pageY=c.pageY,b.velocityX=d/h,b.velocityY=e/h,b.targetTouches=g,b.finger=g?g.length:1,b._handled=t,b._preventTouchmoveDefault=function(){a.preventDefault()},I(b.target,b),f(b.identifier)}function w(a){var b=a.data.event,c=a.data.timer,d=j(a,b);d&&(a.preventDefault(),b.targetTouches=a.targetTouches,z(b,d,a.timeStamp,c))}function x(a){var b=a.data.event,c=a.data.timer,d=i(a.changedTouches,b.identifier);d&&(y(b),A(b,c))}function y(a){H(document,"."+a.identifier,w),H(document,"."+a.identifier,x)}function z(a,b,c,d){var e=c-a.timeStamp;a.type="move",a.distX=b.pageX-a.startX,a.distY=b.pageY-a.startY,a.deltaX=b.pageX-a.pageX,a.deltaY=b.pageY-a.pageY,a.velocityX=.3*a.velocityX+.7*a.deltaX/e,a.velocityY=.3*a.velocityY+.7*a.deltaY/e,a.pageX=b.pageX,a.pageY=b.pageY,d.kick()}function A(a,b,c){b.end(function(){return a.type="moveend",I(a.target,a),c&&c()})}function B(a,b,c){return G(this,"movestart.move",u),!0}function C(a){return H(this,"dragstart drag",f),H(this,"mousedown touchstart",g),H(this,"movestart",u),!0}function D(a){"move"!==a.namespace&&"moveend"!==a.namespace&&G(this,"dragstart."+a.guid+" drag."+a.guid,f,b,a.selector)}function E(a){"move"!==a.namespace&&"moveend"!==a.namespace&&(H(this,"dragstart."+a.guid+" drag."+a.guid),H(this,"mousedown."+a.guid))}var F=6,G=a.event.add,H=a.event.remove,I=function(b,c,d){a.event.trigger(c,d,b)},J=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,b){return window.setTimeout(function(){a()},25)}}(),K={textarea:!0,input:!0,select:!0,button:!0},L={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},M={move:"touchmove",cancel:"touchend",end:"touchend"};a.event.special.movestart={setup:B,teardown:C,add:D,remove:E,_default:function(a){var d,f;a._handled()&&(d={target:a.target,startX:a.startX,startY:a.startY,pageX:a.pageX,pageY:a.pageY,distX:a.distX,distY:a.distY,deltaX:a.deltaX,deltaY:a.deltaY,velocityX:a.velocityX,velocityY:a.velocityY,timeStamp:a.timeStamp,identifier:a.identifier,targetTouches:a.targetTouches,finger:a.finger},f={event:d,timer:new c(function(b){I(a.target,d)})},a.identifier===b?G(a.target,"click",e):(a._preventTouchmoveDefault(),G(document,M.move+"."+a.identifier,w,f),G(document,M.end+"."+a.identifier,x,f)))}},a.event.special.move={setup:function(){G(this,"movestart.move",a.noop)},teardown:function(){H(this,"movestart.move",a.noop)}},a.event.special.moveend={setup:function(){G(this,"movestart.moveend",a.noop)},teardown:function(){H(this,"movestart.moveend",a.noop)}},G(document,"mousedown.move",k),G(document,"touchstart.move",o),"function"==typeof Array.prototype.indexOf&&!function(a,b){for(var c=["changedTouches","targetTouches"],d=c.length;d--;)-1===a.event.props.indexOf(c[d])&&a.event.props.push(c[d]);
}(a)}),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a,b){function c(a){var b,c,d;b=a.target.offsetWidth,c=a.target.offsetHeight,d={distX:a.distX,distY:a.distY,velocityX:a.velocityX,velocityY:a.velocityY,finger:a.finger},a.distX>a.distY?a.distX>-a.distY?(a.distX/b>h.threshold||a.velocityX*a.distX/b*h.sensitivity>1)&&(d.type="swiperight",g(a.currentTarget,d)):(-a.distY/c>h.threshold||a.velocityY*a.distY/b*h.sensitivity>1)&&(d.type="swipeup",g(a.currentTarget,d)):a.distX>-a.distY?(a.distY/c>h.threshold||a.velocityY*a.distY/b*h.sensitivity>1)&&(d.type="swipedown",g(a.currentTarget,d)):(-a.distX/b>h.threshold||a.velocityX*a.distX/b*h.sensitivity>1)&&(d.type="swipeleft",g(a.currentTarget,d))}function d(b){var c=a.data(b,"event_swipe");return c||(c={count:0},a.data(b,"event_swipe",c)),c}var e=a.event.add,f=a.event.remove,g=function(b,c,d){a.event.trigger(c,d,b)},h={threshold:.4,sensitivity:6};a.event.special.swipe=a.event.special.swipeleft=a.event.special.swiperight=a.event.special.swipeup=a.event.special.swipedown={setup:function(a,b,f){var a=d(this);if(!(a.count++>0))return e(this,"moveend",c),!0},teardown:function(){var a=d(this);if(!(--a.count>0))return f(this,"moveend",c),!0},settings:h}}),function(){$("label.inlined + input.inlinedInputText").each(function(a){setTimeout(function(){$("input.inlinedInputText").val()||$(this).prev().addClass("has-text")},200),$(this).keydown(function(){$(this).prev("label.inlined").addClass("has-text")}),$(this).blur(function(){""===$(this).val()&&$(this).prev("label.inlined").removeClass("has-text")})})}(),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeStartFastEndSlow:function(a,b,c,d,e){var f=(b/=e)*b,g=f*b;return c+d*(1.0025*g*f+-5.0025*f*f+10*g+-10*f+5*b)},swing:function(a,b,c,d,e){return jQuery.easing[jQuery.easing.def](a,b,c,d,e)},easeInQuad:function(a,b,c,d,e){return d*(b/=e)*b+c},easeOutQuad:function(a,b,c,d,e){return-d*(b/=e)*(b-2)+c},easeInOutQuad:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b+c:-d/2*(--b*(b-2)-1)+c},easeInCubic:function(a,b,c,d,e){return d*(b/=e)*b*b+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b+c:d/2*((b-=2)*b*b+2)+c},easeInQuart:function(a,b,c,d,e){return d*(b/=e)*b*b*b+c},easeOutQuart:function(a,b,c,d,e){return-d*((b=b/e-1)*b*b*b-1)+c},easeInOutQuart:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b+c:-d/2*((b-=2)*b*b*b-2)+c},easeInQuint:function(a,b,c,d,e){return d*(b/=e)*b*b*b*b+c},easeOutQuint:function(a,b,c,d,e){return d*((b=b/e-1)*b*b*b*b+1)+c},easeInOutQuint:function(a,b,c,d,e){return(b/=e/2)<1?d/2*b*b*b*b*b+c:d/2*((b-=2)*b*b*b*b+2)+c},easeInSine:function(a,b,c,d,e){return-d*Math.cos(b/e*(Math.PI/2))+d+c},easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeInExpo:function(a,b,c,d,e){return 0==b?c:d*Math.pow(2,10*(b/e-1))+c},easeOutExpo:function(a,b,c,d,e){return b==e?c+d:d*(-Math.pow(2,-10*b/e)+1)+c},easeInOutExpo:function(a,b,c,d,e){return 0==b?c:b==e?c+d:(b/=e/2)<1?d/2*Math.pow(2,10*(b-1))+c:d/2*(-Math.pow(2,-10*--b)+2)+c},easeInCirc:function(a,b,c,d,e){return-d*(Math.sqrt(1-(b/=e)*b)-1)+c},easeOutCirc:function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},easeInOutCirc:function(a,b,c,d,e){return(b/=e/2)<1?-d/2*(Math.sqrt(1-b*b)-1)+c:d/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return-(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*(2*Math.PI)/g))+c},easeOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(1==(b/=e))return c+d;if(g||(g=.3*e),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return h*Math.pow(2,-10*b)*Math.sin((b*e-f)*(2*Math.PI)/g)+d+c},easeInOutElastic:function(a,b,c,d,e){var f=1.70158,g=0,h=d;if(0==b)return c;if(2==(b/=e/2))return c+d;if(g||(g=e*(.3*1.5)),h<Math.abs(d)){h=d;var f=g/4}else var f=g/(2*Math.PI)*Math.asin(d/h);return 1>b?-.5*(h*Math.pow(2,10*(b-=1))*Math.sin((b*e-f)*(2*Math.PI)/g))+c:h*Math.pow(2,-10*(b-=1))*Math.sin((b*e-f)*(2*Math.PI)/g)*.5+d+c},easeInBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*(b/=e)*b*((f+1)*b-f)+c},easeOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),d*((b=b/e-1)*b*((f+1)*b+f)+1)+c},easeInOutBack:function(a,b,c,d,e,f){return void 0==f&&(f=1.70158),(b/=e/2)<1?d/2*(b*b*(((f*=1.525)+1)*b-f))+c:d/2*((b-=2)*b*(((f*=1.525)+1)*b+f)+2)+c},easeInBounce:function(a,b,c,d,e){return d-jQuery.easing.easeOutBounce(a,e-b,0,d,e)+c},easeOutBounce:function(a,b,c,d,e){return(b/=e)<1/2.75?d*(7.5625*b*b)+c:2/2.75>b?d*(7.5625*(b-=1.5/2.75)*b+.75)+c:2.5/2.75>b?d*(7.5625*(b-=2.25/2.75)*b+.9375)+c:d*(7.5625*(b-=2.625/2.75)*b+.984375)+c},easeInOutBounce:function(a,b,c,d,e){return e/2>b?.5*jQuery.easing.easeInBounce(a,2*b,0,d,e)+c:.5*jQuery.easing.easeOutBounce(a,2*b-e,0,d,e)+.5*d+c}}),function(a,b,c){"$:nomunge";function d(){e=b[h](function(){f.each(function(){var b=a(this),c=b.width(),d=b.height(),e=a.data(this,j);(c!==e.w||d!==e.h)&&b.trigger(i,[e.w=c,e.h=d])}),d()},g[k])}var e,f=a([]),g=a.resize=a.extend(a.resize,{}),h="setTimeout",i="resize",j=i+"-special-event",k="delay",l="throttleWindow";g[k]=250,g[l]=!0,a.event.special[i]={setup:function(){if(!g[l]&&this[h])return!1;var b=a(this);f=f.add(b),a.data(this,j,{w:b.width(),h:b.height()}),1===f.length&&d()},teardown:function(){if(!g[l]&&this[h])return!1;var b=a(this);f=f.not(b),b.removeData(j),f.length||clearTimeout(e)},add:function(b){function d(b,d,f){var g=a(this),h=a.data(this,j);h.w=d!==c?d:g.width(),h.h=f!==c?f:g.height(),e.apply(this,arguments)}if(!g[l]&&this[h])return!1;var e;return a.isFunction(b)?(e=b,d):(e=b.handler,void(b.handler=d))}}}(jQuery,this),function(a,b){function c(a,b,c){var d=a.children(),e=!1;a.empty();for(var g=0,h=d.length;h>g;g++){var i=d.eq(g);if(a.append(i),c&&a.append(c),f(a,b)){i.remove(),e=!0;break}c&&c.detach()}return e}function d(b,c,g,h,i){var j=!1,k="table, thead, tbody, tfoot, tr, col, colgroup, object, embed, param, ol, ul, dl, blockquote, select, optgroup, option, textarea, script, style",l="script, .dotdotdot-keep";return b.contents().detach().each(function(){var m=this,n=a(m);if("undefined"==typeof m||3==m.nodeType&&0==a.trim(m.data).length)return!0;if(n.is(l))b.append(n);else{if(j)return!0;b.append(n),i&&b[b.is(k)?"after":"append"](i),f(g,h)&&(j=3==m.nodeType?e(n,c,g,h,i):d(n,c,g,h,i),j||(n.detach(),j=!0)),j||i&&i.detach()}}),j}function e(b,c,d,e,h){var k=b[0];if(!k)return!1;var m=j(k),n=-1!==m.indexOf(" ")?" ":"",o="letter"==e.wrap?"":n,p=m.split(o),q=-1,r=-1,s=0,t=p.length-1;for(e.fallbackToLetter&&0==s&&0==t&&(o="",p=m.split(o),t=p.length-1);t>=s&&(0!=s||0!=t);){var u=Math.floor((s+t)/2);if(u==r)break;r=u,i(k,p.slice(0,r+1).join(o)+e.ellipsis),f(d,e)?(t=r,e.fallbackToLetter&&0==s&&0==t&&(o="",p=p[0].split(o),q=-1,r=-1,s=0,t=p.length-1)):(q=r,s=r)}if(-1==q||1==p.length&&0==p[0].length){var v=b.parent();b.detach();var w=h&&h.closest(v).length?h.length:0;v.contents().length>w?k=l(v.contents().eq(-1-w),c):(k=l(v,c,!0),w||v.detach()),k&&(m=g(j(k),e),i(k,m),w&&h&&a(k).parent().append(h))}else m=g(p.slice(0,q+1).join(o),e),i(k,m);return!0}function f(a,b){return a.innerHeight()>b.maxHeight}function g(b,c){for(;a.inArray(b.slice(-1),c.lastCharacter.remove)>-1;)b=b.slice(0,-1);return a.inArray(b.slice(-1),c.lastCharacter.noEllipsis)<0&&(b+=c.ellipsis),b}function h(a){return{width:a.innerWidth(),height:a.innerHeight()}}function i(a,b){a.innerText?a.innerText=b:a.nodeValue?a.nodeValue=b:a.textContent&&(a.textContent=b)}function j(a){return a.innerText?a.innerText:a.nodeValue?a.nodeValue:a.textContent?a.textContent:""}function k(a){do a=a.previousSibling;while(a&&1!==a.nodeType&&3!==a.nodeType);return a}function l(b,c,d){var e,f=b&&b[0];if(f){if(!d){if(3===f.nodeType)return f;if(a.trim(b.text()))return l(b.contents().last(),c)}for(e=k(f);!e;){if(b=b.parent(),b.is(c)||!b.length)return!1;e=k(b[0])}if(e)return l(a(e),c)}return!1}function m(b,c){return b?"string"==typeof b?(b=a(b,c),b.length?b:!1):b.jquery?b:!1:!1}function n(a){for(var b=a.innerHeight(),c=["paddingTop","paddingBottom"],d=0,e=c.length;e>d;d++){var f=parseInt(a.css(c[d]),10);isNaN(f)&&(f=0),b-=f}return b}if(!a.fn.dotdotdot){a.fn.dotdotdot=function(b){if(0==this.length)return a.fn.dotdotdot.debug('No element found for "'+this.selector+'".'),this;if(this.length>1)return this.each(function(){a(this).dotdotdot(b)});var e=this;e.data("dotdotdot")&&e.trigger("destroy.dot"),e.data("dotdotdot-style",e.attr("style")||""),e.css("word-wrap","break-word"),"nowrap"===e.css("white-space")&&e.css("white-space","normal"),e.bind_events=function(){return e.bind("update.dot",function(b,h){b.preventDefault(),b.stopPropagation(),i.maxHeight="number"==typeof i.height?i.height:n(e),i.maxHeight+=i.tolerance,"undefined"!=typeof h&&(("string"==typeof h||h instanceof HTMLElement)&&(h=a("<div />").append(h).contents()),h instanceof a&&(g=h)),p=e.wrapInner('<div class="dotdotdot" />').children(),p.contents().detach().end().append(g.clone(!0)).find("br").replaceWith("  <br />  ").end().css({height:"auto",width:"auto",border:"none",padding:0,margin:0});var k=!1,l=!1;return j.afterElement&&(k=j.afterElement.clone(!0),k.show(),j.afterElement.detach()),f(p,i)&&(l="children"==i.wrap?c(p,i,k):d(p,e,p,i,k)),p.replaceWith(p.contents()),p=null,a.isFunction(i.callback)&&i.callback.call(e[0],l,g),j.isTruncated=l,l}).bind("isTruncated.dot",function(a,b){return a.preventDefault(),a.stopPropagation(),"function"==typeof b&&b.call(e[0],j.isTruncated),j.isTruncated}).bind("originalContent.dot",function(a,b){return a.preventDefault(),a.stopPropagation(),"function"==typeof b&&b.call(e[0],g),g}).bind("destroy.dot",function(a){a.preventDefault(),a.stopPropagation(),e.unwatch().unbind_events().contents().detach().end().append(g).attr("style",e.data("dotdotdot-style")||"").data("dotdotdot",!1)}),e},e.unbind_events=function(){return e.unbind(".dot"),e},e.watch=function(){if(e.unwatch(),"window"==i.watch){var b=a(window),c=b.width(),d=b.height();b.bind("resize.dot"+j.dotId,function(){c==b.width()&&d==b.height()&&i.windowResizeFix||(c=b.width(),d=b.height(),l&&clearInterval(l),l=setTimeout(function(){e.trigger("update.dot")},100))})}else k=h(e),l=setInterval(function(){if(e.is(":visible")){var a=h(e);(k.width!=a.width||k.height!=a.height)&&(e.trigger("update.dot"),k=a)}},500);return e},e.unwatch=function(){return a(window).unbind("resize.dot"+j.dotId),l&&clearInterval(l),e};var g=e.contents(),i=a.extend(!0,{},a.fn.dotdotdot.defaults,b),j={},k={},l=null,p=null;return i.lastCharacter.remove instanceof Array||(i.lastCharacter.remove=a.fn.dotdotdot.defaultArrays.lastCharacter.remove),i.lastCharacter.noEllipsis instanceof Array||(i.lastCharacter.noEllipsis=a.fn.dotdotdot.defaultArrays.lastCharacter.noEllipsis),j.afterElement=m(i.after,e),j.isTruncated=!1,j.dotId=o++,e.data("dotdotdot",!0).bind_events().trigger("update.dot"),i.watch&&e.watch(),e},a.fn.dotdotdot.defaults={ellipsis:"... ",wrap:"word",fallbackToLetter:!0,lastCharacter:{},tolerance:0,callback:null,after:null,height:null,watch:!1,windowResizeFix:!0},a.fn.dotdotdot.defaultArrays={lastCharacter:{remove:[" ","",",",";",".","!","?"],noEllipsis:[]}},a.fn.dotdotdot.debug=function(a){};var o=1,p=a.fn.html;a.fn.html=function(c){return c!=b&&!a.isFunction(c)&&this.data("dotdotdot")?this.trigger("update",[c]):p.apply(this,arguments)};var q=a.fn.text;a.fn.text=function(c){return c!=b&&!a.isFunction(c)&&this.data("dotdotdot")?(c=a("<div />").text(c).html(),this.trigger("update",[c])):q.apply(this,arguments)}}}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)}(function(a,b){function c(a){function b(a){d?(c(),M(b),e=!0,d=!1):e=!1}var c=a,d=!1,e=!1;this.kick=function(a){d=!0,e||b()},this.end=function(a){var b=c;a&&(e?(c=d?function(){b(),a()}:a,d=!0):a())}}function d(){return!0}function e(){return!1}function f(a){a.preventDefault()}function g(a){N[a.target.tagName.toLowerCase()]||a.preventDefault()}function h(a){return 1===a.which&&!a.ctrlKey&&!a.altKey}function i(a,b){var c,d;if(a.identifiedTouch)return a.identifiedTouch(b);for(c=-1,d=a.length;++c<d;)if(a[c].identifier===b)return a[c]}function j(a,b){var c=i(a.changedTouches,b.identifier);if(c&&(c.pageX!==b.pageX||c.pageY!==b.pageY))return c}function k(a){var b;h(a)&&(b={target:a.target,startX:a.pageX,startY:a.pageY,timeStamp:a.timeStamp},J(document,O.move,l,b),J(document,O.cancel,m,b))}function l(a){var b=a.data;s(a,b,a,n)}function m(a){n()}function n(){K(document,O.move,l),K(document,O.cancel,m)}function o(a){var b,c;N[a.target.tagName.toLowerCase()]||(b=a.changedTouches[0],c={target:b.target,startX:b.pageX,startY:b.pageY,timeStamp:a.timeStamp,identifier:b.identifier},J(document,P.move+"."+b.identifier,p,c),J(document,P.cancel+"."+b.identifier,q,c))}function p(a){var b=a.data,c=j(a,b);c&&s(a,b,c,r)}function q(a){var b=a.data,c=i(a.changedTouches,b.identifier);c&&r(b.identifier)}function r(a){K(document,"."+a,p),K(document,"."+a,q)}function s(a,b,c,d){var e=c.pageX-b.startX,f=c.pageY-b.startY;I*I>e*e+f*f||v(a,b,c,e,f,d)}function t(){return this._handled=d,!1}function u(a){a._handled()}function v(a,b,c,d,e,f){var g,h;b.target;g=a.targetTouches,h=a.timeStamp-b.timeStamp,b.type="movestart",b.distX=d,b.distY=e,b.deltaX=d,b.deltaY=e,b.pageX=c.pageX,b.pageY=c.pageY,b.velocityX=d/h,b.velocityY=e/h,b.targetTouches=g,b.finger=g?g.length:1,b._handled=t,b._preventTouchmoveDefault=function(){a.preventDefault()},L(b.target,b),f(b.identifier)}function w(a){var b=a.data.timer;a.data.touch=a,a.data.timeStamp=a.timeStamp,b.kick()}function x(a){var b=a.data.event,c=a.data.timer;y(),D(b,c,function(){setTimeout(function(){K(b.target,"click",e)},0)})}function y(a){K(document,O.move,w),K(document,O.end,x)}function z(a){var b=a.data.event,c=a.data.timer,d=j(a,b);d&&(a.preventDefault(),b.targetTouches=a.targetTouches,a.data.touch=d,a.data.timeStamp=a.timeStamp,c.kick())}function A(a){var b=a.data.event,c=a.data.timer,d=i(a.changedTouches,b.identifier);d&&(B(b),D(b,c))}function B(a){K(document,"."+a.identifier,z),K(document,"."+a.identifier,A)}function C(a,b,c,d){var e=c-a.timeStamp;a.type="move",a.distX=b.pageX-a.startX,a.distY=b.pageY-a.startY,a.deltaX=b.pageX-a.pageX,a.deltaY=b.pageY-a.pageY,a.velocityX=.3*a.velocityX+.7*a.deltaX/e,a.velocityY=.3*a.velocityY+.7*a.deltaY/e,a.pageX=b.pageX,a.pageY=b.pageY}function D(a,b,c){b.end(function(){return a.type="moveend",L(a.target,a),c&&c()})}function E(a,b,c){return J(this,"movestart.move",u),!0}function F(a){return K(this,"dragstart drag",f),K(this,"mousedown touchstart",g),K(this,"movestart",u),!0}function G(a){"move"!==a.namespace&&"moveend"!==a.namespace&&(J(this,"dragstart."+a.guid+" drag."+a.guid,f,b,a.selector),J(this,"mousedown."+a.guid,g,b,a.selector))}function H(a){"move"!==a.namespace&&"moveend"!==a.namespace&&(K(this,"dragstart."+a.guid+" drag."+a.guid),K(this,"mousedown."+a.guid))}var I=6,J=a.event.add,K=a.event.remove,L=function(b,c,d){a.event.trigger(c,d,b)},M=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a,b){return window.setTimeout(function(){a()},25)}}(),N={textarea:!0,input:!0,select:!0,button:!0},O={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},P={move:"touchmove",cancel:"touchend",end:"touchend"};a.event.special.movestart={setup:E,teardown:F,add:G,remove:H,_default:function(a){function d(b){C(f,g.touch,g.timeStamp),L(a.target,f)}var f,g;a._handled()&&(f={target:a.target,startX:a.startX,startY:a.startY,pageX:a.pageX,pageY:a.pageY,distX:a.distX,distY:a.distY,deltaX:a.deltaX,deltaY:a.deltaY,velocityX:a.velocityX,velocityY:a.velocityY,timeStamp:a.timeStamp,identifier:a.identifier,targetTouches:a.targetTouches,finger:a.finger},g={event:f,timer:new c(d),touch:b,timeStamp:b},a.identifier===b?(J(a.target,"click",e),J(document,O.move,w,g),J(document,O.end,x,g)):(a._preventTouchmoveDefault(),J(document,P.move+"."+a.identifier,z,g),J(document,P.end+"."+a.identifier,A,g)))}},a.event.special.move={setup:function(){J(this,"movestart.move",a.noop)},teardown:function(){K(this,"movestart.move",a.noop)}},a.event.special.moveend={setup:function(){J(this,"movestart.moveend",a.noop)},teardown:function(){K(this,"movestart.moveend",a.noop)}},J(document,"mousedown.move",k),J(document,"touchstart.move",o),"function"==typeof Array.prototype.indexOf&&!function(a,b){for(var c=["changedTouches","targetTouches"],d=c.length;d--;)-1===a.event.props.indexOf(c[d])&&a.event.props.push(c[d])}(a)}),function(a){var b=0,c=0,d=0,e=10,f=0,g="ontouchstart"in window||navigator.msMaxTouchPoints>0,h="onorientationchange"in window,i=!1,j=!1,k=!1,l=!1,m=!1,n=!1,o=!1,p="pointer",q="pointer",r=new Array,s=new Array,t=new Array,u=new Array,v=new Array,w=new Array,x=new Array,y=new Array,z=new Array,A=new Array,B=new Array,C=new Array,D=new Array,E={showScrollbar:function(b,c){b.scrollbarHide&&a("."+c).css({opacity:b.scrollbarOpacity,filter:"alpha(opacity:"+100*b.scrollbarOpacity+")"})},hideScrollbar:function(a,b,c,d,f,g,h,i,j,k){if(a.scrollbar&&a.scrollbarHide)for(var l=c;c+25>l;l++)b[b.length]=E.hideScrollbarIntervalTimer(e*l,d[c],(c+24-l)/24,f,g,h,i,j,k,a)},hideScrollbarInterval:function(b,c,d,e,g,h,i,j,k){f=-1*b/B[j]*(g-h-i-e),E.setSliderOffset("."+d,f),a("."+d).css({opacity:k.scrollbarOpacity*c,filter:"alpha(opacity:"+k.scrollbarOpacity*c*100+")"})},slowScrollHorizontalInterval:function(b,c,d,e,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){if(u.infiniteSlider){if(d<=-1*B[r]||d<=-1*C[r]){var v=a(b).width();if(d<=-1*C[r]){var w=-1*m[0];a(c).each(function(b){E.setSliderOffset(a(c)[b],w+s),b<n.length&&(n[b]=-1*w),w+=q[b]}),d+=-1*n[0],A[r]=-1*n[0]+s,B[r]=A[r]+v-h,z[r]=0}for(;d<=-1*B[r];){var D=0,F=E.getSliderOffset(a(c[0]),"x");a(c).each(function(a){E.getSliderOffset(this,"x")<F&&(F=E.getSliderOffset(this,"x"),D=a)});var G=A[r]+v;E.setSliderOffset(a(c)[D],G),A[r]=-1*n[1]+s,B[r]=A[r]+v-h,n.splice(0,1),n.splice(n.length,0,-1*G+s),z[r]++}}if(d>=-1*A[r]||d>=0){var v=a(b).width();if(d>0){var w=-1*m[0];for(a(c).each(function(b){E.setSliderOffset(a(c)[b],w+s),b<n.length&&(n[b]=-1*w),w+=q[b]}),d-=-1*n[0],A[r]=-1*n[0]+s,B[r]=A[r]+v-h,z[r]=p;-1*n[0]-v+s>0;){var H=0,I=E.getSliderOffset(a(c[0]),"x");a(c).each(function(a){E.getSliderOffset(this,"x")>I&&(I=E.getSliderOffset(this,"x"),H=a)});var G=A[r]-q[H];E.setSliderOffset(a(c)[H],G),n.splice(0,0,-1*G+s),n.splice(n.length-1,1),A[r]=-1*n[0]+s,B[r]=A[r]+v-h,z[r]--,x[r]++}}for(;d>-1*A[r];){var H=0,I=E.getSliderOffset(a(c[0]),"x");a(c).each(function(a){E.getSliderOffset(this,"x")>I&&(I=E.getSliderOffset(this,"x"),H=a)});var G=A[r]-q[H];E.setSliderOffset(a(c)[H],G),n.splice(0,0,-1*G+s),n.splice(n.length-1,1),A[r]=-1*n[0]+s,B[r]=A[r]+v-h,z[r]--}}}var J=!1,K=E.calcActiveOffset(u,d,n,h,z[r],p,l,r),G=(K+z[r]+p)%p;if(u.infiniteSlider?G!=y[r]&&(J=!0):K!=x[r]&&(J=!0),J){var L=new E.args("change",u,b,a(b).children(":eq("+G+")"),G,t);a(b).parent().data("args",L),""!=u.onSlideChange&&u.onSlideChange(L)}if(x[r]=K,y[r]=G,d=Math.floor(d),r!=a(b).parent().data("args").data.sliderNumber)return!0;if(E.setSliderOffset(b,d),u.scrollbar){f=Math.floor((-1*d-A[r]+s)/(B[r]-A[r]+s)*(i-j-g));var M=g-k;d>=-1*A[r]+s?(M=g-k- -1*f,E.setSliderOffset(a("."+e),0),a("."+e).css({width:M+"px"})):d<=-1*B[r]+1?(M=i-j-k-f,E.setSliderOffset(a("."+e),f),a("."+e).css({width:M+"px"})):(E.setSliderOffset(a("."+e),f),a("."+e).css({width:M+"px"}))}},slowScrollHorizontal:function(b,c,d,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,C){var D=E.getSliderOffset(b,"x"),F=new Array,G=new Array,H=0,I=25/1024*j;frictionCoefficient=C.frictionCoefficient,elasticFrictionCoefficient=C.elasticFrictionCoefficient,snapFrictionCoefficient=C.snapFrictionCoefficient,g>C.snapVelocityThreshold&&C.snapToChildren&&!u?H=1:g<-1*C.snapVelocityThreshold&&C.snapToChildren&&!u&&(H=-1),-1*I>g?g=-1*I:g>I&&(g=I),a(b)[0]!==a(t)[0]&&(H=-1*H,g=-2*g);var J=z[q];if(C.infiniteSlider)var K=A[q],L=B[q];for(var M=new Array,N=new Array,O=0;O<o.length;O++)M[O]=o[O],O<c.length&&(N[O]=E.getSliderOffset(a(c[O]),"x"));for(;g>1||-1>g;){if(g*=frictionCoefficient,D+=g,(D>-1*A[q]||D<-1*B[q])&&!C.infiniteSlider&&(g*=elasticFrictionCoefficient,D+=g),C.infiniteSlider){if(-1*L>=D){for(var P=a(b).width(),Q=0,R=N[0],O=0;O<N.length;O++)N[O]<R&&(R=N[O],Q=O);var S=K+P;N[Q]=S,K=-1*M[1]+v,L=K+P-j,M.splice(0,1),M.splice(M.length,0,-1*S+v),J++}if(D>=-1*K){for(var P=a(b).width(),T=0,U=N[0],O=0;O<N.length;O++)N[O]>U&&(U=N[O],T=O);var S=K-p[T];N[T]=S,M.splice(0,0,-1*S+v),M.splice(M.length-1,1),K=-1*M[0]+v,L=K+P-j,J--}}F[F.length]=D,G[G.length]=g}var V=!1,W=E.calcActiveOffset(C,D,M,j,J,s,x[q],q),X=(W+J+s)%s;if(C.snapToChildren&&(C.infiniteSlider?X!=y[q]&&(V=!0):W!=x[q]&&(V=!0),0>H&&!V?(W++,W>=o.length&&!C.infiniteSlider&&(W=o.length-1)):H>0&&!V&&(W--,0>W&&!C.infiniteSlider&&(W=0))),C.snapToChildren||(D>-1*A[q]||D<-1*B[q])&&!C.infiniteSlider){for((D>-1*A[q]||D<-1*B[q])&&!C.infiniteSlider?F.splice(0,F.length):(F.splice(.1*F.length,F.length),D=F.length>0?F[F.length-1]:D);D<M[W]-.5||D>M[W]+.5;)D=(D-M[W])*snapFrictionCoefficient+M[W],F[F.length]=D;F[F.length]=M[W]}var Y=1;F.length%2!=0&&(Y=0);for(var Z=0;Z<d.length;Z++)clearTimeout(d[Z]);for(var $=(W+J+s)%s,_=0,Z=Y;Z<F.length;Z+=2)(Z==Y||Math.abs(F[Z]-_)>1||Z>=F.length-2)&&(_=F[Z],d[d.length]=E.slowScrollHorizontalIntervalTimer(e*Z,b,c,F[Z],f,i,j,k,l,m,W,n,o,r,s,p,q,v,$,C));var V=!1,X=(W+z[q]+s)%s;C.infiniteSlider?X!=y[q]&&(V=!0):W!=x[q]&&(V=!0),""!=C.onSlideComplete&&F.length>1&&(d[d.length]=E.onSlideCompleteTimer(e*(Z+1),C,b,a(b).children(":eq("+X+")"),$,q)),d[d.length]=E.updateBackfaceVisibilityTimer(e*(Z+1),c,q,s,C),w[q]=d,E.hideScrollbar(C,d,Z,F,f,i,j,l,m,q)},onSlideComplete:function(b,c,d,e,f){var g=(r[f]!=e?!0:!1,new E.args("complete",b,a(c),d,e,e));a(c).parent().data("args",g),""!=b.onSlideComplete&&b.onSlideComplete(g),r[f]=e},getSliderOffset:function(b,c){var d=0;if(c="x"==c?4:5,!j||k||l)d=parseInt(a(b).css("left"),10);else{for(var e,f=new Array("-webkit-transform","-moz-transform","transform"),g=0;g<f.length;g++)if(void 0!=a(b).css(f[g])&&a(b).css(f[g]).length>0){e=a(b).css(f[g]).split(",");break}d=void 0==e[c]?0:parseInt(e[c],10)}return d},setSliderOffset:function(b,c){c=parseInt(c,10),!j||k||l?a(b).css({left:c+"px"}):a(b).css({msTransform:"matrix(1,0,0,1,"+c+",0)",webkitTransform:"matrix(1,0,0,1,"+c+",0)",MozTransform:"matrix(1,0,0,1,"+c+",0)",transform:"matrix(1,0,0,1,"+c+",0)"})},setBrowserInfo:function(){null!=navigator.userAgent.match("WebKit")?(i=!0,p="-webkit-grab",q="-webkit-grabbing"):null!=navigator.userAgent.match("Gecko")?(o=!0,p="move",q="-moz-grabbing"):null!=navigator.userAgent.match("MSIE 7")?(k=!0,n=!0):null!=navigator.userAgent.match("MSIE 8")?(l=!0,n=!0):null!=navigator.userAgent.match("MSIE 9")&&(m=!0,n=!0)},has3DTransform:function(){var b=!1,c=a("<div />").css({msTransform:"matrix(1,1,1,1,1,1)",webkitTransform:"matrix(1,1,1,1,1,1)",MozTransform:"matrix(1,1,1,1,1,1)",transform:"matrix(1,1,1,1,1,1)"});return""==c.attr("style")?b=!1:o&&parseInt(navigator.userAgent.split("/")[3],10)>=21?b=!1:void 0!=c.attr("style")&&(b=!0),!1},getSlideNumber:function(a,b,c){return(a-z[b]+c)%c},calcActiveOffset:function(a,b,c,d,e,f,g,h){var i,j=!1,k=new Array;b>c[0]&&(i=0),b<c[c.length-1]&&(i=f-1);for(var l=0;l<c.length;l++)c[l]<=b&&c[l]>b-d&&(j||c[l]==b||(k[k.length]=c[l-1]),k[k.length]=c[l],j=!0);0==k.length&&(k[0]=c[c.length-1]);for(var m=d,n=0,l=0;l<k.length;l++){var o=Math.abs(b-k[l]);m>o&&(n=k[l],m=o)}for(var l=0;l<c.length;l++)n==c[l]&&(i=l);return i},changeSlide:function(b,c,d,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){E.autoSlidePause(p);for(var u=0;u<f.length;u++)clearTimeout(f[u]);var v=Math.ceil(t.autoSlideTransTimer/10)+1,A=E.getSliderOffset(c,"x"),B=n[b],C=B-A,D=b-(x[p]+z[p]+r)%r;if(t.infiniteSlider){b=(b-z[p]+2*r)%r;var F=!1;0==b&&2==r&&(b=r,n[b]=n[b-1]-a(d).eq(0).outerWidth(!0),F=!0),B=n[b],C=B-A;var G=new Array(n[b]-a(c).width(),n[b]+a(c).width());F&&n.splice(n.length-1,1);for(var H=0;H<G.length;H++)Math.abs(G[H]-A)<Math.abs(C)&&(C=G[H]-A)}0>C&&-1==D?C+=a(c).width():C>0&&1==D&&(C-=a(c).width());var I,J,K=new Array;E.showScrollbar(t,g);for(var H=0;v>=H;H++)I=H,I/=v,I--,J=A+C*(Math.pow(I,5)+1),K[K.length]=J;for(var L=(b+z[p]+r)%r,M=0,H=0;H<K.length;H++)if((0==H||Math.abs(K[H]-M)>1||H>=K.length-2)&&(M=K[H],f[H]=E.slowScrollHorizontalIntervalTimer(e*(H+1),c,d,K[H],g,h,i,j,k,l,b,m,n,q,r,o,p,s,L,t)),0==H&&""!=t.onSlideStart){var N=(x[p]+z[p]+r)%r;t.onSlideStart(new E.args("start",t,c,a(c).children(":eq("+N+")"),N,b))}var O=!1;t.infiniteSlider?L!=y[p]&&(O=!0):b!=x[p]&&(O=!0),O&&""!=t.onSlideComplete&&(f[f.length]=E.onSlideCompleteTimer(e*(H+1),t,c,a(c).children(":eq("+L+")"),L,p)),w[p]=f,E.hideScrollbar(t,f,H,K,g,h,i,k,l,p),E.autoSlide(c,d,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t)},changeOffset:function(b,c,d,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){E.autoSlidePause(p);for(var u=0;u<f.length;u++)clearTimeout(f[u]);t.infiniteSlider||(b=b>-1*A[p]+s?-1*A[p]+s:b,b=b<-1*B[p]?-1*B[p]:b);var v=Math.ceil(t.autoSlideTransTimer/10)+1,C=E.getSliderOffset(c,"x"),D=(E.calcActiveOffset(t,b,n,i,z,r,x[p],p)+z[p]+r)%r,F=n.slice();if(t.snapToChildren&&!t.infiniteSlider)b=n[D];else if(t.infiniteSlider&&t.snapToChildren){for(;b>=F[0];)F.splice(0,0,F[r-1]+a(c).width()),F.splice(r,1);for(;b<=F[r-1];)F.splice(r,0,F[0]-a(c).width()),F.splice(0,1);D=E.calcActiveOffset(t,b,F,i,z,r,x[p],p),b=F[D]}var G,H,I=b-C,J=new Array;E.showScrollbar(t,g);for(var K=0;v>=K;K++)G=K,G/=v,G--,H=C+I*(Math.pow(G,5)+1),J[J.length]=H;for(var L=(D+z[p]+r)%r,M=0,K=0;K<J.length;K++)if((0==K||Math.abs(J[K]-M)>1||K>=J.length-2)&&(M=J[K],f[K]=E.slowScrollHorizontalIntervalTimer(e*(K+1),c,d,J[K],g,h,i,j,k,l,D,m,n,q,r,o,p,s,L,t)),0==K&&""!=t.onSlideStart){var L=(x[p]+z[p]+r)%r;t.onSlideStart(new E.args("start",t,c,a(c).children(":eq("+L+")"),L,D))}var N=!1;t.infiniteSlider?L!=y[p]&&(N=!0):D!=x[p]&&(N=!0),N&&""!=t.onSlideComplete&&(f[f.length]=E.onSlideCompleteTimer(e*(K+1),t,c,a(c).children(":eq("+L+")"),L,p)),w[p]=f,E.hideScrollbar(t,f,K,J,g,h,i,k,l,p),E.autoSlide(c,d,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t)},autoSlide:function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){return u[m].autoSlide?(E.autoSlidePause(m),void(s[m]=setTimeout(function(){!q.infiniteSlider&&x[m]>k.length-1&&(x[m]=x[m]-o);var r=x[m]+z[m]+1;E.changeSlide(r,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q),E.autoSlide(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q)},q.autoSlideTimer+q.autoSlideTransTimer))):!1},autoSlidePause:function(a){clearTimeout(s[a])},isUnselectable:function(b,c){return""!=c.unselectableSelector&&1==a(b).closest(c.unselectableSelector).length?!0:!1},slowScrollHorizontalIntervalTimer:function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t){var u=setTimeout(function(){E.slowScrollHorizontalInterval(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t)},a);return u},onSlideCompleteTimer:function(a,b,c,d,e,f){var g=setTimeout(function(){E.onSlideComplete(b,c,d,e,f)},a);return g},hideScrollbarIntervalTimer:function(a,b,c,d,e,f,g,h,i,j){var k=setTimeout(function(){E.hideScrollbarInterval(b,c,d,e,f,g,h,i,j)},a);return k},updateBackfaceVisibilityTimer:function(a,b,c,d,e){var f=setTimeout(function(){E.updateBackfaceVisibility(b,c,d,e)},a);return f},updateBackfaceVisibility:function(b,c,d,e){for(var f=(x[c]+z[c]+d)%d,g=Array(),h=0;h<2*e.hardwareAccelBuffer;h++){var i=E.mod(f+h-e.hardwareAccelBuffer,d);if("visible"==a(b).eq(i).css("-webkit-backface-visibility")){g[g.length]=i;var j=E.mod(i+2*e.hardwareAccelBuffer,d),k=E.mod(i-2*e.hardwareAccelBuffer,d);a(b).eq(i).css("-webkit-backface-visibility","hidden"),-1==g.indexOf(k)&&a(b).eq(k).css("-webkit-backface-visibility",""),-1==g.indexOf(j)&&a(b).eq(j).css("-webkit-backface-visibility","")}}},mod:function(a,b){var c=a%b;return 0>c?c+b:c},args:function(b,c,d,e,f,g){this.prevSlideNumber=void 0==a(d).parent().data("args")?void 0:a(d).parent().data("args").prevSlideNumber,this.prevSlideObject=void 0==a(d).parent().data("args")?void 0:a(d).parent().data("args").prevSlideObject,this.targetSlideNumber=g+1,this.targetSlideObject=a(d).children(":eq("+g+")"),this.slideChanged=!1,"load"==b?(this.targetSlideNumber=void 0,this.targetSlideObject=void 0):"start"==b?(this.targetSlideNumber=void 0,this.targetSlideObject=void 0):"change"==b?(this.slideChanged=!0,this.prevSlideNumber=void 0==a(d).parent().data("args")?c.startAtSlide:a(d).parent().data("args").currentSlideNumber,this.prevSlideObject=a(d).children(":eq("+this.prevSlideNumber+")")):"complete"==b&&(this.slideChanged=a(d).parent().data("args").slideChanged),this.settings=c,this.data=a(d).parent().data("iosslider"),this.sliderObject=d,this.sliderContainerObject=a(d).parent(),this.currentSlideObject=e,this.currentSlideNumber=f+1,this.currentSliderOffset=-1*E.getSliderOffset(d,"x")},preventDrag:function(a){a.preventDefault()},preventClick:function(a){return a.stopImmediatePropagation(),!1},enableClick:function(){return!0}};E.setBrowserInfo();var F={init:function(e,i){j=E.has3DTransform();var m=a.extend(!0,{elasticPullResistance:.6,frictionCoefficient:.92,elasticFrictionCoefficient:.6,snapFrictionCoefficient:.92,snapToChildren:!1,snapSlideCenter:!1,startAtSlide:1,scrollbar:!1,scrollbarDrag:!1,scrollbarHide:!0,scrollbarPaging:!1,scrollbarLocation:"top",scrollbarContainer:"",scrollbarOpacity:.4,scrollbarHeight:"4px",scrollbarBorder:"0",scrollbarMargin:"5px",scrollbarBackground:"#000",scrollbarBorderRadius:"100px",scrollbarShadow:"0 0 0 #000",scrollbarElasticPullResistance:.9,desktopClickDrag:!1,keyboardControls:!1,tabToAdvance:!1,responsiveSlideContainer:!0,responsiveSlides:!0,navSlideSelector:"",navPrevSelector:"",navNextSelector:"",autoSlideToggleSelector:"",autoSlide:!1,autoSlideTimer:5e3,autoSlideTransTimer:750,autoSlideHoverPause:!0,infiniteSlider:!1,snapVelocityThreshold:5,slideStartVelocityThreshold:0,horizontalSlideLockThreshold:5,verticalSlideLockThreshold:3,hardwareAccelBuffer:5,stageCSS:{position:"relative",top:"0",left:"0",overflow:"hidden",zIndex:1},unselectableSelector:"",onSliderLoaded:"",onSliderUpdate:"",onSliderResize:"",onSlideStart:"",onSlideChange:"",onSlideComplete:""},e);return void 0==i&&(i=this),a(i).each(function(e){function i(){E.autoSlidePause(j),qa=a(ga).find("a"),ra=a(ga).find("[onclick]"),sa=a(ga).find("*"),a($).css("width",""),a($).css("height",""),a(ga).css("width",""),R=a(ga).children().not("script").get(),S=new Array,T=new Array,m.responsiveSlides&&a(R).css("width",""),B[j]=0,Q=new Array,J=a($).parent().width(),L=a($).outerWidth(!0),m.responsiveSlideContainer&&(L=a($).outerWidth(!0)>J?J:a($).width()),a($).css({position:m.stageCSS.position,top:m.stageCSS.top,left:m.stageCSS.left,overflow:m.stageCSS.overflow,zIndex:m.stageCSS.zIndex,webkitPerspective:1e3,webkitBackfaceVisibility:"hidden",msTouchAction:"pan-y",width:L}),a(m.unselectableSelector).css({cursor:"default"});for(var b=0;b<R.length;b++){S[b]=a(R[b]).width(),T[b]=a(R[b]).outerWidth(!0);var c=T[b];m.responsiveSlides&&(T[b]>L?(c=L+-1*(T[b]-S[b]),S[b]=c,T[b]=L):c=S[b],a(R[b]).css({width:c})),a(R[b]).css({overflow:"hidden",position:"absolute"}),Q[b]=-1*B[j],B[j]=B[j]+c+(T[b]-S[b])}m.snapSlideCenter&&(Z=.5*(L-T[0]),m.responsiveSlides&&T[0]>L&&(Z=0)),C[j]=2*B[j];for(var b=0;b<R.length;b++)E.setSliderOffset(a(R[b]),-1*Q[b]+B[j]+Z),Q[b]=Q[b]-B[j];if(!m.infiniteSlider&&!m.snapSlideCenter){for(var d=0;d<Q.length&&!(Q[d]<=-1*(2*B[j]-L));d++)ja=d;Q.splice(ja+1,Q.length),Q[Q.length]=-1*(2*B[j]-L)}for(var d=0;d<Q.length;d++)ba[d]=Q[d];if(_&&(u[j].startAtSlide=u[j].startAtSlide>Q.length?Q.length:u[j].startAtSlide,m.infiniteSlider?(u[j].startAtSlide=(u[j].startAtSlide-1+ha)%ha,x[j]=u[j].startAtSlide):(u[j].startAtSlide=u[j].startAtSlide-1<0?Q.length-1:u[j].startAtSlide,x[j]=u[j].startAtSlide-1),y[j]=x[j]),A[j]=B[j]+Z,a(ga).css({position:"relative",cursor:p,webkitPerspective:"0",webkitBackfaceVisibility:"hidden",width:B[j]+"px"}),pa=B[j],B[j]=2*B[j]-L+2*Z,ma=L>pa+Z||0==L?!0:!1,ma&&a(ga).css({
cursor:"default"}),K=a($).parent().outerHeight(!0),M=a($).height(),m.responsiveSlideContainer&&(M=M>K?K:M),a($).css({height:M}),E.setSliderOffset(ga,Q[x[j]]),m.infiniteSlider&&!ma){for(var e=E.getSliderOffset(a(ga),"x"),f=(z[j]+ha)%ha*-1;0>f;){var g=0,h=E.getSliderOffset(a(R[0]),"x");a(R).each(function(a){E.getSliderOffset(this,"x")<h&&(h=E.getSliderOffset(this,"x"),g=a)});var i=A[j]+pa;E.setSliderOffset(a(R)[g],i),A[j]=-1*Q[1]+Z,B[j]=A[j]+pa-L,Q.splice(0,1),Q.splice(Q.length,0,-1*i+Z),f++}for(;-1*Q[0]-pa+Z>0&&m.snapSlideCenter&&_;){var k=0,l=E.getSliderOffset(a(R[0]),"x");a(R).each(function(a){E.getSliderOffset(this,"x")>l&&(l=E.getSliderOffset(this,"x"),k=a)});var i=A[j]-T[k];E.setSliderOffset(a(R)[k],i),Q.splice(0,0,-1*i+Z),Q.splice(Q.length-1,1),A[j]=-1*Q[0]+Z,B[j]=A[j]+pa-L,z[j]--,x[j]++}for(;e<=-1*B[j];){var g=0,h=E.getSliderOffset(a(R[0]),"x");a(R).each(function(a){E.getSliderOffset(this,"x")<h&&(h=E.getSliderOffset(this,"x"),g=a)});var i=A[j]+pa;E.setSliderOffset(a(R)[g],i),A[j]=-1*Q[1]+Z,B[j]=A[j]+pa-L,Q.splice(0,1),Q.splice(Q.length,0,-1*i+Z),z[j]++,x[j]--}}return E.setSliderOffset(ga,Q[x[j]]),E.updateBackfaceVisibility(R,j,ha,m),m.desktopClickDrag||a(ga).css({cursor:"default"}),m.scrollbar&&(a("."+X).css({margin:m.scrollbarMargin,overflow:"hidden",display:"none"}),a("."+X+" ."+Y).css({border:m.scrollbarBorder}),N=parseInt(a("."+X).css("marginLeft"))+parseInt(a("."+X).css("marginRight")),O=parseInt(a("."+X+" ."+Y).css("borderLeftWidth"),10)+parseInt(a("."+X+" ."+Y).css("borderRightWidth"),10),H=""!=m.scrollbarContainer?a(m.scrollbarContainer).width():L,I=L/pa*(H-N),m.scrollbarHide||(ca=m.scrollbarOpacity),a("."+X).css({position:"absolute",left:0,width:H-N+"px",margin:m.scrollbarMargin}),"top"==m.scrollbarLocation?a("."+X).css("top","0"):a("."+X).css("bottom","0"),a("."+X+" ."+Y).css({borderRadius:m.scrollbarBorderRadius,background:m.scrollbarBackground,height:m.scrollbarHeight,width:I-O+"px",minWidth:m.scrollbarHeight,border:m.scrollbarBorder,webkitPerspective:1e3,webkitBackfaceVisibility:"hidden",position:"relative",opacity:ca,filter:"alpha(opacity:"+100*ca+")",boxShadow:m.scrollbarShadow}),E.setSliderOffset(a("."+X+" ."+Y),Math.floor((-1*Q[x[j]]-A[j]+Z)/(B[j]-A[j]+Z)*(H-N-I))),a("."+X).css({display:"block"}),s=a("."+X+" ."+Y),G=a("."+X)),m.scrollbarDrag&&!ma&&a("."+X+" ."+Y).css({cursor:p}),m.infiniteSlider&&(U=(B[j]+L)/3),""!=m.navSlideSelector&&a(m.navSlideSelector).each(function(b){a(this).css({cursor:"pointer"}),a(this).unbind(va).bind(va,function(c){"touchstart"==c.type?a(this).unbind("click.iosSliderEvent"):a(this).unbind("touchstart.iosSliderEvent"),va=c.type+".iosSliderEvent",E.changeSlide(b,ga,R,o,Y,I,L,H,N,O,ba,Q,T,j,U,ha,Z,m)})}),""!=m.navPrevSelector&&(a(m.navPrevSelector).css({cursor:"pointer"}),a(m.navPrevSelector).unbind(va).bind(va,function(b){"touchstart"==b.type?a(this).unbind("click.iosSliderEvent"):a(this).unbind("touchstart.iosSliderEvent"),va=b.type+".iosSliderEvent";var c=(x[j]+z[j]+ha)%ha;(c>0||m.infiniteSlider)&&E.changeSlide(c-1,ga,R,o,Y,I,L,H,N,O,ba,Q,T,j,U,ha,Z,m)})),""!=m.navNextSelector&&(a(m.navNextSelector).css({cursor:"pointer"}),a(m.navNextSelector).unbind(va).bind(va,function(b){"touchstart"==b.type?a(this).unbind("click.iosSliderEvent"):a(this).unbind("touchstart.iosSliderEvent"),va=b.type+".iosSliderEvent";var c=(x[j]+z[j]+ha)%ha;(c<Q.length-1||m.infiniteSlider)&&E.changeSlide(c+1,ga,R,o,Y,I,L,H,N,O,ba,Q,T,j,U,ha,Z,m)})),m.autoSlide&&!ma&&""!=m.autoSlideToggleSelector&&(a(m.autoSlideToggleSelector).css({cursor:"pointer"}),a(m.autoSlideToggleSelector).unbind(va).bind(va,function(b){"touchstart"==b.type?a(this).unbind("click.iosSliderEvent"):a(this).unbind("touchstart.iosSliderEvent"),va=b.type+".iosSliderEvent",na?(E.autoSlide(ga,R,o,Y,I,L,H,N,O,ba,Q,T,j,U,ha,Z,m),na=!1,a(m.autoSlideToggleSelector).removeClass("on")):(E.autoSlidePause(j),na=!0,a(m.autoSlideToggleSelector).addClass("on"))})),E.autoSlide(ga,R,o,Y,I,L,H,N,O,ba,Q,T,j,U,ha,Z,m),a($).bind("mouseleave.iosSliderEvent",function(){return na?!0:void E.autoSlide(ga,R,o,Y,I,L,H,N,O,ba,Q,T,j,U,ha,Z,m)}),a($).bind("touchend.iosSliderEvent",function(){return na?!0:void E.autoSlide(ga,R,o,Y,I,L,H,N,O,ba,Q,T,j,U,ha,Z,m)}),m.autoSlideHoverPause&&a($).bind("mouseenter.iosSliderEvent",function(){E.autoSlidePause(j)}),a($).data("iosslider",{obj:wa,settings:m,scrollerNode:ga,slideNodes:R,numberOfSlides:ha,centeredSlideOffset:Z,sliderNumber:j,originalOffsets:ba,childrenOffsets:Q,sliderMax:B[j],scrollbarClass:Y,scrollbarWidth:I,scrollbarStageWidth:H,stageWidth:L,scrollMargin:N,scrollBorder:O,infiniteSliderOffset:z[j],infiniteSliderWidth:U,slideNodeOuterWidths:T,shortContent:ma}),_=!1,!0}b++;var j=b,o=new Array;u[j]=a.extend({},m),A[j]=0,B[j]=0;var s,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V=new Array(0,0),W=new Array(0,0),X="scrollbarBlock"+b,Y="scrollbar"+b,Z=0,$=a(this),_=!0,aa=-1,ba=(new Array,new Array),ca=0,da=0,ea=0,fa=0,ga=a(this).children(":first-child"),ha=a(ga).children().not("script").length,ia=!1,ja=0,ka=!1,la=void 0;z[j]=0;var ma=!1;r[j]=-1;var na=!1;t[j]=$,v[j]=!1;var oa,pa,qa,ra,sa,ta=!1,ua=!1,va="touchstart.iosSliderEvent click.iosSliderEvent";D[j]=!1,w[j]=new Array,m.scrollbarDrag&&(m.scrollbar=!0,m.scrollbarHide=!1);var wa=a(this),xa=wa.data("iosslider");if(void 0!=xa)return!0;if(parseInt(a().jquery.split(".").join(""),10)>=14.2?a(this).delegate("img","dragstart.iosSliderEvent",function(a){a.preventDefault()}):a(this).find("img").bind("dragstart.iosSliderEvent",function(a){a.preventDefault()}),m.infiniteSlider&&(m.scrollbar=!1),m.infiniteSlider&&1==ha&&(m.infiniteSlider=!1),m.scrollbar&&(""!=m.scrollbarContainer?a(m.scrollbarContainer).append("<div class = '"+X+"'><div class = '"+Y+"'></div></div>"):a(ga).parent().append("<div class = '"+X+"'><div class = '"+Y+"'></div></div>")),!i())return!0;a(this).find("a").bind("mousedown",E.preventDrag),a(this).find("[onclick]").bind("click",E.preventDrag).each(function(){a(this).data("onclick",this.onclick)});var aa=E.calcActiveOffset(m,E.getSliderOffset(a(ga),"x"),Q,L,z[j],ha,void 0,j),ya=(aa+z[j]+ha)%ha,za=new E.args("load",m,ga,a(ga).children(":eq("+ya+")"),ya,ya);if(a($).data("args",za),""!=m.onSliderLoaded&&m.onSliderLoaded(za),r[j]=ya,m.scrollbarPaging&&m.scrollbar&&!ma&&(a(G).css("cursor","pointer"),a(G).bind("click.iosSliderEvent",function(b){this==b.target&&(b.pageX>a(s).offset().left?F.nextPage($):F.prevPage($))})),u[j].responsiveSlides||u[j].responsiveSlideContainer){var Aa=h?"orientationchange":"resize";a(window).bind(Aa+".iosSliderEvent-"+j,function(){if(!i())return!0;var b=a($).data("args");""!=m.onSliderResize&&m.onSliderResize(b)})}if(!m.keyboardControls&&!m.tabToAdvance||ma||a(document).bind("keydown.iosSliderEvent",function(a){if(!k&&!l)var a=a.originalEvent;if("INPUT"==a.target.nodeName)return!0;if(D[j])return!0;if(37==a.keyCode&&m.keyboardControls){a.preventDefault();var b=(x[j]+z[j]+ha)%ha;(b>0||m.infiniteSlider)&&E.changeSlide(b-1,ga,R,o,Y,I,L,H,N,O,ba,Q,T,j,U,ha,Z,m)}else if(39==a.keyCode&&m.keyboardControls||9==a.keyCode&&m.tabToAdvance){a.preventDefault();var b=(x[j]+z[j]+ha)%ha;(b<Q.length-1||m.infiniteSlider)&&E.changeSlide(b+1,ga,R,o,Y,I,L,H,N,O,ba,Q,T,j,U,ha,Z,m)}}),g||m.desktopClickDrag){var Ba=!1,Ca=!1,Da=a(ga),Ea=a(ga),Fa=!1;m.scrollbarDrag&&(Da=Da.add(s),Ea=Ea.add(G)),a(Da).bind("mousedown.iosSliderEvent touchstart.iosSliderEvent",function(b){if(a(window).one("scroll.iosSliderEvent",function(a){Ba=!1}),Ba)return!0;if(Ba=!0,Ca=!1,"touchstart"==b.type?a(Ea).unbind("mousedown.iosSliderEvent"):a(Ea).unbind("touchstart.iosSliderEvent"),D[j]||ma)return Ba=!1,ia=!1,!0;if(Fa=E.isUnselectable(b.target,m))return Ba=!1,ia=!1,!0;if(oa=a(this)[0]===a(s)[0]?s:ga,!k&&!l)var b=b.originalEvent;if(E.autoSlidePause(j),sa.unbind(".disableClick"),"touchstart"==b.type)eventX=b.touches[0].pageX,eventY=b.touches[0].pageY;else{if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges();else if(document.selection)if(l)try{document.selection.empty()}catch(b){}else document.selection.empty();eventX=b.pageX,eventY=b.pageY,ka=!0,la=ga,a(this).css({cursor:q})}V=new Array(0,0),W=new Array(0,0),c=0,ia=!1;for(var d=0;d<o.length;d++)clearTimeout(o[d]);var e=E.getSliderOffset(ga,"x");e>-1*A[j]+Z+pa?(e=-1*A[j]+Z+pa,E.setSliderOffset(a("."+Y),e),a("."+Y).css({width:I-O+"px"})):e<-1*B[j]&&(e=-1*B[j],E.setSliderOffset(a("."+Y),H-N-I),a("."+Y).css({width:I-O+"px"}));var f=a(this)[0]===a(s)[0]?A[j]:0;da=-1*(E.getSliderOffset(this,"x")-eventX-f),ea=-1*(E.getSliderOffset(this,"y")-eventY),V[1]=eventX,W[1]=eventY,ua=!1}),a(document).bind("touchmove.iosSliderEvent mousemove.iosSliderEvent",function(b){if(!k&&!l)var b=b.originalEvent;if(D[j]||ma||Fa||!Ba)return!0;var e=0;if("touchmove"==b.type)eventX=b.touches[0].pageX,eventY=b.touches[0].pageY;else{if(window.getSelection)window.getSelection().empty||window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges();else if(document.selection)if(l)try{document.selection.empty()}catch(b){}else document.selection.empty();if(eventX=b.pageX,eventY=b.pageY,!ka)return!0;if(!n&&("undefined"!=typeof b.webkitMovementX||"undefined"!=typeof b.webkitMovementY)&&0===b.webkitMovementY&&0===b.webkitMovementX)return!0}if(V[0]=V[1],V[1]=eventX,c=(V[1]-V[0])/2,W[0]=W[1],W[1]=eventY,d=(W[1]-W[0])/2,!ia){var g=(x[j]+z[j]+ha)%ha,h=new E.args("start",m,ga,a(ga).children(":eq("+g+")"),g,void 0);a($).data("args",h),""!=m.onSlideStart&&m.onSlideStart(h)}if((d>m.verticalSlideLockThreshold||d<-1*m.verticalSlideLockThreshold)&&"touchmove"==b.type&&!ia&&(ta=!0),(c>m.horizontalSlideLockThreshold||c<-1*m.horizontalSlideLockThreshold)&&"touchmove"==b.type&&b.preventDefault(),(c>m.slideStartVelocityThreshold||c<-1*m.slideStartVelocityThreshold)&&(ia=!0),ia&&!ta){var i=E.getSliderOffset(ga,"x"),o=a(oa)[0]===a(s)[0]?A[j]:Z,p=a(oa)[0]===a(s)[0]?(A[j]-B[j]-Z)/(H-N-I):1,q=a(oa)[0]===a(s)[0]?m.scrollbarElasticPullResistance:m.elasticPullResistance,r=m.snapSlideCenter&&a(oa)[0]===a(s)[0]?0:Z,t=m.snapSlideCenter&&a(oa)[0]===a(s)[0]?Z:0;if("touchmove"==b.type&&(fa!=b.touches.length&&(da=-1*i+eventX),fa=b.touches.length),m.infiniteSlider){if(i<=-1*B[j]){var u=a(ga).width();if(i<=-1*C[j]){var v=-1*ba[0];a(R).each(function(b){E.setSliderOffset(a(R)[b],v+Z),b<Q.length&&(Q[b]=-1*v),v+=T[b]}),da-=-1*Q[0],A[j]=-1*Q[0]+Z,B[j]=A[j]+u-L,z[j]=0}else{var w=0,F=E.getSliderOffset(a(R[0]),"x");a(R).each(function(a){E.getSliderOffset(this,"x")<F&&(F=E.getSliderOffset(this,"x"),w=a)});var G=A[j]+u;E.setSliderOffset(a(R)[w],G),A[j]=-1*Q[1]+Z,B[j]=A[j]+u-L,Q.splice(0,1),Q.splice(Q.length,0,-1*G+Z),z[j]++}}if(i>=-1*A[j]||i>=0){var u=a(ga).width();if(i>=0){var v=-1*ba[0];for(a(R).each(function(b){E.setSliderOffset(a(R)[b],v+Z),b<Q.length&&(Q[b]=-1*v),v+=T[b]}),da+=-1*Q[0],A[j]=-1*Q[0]+Z,B[j]=A[j]+u-L,z[j]=ha;-1*Q[0]-u+Z>0;){var J=0,K=E.getSliderOffset(a(R[0]),"x");a(R).each(function(a){E.getSliderOffset(this,"x")>K&&(K=E.getSliderOffset(this,"x"),J=a)});var G=A[j]-T[J];E.setSliderOffset(a(R)[J],G),Q.splice(0,0,-1*G+Z),Q.splice(Q.length-1,1),A[j]=-1*Q[0]+Z,B[j]=A[j]+u-L,z[j]--,x[j]++}}else{var J=0,K=E.getSliderOffset(a(R[0]),"x");a(R).each(function(a){E.getSliderOffset(this,"x")>K&&(K=E.getSliderOffset(this,"x"),J=a)});var G=A[j]-T[J];E.setSliderOffset(a(R)[J],G),Q.splice(0,0,-1*G+Z),Q.splice(Q.length-1,1),A[j]=-1*Q[0]+Z,B[j]=A[j]+u-L,z[j]--}}}else{var u=a(ga).width();i>-1*A[j]+Z&&(e=(A[j]+-1*(da-o-eventX+r)*p-o)*q*-1/p),i<-1*B[j]&&(e=(B[j]+t+-1*(da-o-eventX)*p-o)*q*-1/p)}if(E.setSliderOffset(ga,-1*(da-o-eventX-e)*p-o+t),m.scrollbar){E.showScrollbar(m,Y),f=Math.floor((da-eventX-e-A[j]+r)/(B[j]-A[j]+Z)*(H-N-I)*p);var M=I;0>=f?(M=I-O- -1*f,E.setSliderOffset(a("."+Y),0),a("."+Y).css({width:M+"px"})):f>=H-N-O-I?(M=H-N-O-f,E.setSliderOffset(a("."+Y),f),a("."+Y).css({width:M+"px"})):E.setSliderOffset(a("."+Y),f)}"touchmove"==b.type&&(P=b.touches[0].pageX);var S=!1,U=E.calcActiveOffset(m,-1*(da-eventX-e),Q,L,z[j],ha,void 0,j),X=(U+z[j]+ha)%ha;if(m.infiniteSlider?X!=y[j]&&(S=!0):U!=x[j]&&(S=!0),S){x[j]=U,y[j]=X,ua=!0;var h=new E.args("change",m,ga,a(ga).children(":eq("+X+")"),X,X);a($).data("args",h),""!=m.onSlideChange&&m.onSlideChange(h),E.updateBackfaceVisibility(R,j,ha,m)}}});var Ga=a(window);if(l||k)var Ga=a(document);a(Da).bind("touchcancel.iosSliderEvent touchend.iosSliderEvent",function(a){var a=a.originalEvent;if(Ca)return!1;if(Ca=!0,D[j]||ma)return!0;if(Fa)return!0;if(0!=a.touches.length)for(var b=0;b<a.touches.length;b++)a.touches[b].pageX==P&&E.slowScrollHorizontal(ga,R,o,Y,c,d,I,L,H,N,O,ba,Q,T,j,U,ha,oa,ua,Z,m);else E.slowScrollHorizontal(ga,R,o,Y,c,d,I,L,H,N,O,ba,Q,T,j,U,ha,oa,ua,Z,m);return ta=!1,Ba=!1,!0}),a(Ga).bind("mouseup.iosSliderEvent-"+j,function(b){if(ia?qa.unbind("click.disableClick").bind("click.disableClick",E.preventClick):qa.unbind("click.disableClick").bind("click.disableClick",E.enableClick),ra.each(function(){this.onclick=function(b){return ia?!1:void(a(this).data("onclick")&&a(this).data("onclick").call(this,b||window.event))},this.onclick=a(this).data("onclick")}),parseFloat(a().jquery)>=1.8?sa.each(function(){var b=a._data(this,"events");if(void 0!=b&&void 0!=b.click&&"iosSliderEvent"!=b.click[0].namespace){if(!ia)return!1;a(this).one("click.disableClick",E.preventClick);var c=a._data(this,"events").click,d=c.pop();c.splice(0,0,d)}}):parseFloat(a().jquery)>=1.6&&sa.each(function(){var b=a(this).data("events");if(void 0!=b&&void 0!=b.click&&"iosSliderEvent"!=b.click[0].namespace){if(!ia)return!1;a(this).one("click.disableClick",E.preventClick);var c=a(this).data("events").click,d=c.pop();c.splice(0,0,d)}}),!v[j]){if(ma)return!0;if(m.desktopClickDrag&&a(ga).css({cursor:p}),m.scrollbarDrag&&a(s).css({cursor:p}),ka=!1,void 0==la)return!0;E.slowScrollHorizontal(la,R,o,Y,c,d,I,L,H,N,O,ba,Q,T,j,U,ha,oa,ua,Z,m),la=void 0}ta=!1,Ba=!1})}})},destroy:function(b,c){return void 0==c&&(c=this),a(c).each(function(){var c=a(this),d=c.data("iosslider");if(void 0==d)return!1;void 0==b&&(b=!0),E.autoSlidePause(d.sliderNumber),v[d.sliderNumber]=!0,a(window).unbind(".iosSliderEvent-"+d.sliderNumber),a(document).unbind(".iosSliderEvent-"+d.sliderNumber),a(document).unbind("keydown.iosSliderEvent"),a(this).unbind(".iosSliderEvent"),a(this).children(":first-child").unbind(".iosSliderEvent"),a(this).children(":first-child").children().unbind(".iosSliderEvent"),a(d.settings.scrollbarBlockNode).unbind(".iosSliderEvent"),b&&(a(this).attr("style",""),a(this).children(":first-child").attr("style",""),a(this).children(":first-child").children().attr("style",""),a(d.settings.navSlideSelector).attr("style",""),a(d.settings.navPrevSelector).attr("style",""),a(d.settings.navNextSelector).attr("style",""),a(d.settings.autoSlideToggleSelector).attr("style",""),a(d.settings.unselectableSelector).attr("style","")),d.settings.scrollbar&&a(".scrollbarBlock"+d.sliderNumber).remove();for(var e=w[d.sliderNumber],f=0;f<e.length;f++)clearTimeout(e[f]);c.removeData("iosslider"),c.removeData("args")})},update:function(b){return void 0==b&&(b=this),a(b).each(function(){var b=a(this),c=b.data("iosslider");if(void 0==c)return!1;c.settings.startAtSlide=b.data("args").currentSlideNumber,F.destroy(!1,this),1!=c.numberOfSlides&&c.settings.infiniteSlider&&(c.settings.startAtSlide=(x[c.sliderNumber]+1+z[c.sliderNumber]+c.numberOfSlides)%c.numberOfSlides),F.init(c.settings,this);var d=new E.args("update",c.settings,c.scrollerNode,a(c.scrollerNode).children(":eq("+(c.settings.startAtSlide-1)+")"),c.settings.startAtSlide-1,c.settings.startAtSlide-1);a(c.stageNode).data("args",d),""!=c.settings.onSliderUpdate&&c.settings.onSliderUpdate(d)})},addSlide:function(b,c){return this.each(function(){var d=a(this),e=d.data("iosslider");return void 0==e?!1:(0==a(e.scrollerNode).children().length?(a(e.scrollerNode).append(b),d.data("args").currentSlideNumber=1):e.settings.infiniteSlider?(1==c?a(e.scrollerNode).children(":eq(0)").before(b):a(e.scrollerNode).children(":eq("+(c-2)+")").after(b),z[e.sliderNumber]<-1&&x[e.sliderNumber]--,d.data("args").currentSlideNumber>=c&&x[e.sliderNumber]++):(c<=e.numberOfSlides?a(e.scrollerNode).children(":eq("+(c-1)+")").before(b):a(e.scrollerNode).children(":eq("+(c-2)+")").after(b),d.data("args").currentSlideNumber>=c&&d.data("args").currentSlideNumber++),d.data("iosslider").numberOfSlides++,void F.update(this))})},removeSlide:function(b){return this.each(function(){var c=a(this),d=c.data("iosslider");return void 0==d?!1:(a(d.scrollerNode).children(":eq("+(b-1)+")").remove(),x[d.sliderNumber]>b-1&&x[d.sliderNumber]--,c.data("iosslider").numberOfSlides--,void F.update(this))})},goToSlide:function(b,c,d){return void 0==d&&(d=this),a(d).each(function(){var d=a(this),e=d.data("iosslider");return void 0==e||e.shortContent?!1:(b=b>e.childrenOffsets.length?e.childrenOffsets.length-1:b-1,void 0!=c&&(e.settings.autoSlideTransTimer=c),void E.changeSlide(b,a(e.scrollerNode),a(e.slideNodes),w[e.sliderNumber],e.scrollbarClass,e.scrollbarWidth,e.stageWidth,e.scrollbarStageWidth,e.scrollMargin,e.scrollBorder,e.originalOffsets,e.childrenOffsets,e.slideNodeOuterWidths,e.sliderNumber,e.infiniteSliderWidth,e.numberOfSlides,e.centeredSlideOffset,e.settings))})},prevSlide:function(b){return this.each(function(){var c=a(this),d=c.data("iosslider");if(void 0==d||d.shortContent)return!1;var e=(x[d.sliderNumber]+z[d.sliderNumber]+d.numberOfSlides)%d.numberOfSlides;void 0!=b&&(d.settings.autoSlideTransTimer=b),(e>0||d.settings.infiniteSlider)&&E.changeSlide(e-1,a(d.scrollerNode),a(d.slideNodes),w[d.sliderNumber],d.scrollbarClass,d.scrollbarWidth,d.stageWidth,d.scrollbarStageWidth,d.scrollMargin,d.scrollBorder,d.originalOffsets,d.childrenOffsets,d.slideNodeOuterWidths,d.sliderNumber,d.infiniteSliderWidth,d.numberOfSlides,d.centeredSlideOffset,d.settings),x[d.sliderNumber]=e})},nextSlide:function(b){return this.each(function(){var c=a(this),d=c.data("iosslider");if(void 0==d||d.shortContent)return!1;var e=(x[d.sliderNumber]+z[d.sliderNumber]+d.numberOfSlides)%d.numberOfSlides;void 0!=b&&(d.settings.autoSlideTransTimer=b),(e<d.childrenOffsets.length-1||d.settings.infiniteSlider)&&E.changeSlide(e+1,a(d.scrollerNode),a(d.slideNodes),w[d.sliderNumber],d.scrollbarClass,d.scrollbarWidth,d.stageWidth,d.scrollbarStageWidth,d.scrollMargin,d.scrollBorder,d.originalOffsets,d.childrenOffsets,d.slideNodeOuterWidths,d.sliderNumber,d.infiniteSliderWidth,d.numberOfSlides,d.centeredSlideOffset,d.settings),x[d.sliderNumber]=e})},prevPage:function(b,c){return void 0==c&&(c=this),a(c).each(function(){var c=a(this),d=c.data("iosslider");if(void 0==d)return!1;var e=E.getSliderOffset(d.scrollerNode,"x")+d.stageWidth;void 0!=b&&(d.settings.autoSlideTransTimer=b),E.changeOffset(e,a(d.scrollerNode),a(d.slideNodes),w[d.sliderNumber],d.scrollbarClass,d.scrollbarWidth,d.stageWidth,d.scrollbarStageWidth,d.scrollMargin,d.scrollBorder,d.originalOffsets,d.childrenOffsets,d.slideNodeOuterWidths,d.sliderNumber,d.infiniteSliderWidth,d.numberOfSlides,d.centeredSlideOffset,d.settings)})},nextPage:function(b,c){return void 0==c&&(c=this),a(c).each(function(){var c=a(this),d=c.data("iosslider");if(void 0==d)return!1;var e=E.getSliderOffset(d.scrollerNode,"x")-d.stageWidth;void 0!=b&&(d.settings.autoSlideTransTimer=b),E.changeOffset(e,a(d.scrollerNode),a(d.slideNodes),w[d.sliderNumber],d.scrollbarClass,d.scrollbarWidth,d.stageWidth,d.scrollbarStageWidth,d.scrollMargin,d.scrollBorder,d.originalOffsets,d.childrenOffsets,d.slideNodeOuterWidths,d.sliderNumber,d.infiniteSliderWidth,d.numberOfSlides,d.centeredSlideOffset,d.settings)})},lock:function(){return this.each(function(){var b=a(this),c=b.data("iosslider");return void 0==c||c.shortContent?!1:(a(c.scrollerNode).css({cursor:"default"}),void(D[c.sliderNumber]=!0))})},unlock:function(){return this.each(function(){var b=a(this),c=b.data("iosslider");return void 0==c||c.shortContent?!1:(a(c.scrollerNode).css({cursor:p}),void(D[c.sliderNumber]=!1))})},getData:function(){return this.each(function(){var b=a(this),c=b.data("iosslider");return void 0==c||c.shortContent?!1:c})},autoSlidePause:function(){return this.each(function(){var b=a(this),c=b.data("iosslider");return void 0==c||c.shortContent?!1:(u[c.sliderNumber].autoSlide=!1,E.autoSlidePause(c.sliderNumber),c)})},autoSlidePlay:function(){return this.each(function(){var b=a(this),c=b.data("iosslider");return void 0==c||c.shortContent?!1:(u[c.sliderNumber].autoSlide=!0,E.autoSlide(a(c.scrollerNode),a(c.slideNodes),w[c.sliderNumber],c.scrollbarClass,c.scrollbarWidth,c.stageWidth,c.scrollbarStageWidth,c.scrollMargin,c.scrollBorder,c.originalOffsets,c.childrenOffsets,c.slideNodeOuterWidths,c.sliderNumber,c.infiniteSliderWidth,c.numberOfSlides,c.centeredSlideOffset,c.settings),c)})}};a.fn.iosSlider=function(b){return F[b]?F[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("invalid method call!"):F.init.apply(this,arguments)}}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}(function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if(b=a.event.fix(g),b.type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(m=-1*g.deltaY,j=m),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120===0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})}),function(a,b,c,d){function e(b,c){this.element=b,this.options=a.extend(!0,{},h,c),this._defaults=h,this._name=f,this.init()}var f="scrollfire",g=null,h={onTopIn:function(){},onTopOut:function(){},onBottomIn:function(){},onBottomOut:function(){},onTopHidden:function(){},onBottomVisible:function(){},onBottomHidden:function(){},onTopVisible:function(){},onScroll:function(){},onScrollDown:function(){},onScrollUp:function(){},onScrollAlways:function(){},onScrollDownAlways:function(){},onScrollUpAlways:function(){},offset:0,topOffset:0,bottomOffset:0,parallax:{active:!1,parent:null,bound:!1,speed:10,easing:"linear",invert:!1,scalar:1}},i={registry:{},guid:0,last_scroll_pos:0,scroll_handler:null};e.prototype.init=function(){var c=this,d={_element:c.element,_guid:i.guid,_on_top_in:c.options.onTopIn,_on_top_in_once:!0,_on_top_out:c.options.onTopOut,_on_top_out_once:!0,_on_bottom_in:c.options.onBottomIn,_on_bottom_in_once:!0,_on_bottom_out:c.options.onBottomOut,_on_bottom_out_once:!0,_on_top_hidden:c.options.onTopHidden,_on_top_hidden_once:!0,_on_bottom_visible:c.options.onBottomVisible,_on_bottom_visible_once:!0,_on_bottom_hidden:c.options.onBottomHidden,_on_bottom_hidden_once:!0,_on_top_visible:c.options.onTopVisible,_on_top_visible_once:!0,_on_scroll:c.options.onScroll,_on_scroll_down:c.options.onScrollDown,_on_scroll_up:c.options.onScrollUp,_on_scroll_always:c.options.onScrollAlways,_on_scroll_down_always:c.options.onScrollDownAlways,_on_scroll_up_always:c.options.onScrollUpAlways,_offset:c.options.offset,_top_offset:c.options.topOffset,_bottom_offset:c.options.bottomOffset,_parallax:c.options.parallax},e=function(c){var d=a(b).scrollTop(),e=d>i.last_scroll_pos?"down":"up",f=Math.abs(i.last_scroll_pos-d);a.each(i.registry,function(c,g){var h=a.isFunction(g._offset)?g._offset():g._offset,i=a.isFunction(g._top_offset)?g._top_offset():g._top_offset,j=a.isFunction(g._bottom_offset)?g._bottom_offset():g._bottom_offset,l=a(g._element);g._parallax.active&&(l=g._parallax.parent||l.parent());var m=a(b).height(),n=l.outerHeight(),o=l.offset().top,p=l.offset().top+n;if(g._on_scroll_always(g._element,f,g),"down"==e){h=i?i:h;var q=o+n-h>=d,r=d+m>=o+h,s=q&&r,t=d>=o-h,u=d+m>=o+h;t&&g._on_top_out_once&&(g._on_top_in_once=!0,g._on_top_visible_once=!0,g._on_top_out_once=!1,g._on_top_out(g._element,f,g)),u&&g._on_bottom_in_once&&(g._on_bottom_out_once=!0,g._on_bottom_hidden_once=!0,g._on_bottom_in_once=!1,g._on_bottom_in(g._element,f,g)),g._on_scroll_down_always(g._element,f,g),s&&(g._on_scroll(g._element,f,g),g._on_scroll_down(g._element,f,g));var v=o+n-d,w=(v+h)/m;w=w>1?1:w.toFixed(2);var x=o+n-d,y=(x-h)/m;y=y>1?1:y.toFixed(2),1>w&&0>=y&&g._on_bottom_visible_once&&(g._on_bottom_visible_once=!1,g._on_bottom_visible(g._element,f,g)),0>=y&&1>w&&g._on_top_hidden_once&&(g._on_top_hidden_once=!1,g._on_top_hidden(g._element,f,g)),g._parallax.active&&k(g._parallax,a(g._element),h,d,m)}else{h=j?j:h;var q=o+n-h>=d,r=d+m>=o+h,s=q&&r,z=p-h>=d,A=p+h>=d+m;z&&g._on_top_in_once&&(g._on_top_out_once=!0,g._on_top_hidden_once=!0,g._on_top_in_once=!1,g._on_top_in(g._element,f,g)),A&&g._on_bottom_out_once&&(g._on_bottom_in_once=!0,g._on_bottom_visible_once=!0,g._on_bottom_out_once=!1,g._on_bottom_out(g._element,f,g)),g._on_scroll_up_always(g._element,f,g),s&&(g._on_scroll(g._element,f,g),g._on_scroll_up(g._element,f,g));var v=o+n-(d+n+h),w=v/m;w=w>1?1:w.toFixed(2);var x=o+n-(d+n-h),y=x/m;y=y>1?1:y.toFixed(2),w>=0&&y>=1&&g._on_top_visible_once&&(g._on_top_visible_once=!1,g._on_top_visible(g._element,f,g)),y>=1&&w>=0&&g._on_bottom_hidden_once&&(g._on_bottom_hidden_once=!1,g._on_bottom_hidden(g._element,f,g)),g._parallax.active&&k(g._parallax,a(g._element),h,d,m)}}),i.last_scroll_pos=d};if(d._scroll_handler=e,i.registry[i.guid]=d,a.data(c.element,"uids")){var f=a.data(c.element,"uids");f.push(i.guid),a.data(c.element,"uids",f)}else a.data(c.element,"uids",[i.guid]);i.guid++,i.scroll_handler||(i.scroll_handler=e,a(b).bind("scroll resize load",e))};var j=function(a,b){return parseInt(a.css("margin-"+b).replace(/px|em|%|auto|inherit/g,""))},k=function(a,b,c,d,e){var f=a.parent||b.parent(),g=f.outerHeight(),h=f.offset().top,i=j(b,"top"),k=h-d,l=(k-c)/(e-g)*a.scalar;a.invert&&(l=-1*(l-1)*a.scalar);var m=(g-b.outerHeight(a.bound))*l,n=0;l>=0&&1>=l?n=m-(a.bound?0:i):0>l&&1==a.scalar?n=a.bound?0:-i:l>1&&1==a.scalar&&(n=g-(a.bound?0:i)-b.outerHeight()-(a.bound?2*i:0)),b.stop().animate({top:n},{duration:a.speed,easing:a.easing})},l={remove:function(b){return b.each(function(b,c){var d=a(c).data("uids");d&&delete i.registry[d]}),g}};a.fn[f]=function(b){if(g=this,"string"==typeof b){var c=b,d=a(arguments).toArray();return d.shift(),d.unshift(this),l[c].apply(this,d)}return this.each(function(){a.data(this,"plugin_"+f,new e(this,b))})}}(jQuery,window,document),function(a){var b={init:function(c){var d=a.extend({items:1,itemsOnPage:1,pages:0,displayedPages:5,edges:2,currentPage:0,hrefTextPrefix:"#page-",hrefTextSuffix:"",prevText:"Prev",nextText:"Next",ellipseText:"&hellip;",ellipsePageSet:!0,cssStyle:"light-theme",listStyle:"",labelMap:[],selectOnClick:!0,nextAtFront:!1,invertPageOrder:!1,useStartEdge:!0,useEndEdge:!0,onPageClick:function(a,b){},onInit:function(){}},c||{}),e=this;return d.pages=d.pages?d.pages:Math.ceil(d.items/d.itemsOnPage)?Math.ceil(d.items/d.itemsOnPage):1,d.currentPage?d.currentPage=d.currentPage-1:d.currentPage=d.invertPageOrder?d.pages-1:0,d.halfDisplayed=d.displayedPages/2,this.each(function(){e.addClass(d.cssStyle+" simple-pagination").data("pagination",d),b._draw.call(e)}),d.onInit(),this},selectPage:function(a){return b._selectPage.call(this,a-1),this},prevPage:function(){var a=this.data("pagination");return a.invertPageOrder?a.currentPage<a.pages-1&&b._selectPage.call(this,a.currentPage+1):a.currentPage>0&&b._selectPage.call(this,a.currentPage-1),this},nextPage:function(){var a=this.data("pagination");return a.invertPageOrder?a.currentPage>0&&b._selectPage.call(this,a.currentPage-1):a.currentPage<a.pages-1&&b._selectPage.call(this,a.currentPage+1),this},getPagesCount:function(){return this.data("pagination").pages},setPagesCount:function(a){this.data("pagination").pages=a},getCurrentPage:function(){return this.data("pagination").currentPage+1},destroy:function(){return this.empty(),this},drawPage:function(a){var c=this.data("pagination");return c.currentPage=a-1,this.data("pagination",c),b._draw.call(this),this},redraw:function(){return b._draw.call(this),this},disable:function(){var a=this.data("pagination");return a.disabled=!0,this.data("pagination",a),b._draw.call(this),this},enable:function(){var a=this.data("pagination");return a.disabled=!1,this.data("pagination",a),b._draw.call(this),this},updateItems:function(a){var c=this.data("pagination");c.items=a,c.pages=b._getPages(c),this.data("pagination",c),b._draw.call(this)},updateItemsOnPage:function(a){var c=this.data("pagination");return c.itemsOnPage=a,c.pages=b._getPages(c),this.data("pagination",c),b._selectPage.call(this,0),this},getItemsOnPage:function(){return this.data("pagination").itemsOnPage},_draw:function(){var c,d,e=this.data("pagination"),f=b._getInterval(e);b.destroy.call(this),d="function"==typeof this.prop?this.prop("tagName"):this.attr("tagName");var g="UL"===d?this:a("<ul"+(e.listStyle?' class="'+e.listStyle+'"':"")+"></ul>").appendTo(this);if(e.prevText&&b._appendItem.call(this,e.invertPageOrder?e.currentPage+1:e.currentPage-1,{text:e.prevText,classes:"prev"}),e.nextText&&e.nextAtFront&&b._appendItem.call(this,e.invertPageOrder?e.currentPage-1:e.currentPage+1,{text:e.nextText,classes:"next"}),e.invertPageOrder){if(f.end<e.pages&&e.edges>0){if(e.useStartEdge){var h=Math.max(e.pages-e.edges,f.end);for(c=e.pages-1;c>=h;c--)b._appendItem.call(this,c)}e.pages-e.edges>f.end&&e.pages-e.edges-f.end!=1?g.append('<li class="disabled"><span class="ellipse">'+e.ellipseText+"</span></li>"):e.pages-e.edges-f.end==1&&b._appendItem.call(this,f.end)}}else if(f.start>0&&e.edges>0){if(e.useStartEdge){var i=Math.min(e.edges,f.start);for(c=0;i>c;c++)b._appendItem.call(this,c)}e.edges<f.start&&f.start-e.edges!=1?g.append('<li class="disabled"><span class="ellipse">'+e.ellipseText+"</span></li>"):f.start-e.edges==1&&b._appendItem.call(this,e.edges)}if(e.invertPageOrder)for(c=f.end-1;c>=f.start;c--)b._appendItem.call(this,c);else for(c=f.start;c<f.end;c++)b._appendItem.call(this,c);if(e.invertPageOrder){if(f.start>0&&e.edges>0&&(e.edges<f.start&&f.start-e.edges!=1?g.append('<li class="disabled"><span class="ellipse">'+e.ellipseText+"</span></li>"):f.start-e.edges==1&&b._appendItem.call(this,e.edges),
e.useEndEdge)){var i=Math.min(e.edges,f.start);for(c=i-1;c>=0;c--)b._appendItem.call(this,c)}}else if(f.end<e.pages&&e.edges>0&&(e.pages-e.edges>f.end&&e.pages-e.edges-f.end!=1?g.append('<li class="disabled"><span class="ellipse">'+e.ellipseText+"</span></li>"):e.pages-e.edges-f.end==1&&b._appendItem.call(this,f.end),e.useEndEdge)){var h=Math.max(e.pages-e.edges,f.end);for(c=h;c<e.pages;c++)b._appendItem.call(this,c)}e.nextText&&!e.nextAtFront&&b._appendItem.call(this,e.invertPageOrder?e.currentPage-1:e.currentPage+1,{text:e.nextText,classes:"next"}),e.ellipsePageSet&&!e.disabled&&b._ellipseClick.call(this,g)},_getPages:function(a){var b=Math.ceil(a.items/a.itemsOnPage);return b||1},_getInterval:function(a){return{start:Math.ceil(a.currentPage>a.halfDisplayed?Math.max(Math.min(a.currentPage-a.halfDisplayed,a.pages-a.displayedPages),0):0),end:Math.ceil(a.currentPage>a.halfDisplayed?Math.min(a.currentPage+a.halfDisplayed,a.pages):Math.min(a.displayedPages,a.pages))}},_appendItem:function(c,d){var e,f,g=this,h=g.data("pagination"),i=a("<li></li>"),j=g.find("ul");c=0>c?0:c<h.pages?c:h.pages-1,e={text:c+1,classes:""},h.labelMap.length&&h.labelMap[c]&&(e.text=h.labelMap[c]),e=a.extend(e,d||{}),c==h.currentPage||h.disabled?(h.disabled||"prev"===e.classes||"next"===e.classes?i.addClass("disabled"):i.addClass("active"),f=a('<span class="current">'+e.text+"</span>")):(f=a('<a href="'+h.hrefTextPrefix+(c+1)+h.hrefTextSuffix+'" class="page-link">'+e.text+"</a>"),f.click(function(a){return b._selectPage.call(g,c,a)})),e.classes&&f.addClass(e.classes),i.append(f),j.length?j.append(i):g.append(i)},_selectPage:function(a,c){var d=this.data("pagination");return d.currentPage=a,d.selectOnClick&&b._draw.call(this),d.onPageClick(a+1,c)},_ellipseClick:function(c){var d=this,e=this.data("pagination"),f=c.find(".ellipse");f.addClass("clickable").parent().removeClass("disabled"),f.click(function(c){if(!e.disable){var g=a(this),h=(parseInt(g.parent().prev().text(),10)||0)+1;g.html('<input type="number" min="1" max="'+e.pages+'" step="1" value="'+h+'">').find("input").focus().click(function(a){a.stopPropagation()}).keyup(function(c){var g=a(this).val();13===c.which&&""!==g?b._selectPage.call(d,g-1):27===c.which&&f.empty().html(e.ellipseText)}).bind("blur",function(c){var g=a(this).val();return""!==g&&b._selectPage.call(d,g-1),f.empty().html(e.ellipseText),!1})}return!1})}};a.fn.pagination=function(c){return b[c]&&"_"!=c.charAt(0)?b[c].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof c&&c?void a.error("Method "+c+" does not exist on jQuery.pagination"):b.init.apply(this,arguments)}}(jQuery),function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(c,d){"use strict";var e=c.document,f=a("./src/utils/get-by-class"),g=a("./src/utils/extend"),h=a("./src/utils/index-of"),i=a("./src/utils/events"),j=a("./src/utils/to-string"),k=a("./src/utils/natural-sort"),l=a("./src/utils/classes"),m=a("./src/utils/get-attribute"),n=a("./src/utils/to-array"),o=function(b,c,p){var q,r=this,s=a("./src/item")(r),t=a("./src/add-async")(r);q={start:function(){r.listClass="list",r.searchClass="search",r.sortClass="sort",r.page=1e4,r.i=1,r.items=[],r.visibleItems=[],r.matchingItems=[],r.searched=!1,r.filtered=!1,r.searchColumns=d,r.handlers={updated:[]},r.plugins={},r.valueNames=[],r.utils={getByClass:f,extend:g,indexOf:h,events:i,toString:j,naturalSort:k,classes:l,getAttribute:m,toArray:n},r.utils.extend(r,c),r.listContainer="string"==typeof b?e.getElementById(b):b,r.listContainer&&(r.list=f(r.listContainer,r.listClass,!0),r.parse=a("./src/parse")(r),r.templater=a("./src/templater")(r),r.search=a("./src/search")(r),r.filter=a("./src/filter")(r),r.sort=a("./src/sort")(r),this.handlers(),this.items(),r.update(),this.plugins())},handlers:function(){for(var a in r.handlers)r[a]&&r.on(a,r[a])},items:function(){r.parse(r.list),p!==d&&r.add(p)},plugins:function(){for(var a=0;a<r.plugins.length;a++){var b=r.plugins[a];r[b.name]=b,b.init(r,o)}}},this.reIndex=function(){r.items=[],r.visibleItems=[],r.matchingItems=[],r.searched=!1,r.filtered=!1,r.parse(r.list)},this.toJSON=function(){for(var a=[],b=0,c=r.items.length;c>b;b++)a.push(r.items[b].values());return a},this.add=function(a,b){if(0!==a.length){if(b)return void t(a,b);var c=[],e=!1;a[0]===d&&(a=[a]);for(var f=0,g=a.length;g>f;f++){var h=null;e=r.items.length>r.page?!0:!1,h=new s(a[f],d,e),r.items.push(h),c.push(h)}return r.update(),c}},this.show=function(a,b){return this.i=a,this.page=b,r.update(),r},this.remove=function(a,b,c){for(var d=0,e=0,f=r.items.length;f>e;e++)r.items[e].values()[a]==b&&(r.templater.remove(r.items[e],c),r.items.splice(e,1),f--,e--,d++);return r.update(),d},this.get=function(a,b){for(var c=[],d=0,e=r.items.length;e>d;d++){var f=r.items[d];f.values()[a]==b&&c.push(f)}return c},this.size=function(){return r.items.length},this.clear=function(){return r.templater.clear(),r.items=[],r},this.on=function(a,b){return r.handlers[a].push(b),r},this.off=function(a,b){var c=r.handlers[a],d=h(c,b);return d>-1&&c.splice(d,1),r},this.trigger=function(a){for(var b=r.handlers[a].length;b--;)r.handlers[a][b](r);return r},this.reset={filter:function(){for(var a=r.items,b=a.length;b--;)a[b].filtered=!1;return r},search:function(){for(var a=r.items,b=a.length;b--;)a[b].found=!1;return r}},this.update=function(){var a=r.items,b=a.length;r.visibleItems=[],r.matchingItems=[],r.templater.clear();for(var c=0;b>c;c++)a[c].matching()&&r.matchingItems.length+1>=r.i&&r.visibleItems.length<r.page?(a[c].show(),r.visibleItems.push(a[c]),r.matchingItems.push(a[c])):a[c].matching()?(r.matchingItems.push(a[c]),a[c].hide()):a[c].hide();return r.trigger("updated"),r},q.start()};"function"==typeof define&&define.amd&&define(function(){return o}),b.exports=o,c.List=o}(window)},{"./src/add-async":2,"./src/filter":3,"./src/item":4,"./src/parse":5,"./src/search":6,"./src/sort":7,"./src/templater":8,"./src/utils/classes":9,"./src/utils/events":10,"./src/utils/extend":11,"./src/utils/get-attribute":12,"./src/utils/get-by-class":13,"./src/utils/index-of":14,"./src/utils/natural-sort":15,"./src/utils/to-array":16,"./src/utils/to-string":17}],2:[function(a,b,c){b.exports=function(a){var b=function(c,d,e){var f=c.splice(0,50);e=e||[],e=e.concat(a.add(f)),c.length>0?setTimeout(function(){b(c,d,e)},1):(a.update(),d(e))};return b}},{}],3:[function(a,b,c){b.exports=function(a){return a.handlers.filterStart=a.handlers.filterStart||[],a.handlers.filterComplete=a.handlers.filterComplete||[],function(b){if(a.trigger("filterStart"),a.i=1,a.reset.filter(),void 0===b)a.filtered=!1;else{a.filtered=!0;for(var c=a.items,d=0,e=c.length;e>d;d++){var f=c[d];b(f)?f.filtered=!0:f.filtered=!1}}return a.update(),a.trigger("filterComplete"),a.visibleItems}}},{}],4:[function(a,b,c){b.exports=function(a){return function(b,c,d){var e=this;this._values={},this.found=!1,this.filtered=!1;var f=function(b,c,d){if(void 0===c)d?e.values(b,d):e.values(b);else{e.elm=c;var f=a.templater.get(e,b);e.values(f)}};this.values=function(b,c){if(void 0===b)return e._values;for(var d in b)e._values[d]=b[d];c!==!0&&a.templater.set(e,e.values())},this.show=function(){a.templater.show(e)},this.hide=function(){a.templater.hide(e)},this.matching=function(){return a.filtered&&a.searched&&e.found&&e.filtered||a.filtered&&!a.searched&&e.filtered||!a.filtered&&a.searched&&e.found||!a.filtered&&!a.searched},this.visible=function(){return e.elm&&e.elm.parentNode==a.list?!0:!1},f(b,c,d)}}},{}],5:[function(a,b,c){b.exports=function(b){var c=a("./item")(b),d=function(a){for(var b=a.childNodes,c=[],d=0,e=b.length;e>d;d++)void 0===b[d].data&&c.push(b[d]);return c},e=function(a,d){for(var e=0,f=a.length;f>e;e++)b.items.push(new c(d,a[e]))},f=function(a,c){var d=a.splice(0,50);e(d,c),a.length>0?setTimeout(function(){f(a,c)},1):(b.update(),b.trigger("parseComplete"))};return b.handlers.parseComplete=b.handlers.parseComplete||[],function(){var a=d(b.list),c=b.valueNames;b.indexAsync?f(a,c):e(a,c)}}},{"./item":4}],6:[function(a,b,c){b.exports=function(a){var b,c,d,e,f={resetList:function(){a.i=1,a.templater.clear(),e=void 0},setOptions:function(a){2==a.length&&a[1]instanceof Array?c=a[1]:2==a.length&&"function"==typeof a[1]?e=a[1]:3==a.length&&(c=a[1],e=a[2])},setColumns:function(){0!==a.items.length&&void 0===c&&(c=void 0===a.searchColumns?f.toArray(a.items[0].values()):a.searchColumns)},setSearchString:function(b){b=a.utils.toString(b).toLowerCase(),b=b.replace(/[-[\]{}()*+?.,\\^$|#]/g,"\\$&"),d=b},toArray:function(a){var b=[];for(var c in a)b.push(c);return b}},g={list:function(){for(var b=0,c=a.items.length;c>b;b++)g.item(a.items[b])},item:function(a){a.found=!1;for(var b=0,d=c.length;d>b;b++)if(g.values(a.values(),c[b]))return void(a.found=!0)},values:function(c,e){return c.hasOwnProperty(e)&&(b=a.utils.toString(c[e]).toLowerCase(),""!==d&&b.search(d)>-1)?!0:!1},reset:function(){a.reset.search(),a.searched=!1}},h=function(b){return a.trigger("searchStart"),f.resetList(),f.setSearchString(b),f.setOptions(arguments),f.setColumns(),""===d?g.reset():(a.searched=!0,e?e(d,c):g.list()),a.update(),a.trigger("searchComplete"),a.visibleItems};return a.handlers.searchStart=a.handlers.searchStart||[],a.handlers.searchComplete=a.handlers.searchComplete||[],a.utils.events.bind(a.utils.getByClass(a.listContainer,a.searchClass),"keyup",function(b){var c=b.target||b.srcElement,d=""===c.value&&!a.searched;d||h(c.value)}),a.utils.events.bind(a.utils.getByClass(a.listContainer,a.searchClass),"input",function(a){var b=a.target||a.srcElement;""===b.value&&h("")}),h}},{}],7:[function(a,b,c){b.exports=function(a){a.sortFunction=a.sortFunction||function(b,c,d){return d.desc="desc"==d.order?!0:!1,a.utils.naturalSort(b.values()[d.valueName],c.values()[d.valueName],d)};var b={els:void 0,clear:function(){for(var c=0,d=b.els.length;d>c;c++)a.utils.classes(b.els[c]).remove("asc"),a.utils.classes(b.els[c]).remove("desc")},getOrder:function(b){var c=a.utils.getAttribute(b,"data-order");return"asc"==c||"desc"==c?c:a.utils.classes(b).has("desc")?"asc":a.utils.classes(b).has("asc")?"desc":"asc"},getInSensitive:function(b,c){var d=a.utils.getAttribute(b,"data-insensitive");"false"===d?c.insensitive=!1:c.insensitive=!0},setOrder:function(c){for(var d=0,e=b.els.length;e>d;d++){var f=b.els[d];if(a.utils.getAttribute(f,"data-sort")===c.valueName){var g=a.utils.getAttribute(f,"data-order");"asc"==g||"desc"==g?g==c.order&&a.utils.classes(f).add(c.order):a.utils.classes(f).add(c.order)}}}},c=function(){a.trigger("sortStart");var c={},d=arguments[0].currentTarget||arguments[0].srcElement||void 0;d?(c.valueName=a.utils.getAttribute(d,"data-sort"),b.getInSensitive(d,c),c.order=b.getOrder(d)):(c=arguments[1]||c,c.valueName=arguments[0],c.order=c.order||"asc",c.insensitive="undefined"==typeof c.insensitive?!0:c.insensitive),b.clear(),b.setOrder(c),c.sortFunction=c.sortFunction||a.sortFunction,a.items.sort(function(a,b){var d="desc"===c.order?-1:1;return c.sortFunction(a,b,c)*d}),a.update(),a.trigger("sortComplete")};return a.handlers.sortStart=a.handlers.sortStart||[],a.handlers.sortComplete=a.handlers.sortComplete||[],b.els=a.utils.getByClass(a.listContainer,a.sortClass),a.utils.events.bind(b.els,"click",c),a.on("searchStart",b.clear),a.on("filterStart",b.clear),c}},{}],8:[function(a,b,c){var d=function(a){var b,c=this,d=function(){b=c.getItemSource(a.item),b=c.clearSourceItem(b,a.valueNames)};this.clearSourceItem=function(b,c){for(var d=0,e=c.length;e>d;d++){var f;if(c[d].data)for(var g=0,h=c[d].data.length;h>g;g++)b.setAttribute("data-"+c[d].data[g],"");else c[d].attr&&c[d].name?(f=a.utils.getByClass(b,c[d].name,!0),f&&f.setAttribute(c[d].attr,"")):(f=a.utils.getByClass(b,c[d],!0),f&&(f.innerHTML=""));f=void 0}return b},this.getItemSource=function(b){if(void 0===b){for(var c=a.list.childNodes,d=0,e=c.length;e>d;d++)if(void 0===c[d].data)return c[d].cloneNode(!0)}else{if(/^tr[\s>]/.exec(b)){var f=document.createElement("table");return f.innerHTML=b,f.firstChild}if(-1!==b.indexOf("<")){var g=document.createElement("div");return g.innerHTML=b,g.firstChild}var h=document.getElementById(a.item);if(h)return h}throw new Error("The list need to have at list one item on init otherwise you'll have to add a template.")},this.get=function(b,d){c.create(b);for(var e={},f=0,g=d.length;g>f;f++){var h;if(d[f].data)for(var i=0,j=d[f].data.length;j>i;i++)e[d[f].data[i]]=a.utils.getAttribute(b.elm,"data-"+d[f].data[i]);else d[f].attr&&d[f].name?(h=a.utils.getByClass(b.elm,d[f].name,!0),e[d[f].name]=h?a.utils.getAttribute(h,d[f].attr):""):(h=a.utils.getByClass(b.elm,d[f],!0),e[d[f]]=h?h.innerHTML:"");h=void 0}return e},this.set=function(b,d){var e=function(b){for(var c=0,d=a.valueNames.length;d>c;c++)if(a.valueNames[c].data){for(var e=a.valueNames[c].data,f=0,g=e.length;g>f;f++)if(e[f]===b)return{data:b}}else{if(a.valueNames[c].attr&&a.valueNames[c].name&&a.valueNames[c].name==b)return a.valueNames[c];if(a.valueNames[c]===b)return b}},f=function(c,d){var f,g=e(c);g&&(g.data?b.elm.setAttribute("data-"+g.data,d):g.attr&&g.name?(f=a.utils.getByClass(b.elm,g.name,!0),f&&f.setAttribute(g.attr,d)):(f=a.utils.getByClass(b.elm,g,!0),f&&(f.innerHTML=d)),f=void 0)};if(!c.create(b))for(var g in d)d.hasOwnProperty(g)&&f(g,d[g])},this.create=function(a){if(void 0!==a.elm)return!1;var d=b.cloneNode(!0);return d.removeAttribute("id"),a.elm=d,c.set(a,a.values()),!0},this.remove=function(b){b.elm.parentNode===a.list&&a.list.removeChild(b.elm)},this.show=function(b){c.create(b),a.list.appendChild(b.elm)},this.hide=function(b){void 0!==b.elm&&b.elm.parentNode===a.list&&a.list.removeChild(b.elm)},this.clear=function(){if(a.list.hasChildNodes())for(;a.list.childNodes.length>=1;)a.list.removeChild(a.list.firstChild)},d()};b.exports=function(a){return new d(a)}},{}],9:[function(a,b,c){function d(a){if(!a||!a.nodeType)throw new Error("A DOM element reference is required");this.el=a,this.list=a.classList}var e=a("./index-of"),f=/\s+/,g=Object.prototype.toString;b.exports=function(a){return new d(a)},d.prototype.add=function(a){if(this.list)return this.list.add(a),this;var b=this.array(),c=e(b,a);return~c||b.push(a),this.el.className=b.join(" "),this},d.prototype.remove=function(a){if("[object RegExp]"==g.call(a))return this.removeMatching(a);if(this.list)return this.list.remove(a),this;var b=this.array(),c=e(b,a);return~c&&b.splice(c,1),this.el.className=b.join(" "),this},d.prototype.removeMatching=function(a){for(var b=this.array(),c=0;c<b.length;c++)a.test(b[c])&&this.remove(b[c]);return this},d.prototype.toggle=function(a,b){return this.list?("undefined"!=typeof b?b!==this.list.toggle(a,b)&&this.list.toggle(a):this.list.toggle(a),this):("undefined"!=typeof b?b?this.add(a):this.remove(a):this.has(a)?this.remove(a):this.add(a),this)},d.prototype.array=function(){var a=this.el.getAttribute("class")||"",b=a.replace(/^\s+|\s+$/g,""),c=b.split(f);return""===c[0]&&c.shift(),c},d.prototype.has=d.prototype.contains=function(a){return this.list?this.list.contains(a):!!~e(this.array(),a)}},{"./index-of":14}],10:[function(a,b,c){var d=window.addEventListener?"addEventListener":"attachEvent",e=window.removeEventListener?"removeEventListener":"detachEvent",f="addEventListener"!==d?"on":"",g=a("./to-array");c.bind=function(a,b,c,e){a=g(a);for(var h=0;h<a.length;h++)a[h][d](f+b,c,e||!1)},c.unbind=function(a,b,c,d){a=g(a);for(var h=0;h<a.length;h++)a[h][e](f+b,c,d||!1)}},{"./to-array":16}],11:[function(a,b,c){b.exports=function(a){for(var b,c=Array.prototype.slice.call(arguments,1),d=0;b=c[d];d++)if(b)for(var e in b)a[e]=b[e];return a}},{}],12:[function(a,b,c){b.exports=function(a,b){var c=a.getAttribute&&a.getAttribute(b)||null;if(!c)for(var d=a.attributes,e=d.length,f=0;e>f;f++)void 0!==b[f]&&b[f].nodeName===b&&(c=b[f].nodeValue);return c}},{}],13:[function(a,b,c){b.exports=function(){return document.getElementsByClassName?function(a,b,c){return c?a.getElementsByClassName(b)[0]:a.getElementsByClassName(b)}:document.querySelector?function(a,b,c){return b="."+b,c?a.querySelector(b):a.querySelectorAll(b)}:function(a,b,c){var d=[],e="*";null===a&&(a=document);for(var f=a.getElementsByTagName(e),g=f.length,h=new RegExp("(^|\\s)"+b+"(\\s|$)"),i=0,j=0;g>i;i++)if(h.test(f[i].className)){if(c)return f[i];d[j]=f[i],j++}return d}}()},{}],14:[function(a,b,c){var d=[].indexOf;b.exports=function(a,b){if(d)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}},{}],15:[function(a,b,c){b.exports=function(a,b,c){var d,e,f=/(^([+\-]?(?:\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[\da-fA-F]+$|\d+)/g,g=/^\s+|\s+$/g,h=/\s+/g,i=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,j=/^0x[0-9a-f]+$/i,k=/^0/,l=c||{},m=function(a){return l.insensitive&&(""+a).toLowerCase()||""+a},n=m(a)||"",o=m(b)||"",p=n.replace(f,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),q=o.replace(f,"\x00$1\x00").replace(/\0$/,"").replace(/^\0/,"").split("\x00"),r=parseInt(n.match(j),16)||1!==p.length&&Date.parse(n),s=parseInt(o.match(j),16)||r&&o.match(i)&&Date.parse(o)||null,t=function(a,b){return(!a.match(k)||1==b)&&parseFloat(a)||a.replace(h," ").replace(g,"")||0};if(s){if(s>r)return-1;if(r>s)return 1}for(var u=0,v=p.length,w=q.length,x=Math.max(v,w);x>u;u++){if(d=t(p[u],v),e=t(q[u],w),isNaN(d)!==isNaN(e))return isNaN(d)?1:-1;if(typeof d!=typeof e&&(d+="",e+=""),e>d)return-1;if(d>e)return 1}return 0}},{}],16:[function(a,b,c){function d(a){return"[object Array]"===Object.prototype.toString.call(a)}b.exports=function(a){if("undefined"==typeof a)return[];if(null===a)return[null];if(a===window)return[window];if("string"==typeof a)return[a];if(d(a))return a;if("number"!=typeof a.length)return[a];if("function"==typeof a&&a instanceof Function)return[a];for(var b=[],c=0;c<a.length;c++)(Object.prototype.hasOwnProperty.call(a,c)||c in a)&&b.push(a[c]);return b.length?b:[]}},{}],17:[function(a,b,c){b.exports=function(a){return a=void 0===a?"":a,a=null===a?"":a,a=a.toString()}},{}]},{},[1]),function(a){function b(b){var c=Math.min.apply(Math,b);return a.inArray(c,b)}function c(a){for(var b=[],c=0;a>c;c++)b.push(0);return b}function d(b){var c=a(b).outerWidth(),d=a(b).offsetParent().width();return{width:100*c/d,num:Math.round(d/c)}}Array.max=function(a){return Math.max.apply(Math,a)},a.easing.__Slide=function(a,b,c,d,e){return d*Math.sqrt(1-(b=b/e-1)*b)+c},a.lrdxMasonry=function(e,f){var g={animate:!1,easing:"__Slide",timeout:800},h=a.extend({},g,f),i=a(e),j=this;a.extend(j,{refresh:function(){var b=a("img",e),c=b.length,d=0;b.length>0&&i.addClass("sm-images-waiting").removeClass("sm-images-loaded"),b.on("load",function(a){d++,d==c&&(j.resize(),i.removeClass("sm-images-waiting").addClass("sm-images-loaded"))}),j.resize()},resize:function(){var e=i.children(),f=d(e[0]),g=f.width,j=f.num,k=c(j),l="rtl"===i.css("direction")?"right":"left";if(j>1){var m=function(c){var d=a(this).outerHeight(),e=b(k);if(e>0&&c>=j){var f=Array.max(k),i=k[e];.5*d>f-i&&(e=0)}var m=Math.round(e*g*10)/10,n={};n[l]=m+"%",n.top=k[e]+"px",a(this).css({position:"absolute"}).stop(),h.animate?a(this).animate(n,h.timeout,h.easing):a(this).css(n),k[e]+=d};e.css({overflow:"hidden",zoom:"1"}).each(m),i.css({position:"relative",height:Array.max(k)+"px"})}else e.removeAttr("style"),i.removeAttr("style")}}),a(window).resize(j.resize),i.addClass("sm-loaded"),j.refresh()},a.fn.lrdxMasonry=function(b){if("string"!=typeof b)return this.each(function(){if(void 0==a(this).data("lrdxMasonry")){var c=new a.lrdxMasonry(this,b);a(this).data("lrdxMasonry",c)}});var c=a(this).data("lrdxMasonry"),d=Array.prototype.slice.call(arguments,1);return c[b]?c[b].apply(c,d):void 0}}(jQuery),function(a){var b,c,d,e,f,g,h,i="Close",j="BeforeClose",k="AfterClose",l="BeforeAppend",m="MarkupParse",n="Open",o="Change",p="mfp",q="."+p,r="mfp-ready",s="mfp-removing",t="mfp-prevent-close",u=function(){},v=!!window.jQuery,w=a(window),x=function(a,c){b.ev.on(p+a+q,c)},y=function(b,c,d,e){var f=document.createElement("div");return f.className="mfp-"+b,d&&(f.innerHTML=d),e?c&&c.appendChild(f):(f=a(f),c&&f.appendTo(c)),f},z=function(c,d){b.ev.triggerHandler(p+c,d),b.st.callbacks&&(c=c.charAt(0).toLowerCase()+c.slice(1),b.st.callbacks[c]&&b.st.callbacks[c].apply(b,a.isArray(d)?d:[d]))},A=function(c){return c===h&&b.currTemplate.closeBtn||(b.currTemplate.closeBtn=a(b.st.closeMarkup.replace("%title%",b.st.tClose)),h=c),b.currTemplate.closeBtn},B=function(){a.magnificPopup.instance||(b=new u,b.init(),a.magnificPopup.instance=b)},C=function(){var a=document.createElement("p").style,b=["ms","O","Moz","Webkit"];if(void 0!==a.transition)return!0;for(;b.length;)if(b.pop()+"Transition"in a)return!0;return!1};u.prototype={constructor:u,init:function(){var c=navigator.appVersion;b.isIE7=-1!==c.indexOf("MSIE 7."),b.isIE8=-1!==c.indexOf("MSIE 8."),b.isLowIE=b.isIE7||b.isIE8,b.isAndroid=/android/gi.test(c),b.isIOS=/iphone|ipad|ipod/gi.test(c),b.supportsTransition=C(),b.probablyMobile=b.isAndroid||b.isIOS||/(Opera Mini)|Kindle|webOS|BlackBerry|(Opera Mobi)|(Windows Phone)|IEMobile/i.test(navigator.userAgent),e=a(document),b.popupsCache={}},open:function(c){d||(d=a(document.body));var f;if(c.isObj===!1){b.items=c.items.toArray(),b.index=0;var h,i=c.items;for(f=0;f<i.length;f++)if(h=i[f],h.parsed&&(h=h.el[0]),h===c.el[0]){b.index=f;break}}else b.items=a.isArray(c.items)?c.items:[c.items],b.index=c.index||0;if(b.isOpen)return void b.updateItemHTML();b.types=[],g="",c.mainEl&&c.mainEl.length?b.ev=c.mainEl.eq(0):b.ev=e,c.key?(b.popupsCache[c.key]||(b.popupsCache[c.key]={}),b.currTemplate=b.popupsCache[c.key]):b.currTemplate={},b.st=a.extend(!0,{},a.magnificPopup.defaults,c),b.fixedContentPos="auto"===b.st.fixedContentPos?!b.probablyMobile:b.st.fixedContentPos,b.st.modal&&(b.st.closeOnContentClick=!1,b.st.closeOnBgClick=!1,b.st.showCloseBtn=!1,b.st.enableEscapeKey=!1),b.bgOverlay||(b.bgOverlay=y("bg").on("click"+q,function(){b.close()}),b.wrap=y("wrap").attr("tabindex",-1).on("click"+q,function(a){a.preventDefault(),b._checkIfClose(a.target)&&b.close()}),b.container=y("container",b.wrap)),b.contentContainer=y("content"),b.st.preloader&&(b.preloader=y("preloader",b.container,b.st.tLoading));var j=a.magnificPopup.modules;for(f=0;f<j.length;f++){var k=j[f];k=k.charAt(0).toUpperCase()+k.slice(1),b["init"+k].call(b)}z("BeforeOpen"),b.st.showCloseBtn&&(b.st.closeBtnInside?(x(m,function(a,b,c,d){c.close_replaceWith=A(d.type)}),g+=" mfp-close-btn-in"):b.wrap.append(A())),b.st.alignTop&&(g+=" mfp-align-top"),b.fixedContentPos?b.wrap.css({overflow:b.st.overflowY,overflowX:"hidden",overflowY:b.st.overflowY}):b.wrap.css({top:w.scrollTop(),position:"absolute"}),(b.st.fixedBgPos===!1||"auto"===b.st.fixedBgPos&&!b.fixedContentPos)&&b.bgOverlay.css({height:e.height(),position:"absolute"}),b.st.enableEscapeKey&&e.on("keyup"+q,function(a){27===a.keyCode&&b.close()}),w.on("resize"+q,function(){b.updateSize()}),b.st.closeOnContentClick||(g+=" mfp-auto-cursor"),g&&b.wrap.addClass(g);var l=b.wH=w.height(),o={};if(b.fixedContentPos&&b._hasScrollBar(l)){var p=b._getScrollbarSize();p&&(o.marginRight=p)}b.fixedContentPos&&(b.isIE7?a("body, html").css("overflow","hidden"):o.overflow="hidden");var s=b.st.mainClass;return b.isIE7&&(s+=" mfp-ie7"),s&&b._addClassToMFP(s),b.updateItemHTML(),z("BuildControls"),a("html").css(o),b.bgOverlay.add(b.wrap).prependTo(b.st.prependTo||d),b._lastFocusedEl=document.activeElement,setTimeout(function(){b.content?(b._addClassToMFP(r),b._setFocus()):b.bgOverlay.addClass(r),e.on("focusin"+q,b._onFocusIn)},16),b.isOpen=!0,b.updateSize(l),z(n),c},close:function(){b.isOpen&&(z(j),b.isOpen=!1,b.st.removalDelay&&!b.isLowIE&&b.supportsTransition?(b._addClassToMFP(s),setTimeout(function(){b._close()},b.st.removalDelay)):b._close())},_close:function(){z(i);var c=s+" "+r+" ";if(b.bgOverlay.detach(),b.wrap.detach(),b.container.empty(),b.st.mainClass&&(c+=b.st.mainClass+" "),b._removeClassFromMFP(c),b.fixedContentPos){var d={marginRight:""};b.isIE7?a("body, html").css("overflow",""):d.overflow="",a("html").css(d)}e.off("keyup"+q+" focusin"+q),b.ev.off(q),b.wrap.attr("class","mfp-wrap").removeAttr("style"),b.bgOverlay.attr("class","mfp-bg"),b.container.attr("class","mfp-container"),!b.st.showCloseBtn||b.st.closeBtnInside&&b.currTemplate[b.currItem.type]!==!0||b.currTemplate.closeBtn&&b.currTemplate.closeBtn.detach(),b._lastFocusedEl&&a(b._lastFocusedEl).focus(),b.currItem=null,b.content=null,b.currTemplate=null,b.prevHeight=0,z(k)},updateSize:function(a){if(b.isIOS){var c=document.documentElement.clientWidth/window.innerWidth,d=window.innerHeight*c;b.wrap.css("height",d),b.wH=d}else b.wH=a||w.height();b.fixedContentPos||b.wrap.css("height",b.wH),z("Resize")},updateItemHTML:function(){var c=b.items[b.index];b.contentContainer.detach(),b.content&&b.content.detach(),c.parsed||(c=b.parseEl(b.index));var d=c.type;if(z("BeforeChange",[b.currItem?b.currItem.type:"",d]),b.currItem=c,!b.currTemplate[d]){var e=b.st[d]?b.st[d].markup:!1;z("FirstMarkupParse",e),e?b.currTemplate[d]=a(e):b.currTemplate[d]=!0}f&&f!==c.type&&b.container.removeClass("mfp-"+f+"-holder");var g=b["get"+d.charAt(0).toUpperCase()+d.slice(1)](c,b.currTemplate[d]);b.appendContent(g,d),c.preloaded=!0,z(o,c),f=c.type,b.container.prepend(b.contentContainer),z("AfterChange")},appendContent:function(a,c){b.content=a,a?b.st.showCloseBtn&&b.st.closeBtnInside&&b.currTemplate[c]===!0?b.content.find(".mfp-close").length||b.content.append(A()):b.content=a:b.content="",z(l),b.container.addClass("mfp-"+c+"-holder"),b.contentContainer.append(b.content)},parseEl:function(c){var d,e=b.items[c];if(e.tagName?e={el:a(e)}:(d=e.type,e={data:e,src:e.src}),e.el){for(var f=b.types,g=0;g<f.length;g++)if(e.el.hasClass("mfp-"+f[g])){d=f[g];break}e.src=e.el.attr("data-mfp-src"),e.src||(e.src=e.el.attr("href"))}return e.type=d||b.st.type||"inline",e.index=c,e.parsed=!0,b.items[c]=e,z("ElementParse",e),b.items[c]},addGroup:function(a,c){var d=function(d){d.mfpEl=this,b._openClick(d,a,c)};c||(c={});var e="click.magnificPopup";c.mainEl=a,c.items?(c.isObj=!0,a.off(e).on(e,d)):(c.isObj=!1,c.delegate?a.off(e).on(e,c.delegate,d):(c.items=a,a.off(e).on(e,d)))},_openClick:function(c,d,e){var f=void 0!==e.midClick?e.midClick:a.magnificPopup.defaults.midClick;if(f||2!==c.which&&!c.ctrlKey&&!c.metaKey){var g=void 0!==e.disableOn?e.disableOn:a.magnificPopup.defaults.disableOn;if(g)if(a.isFunction(g)){if(!g.call(b))return!0}else if(w.width()<g)return!0;c.type&&(c.preventDefault(),b.isOpen&&c.stopPropagation()),e.el=a(c.mfpEl),e.delegate&&(e.items=d.find(e.delegate)),b.open(e)}},updateStatus:function(a,d){if(b.preloader){c!==a&&b.container.removeClass("mfp-s-"+c),d||"loading"!==a||(d=b.st.tLoading);var e={status:a,text:d};z("UpdateStatus",e),a=e.status,d=e.text,b.preloader.html(d),b.preloader.find("a").on("click",function(a){a.stopImmediatePropagation()}),b.container.addClass("mfp-s-"+a),c=a}},_checkIfClose:function(c){if(!a(c).hasClass(t)){var d=b.st.closeOnContentClick,e=b.st.closeOnBgClick;if(d&&e)return!0;if(!b.content||a(c).hasClass("mfp-close")||b.preloader&&c===b.preloader[0])return!0;if(c===b.content[0]||a.contains(b.content[0],c)){if(d)return!0}else if(e&&a.contains(document,c))return!0;return!1}},_addClassToMFP:function(a){b.bgOverlay.addClass(a),b.wrap.addClass(a)},_removeClassFromMFP:function(a){this.bgOverlay.removeClass(a),b.wrap.removeClass(a)},_hasScrollBar:function(a){return(b.isIE7?e.height():document.body.scrollHeight)>(a||w.height())},_setFocus:function(){(b.st.focus?b.content.find(b.st.focus).eq(0):b.wrap).focus()},_onFocusIn:function(c){return c.target===b.wrap[0]||a.contains(b.wrap[0],c.target)?void 0:(b._setFocus(),!1)},_parseMarkup:function(b,c,d){var e;d.data&&(c=a.extend(d.data,c)),z(m,[b,c,d]),a.each(c,function(a,c){if(void 0===c||c===!1)return!0;if(e=a.split("_"),e.length>1){var d=b.find(q+"-"+e[0]);if(d.length>0){var f=e[1];"replaceWith"===f?d[0]!==c[0]&&d.replaceWith(c):"img"===f?d.is("img")?d.attr("src",c):d.replaceWith('<img src="'+c+'" class="'+d.attr("class")+'" />'):d.attr(e[1],c)}}else b.find(q+"-"+a).html(c)})},_getScrollbarSize:function(){if(void 0===b.scrollbarSize){var a=document.createElement("div");a.id="mfp-sbm",a.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(a),b.scrollbarSize=a.offsetWidth-a.clientWidth,document.body.removeChild(a)}return b.scrollbarSize}},a.magnificPopup={instance:null,proto:u.prototype,modules:[],open:function(b,c){return B(),b=b?a.extend(!0,{},b):{},b.isObj=!0,b.index=c||0,this.instance.open(b)},close:function(){return a.magnificPopup.instance&&a.magnificPopup.instance.close()},registerModule:function(b,c){c.options&&(a.magnificPopup.defaults[b]=c.options),a.extend(this.proto,c.proto),this.modules.push(b)},defaults:{disableOn:0,key:null,midClick:!1,mainClass:"",preloader:!0,focus:"",closeOnContentClick:!1,closeOnBgClick:!0,closeBtnInside:!0,showCloseBtn:!0,enableEscapeKey:!0,modal:!1,alignTop:!1,removalDelay:0,prependTo:null,fixedContentPos:"auto",fixedBgPos:"auto",overflowY:"auto",closeMarkup:'<button title="%title%" type="button" class="mfp-close">&times;</button>',tClose:"Close (Esc)",tLoading:"Loading..."}},a.fn.magnificPopup=function(c){B();var d=a(this);if("string"==typeof c)if("open"===c){var e,f=v?d.data("magnificPopup"):d[0].magnificPopup,g=parseInt(arguments[1],10)||0;f.items?e=f.items[g]:(e=d,f.delegate&&(e=e.find(f.delegate)),e=e.eq(g)),b._openClick({mfpEl:e},d,f)}else b.isOpen&&b[c].apply(b,Array.prototype.slice.call(arguments,1));else c=a.extend(!0,{},c),v?d.data("magnificPopup",c):d[0].magnificPopup=c,b.addGroup(d,c);return d};var D,E,F,G="inline",H=function(){F&&(E.after(F.addClass(D)).detach(),F=null)};a.magnificPopup.registerModule(G,{options:{hiddenClass:"hide",markup:"",tNotFound:"Content not found"},proto:{initInline:function(){b.types.push(G),x(i+"."+G,function(){H()})},getInline:function(c,d){if(H(),c.src){var e=b.st.inline,f=a(c.src);if(f.length){var g=f[0].parentNode;g&&g.tagName&&(E||(D=e.hiddenClass,E=y(D),D="mfp-"+D),F=f.after(E).detach().removeClass(D)),b.updateStatus("ready")}else b.updateStatus("error",e.tNotFound),f=a("<div>");return c.inlineElement=f,f}return b.updateStatus("ready"),b._parseMarkup(d,{},c),d}}});var I,J="ajax",K=function(){I&&d.removeClass(I)},L=function(){K(),b.req&&b.req.abort()};a.magnificPopup.registerModule(J,{options:{settings:null,cursor:"mfp-ajax-cur",tError:'<a href="%url%">The content</a> could not be loaded.'},proto:{initAjax:function(){b.types.push(J),I=b.st.ajax.cursor,x(i+"."+J,L),x("BeforeChange."+J,L)},getAjax:function(c){I&&d.addClass(I),b.updateStatus("loading");var e=a.extend({url:c.src,success:function(d,e,f){var g={data:d,xhr:f};z("ParseAjax",g),b.appendContent(a(g.data),J),c.finished=!0,K(),b._setFocus(),setTimeout(function(){b.wrap.addClass(r)},16),b.updateStatus("ready"),z("AjaxContentAdded")},error:function(){K(),c.finished=c.loadError=!0,b.updateStatus("error",b.st.ajax.tError.replace("%url%",c.src))}},b.st.ajax.settings);return b.req=a.ajax(e),""}}});var M,N=function(c){if(c.data&&void 0!==c.data.title)return c.data.title;var d=b.st.image.titleSrc;if(d){if(a.isFunction(d))return d.call(b,c);if(c.el)return c.el.attr(d)||""}return""};a.magnificPopup.registerModule("image",{options:{markup:'<div class="mfp-figure"><div class="mfp-close"></div><figure><div class="mfp-img"></div><figcaption><div class="mfp-bottom-bar"><div class="mfp-title"></div><div class="mfp-counter"></div></div></figcaption></figure></div>',cursor:"mfp-zoom-out-cur",titleSrc:"title",verticalFit:!0,tError:'<a href="%url%">The image</a> could not be loaded.'
},proto:{initImage:function(){var a=b.st.image,c=".image";b.types.push("image"),x(n+c,function(){"image"===b.currItem.type&&a.cursor&&d.addClass(a.cursor)}),x(i+c,function(){a.cursor&&d.removeClass(a.cursor),w.off("resize"+q)}),x("Resize"+c,b.resizeImage),b.isLowIE&&x("AfterChange",b.resizeImage)},resizeImage:function(){var a=b.currItem;if(a&&a.img&&b.st.image.verticalFit){var c=0;b.isLowIE&&(c=parseInt(a.img.css("padding-top"),10)+parseInt(a.img.css("padding-bottom"),10)),a.img.css("max-height",b.wH-c)}},_onImageHasSize:function(a){a.img&&(a.hasSize=!0,M&&clearInterval(M),a.isCheckingImgSize=!1,z("ImageHasSize",a),a.imgHidden&&(b.content&&b.content.removeClass("mfp-loading"),a.imgHidden=!1))},findImageSize:function(a){var c=0,d=a.img[0],e=function(f){M&&clearInterval(M),M=setInterval(function(){return d.naturalWidth>0?void b._onImageHasSize(a):(c>200&&clearInterval(M),c++,void(3===c?e(10):40===c?e(50):100===c&&e(500)))},f)};e(1)},getImage:function(c,d){var e=0,f=function(){c&&(c.img[0].complete?(c.img.off(".mfploader"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus("ready")),c.hasSize=!0,c.loaded=!0,z("ImageLoadComplete")):(e++,200>e?setTimeout(f,100):g()))},g=function(){c&&(c.img.off(".mfploader"),c===b.currItem&&(b._onImageHasSize(c),b.updateStatus("error",h.tError.replace("%url%",c.src))),c.hasSize=!0,c.loaded=!0,c.loadError=!0)},h=b.st.image,i=d.find(".mfp-img");if(i.length){var j=document.createElement("img");j.className="mfp-img",c.img=a(j).on("load.mfploader",f).on("error.mfploader",g),j.src=c.src,i.is("img")&&(c.img=c.img.clone()),j=c.img[0],j.naturalWidth>0?c.hasSize=!0:j.width||(c.hasSize=!1)}return b._parseMarkup(d,{title:N(c),img_replaceWith:c.img},c),b.resizeImage(),c.hasSize?(M&&clearInterval(M),c.loadError?(d.addClass("mfp-loading"),b.updateStatus("error",h.tError.replace("%url%",c.src))):(d.removeClass("mfp-loading"),b.updateStatus("ready")),d):(b.updateStatus("loading"),c.loading=!0,c.hasSize||(c.imgHidden=!0,d.addClass("mfp-loading"),b.findImageSize(c)),d)}}});var O,P=function(){return void 0===O&&(O=void 0!==document.createElement("p").style.MozTransform),O};a.magnificPopup.registerModule("zoom",{options:{enabled:!1,easing:"ease-in-out",duration:300,opener:function(a){return a.is("img")?a:a.find("img")}},proto:{initZoom:function(){var a,c=b.st.zoom,d=".zoom";if(c.enabled&&b.supportsTransition){var e,f,g=c.duration,h=function(a){var b=a.clone().removeAttr("style").removeAttr("class").addClass("mfp-animated-image"),d="all "+c.duration/1e3+"s "+c.easing,e={position:"fixed",zIndex:9999,left:0,top:0,"-webkit-backface-visibility":"hidden"},f="transition";return e["-webkit-"+f]=e["-moz-"+f]=e["-o-"+f]=e[f]=d,b.css(e),b},k=function(){b.content.css("visibility","visible")};x("BuildControls"+d,function(){if(b._allowZoom()){if(clearTimeout(e),b.content.css("visibility","hidden"),a=b._getItemToZoom(),!a)return void k();f=h(a),f.css(b._getOffset()),b.wrap.append(f),e=setTimeout(function(){f.css(b._getOffset(!0)),e=setTimeout(function(){k(),setTimeout(function(){f.remove(),a=f=null,z("ZoomAnimationEnded")},16)},g)},16)}}),x(j+d,function(){if(b._allowZoom()){if(clearTimeout(e),b.st.removalDelay=g,!a){if(a=b._getItemToZoom(),!a)return;f=h(a)}f.css(b._getOffset(!0)),b.wrap.append(f),b.content.css("visibility","hidden"),setTimeout(function(){f.css(b._getOffset())},16)}}),x(i+d,function(){b._allowZoom()&&(k(),f&&f.remove(),a=null)})}},_allowZoom:function(){return"image"===b.currItem.type},_getItemToZoom:function(){return b.currItem.hasSize?b.currItem.img:!1},_getOffset:function(c){var d;d=c?b.currItem.img:b.st.zoom.opener(b.currItem.el||b.currItem);var e=d.offset(),f=parseInt(d.css("padding-top"),10),g=parseInt(d.css("padding-bottom"),10);e.top-=a(window).scrollTop()-f;var h={width:d.width(),height:(v?d.innerHeight():d[0].offsetHeight)-g-f};return P()?h["-moz-transform"]=h.transform="translate("+e.left+"px,"+e.top+"px)":(h.left=e.left,h.top=e.top),h}}});var Q="iframe",R="//about:blank",S=function(a){if(b.currTemplate[Q]){var c=b.currTemplate[Q].find("iframe");c.length&&(a||(c[0].src=R),b.isIE8&&c.css("display",a?"block":"none"))}};a.magnificPopup.registerModule(Q,{options:{markup:'<div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" src="//about:blank" frameborder="0" allowfullscreen></iframe></div>',srcAction:"iframe_src",patterns:{youtube:{index:"youtube.com",id:"v=",src:"//www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"},gmaps:{index:"//maps.google.",src:"%id%&output=embed"}}},proto:{initIframe:function(){b.types.push(Q),x("BeforeChange",function(a,b,c){b!==c&&(b===Q?S():c===Q&&S(!0))}),x(i+"."+Q,function(){S()})},getIframe:function(c,d){var e=c.src,f=b.st.iframe;a.each(f.patterns,function(){return e.indexOf(this.index)>-1?(this.id&&(e="string"==typeof this.id?e.substr(e.lastIndexOf(this.id)+this.id.length,e.length):this.id.call(this,e)),e=this.src.replace("%id%",e),!1):void 0});var g={};return f.srcAction&&(g[f.srcAction]=e),b._parseMarkup(d,g,c),b.updateStatus("ready"),d}}});var T=function(a){var c=b.items.length;return a>c-1?a-c:0>a?c+a:a},U=function(a,b,c){return a.replace(/%curr%/gi,b+1).replace(/%total%/gi,c)};a.magnificPopup.registerModule("gallery",{options:{enabled:!1,arrowMarkup:'<button title="%title%" type="button" class="mfp-arrow mfp-arrow-%dir%"></button>',preload:[0,2],navigateByImgClick:!0,arrows:!0,tPrev:"Previous (Left arrow key)",tNext:"Next (Right arrow key)",tCounter:"%curr% of %total%"},proto:{initGallery:function(){var c=b.st.gallery,d=".mfp-gallery",f=Boolean(a.fn.mfpFastClick);return b.direction=!0,c&&c.enabled?(g+=" mfp-gallery",x(n+d,function(){c.navigateByImgClick&&b.wrap.on("click"+d,".mfp-img",function(){return b.items.length>1?(b.next(),!1):void 0}),e.on("keydown"+d,function(a){37===a.keyCode?b.prev():39===a.keyCode&&b.next()})}),x("UpdateStatus"+d,function(a,c){c.text&&(c.text=U(c.text,b.currItem.index,b.items.length))}),x(m+d,function(a,d,e,f){var g=b.items.length;e.counter=g>1?U(c.tCounter,f.index,g):""}),x("BuildControls"+d,function(){if(b.items.length>1&&c.arrows&&!b.arrowLeft){var d=c.arrowMarkup,e=b.arrowLeft=a(d.replace(/%title%/gi,c.tPrev).replace(/%dir%/gi,"left")).addClass(t),g=b.arrowRight=a(d.replace(/%title%/gi,c.tNext).replace(/%dir%/gi,"right")).addClass(t),h=f?"mfpFastClick":"click";e[h](function(){b.prev()}),g[h](function(){b.next()}),b.isIE7&&(y("b",e[0],!1,!0),y("a",e[0],!1,!0),y("b",g[0],!1,!0),y("a",g[0],!1,!0)),b.container.append(e.add(g))}}),x(o+d,function(){b._preloadTimeout&&clearTimeout(b._preloadTimeout),b._preloadTimeout=setTimeout(function(){b.preloadNearbyImages(),b._preloadTimeout=null},16)}),void x(i+d,function(){e.off(d),b.wrap.off("click"+d),b.arrowLeft&&f&&b.arrowLeft.add(b.arrowRight).destroyMfpFastClick(),b.arrowRight=b.arrowLeft=null})):!1},next:function(){b.direction=!0,b.index=T(b.index+1),b.updateItemHTML()},prev:function(){b.direction=!1,b.index=T(b.index-1),b.updateItemHTML()},goTo:function(a){b.direction=a>=b.index,b.index=a,b.updateItemHTML()},preloadNearbyImages:function(){var a,c=b.st.gallery.preload,d=Math.min(c[0],b.items.length),e=Math.min(c[1],b.items.length);for(a=1;a<=(b.direction?e:d);a++)b._preloadItem(b.index+a);for(a=1;a<=(b.direction?d:e);a++)b._preloadItem(b.index-a)},_preloadItem:function(c){if(c=T(c),!b.items[c].preloaded){var d=b.items[c];d.parsed||(d=b.parseEl(c)),z("LazyLoad",d),"image"===d.type&&(d.img=a('<img class="mfp-img" />').on("load.mfploader",function(){d.hasSize=!0}).on("error.mfploader",function(){d.hasSize=!0,d.loadError=!0,z("LazyLoadError",d)}).attr("src",d.src)),d.preloaded=!0}}}});var V="retina";a.magnificPopup.registerModule(V,{options:{replaceSrc:function(a){return a.src.replace(/\.\w+$/,function(a){return"@2x"+a})},ratio:1},proto:{initRetina:function(){if(window.devicePixelRatio>1){var a=b.st.retina,c=a.ratio;c=isNaN(c)?c():c,c>1&&(x("ImageHasSize."+V,function(a,b){b.img.css({"max-width":b.img[0].naturalWidth/c,width:"100%"})}),x("ElementParse."+V,function(b,d){d.src=a.replaceSrc(d,c)}))}}}}),function(){var b=1e3,c="ontouchstart"in window,d=function(){w.off("touchmove"+f+" touchend"+f)},e="mfpFastClick",f="."+e;a.fn.mfpFastClick=function(e){return a(this).each(function(){var g,h=a(this);if(c){var i,j,k,l,m,n;h.on("touchstart"+f,function(a){l=!1,n=1,m=a.originalEvent?a.originalEvent.touches[0]:a.touches[0],j=m.clientX,k=m.clientY,w.on("touchmove"+f,function(a){m=a.originalEvent?a.originalEvent.touches:a.touches,n=m.length,m=m[0],(Math.abs(m.clientX-j)>10||Math.abs(m.clientY-k)>10)&&(l=!0,d())}).on("touchend"+f,function(a){d(),l||n>1||(g=!0,a.preventDefault(),clearTimeout(i),i=setTimeout(function(){g=!1},b),e())})})}h.on("click"+f,function(){g||e()})})},a.fn.destroyMfpFastClick=function(){a(this).off("touchstart"+f+" click"+f),c&&w.off("touchmove"+f+" touchend"+f)}}(),B()}(window.jQuery||window.Zepto),MarkerClustererV3.prototype.MARKER_CLUSTER_IMAGE_PATH_="../images/m",MarkerClustererV3.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_="png",MarkerClustererV3.prototype.extend=function(a,b){return function(a){for(var b in a.prototype)this.prototype[b]=a.prototype[b];return this}.apply(a,[b])},MarkerClustererV3.prototype.onAdd=function(){this.setReady_(!0)},MarkerClustererV3.prototype.draw=function(){},MarkerClustererV3.prototype.setupStyles_=function(){if(!this.styles_.length)for(var a,b=0;a=this.sizes[b];b++)this.styles_.push({url:this.imagePath_+(b+1)+"."+this.imageExtension_,height:a,width:a})},MarkerClustererV3.prototype.fitMapToMarkers=function(){for(var a,b=this.getMarkers(),c=new google.maps.LatLngBounds,d=0;a=b[d];d++)c.extend(a.getPosition());this.map_.fitBounds(c)},MarkerClustererV3.prototype.setStyles=function(a){this.styles_=a},MarkerClustererV3.prototype.getStyles=function(){return this.styles_},MarkerClustererV3.prototype.isZoomOnClick=function(){return this.zoomOnClick_},MarkerClustererV3.prototype.isAverageCenter=function(){return this.averageCenter_},MarkerClustererV3.prototype.getMarkers=function(){return this.markers_},MarkerClustererV3.prototype.getTotalMarkers=function(){return this.markers_.length},MarkerClustererV3.prototype.setMaxZoom=function(a){this.maxZoom_=a},MarkerClustererV3.prototype.getMaxZoom=function(){return this.maxZoom_},MarkerClustererV3.prototype.calculator_=function(a,b){for(var c=0,d=a.length,e=d;0!==e;)e=parseInt(e/10,10),c++;return c=Math.min(c,b),{text:d,index:c}},MarkerClustererV3.prototype.setCalculator=function(a){this.calculator_=a},MarkerClustererV3.prototype.getCalculator=function(){return this.calculator_},MarkerClustererV3.prototype.addMarkers=function(a,b){if(a.length)for(var c,d=0;c=a[d];d++)this.pushMarkerTo_(c);else if(Object.keys(a).length)for(var c in a)this.pushMarkerTo_(a[c]);b||this.redraw()},MarkerClustererV3.prototype.pushMarkerTo_=function(a){if(a.isAdded=!1,a.draggable){var b=this;google.maps.event.addListener(a,"dragend",function(){a.isAdded=!1,b.repaint()})}this.markers_.push(a)},MarkerClustererV3.prototype.addMarker=function(a,b){this.pushMarkerTo_(a),b||this.redraw()},MarkerClustererV3.prototype.removeMarker_=function(a){var b=-1;if(this.markers_.indexOf)b=this.markers_.indexOf(a);else for(var c,d=0;c=this.markers_[d];d++)if(c==a){b=d;break}return-1==b?!1:(a.setMap(null),this.markers_.splice(b,1),!0)},MarkerClustererV3.prototype.removeMarker=function(a,b){var c=this.removeMarker_(a);return!b&&c?(this.resetViewport(),this.redraw(),!0):!1},MarkerClustererV3.prototype.removeMarkers=function(a,b){for(var c,d=!1,e=0;c=a[e];e++){var f=this.removeMarker_(c);d=d||f}return!b&&d?(this.resetViewport(),this.redraw(),!0):void 0},MarkerClustererV3.prototype.setReady_=function(a){this.ready_||(this.ready_=a,this.createClusters_())},MarkerClustererV3.prototype.getTotalClusters=function(){return this.clusters_.length},MarkerClustererV3.prototype.getMap=function(){return this.map_},MarkerClustererV3.prototype.setMap=function(a){this.map_=a},MarkerClustererV3.prototype.getGridSize=function(){return this.gridSize_},MarkerClustererV3.prototype.setGridSize=function(a){this.gridSize_=a},MarkerClustererV3.prototype.getMinClusterSize=function(){return this.minClusterSize_},MarkerClustererV3.prototype.setMinClusterSize=function(a){this.minClusterSize_=a},MarkerClustererV3.prototype.getExtendedBounds=function(a){var b=this.getProjection(),c=new google.maps.LatLng(a.getNorthEast().lat(),a.getNorthEast().lng()),d=new google.maps.LatLng(a.getSouthWest().lat(),a.getSouthWest().lng()),e=b.fromLatLngToDivPixel(c);e.x+=this.gridSize_,e.y-=this.gridSize_;var f=b.fromLatLngToDivPixel(d);f.x-=this.gridSize_,f.y+=this.gridSize_;var g=b.fromDivPixelToLatLng(e),h=b.fromDivPixelToLatLng(f);return a.extend(g),a.extend(h),a},MarkerClustererV3.prototype.isMarkerInBounds_=function(a,b){return b.contains(a.getPosition())},MarkerClustererV3.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers_=[]},MarkerClustererV3.prototype.resetViewport=function(a){for(var b,c=0;b=this.clusters_[c];c++)b.remove();for(var d,c=0;d=this.markers_[c];c++)d.isAdded=!1,a&&d.setMap(null);this.clusters_=[]},MarkerClustererV3.prototype.repaint=function(){var a=this.clusters_.slice();this.clusters_.length=0,this.resetViewport(),this.redraw(),window.setTimeout(function(){for(var b,c=0;b=a[c];c++)b.remove()},0)},MarkerClustererV3.prototype.redraw=function(){this.createClusters_()},MarkerClustererV3.prototype.distanceBetweenPoints_=function(a,b){if(!a||!b)return 0;var c=6371,d=(b.lat()-a.lat())*Math.PI/180,e=(b.lng()-a.lng())*Math.PI/180,f=Math.sin(d/2)*Math.sin(d/2)+Math.cos(a.lat()*Math.PI/180)*Math.cos(b.lat()*Math.PI/180)*Math.sin(e/2)*Math.sin(e/2),g=2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),h=c*g;return h},MarkerClustererV3.prototype.addToClosestCluster_=function(a){for(var b,c=4e4,d=null,e=(a.getPosition(),0);b=this.clusters_[e];e++){var f=b.getCenter();if(f){var g=this.distanceBetweenPoints_(f,a.getPosition());c>g&&(c=g,d=b)}}if(d&&d.isMarkerInClusterBounds(a))d.addMarker(a);else{var b=new ClusterV3(this);b.addMarker(a),this.clusters_.push(b)}},MarkerClustererV3.prototype.createClusters_=function(){if(this.ready_)for(var a,b=new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),this.map_.getBounds().getNorthEast()),c=this.getExtendedBounds(b),d=0;a=this.markers_[d];d++)!a.isAdded&&this.isMarkerInBounds_(a,c)&&this.addToClosestCluster_(a)},ClusterV3.prototype.isMarkerAlreadyAdded=function(a){if(this.markers_.indexOf)return-1!=this.markers_.indexOf(a);for(var b,c=0;b=this.markers_[c];c++)if(b==a)return!0;return!1},ClusterV3.prototype.addMarker=function(a){if(this.isMarkerAlreadyAdded(a))return!1;if(this.center_){if(this.averageCenter_){var b=this.markers_.length+1,c=(this.center_.lat()*(b-1)+a.getPosition().lat())/b,d=(this.center_.lng()*(b-1)+a.getPosition().lng())/b;this.center_=new google.maps.LatLng(c,d),this.calculateBounds_()}}else this.center_=a.getPosition(),this.calculateBounds_();a.isAdded=!0,this.markers_.push(a);var e=this.markers_.length;if(e<this.minClusterSize_&&a.getMap()!=this.map_&&a.setMap(this.map_),e==this.minClusterSize_)for(var f=0;e>f;f++)this.markers_[f].setMap(null);return e>=this.minClusterSize_&&a.setMap(null),this.updateIcon(),!0},ClusterV3.prototype.getMarkerClusterer=function(){return this.markerClusterer_},ClusterV3.prototype.getBounds=function(){for(var a,b=new google.maps.LatLngBounds(this.center_,this.center_),c=this.getMarkers(),d=0;a=c[d];d++)b.extend(a.getPosition());return b},ClusterV3.prototype.remove=function(){this.clusterIcon_.remove(),this.markers_.length=0,delete this.markers_},ClusterV3.prototype.getSize=function(){return this.markers_.length},ClusterV3.prototype.getMarkers=function(){return this.markers_},ClusterV3.prototype.getCenter=function(){return this.center_},ClusterV3.prototype.calculateBounds_=function(){var a=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(a)},ClusterV3.prototype.isMarkerInClusterBounds=function(a){return this.bounds_.contains(a.getPosition())},ClusterV3.prototype.getMap=function(){return this.map_},ClusterV3.prototype.updateIcon=function(){var a=this.map_.getZoom(),b=this.markerClusterer_.getMaxZoom();if(b&&a>b)for(var c,d=0;c=this.markers_[d];d++)c.setMap(this.map_);else{if(this.markers_.length<this.minClusterSize_)return void this.clusterIcon_.hide();var e=this.markerClusterer_.getStyles().length,f=this.markerClusterer_.getCalculator()(this.markers_,e);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.setSums(f),this.clusterIcon_.show()}},ClusterIconV3.prototype.triggerClusterClick=function(){var a=this.cluster_.getMarkerClusterer();google.maps.event.trigger(a,"clusterclick",this.cluster_),a.isZoomOnClick()&&this.map_.fitBounds(this.cluster_.getBounds())},ClusterIconV3.prototype.onAdd=function(){if(this.div_=document.createElement("DIV"),this.visible_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(a),this.div_.innerHTML=this.sums_.text}var b=this.getPanes();b.overlayMouseTarget.appendChild(this.div_);var c=this;google.maps.event.addDomListener(this.div_,"click",function(){c.triggerClusterClick()})},ClusterIconV3.prototype.getPosFromLatLng_=function(a){var b=this.getProjection().fromLatLngToDivPixel(a);return b.x-=parseInt(this.width_/2,10),b.y-=parseInt(this.height_/2,10),b},ClusterIconV3.prototype.draw=function(){if(this.visible_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.top=a.y+"px",this.div_.style.left=a.x+"px"}},ClusterIconV3.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},ClusterIconV3.prototype.show=function(){if(this.div_){var a=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(a),this.div_.style.display=""}this.visible_=!0},ClusterIconV3.prototype.remove=function(){this.setMap(null)},ClusterIconV3.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),this.div_.parentNode.removeChild(this.div_),this.div_=null)},ClusterIconV3.prototype.setSums=function(a){this.sums_=a,this.text_=a.text,this.index_=a.index,this.div_&&(this.div_.innerHTML=a.text),this.useStyle()},ClusterIconV3.prototype.useStyle=function(){var a=Math.max(0,this.sums_.index-1);a=Math.min(this.styles_.length-1,a);var b=this.styles_[a];this.url_=b.url,this.height_=b.height,this.width_=b.width,this.textColor_=b.textColor,this.anchor_=b.anchor,this.textSize_=b.textSize,this.backgroundPosition_=b.backgroundPosition},ClusterIconV3.prototype.setCenter=function(a){this.center_=a},ClusterIconV3.prototype.createCss=function(a){var b=[];b.push("background-image:url("+this.url_+");");var c=this.backgroundPosition_?this.backgroundPosition_:"0 0";b.push("background-position:"+c+";"),"object"==typeof this.anchor_?("number"==typeof this.anchor_[0]&&this.anchor_[0]>0&&this.anchor_[0]<this.height_?b.push("height:"+(this.height_-this.anchor_[0])+"px; padding-top:"+this.anchor_[0]+"px;"):b.push("height:"+this.height_+"px; line-height:"+this.height_+"px;"),"number"==typeof this.anchor_[1]&&this.anchor_[1]>0&&this.anchor_[1]<this.width_?b.push("width:"+(this.width_-this.anchor_[1])+"px; padding-left:"+this.anchor_[1]+"px;"):b.push("width:"+this.width_+"px; text-align:center;")):b.push("height:"+this.height_+"px; line-height:"+this.height_+"px; width:"+this.width_+"px; text-align:center;");var d=this.textColor_?this.textColor_:"black",e=this.textSize_?this.textSize_:11;return b.push("cursor:pointer; top:"+a.y+"px; left:"+a.x+"px; color:"+d+"; position:absolute; font-size:"+e+"px; font-family:Arial,sans-serif; font-weight:bold"),b.join("")};var mejs=mejs||{};if(mejs.version="2.13.2",mejs.meIndex=0,mejs.plugins={silverlight:[{version:[3,0],types:["video/mp4","video/m4v","video/mov","video/wmv","audio/wma","audio/m4a","audio/mp3","audio/wav","audio/mpeg"]}],flash:[{version:[9,0,124],types:["video/mp4","video/m4v","video/mov","video/flv","video/rtmp","video/x-flv","audio/flv","audio/x-flv","audio/mp3","audio/m4a","audio/mpeg","video/youtube","video/x-youtube"]}],youtube:[{version:null,types:["video/youtube","video/x-youtube","audio/youtube","audio/x-youtube"]}],vimeo:[{version:null,types:["video/vimeo","video/x-vimeo"]}]},mejs.Utility={encodeUrl:function(a){return encodeURIComponent(a)},escapeHTML:function(a){return a.toString().split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},absolutizeUrl:function(a){var b=document.createElement("div");return b.innerHTML='<a href="'+this.escapeHTML(a)+'">x</a>',b.firstChild.href},getScriptPath:function(a){for(var b,c,d,e,f,g,h=0,i="",j="",k=document.getElementsByTagName("script"),l=k.length,m=a.length;l>h;h++){for(e=k[h].src,c=e.lastIndexOf("/"),c>-1?(g=e.substring(c+1),f=e.substring(0,c+1)):(g=e,f=""),b=0;m>b;b++)if(j=a[b],d=g.indexOf(j),d>-1){i=f;break}if(""!==i)break}return i},secondsToTimeCode:function(a,b,c,d){"undefined"==typeof c?c=!1:"undefined"==typeof d&&(d=25);var e=Math.floor(a/3600)%24,f=Math.floor(a/60)%60,g=Math.floor(a%60),h=Math.floor((a%1*d).toFixed(3)),i=(b||e>0?(10>e?"0"+e:e)+":":"")+(10>f?"0"+f:f)+":"+(10>g?"0"+g:g)+(c?":"+(10>h?"0"+h:h):"");return i},timeCodeToSeconds:function(a,b,c,d){"undefined"==typeof c?c=!1:"undefined"==typeof d&&(d=25);var e=a.split(":"),f=parseInt(e[0],10),g=parseInt(e[1],10),h=parseInt(e[2],10),i=0,j=0;return c&&(i=parseInt(e[3])/d),j=3600*f+60*g+h+i},convertSMPTEtoSeconds:function(a){if("string"!=typeof a)return!1;a=a.replace(",",".");var b=0,c=-1!=a.indexOf(".")?a.split(".")[1].length:0,d=1;a=a.split(":").reverse();for(var e=0;e<a.length;e++)d=1,e>0&&(d=Math.pow(60,e)),b+=Number(a[e])*d;return Number(b.toFixed(c))},removeSwf:function(a){var b=document.getElementById(a);b&&/object|embed/i.test(b.nodeName)&&(mejs.MediaFeatures.isIE?(b.style.display="none",function(){4==b.readyState?mejs.Utility.removeObjectInIE(a):setTimeout(arguments.callee,10)}()):b.parentNode.removeChild(b))},removeObjectInIE:function(a){var b=document.getElementById(a);if(b){for(var c in b)"function"==typeof b[c]&&(b[c]=null);b.parentNode.removeChild(b)}}},mejs.PluginDetector={hasPluginVersion:function(a,b){var c=this.plugins[a];return b[1]=b[1]||0,b[2]=b[2]||0,c[0]>b[0]||c[0]==b[0]&&c[1]>b[1]||c[0]==b[0]&&c[1]==b[1]&&c[2]>=b[2]?!0:!1},nav:window.navigator,ua:window.navigator.userAgent.toLowerCase(),plugins:[],addPlugin:function(a,b,c,d,e){this.plugins[a]=this.detectPlugin(b,c,d,e)},detectPlugin:function(a,b,c,d){var e,f,g,h=[0,0,0];if("undefined"!=typeof this.nav.plugins&&"object"==typeof this.nav.plugins[a]){if(e=this.nav.plugins[a].description,e&&("undefined"==typeof this.nav.mimeTypes||!this.nav.mimeTypes[b]||this.nav.mimeTypes[b].enabledPlugin))for(h=e.replace(a,"").replace(/^\s+/,"").replace(/\sr/gi,".").split("."),f=0;f<h.length;f++)h[f]=parseInt(h[f].match(/\d+/),10)}else if("undefined"!=typeof window.ActiveXObject)try{g=new ActiveXObject(c),g&&(h=d(g))}catch(i){}return h}},mejs.PluginDetector.addPlugin("flash","Shockwave Flash","application/x-shockwave-flash","ShockwaveFlash.ShockwaveFlash",function(a){var b=[],c=a.GetVariable("$version");return c&&(c=c.split(" ")[1].split(","),b=[parseInt(c[0],10),parseInt(c[1],10),parseInt(c[2],10)]),b}),mejs.PluginDetector.addPlugin("silverlight","Silverlight Plug-In","application/x-silverlight-2","AgControl.AgControl",function(a){var b=[0,0,0,0],c=function(a,b,c,d){for(;a.isVersionSupported(b[0]+"."+b[1]+"."+b[2]+"."+b[3]);)b[c]+=d;b[c]-=d};return c(a,b,0,1),c(a,b,1,1),c(a,b,2,1e4),c(a,b,2,1e3),c(a,b,2,100),c(a,b,2,10),c(a,b,2,1),c(a,b,3,1),b}),mejs.MediaFeatures={init:function(){var a,b,c=this,d=document,e=mejs.PluginDetector.nav,f=mejs.PluginDetector.ua.toLowerCase(),g=["source","track","audio","video"];c.isiPad=null!==f.match(/ipad/i),c.isiPhone=null!==f.match(/iphone/i),c.isiOS=c.isiPhone||c.isiPad,c.isAndroid=null!==f.match(/android/i),c.isBustedAndroid=null!==f.match(/android 2\.[12]/),c.isBustedNativeHTTPS="https:"===location.protocol&&(null!==f.match(/android [12]\./)||null!==f.match(/macintosh.* version.* safari/)),c.isIE=-1!=e.appName.toLowerCase().indexOf("microsoft")||null!==e.appName.toLowerCase().match(/trident/gi),c.isChrome=null!==f.match(/chrome/gi),c.isFirefox=null!==f.match(/firefox/gi),c.isWebkit=null!==f.match(/webkit/gi),c.isGecko=null!==f.match(/gecko/gi)&&!c.isWebkit&&!c.isIE,c.isOpera=null!==f.match(/opera/gi),c.hasTouch="ontouchstart"in window,c.svg=!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect;for(a=0;a<g.length;a++)b=document.createElement(g[a]);c.supportsMediaTag="undefined"!=typeof b.canPlayType||c.isBustedAndroid;try{b.canPlayType("video/mp4")}catch(h){c.supportsMediaTag=!1}c.hasSemiNativeFullScreen="undefined"!=typeof b.webkitEnterFullscreen,c.hasNativeFullscreen="undefined"!=typeof b.requestFullscreen,c.hasWebkitNativeFullScreen="undefined"!=typeof b.webkitRequestFullScreen,c.hasMozNativeFullScreen="undefined"!=typeof b.mozRequestFullScreen,c.hasMsNativeFullScreen="undefined"!=typeof b.msRequestFullscreen,c.hasTrueNativeFullScreen=c.hasWebkitNativeFullScreen||c.hasMozNativeFullScreen||c.hasMsNativeFullScreen,c.nativeFullScreenEnabled=c.hasTrueNativeFullScreen,c.hasMozNativeFullScreen?c.nativeFullScreenEnabled=document.mozFullScreenEnabled:c.hasMsNativeFullScreen&&(c.nativeFullScreenEnabled=document.msFullscreenEnabled),c.isChrome&&(c.hasSemiNativeFullScreen=!1),c.hasTrueNativeFullScreen&&(c.fullScreenEventName="",c.hasWebkitNativeFullScreen?c.fullScreenEventName="webkitfullscreenchange":c.hasMozNativeFullScreen?c.fullScreenEventName="mozfullscreenchange":c.hasMsNativeFullScreen&&(c.fullScreenEventName="MSFullscreenChange"),c.isFullScreen=function(){return b.mozRequestFullScreen?d.mozFullScreen:b.webkitRequestFullScreen?d.webkitIsFullScreen:b.hasMsNativeFullScreen?null!==d.msFullscreenElement:void 0},c.requestFullScreen=function(a){c.hasWebkitNativeFullScreen?a.webkitRequestFullScreen():c.hasMozNativeFullScreen?a.mozRequestFullScreen():c.hasMsNativeFullScreen&&a.msRequestFullscreen()},c.cancelFullScreen=function(){c.hasWebkitNativeFullScreen?document.webkitCancelFullScreen():c.hasMozNativeFullScreen?document.mozCancelFullScreen():c.hasMsNativeFullScreen&&document.msExitFullscreen()}),c.hasSemiNativeFullScreen&&f.match(/mac os x 10_5/i)&&(c.hasNativeFullScreen=!1,c.hasSemiNativeFullScreen=!1)}},mejs.MediaFeatures.init(),mejs.HtmlMediaElement={pluginType:"native",isFullScreen:!1,setCurrentTime:function(a){this.currentTime=a},setMuted:function(a){this.muted=a},setVolume:function(a){this.volume=a},stop:function(){this.pause()},setSrc:function(a){for(var b=this.getElementsByTagName("source");b.length>0;)this.removeChild(b[0]);if("string"==typeof a)this.src=a;else{var c,d;for(c=0;c<a.length;c++)if(d=a[c],this.canPlayType(d.type)){this.src=d.src;break}}},setVideoSize:function(a,b){this.width=a,this.height=b}},mejs.PluginMediaElement=function(a,b,c){this.id=a,this.pluginType=b,this.src=c,this.events={},this.attributes={}},mejs.PluginMediaElement.prototype={pluginElement:null,pluginType:"",isFullScreen:!1,playbackRate:-1,defaultPlaybackRate:-1,seekable:[],played:[],paused:!0,ended:!1,seeking:!1,duration:0,error:null,tagName:"",muted:!1,volume:1,currentTime:0,play:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.playVideo():this.pluginApi.playMedia(),this.paused=!1)},load:function(){null!=this.pluginApi&&("youtube"==this.pluginType||this.pluginApi.loadMedia(),this.paused=!1)},pause:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.pauseVideo():this.pluginApi.pauseMedia(),this.paused=!0)},stop:function(){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.stopVideo():this.pluginApi.stopMedia(),this.paused=!0)},canPlayType:function(a){var b,c,d,e=mejs.plugins[this.pluginType];for(b=0;b<e.length;b++)if(d=e[b],mejs.PluginDetector.hasPluginVersion(this.pluginType,d.version))for(c=0;c<d.types.length;c++)if(a==d.types[c])return"probably";return""},positionFullscreenButton:function(a,b,c){null!=this.pluginApi&&this.pluginApi.positionFullscreenButton&&this.pluginApi.positionFullscreenButton(Math.floor(a),Math.floor(b),c)},hideFullscreenButton:function(){null!=this.pluginApi&&this.pluginApi.hideFullscreenButton&&this.pluginApi.hideFullscreenButton()},setSrc:function(a){if("string"==typeof a)this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(a)),this.src=mejs.Utility.absolutizeUrl(a);else{var b,c;for(b=0;b<a.length;b++)if(c=a[b],this.canPlayType(c.type)){this.pluginApi.setSrc(mejs.Utility.absolutizeUrl(c.src)),this.src=mejs.Utility.absolutizeUrl(a);break}}},setCurrentTime:function(a){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.seekTo(a):this.pluginApi.setCurrentTime(a),this.currentTime=a)},setVolume:function(a){null!=this.pluginApi&&("youtube"==this.pluginType?this.pluginApi.setVolume(100*a):this.pluginApi.setVolume(a),this.volume=a)},setMuted:function(a){null!=this.pluginApi&&("youtube"==this.pluginType?(a?this.pluginApi.mute():this.pluginApi.unMute(),this.muted=a,this.dispatchEvent("volumechange")):this.pluginApi.setMuted(a),this.muted=a)},setVideoSize:function(a,b){this.pluginElement.style&&(this.pluginElement.style.width=a+"px",this.pluginElement.style.height=b+"px"),null!=this.pluginApi&&this.pluginApi.setVideoSize&&this.pluginApi.setVideoSize(a,b)},setFullscreen:function(a){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.pluginApi.setFullscreen(a)},enterFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!0)},exitFullScreen:function(){null!=this.pluginApi&&this.pluginApi.setFullscreen&&this.setFullscreen(!1)},addEventListener:function(a,b,c){this.events[a]=this.events[a]||[],this.events[a].push(b)},removeEventListener:function(a,b){if(!a)return this.events={},!0;var c=this.events[a];if(!c)return!0;if(!b)return this.events[a]=[],!0;for(i=0;i<c.length;i++)if(c[i]===b)return this.events[a].splice(i,1),!0;return!1},dispatchEvent:function(a){var b,c,d=this.events[a];if(d)for(c=Array.prototype.slice.call(arguments,1),b=0;b<d.length;b++)d[b].apply(null,c)},hasAttribute:function(a){return a in this.attributes},removeAttribute:function(a){delete this.attributes[a]},getAttribute:function(a){return this.hasAttribute(a)?this.attributes[a]:""},setAttribute:function(a,b){this.attributes[a]=b},remove:function(){mejs.Utility.removeSwf(this.pluginElement.id),mejs.MediaPluginBridge.unregisterPluginElement(this.pluginElement.id)}},mejs.MediaPluginBridge={pluginMediaElements:{},htmlMediaElements:{},registerPluginElement:function(a,b,c){this.pluginMediaElements[a]=b,this.htmlMediaElements[a]=c},unregisterPluginElement:function(a){delete this.pluginMediaElements[a],delete this.htmlMediaElements[a]},initPlugin:function(a){var b=this.pluginMediaElements[a],c=this.htmlMediaElements[a];if(b){switch(b.pluginType){case"flash":b.pluginElement=b.pluginApi=document.getElementById(a);break;case"silverlight":b.pluginElement=document.getElementById(b.id),b.pluginApi=b.pluginElement.Content.MediaElementJS}null!=b.pluginApi&&b.success&&b.success(b,c)}},fireEvent:function(a,b,c){var d,e,f,g=this.pluginMediaElements[a];if(g){d={type:b,target:g};for(e in c)g[e]=c[e],d[e]=c[e];f=c.bufferedTime||0,d.target.buffered=d.buffered={start:function(a){return 0},end:function(a){return f},length:1},g.dispatchEvent(d.type,d)}}},mejs.MediaElementDefaults={mode:"auto",plugins:["flash","silverlight","youtube","vimeo"],enablePluginDebug:!1,httpsBasicAuthSite:!1,type:"",pluginPath:mejs.Utility.getScriptPath(["mediaelement.js","mediaelement.min.js","mediaelement-and-player.js","mediaelement-and-player.min.js"]),flashName:"flashmediaelement.swf",flashStreamer:"",enablePluginSmoothing:!1,enablePseudoStreaming:!1,pseudoStreamingStartQueryParam:"start",silverlightName:"silverlightmediaelement.xap",defaultVideoWidth:480,defaultVideoHeight:270,pluginWidth:-1,pluginHeight:-1,pluginVars:[],timerRate:250,startVolume:.8,success:function(){},error:function(){}},mejs.MediaElement=function(a,b){return mejs.HtmlMediaElementShim.create(a,b)},mejs.HtmlMediaElementShim={
create:function(a,b){var c,d,e=mejs.MediaElementDefaults,f="string"==typeof a?document.getElementById(a):a,g=f.tagName.toLowerCase(),h="audio"===g||"video"===g,i=h?f.getAttribute("src"):f.getAttribute("href"),j=f.getAttribute("poster"),k=f.getAttribute("autoplay"),l=f.getAttribute("preload"),m=f.getAttribute("controls");for(d in b)e[d]=b[d];return i="undefined"==typeof i||null===i||""==i?null:i,j="undefined"==typeof j||null===j?"":j,l="undefined"==typeof l||null===l||"false"===l?"none":l,k=!("undefined"==typeof k||null===k||"false"===k),m=!("undefined"==typeof m||null===m||"false"===m),c=this.determinePlayback(f,e,mejs.MediaFeatures.supportsMediaTag,h,i),c.url=null!==c.url?mejs.Utility.absolutizeUrl(c.url):"","native"==c.method?(mejs.MediaFeatures.isBustedAndroid&&(f.src=c.url,f.addEventListener("click",function(){f.play()},!1)),this.updateNative(c,e,k,l)):""!==c.method?this.createPlugin(c,e,j,k,l,m):(this.createErrorMessage(c,e,j),this)},determinePlayback:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=[],r={method:"",url:"",htmlMediaElement:a,isVideo:"audio"!=a.tagName.toLowerCase()};if("undefined"!=typeof b.type&&""!==b.type)if("string"==typeof b.type)q.push({type:b.type,url:e});else for(f=0;f<b.type.length;f++)q.push({type:b.type[f],url:e});else if(null!==e)k=this.formatType(e,a.getAttribute("type")),q.push({type:k,url:e});else for(f=0;f<a.childNodes.length;f++)j=a.childNodes[f],1==j.nodeType&&"source"==j.tagName.toLowerCase()&&(e=j.getAttribute("src"),k=this.formatType(e,j.getAttribute("type")),p=j.getAttribute("media"),(!p||!window.matchMedia||window.matchMedia&&window.matchMedia(p).matches)&&q.push({type:k,url:e}));if(!d&&q.length>0&&null!==q[0].url&&this.getTypeFromFile(q[0].url).indexOf("audio")>-1&&(r.isVideo=!1),mejs.MediaFeatures.isBustedAndroid&&(a.canPlayType=function(a){return null!==a.match(/video\/(mp4|m4v)/gi)?"maybe":""}),c&&("auto"===b.mode||"auto_plugin"===b.mode||"native"===b.mode)&&(!mejs.MediaFeatures.isBustedNativeHTTPS||b.httpsBasicAuthSite!==!0)){for(d||(o=document.createElement(r.isVideo?"video":"audio"),a.parentNode.insertBefore(o,a),a.style.display="none",r.htmlMediaElement=a=o),f=0;f<q.length;f++)if(""!==a.canPlayType(q[f].type).replace(/no/,"")||""!==a.canPlayType(q[f].type.replace(/mp3/,"mpeg")).replace(/no/,"")){r.method="native",r.url=q[f].url;break}if("native"===r.method&&(null!==r.url&&(a.src=r.url),"auto_plugin"!==b.mode))return r}if("auto"===b.mode||"auto_plugin"===b.mode||"shim"===b.mode)for(f=0;f<q.length;f++)for(k=q[f].type,g=0;g<b.plugins.length;g++)for(l=b.plugins[g],m=mejs.plugins[l],h=0;h<m.length;h++)if(n=m[h],null==n.version||mejs.PluginDetector.hasPluginVersion(l,n.version))for(i=0;i<n.types.length;i++)if(k==n.types[i])return r.method=l,r.url=q[f].url,r;return"auto_plugin"===b.mode&&"native"===r.method?r:(""===r.method&&q.length>0&&(r.url=q[0].url),r)},formatType:function(a,b){return a&&!b?this.getTypeFromFile(a):b&&~b.indexOf(";")?b.substr(0,b.indexOf(";")):b},getTypeFromFile:function(a){a=a.split("?")[0];var b=a.substring(a.lastIndexOf(".")+1).toLowerCase();return(/(mp4|m4v|ogg|ogv|webm|webmv|flv|wmv|mpeg|mov)/gi.test(b)?"video":"audio")+"/"+this.getTypeFromExtension(b)},getTypeFromExtension:function(a){switch(a){case"mp4":case"m4v":return"mp4";case"webm":case"webma":case"webmv":return"webm";case"ogg":case"oga":case"ogv":return"ogg";default:return a}},createErrorMessage:function(a,b,c){var d=a.htmlMediaElement,e=document.createElement("div");e.className="me-cannotplay";try{e.style.width=d.width+"px",e.style.height=d.height+"px"}catch(f){}b.customError?e.innerHTML=b.customError:e.innerHTML=""!==c?'<a href="'+a.url+'"><img src="'+c+'" width="100%" height="100%" /></a>':'<a href="'+a.url+'"><span>'+mejs.i18n.t("Download File")+"</span></a>",d.parentNode.insertBefore(e,d),d.style.display="none",b.error(d)},createPlugin:function(a,b,c,d,e,f){var g,h,i,j=a.htmlMediaElement,k=1,l=1,m="me_"+a.method+"_"+mejs.meIndex++,n=new mejs.PluginMediaElement(m,a.method,a.url),o=document.createElement("div");n.tagName=j.tagName;for(var p=0;p<j.attributes.length;p++){var q=j.attributes[p];1==q.specified&&n.setAttribute(q.name,q.value)}for(h=j.parentNode;null!==h&&"body"!=h.tagName.toLowerCase();){if("p"==h.parentNode.tagName.toLowerCase()){h.parentNode.parentNode.insertBefore(h,h.parentNode);break}h=h.parentNode}switch(a.isVideo?(k=b.pluginWidth>0?b.pluginWidth:b.videoWidth>0?b.videoWidth:null!==j.getAttribute("width")?j.getAttribute("width"):b.defaultVideoWidth,l=b.pluginHeight>0?b.pluginHeight:b.videoHeight>0?b.videoHeight:null!==j.getAttribute("height")?j.getAttribute("height"):b.defaultVideoHeight,k=mejs.Utility.encodeUrl(k),l=mejs.Utility.encodeUrl(l)):b.enablePluginDebug&&(k=320,l=240),n.success=b.success,mejs.MediaPluginBridge.registerPluginElement(m,n,j),o.className="me-plugin",o.id=m+"_container",a.isVideo?j.parentNode.insertBefore(o,j):document.body.insertBefore(o,document.body.childNodes[0]),i=["id="+m,"isvideo="+(a.isVideo?"true":"false"),"autoplay="+(d?"true":"false"),"preload="+e,"width="+k,"startvolume="+b.startVolume,"timerrate="+b.timerRate,"flashstreamer="+b.flashStreamer,"height="+l,"pseudostreamstart="+b.pseudoStreamingStartQueryParam],null!==a.url&&("flash"==a.method?i.push("file="+mejs.Utility.encodeUrl(a.url)):i.push("file="+a.url)),b.enablePluginDebug&&i.push("debug=true"),b.enablePluginSmoothing&&i.push("smoothing=true"),b.enablePseudoStreaming&&i.push("pseudostreaming=true"),f&&i.push("controls=true"),b.pluginVars&&(i=i.concat(b.pluginVars)),a.method){case"silverlight":o.innerHTML='<object data="data:application/x-silverlight-2," type="application/x-silverlight-2" id="'+m+'" name="'+m+'" width="'+k+'" height="'+l+'" class="mejs-shim"><param name="initParams" value="'+i.join(",")+'" /><param name="windowless" value="true" /><param name="background" value="black" /><param name="minRuntimeVersion" value="3.0.0.0" /><param name="autoUpgrade" value="true" /><param name="source" value="'+b.pluginPath+b.silverlightName+'" /></object>';break;case"flash":mejs.MediaFeatures.isIE?(g=document.createElement("div"),o.appendChild(g),g.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+m+'" width="'+k+'" height="'+l+'" class="mejs-shim"><param name="movie" value="'+b.pluginPath+b.flashName+"?x="+new Date+'" /><param name="flashvars" value="'+i.join("&amp;")+'" /><param name="quality" value="high" /><param name="bgcolor" value="#000000" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /><param name="scale" value="default" /></object>'):o.innerHTML='<embed id="'+m+'" name="'+m+'" play="true" loop="false" quality="high" bgcolor="#000000" wmode="transparent" allowScriptAccess="always" allowFullScreen="true" type="application/x-shockwave-flash" pluginspage="//www.macromedia.com/go/getflashplayer" src="'+b.pluginPath+b.flashName+'" flashvars="'+i.join("&")+'" width="'+k+'" height="'+l+'" scale="default"class="mejs-shim"></embed>';break;case"youtube":var r=a.url.substr(a.url.lastIndexOf("=")+1);youtubeSettings={container:o,containerId:o.id,pluginMediaElement:n,pluginId:m,videoId:r,height:l,width:k},mejs.PluginDetector.hasPluginVersion("flash",[10,0,0])?mejs.YouTubeApi.createFlash(youtubeSettings):mejs.YouTubeApi.enqueueIframe(youtubeSettings);break;case"vimeo":n.vimeoid=a.url.substr(a.url.lastIndexOf("/")+1),o.innerHTML='<iframe src="http://player.vimeo.com/video/'+n.vimeoid+'?portrait=0&byline=0&title=0" width="'+k+'" height="'+l+'" frameborder="0" class="mejs-shim"></iframe>'}return j.style.display="none",j.removeAttribute("autoplay"),n},updateNative:function(a,b,c,d){var e,f=a.htmlMediaElement;for(e in mejs.HtmlMediaElement)f[e]=mejs.HtmlMediaElement[e];return b.success(f,f),f}},mejs.YouTubeApi={isIframeStarted:!1,isIframeLoaded:!1,loadIframeApi:function(){if(!this.isIframeStarted){var a=document.createElement("script");a.src="//www.youtube.com/player_api";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b),this.isIframeStarted=!0}},iframeQueue:[],enqueueIframe:function(a){this.isLoaded?this.createIframe(a):(this.loadIframeApi(),this.iframeQueue.push(a))},createIframe:function(a){var b=a.pluginMediaElement,c=new YT.Player(a.containerId,{height:a.height,width:a.width,videoId:a.videoId,playerVars:{controls:0},events:{onReady:function(){a.pluginMediaElement.pluginApi=c,mejs.MediaPluginBridge.initPlugin(a.pluginId),setInterval(function(){mejs.YouTubeApi.createEvent(c,b,"timeupdate")},250)},onStateChange:function(a){mejs.YouTubeApi.handleStateChange(a.data,c,b)}}})},createEvent:function(a,b,c){var d={type:c,target:b};if(a&&a.getDuration){b.currentTime=d.currentTime=a.getCurrentTime(),b.duration=d.duration=a.getDuration(),d.paused=b.paused,d.ended=b.ended,d.muted=a.isMuted(),d.volume=a.getVolume()/100,d.bytesTotal=a.getVideoBytesTotal(),d.bufferedBytes=a.getVideoBytesLoaded();var e=d.bufferedBytes/d.bytesTotal*d.duration;d.target.buffered=d.buffered={start:function(a){return 0},end:function(a){return e},length:1}}b.dispatchEvent(d.type,d)},iFrameReady:function(){for(this.isLoaded=!0,this.isIframeLoaded=!0;this.iframeQueue.length>0;){var a=this.iframeQueue.pop();this.createIframe(a)}},flashPlayers:{},createFlash:function(a){this.flashPlayers[a.pluginId]=a;var b,c="//www.youtube.com/apiplayer?enablejsapi=1&amp;playerapiid="+a.pluginId+"&amp;version=3&amp;autoplay=0&amp;controls=0&amp;modestbranding=1&loop=0";mejs.MediaFeatures.isIE?(b=document.createElement("div"),a.container.appendChild(b),b.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="//download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" id="'+a.pluginId+'" width="'+a.width+'" height="'+a.height+'" class="mejs-shim"><param name="movie" value="'+c+'" /><param name="wmode" value="transparent" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="true" /></object>'):a.container.innerHTML='<object type="application/x-shockwave-flash" id="'+a.pluginId+'" data="'+c+'" width="'+a.width+'" height="'+a.height+'" style="visibility: visible; " class="mejs-shim"><param name="allowScriptAccess" value="always"><param name="wmode" value="transparent"></object>'},flashReady:function(a){var b=this.flashPlayers[a],c=document.getElementById(a),d=b.pluginMediaElement;d.pluginApi=d.pluginElement=c,mejs.MediaPluginBridge.initPlugin(a),c.cueVideoById(b.videoId);var e=b.containerId+"_callback";window[e]=function(a){mejs.YouTubeApi.handleStateChange(a,c,d)},c.addEventListener("onStateChange",e),setInterval(function(){mejs.YouTubeApi.createEvent(c,d,"timeupdate")},250)},handleStateChange:function(a,b,c){switch(a){case-1:c.paused=!0,c.ended=!0,mejs.YouTubeApi.createEvent(b,c,"loadedmetadata");break;case 0:c.paused=!1,c.ended=!0,mejs.YouTubeApi.createEvent(b,c,"ended");break;case 1:c.paused=!1,c.ended=!1,mejs.YouTubeApi.createEvent(b,c,"play"),mejs.YouTubeApi.createEvent(b,c,"playing");break;case 2:c.paused=!0,c.ended=!1,mejs.YouTubeApi.createEvent(b,c,"pause");break;case 3:mejs.YouTubeApi.createEvent(b,c,"progress");break;case 5:}}},window.mejs=mejs,window.MediaElement=mejs.MediaElement,function(a,b,c){"use strict";var d={locale:{language:"",strings:{}},methods:{}};d.getLanguage=function(){var a=d.locale.language||window.navigator.userLanguage||window.navigator.language;return a.substr(0,2).toLowerCase()},"undefined"!=typeof mejsL10n&&(d.locale.language=mejsL10n.language),d.methods.checkPlain=function(a){var b,c,d={"&":"&amp;",'"':"&quot;","<":"&lt;",">":"&gt;"};a=String(a);for(b in d)d.hasOwnProperty(b)&&(c=new RegExp(b,"g"),a=a.replace(c,d[b]));return a},d.methods.t=function(a,b){return d.locale.strings&&d.locale.strings[b.context]&&d.locale.strings[b.context][a]&&(a=d.locale.strings[b.context][a]),d.methods.checkPlain(a)},d.t=function(a,b){if("string"==typeof a&&a.length>0){var c=d.getLanguage();return b=b||{context:c},d.methods.t(a,b)}throw{name:"InvalidArgumentException",message:"First argument is either not a string or empty."}},b.i18n=d}(document,mejs),function(a,b){"use strict";"undefined"!=typeof mejsL10n&&(a[mejsL10n.language]=mejsL10n.strings)}(mejs.i18n.locale.strings),function(a,b){"use strict";"undefined"==typeof a.de&&(a.de={Fullscreen:"Vollbild","Go Fullscreen":"Vollbild an","Turn off Fullscreen":"Vollbild aus",Close:"Schlieen"})}(mejs.i18n.locale.strings),function(a,b){"use strict";"undefined"==typeof a.zh&&(a.zh={Fullscreen:"","Go Fullscreen":"","Turn off Fullscreen":"",Close:""})}(mejs.i18n.locale.strings),"undefined"!=typeof jQuery?mejs.$=jQuery:"undefined"!=typeof ender&&(mejs.$=ender),function(a){mejs.MepDefaults={poster:"",showPosterWhenEnded:!1,defaultVideoWidth:480,defaultVideoHeight:270,videoWidth:-1,videoHeight:-1,defaultAudioWidth:400,defaultAudioHeight:30,defaultSeekBackwardInterval:function(a){return.05*a.duration},defaultSeekForwardInterval:function(a){return.05*a.duration},audioWidth:-1,audioHeight:-1,startVolume:.8,loop:!1,autoRewind:!0,enableAutosize:!0,alwaysShowHours:!1,showTimecodeFrameCount:!1,framesPerSecond:25,autosizeProgress:!0,alwaysShowControls:!1,hideVideoControlsOnLoad:!1,clickToPlayPause:!0,iPadUseNativeControls:!1,iPhoneUseNativeControls:!1,AndroidUseNativeControls:!1,features:["playpause","current","progress","duration","tracks","volume","fullscreen"],isVideo:!0,enableKeyboard:!0,pauseOtherPlayers:!0,keyActions:[{keys:[32,179],action:function(a,b){b.paused||b.ended?a.play():a.pause()}},{keys:[38],action:function(a,b){var c=Math.min(b.volume+.1,1);b.setVolume(c)}},{keys:[40],action:function(a,b){var c=Math.max(b.volume-.1,0);b.setVolume(c)}},{keys:[37,227],action:function(a,b){if(!isNaN(b.duration)&&b.duration>0){a.isVideo&&(a.showControls(),a.startControlsTimer());var c=Math.max(b.currentTime-a.options.defaultSeekBackwardInterval(b),0);b.setCurrentTime(c)}}},{keys:[39,228],action:function(a,b){if(!isNaN(b.duration)&&b.duration>0){a.isVideo&&(a.showControls(),a.startControlsTimer());var c=Math.min(b.currentTime+a.options.defaultSeekForwardInterval(b),b.duration);b.setCurrentTime(c)}}},{keys:[70],action:function(a,b){"undefined"!=typeof a.enterFullScreen&&(a.isFullScreen?a.exitFullScreen():a.enterFullScreen())}}]},mejs.mepIndex=0,mejs.players={},mejs.MediaElementPlayer=function(b,c){if(!(this instanceof mejs.MediaElementPlayer))return new mejs.MediaElementPlayer(b,c);var d=this;return d.$media=d.$node=a(b),d.node=d.media=d.$media[0],"undefined"!=typeof d.node.player?d.node.player:(d.node.player=d,"undefined"==typeof c&&(c=d.$node.data("mejsoptions")),d.options=a.extend({},mejs.MepDefaults,c),d.id="mep_"+mejs.mepIndex++,mejs.players[d.id]=d,d.init(),d)},mejs.MediaElementPlayer.prototype={hasFocus:!1,controlsAreVisible:!0,init:function(){var b=this,c=mejs.MediaFeatures,d=a.extend(!0,{},b.options,{success:function(a,c){b.meReady(a,c)},error:function(a){b.handleError(a)}}),e=b.media.tagName.toLowerCase();if(b.isDynamic="audio"!==e&&"video"!==e,b.isDynamic?b.isVideo=b.options.isVideo:b.isVideo="audio"!==e&&b.options.isVideo,c.isiPad&&b.options.iPadUseNativeControls||c.isiPhone&&b.options.iPhoneUseNativeControls)b.$media.attr("controls","controls"),c.isiPad&&null!==b.media.getAttribute("autoplay")&&b.play();else if(c.isAndroid&&b.options.AndroidUseNativeControls);else{if(b.$media.removeAttr("controls"),b.container=a('<div id="'+b.id+'" class="mejs-container '+(mejs.MediaFeatures.svg?"svg":"no-svg")+'"><div class="mejs-inner"><div class="mejs-mediaelement"></div><div class="mejs-layers"></div><div class="mejs-controls"></div><div class="mejs-clear"></div></div></div>').addClass(b.$media[0].className).insertBefore(b.$media),b.container.addClass((c.isAndroid?"mejs-android ":"")+(c.isiOS?"mejs-ios ":"")+(c.isiPad?"mejs-ipad ":"")+(c.isiPhone?"mejs-iphone ":"")+(b.isVideo?"mejs-video ":"mejs-audio ")),c.isiOS){var f=b.$media.clone();b.container.find(".mejs-mediaelement").append(f),b.$media.remove(),b.$node=b.$media=f,b.node=b.media=f[0]}else b.container.find(".mejs-mediaelement").append(b.$media);b.controls=b.container.find(".mejs-controls"),b.layers=b.container.find(".mejs-layers");var g=b.isVideo?"video":"audio",h=g.substring(0,1).toUpperCase()+g.substring(1);b.options[g+"Width"]>0||b.options[g+"Width"].toString().indexOf("%")>-1?b.width=b.options[g+"Width"]:""!==b.media.style.width&&null!==b.media.style.width?b.width=b.media.style.width:null!==b.media.getAttribute("width")?b.width=b.$media.attr("width"):b.width=b.options["default"+h+"Width"],b.options[g+"Height"]>0||b.options[g+"Height"].toString().indexOf("%")>-1?b.height=b.options[g+"Height"]:""!==b.media.style.height&&null!==b.media.style.height?b.height=b.media.style.height:null!==b.$media[0].getAttribute("height")?b.height=b.$media.attr("height"):b.height=b.options["default"+h+"Height"],b.setPlayerSize(b.width,b.height),d.pluginWidth=b.width,d.pluginHeight=b.height}mejs.MediaElement(b.$media[0],d),"undefined"!=typeof b.container&&b.controlsAreVisible&&b.container.trigger("controlsshown")},showControls:function(a){var b=this;a="undefined"==typeof a||a,b.controlsAreVisible||(a?(b.controls.css("visibility","visible").stop(!0,!0).fadeIn(200,function(){b.controlsAreVisible=!0,b.container.trigger("controlsshown")}),b.container.find(".mejs-control").css("visibility","visible").stop(!0,!0).fadeIn(200,function(){b.controlsAreVisible=!0})):(b.controls.css("visibility","visible").css("display","block"),b.container.find(".mejs-control").css("visibility","visible").css("display","block"),b.controlsAreVisible=!0,b.container.trigger("controlsshown")),b.setControlsSize())},hideControls:function(b){var c=this;b="undefined"==typeof b||b,c.controlsAreVisible&&!c.options.alwaysShowControls&&(b?(c.controls.stop(!0,!0).fadeOut(200,function(){a(this).css("visibility","hidden").css("display","block"),c.controlsAreVisible=!1,c.container.trigger("controlshidden")}),c.container.find(".mejs-control").stop(!0,!0).fadeOut(200,function(){a(this).css("visibility","hidden").css("display","block")})):(c.controls.css("visibility","hidden").css("display","block"),c.container.find(".mejs-control").css("visibility","hidden").css("display","block"),c.controlsAreVisible=!1,c.container.trigger("controlshidden")))},controlsTimer:null,startControlsTimer:function(a){var b=this;a="undefined"!=typeof a?a:1500,b.killControlsTimer("start"),b.controlsTimer=setTimeout(function(){b.hideControls(),b.killControlsTimer("hide")},a)},killControlsTimer:function(a){var b=this;null!==b.controlsTimer&&(clearTimeout(b.controlsTimer),delete b.controlsTimer,b.controlsTimer=null)},controlsEnabled:!0,disableControls:function(){var a=this;a.killControlsTimer(),a.hideControls(!1),this.controlsEnabled=!1},enableControls:function(){var a=this;a.showControls(!1),a.controlsEnabled=!0},meReady:function(a,b){var c,d,e=this,f=mejs.MediaFeatures,g=b.getAttribute("autoplay"),h=!("undefined"==typeof g||null===g||"false"===g);if(!e.created){if(e.created=!0,e.media=a,e.domNode=b,!(f.isAndroid&&e.options.AndroidUseNativeControls||f.isiPad&&e.options.iPadUseNativeControls||f.isiPhone&&e.options.iPhoneUseNativeControls)){e.buildposter(e,e.controls,e.layers,e.media),e.buildkeyboard(e,e.controls,e.layers,e.media),e.buildoverlays(e,e.controls,e.layers,e.media),e.findTracks();for(c in e.options.features)if(d=e.options.features[c],e["build"+d])try{e["build"+d](e,e.controls,e.layers,e.media)}catch(i){}e.container.trigger("controlsready"),e.setPlayerSize(e.width,e.height),e.setControlsSize(),e.isVideo&&(mejs.MediaFeatures.hasTouch?e.$media.bind("touchstart",function(){e.controlsAreVisible?e.hideControls(!1):e.controlsEnabled&&e.showControls(!1)}):(mejs.MediaElementPlayer.prototype.clickToPlayPauseCallback=function(){e.options.clickToPlayPause&&(e.media.paused?e.play():e.pause())},e.media.addEventListener("click",e.clickToPlayPauseCallback,!1),e.container.bind("mouseenter mouseover",function(){e.controlsEnabled&&(e.options.alwaysShowControls||(e.killControlsTimer("enter"),e.showControls(),e.startControlsTimer(2500)))}).bind("mousemove",function(){e.controlsEnabled&&(e.controlsAreVisible||e.showControls(),e.options.alwaysShowControls||e.startControlsTimer(2500))}).bind("mouseleave",function(){e.controlsEnabled&&(e.media.paused||e.options.alwaysShowControls||e.startControlsTimer(1e3))})),e.options.hideVideoControlsOnLoad&&e.hideControls(!1),h&&!e.options.alwaysShowControls&&e.hideControls(),e.options.enableAutosize&&e.media.addEventListener("loadedmetadata",function(a){e.options.videoHeight<=0&&null===e.domNode.getAttribute("height")&&!isNaN(a.target.videoHeight)&&(e.setPlayerSize(a.target.videoWidth,a.target.videoHeight),e.setControlsSize(),e.media.setVideoSize(a.target.videoWidth,a.target.videoHeight))},!1)),a.addEventListener("play",function(){var a;for(a in mejs.players){var b=mejs.players[a];b.id==e.id||!e.options.pauseOtherPlayers||b.paused||b.ended||b.pause(),b.hasFocus=!1}e.hasFocus=!0},!1),e.media.addEventListener("ended",function(a){if(e.options.autoRewind)try{e.media.setCurrentTime(0)}catch(b){}e.media.pause(),e.setProgressRail&&e.setProgressRail(),e.setCurrentRail&&e.setCurrentRail(),e.options.loop?e.play():!e.options.alwaysShowControls&&e.controlsEnabled&&e.showControls()},!1),e.media.addEventListener("loadedmetadata",function(a){e.updateDuration&&e.updateDuration(),e.updateCurrent&&e.updateCurrent(),e.isFullScreen||(e.setPlayerSize(e.width,e.height),e.setControlsSize())},!1),setTimeout(function(){e.setPlayerSize(e.width,e.height),e.setControlsSize()},50),e.globalBind("resize",function(){e.isFullScreen||mejs.MediaFeatures.hasTrueNativeFullScreen&&document.webkitIsFullScreen||e.setPlayerSize(e.width,e.height),e.setControlsSize()}),"youtube"==e.media.pluginType&&e.container.find(".mejs-overlay-play").hide()}h&&"native"==a.pluginType&&e.play(),e.options.success&&("string"==typeof e.options.success?window[e.options.success](e.media,e.domNode,e):e.options.success(e.media,e.domNode,e))}},handleError:function(a){var b=this;b.controls.hide(),b.options.error&&b.options.error(a)},setPlayerSize:function(b,c){var d=this;if("undefined"!=typeof b&&(d.width=b),"undefined"!=typeof c&&(d.height=c),d.height.toString().indexOf("%")>0||"100%"===d.$node.css("max-width")||parseInt(d.$node.css("max-width").replace(/px/,""),10)/d.$node.offsetParent().width()===1||d.$node[0].currentStyle&&"100%"===d.$node[0].currentStyle.maxWidth){var e=d.isVideo?d.media.videoWidth&&d.media.videoWidth>0?d.media.videoWidth:d.options.defaultVideoWidth:d.options.defaultAudioWidth,f=d.isVideo?d.media.videoHeight&&d.media.videoHeight>0?d.media.videoHeight:d.options.defaultVideoHeight:d.options.defaultAudioHeight,g=d.container.parent().closest(":visible").width(),h=d.isVideo||!d.options.autosizeProgress?parseInt(g*f/e,10):f;"body"===d.container.parent()[0].tagName.toLowerCase()&&(g=a(window).width(),h=a(window).height()),0!=h&&0!=g&&(d.container.width(g).height(h),d.$media.add(d.container.find(".mejs-shim")).width("100%").height("100%"),d.isVideo&&d.media.setVideoSize&&d.media.setVideoSize(g,h),d.layers.children(".mejs-layer").width("100%").height("100%"))}else d.container.width(d.width).height(d.height),d.layers.children(".mejs-layer").width(d.width).height(d.height);var i=d.layers.find(".mejs-overlay-play"),j=i.find(".mejs-overlay-button");i.height(d.container.height()-d.controls.height()),j.css("margin-top","-"+(j.height()/2-d.controls.height()/2).toString()+"px")},setControlsSize:function(){var b=this,c=0,d=0,e=b.controls.find(".mejs-time-rail"),f=b.controls.find(".mejs-time-total"),g=(b.controls.find(".mejs-time-current"),b.controls.find(".mejs-time-loaded"),e.siblings());b.options&&!b.options.autosizeProgress&&(d=parseInt(e.css("width"))),0!==d&&d||(g.each(function(){var b=a(this);"absolute"!=b.css("position")&&b.is(":visible")&&(c+=a(this).outerWidth(!0))}),d=b.controls.width()-c-(e.outerWidth(!0)-e.width())),d-=2,e.width(d),f.width(d-(f.outerWidth(!0)-f.width())),b.setProgressRail&&b.setProgressRail(),b.setCurrentRail&&b.setCurrentRail()},buildposter:function(b,c,d,e){var f=this,g=a('<div class="mejs-poster mejs-layer"></div>').appendTo(d),h=b.$media.attr("poster");""!==b.options.poster&&(h=b.options.poster),""!==h&&null!=h?f.setPoster(h):g.hide(),e.addEventListener("play",function(){g.hide()},!1),b.options.showPosterWhenEnded&&b.options.autoRewind&&e.addEventListener("ended",function(){g.show()},!1)},setPoster:function(b){var c=this,d=c.container.find(".mejs-poster"),e=d.find("img");0==e.length&&(e=a('<img width="100%" height="100%" />').appendTo(d)),e.attr("src",b),d.css({"background-image":"url("+b+")"})},buildoverlays:function(b,c,d,e){var f=this;if(b.isVideo){var g=a('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-loading"><span></span></div></div>').hide().appendTo(d),h=a('<div class="mejs-overlay mejs-layer"><div class="mejs-overlay-error"></div></div>').hide().appendTo(d),i=a('<div class="mejs-overlay mejs-layer mejs-overlay-play"><div class="mejs-overlay-button"></div></div>').appendTo(d).bind("click touchstart",function(){f.options.clickToPlayPause&&e.paused&&f.play()});e.addEventListener("play",function(){i.hide(),g.hide(),c.find(".mejs-time-buffering").hide(),h.hide()},!1),e.addEventListener("playing",function(){i.hide(),g.hide(),c.find(".mejs-time-buffering").hide(),h.hide()},!1),e.addEventListener("seeking",function(){g.show(),c.find(".mejs-time-buffering").show()},!1),e.addEventListener("seeked",function(){g.hide(),c.find(".mejs-time-buffering").hide()},!1),e.addEventListener("pause",function(){mejs.MediaFeatures.isiPhone||i.show()},!1),e.addEventListener("waiting",function(){g.show(),c.find(".mejs-time-buffering").show()},!1),e.addEventListener("loadeddata",function(){g.show(),c.find(".mejs-time-buffering").show()},!1),e.addEventListener("canplay",function(){g.hide(),c.find(".mejs-time-buffering").hide()},!1),e.addEventListener("error",function(){g.hide(),c.find(".mejs-time-buffering").hide(),h.show(),h.find("mejs-overlay-error").html("Error loading this resource")},!1)}},buildkeyboard:function(b,c,d,e){var f=this;f.globalBind("keydown",function(a){if(b.hasFocus&&b.options.enableKeyboard)for(var c=0,d=b.options.keyActions.length;d>c;c++)for(var f=b.options.keyActions[c],g=0,h=f.keys.length;h>g;g++)if(a.keyCode==f.keys[g])return a.preventDefault(),f.action(b,e,a.keyCode),!1;return!0}),f.globalBind("click",function(c){0==a(c.target).closest(".mejs-container").length&&(b.hasFocus=!1)})},findTracks:function(){var b=this,c=b.$media.find("track");b.tracks=[],c.each(function(c,d){d=a(d),b.tracks.push({srclang:d.attr("srclang")?d.attr("srclang").toLowerCase():"",src:d.attr("src"),kind:d.attr("kind"),label:d.attr("label")||"",entries:[],isLoaded:!1})})},changeSkin:function(a){this.container[0].className="mejs-container "+a,this.setPlayerSize(this.width,this.height),this.setControlsSize()},play:function(){this.load(),this.media.play()},pause:function(){try{this.media.pause()}catch(a){}},load:function(){this.isLoaded||this.media.load(),this.isLoaded=!0},setMuted:function(a){this.media.setMuted(a)},setCurrentTime:function(a){this.media.setCurrentTime(a)},getCurrentTime:function(){return this.media.currentTime},setVolume:function(a){this.media.setVolume(a)},getVolume:function(){return this.media.volume},setSrc:function(a){this.media.setSrc(a)},remove:function(){var a,b,c=this;for(a in c.options.features)if(b=c.options.features[a],c["clean"+b])try{c["clean"+b](c)}catch(d){}c.isDynamic?c.$node.insertBefore(c.container):(c.$media.prop("controls",!0),c.$node.clone().show().insertBefore(c.container),c.$node.remove()),"native"!==c.media.pluginType&&c.media.remove(),delete mejs.players[c.id],c.container.remove(),c.globalUnbind(),delete c.node.player}},function(){function b(b,d){var e={d:[],w:[]};return a.each((b||"").split(" "),function(a,b){var f=b+"."+d;0===f.indexOf(".")?(e.d.push(f),e.w.push(f)):e[c.test(b)?"w":"d"].push(f)}),e.d=e.d.join(" "),e.w=e.w.join(" "),e}var c=/^((after|before)print|(before)?unload|hashchange|message|o(ff|n)line|page(hide|show)|popstate|resize|storage)\b/;mejs.MediaElementPlayer.prototype.globalBind=function(c,d,e){var f=this;c=b(c,f.id),c.d&&a(document).bind(c.d,d,e),c.w&&a(window).bind(c.w,d,e)},mejs.MediaElementPlayer.prototype.globalUnbind=function(c,d){var e=this;c=b(c,e.id),c.d&&a(document).unbind(c.d,d),c.w&&a(window).unbind(c.w,d)}}(),"undefined"!=typeof jQuery&&(jQuery.fn.mediaelementplayer=function(a){return a===!1?this.each(function(){var a=jQuery(this).data("mediaelementplayer");a&&a.remove(),jQuery(this).removeData("mediaelementplayer")}):this.each(function(){jQuery(this).data("mediaelementplayer",new mejs.MediaElementPlayer(this,a))}),this}),a(document).ready(function(){a(".mejs-player").mediaelementplayer()}),window.MediaElementPlayer=mejs.MediaElementPlayer}(mejs.$),function(a){a.extend(mejs.MepDefaults,{playpauseText:mejs.i18n.t("Play/Pause")}),a.extend(MediaElementPlayer.prototype,{buildplaypause:function(b,c,d,e){var f=this,g=a('<div class="mejs-button mejs-playpause-button mejs-play" ><button type="button" aria-controls="'+f.id+'" title="'+f.options.playpauseText+'" aria-label="'+f.options.playpauseText+'"></button></div>').appendTo(c).click(function(a){return a.preventDefault(),e.paused?e.play():e.pause(),!1});e.addEventListener("play",function(){g.removeClass("mejs-play").addClass("mejs-pause")},!1),e.addEventListener("playing",function(){g.removeClass("mejs-play").addClass("mejs-pause")},!1),e.addEventListener("pause",function(){g.removeClass("mejs-pause").addClass("mejs-play")},!1),e.addEventListener("paused",function(){g.removeClass("mejs-pause").addClass("mejs-play")},!1)}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{stopText:"Stop"}),a.extend(MediaElementPlayer.prototype,{buildstop:function(b,c,d,e){var f=this;a('<div class="mejs-button mejs-stop-button mejs-stop"><button type="button" aria-controls="'+f.id+'" title="'+f.options.stopText+'" aria-label="'+f.options.stopText+'"></button></div>').appendTo(c).click(function(){e.paused||e.pause(),e.currentTime>0&&(e.setCurrentTime(0),e.pause(),c.find(".mejs-time-current").width("0px"),c.find(".mejs-time-handle").css("left","0px"),c.find(".mejs-time-float-current").html(mejs.Utility.secondsToTimeCode(0)),c.find(".mejs-currenttime").html(mejs.Utility.secondsToTimeCode(0)),d.find(".mejs-poster").show())})}})}(mejs.$),function(a){a.extend(MediaElementPlayer.prototype,{buildprogress:function(b,c,d,e){a('<div class="mejs-time-rail"><span class="mejs-time-total"><span class="mejs-time-buffering"></span><span class="mejs-time-loaded"></span><span class="mejs-time-current"></span><span class="mejs-time-handle"></span><span class="mejs-time-float"><span class="mejs-time-float-current">00:00</span><span class="mejs-time-float-corner"></span></span></span></div>').appendTo(c),c.find(".mejs-time-buffering").hide();var f=this,g=c.find(".mejs-time-total"),h=c.find(".mejs-time-loaded"),i=c.find(".mejs-time-current"),j=c.find(".mejs-time-handle"),k=c.find(".mejs-time-float"),l=c.find(".mejs-time-float-current"),m=function(a){var b=a.pageX,c=g.offset(),d=g.outerWidth(!0),f=0,h=0,i=0;e.duration&&(b<c.left?b=c.left:b>d+c.left&&(b=d+c.left),i=b-c.left,f=i/d,h=.02>=f?0:f*e.duration,n&&h!==e.currentTime&&e.setCurrentTime(h),mejs.MediaFeatures.hasTouch||(k.css("left",i),l.html(mejs.Utility.secondsToTimeCode(h)),k.show()))},n=!1,o=!1;g.bind("mousedown",function(a){return 1===a.which?(n=!0,m(a),f.globalBind("mousemove.dur",function(a){m(a)}),f.globalBind("mouseup.dur",function(a){n=!1,k.hide(),f.globalUnbind(".dur")}),!1):void 0}).bind("mouseenter",function(a){o=!0,f.globalBind("mousemove.dur",function(a){m(a)}),mejs.MediaFeatures.hasTouch||k.show()}).bind("mouseleave",function(a){o=!1,n||(f.globalUnbind(".dur"),k.hide())}),e.addEventListener("progress",function(a){b.setProgressRail(a),b.setCurrentRail(a)},!1),e.addEventListener("timeupdate",function(a){b.setProgressRail(a),b.setCurrentRail(a)},!1),f.loaded=h,f.total=g,f.current=i,f.handle=j},setProgressRail:function(a){
var b=this,c=void 0!=a?a.target:b.media,d=null;c&&c.buffered&&c.buffered.length>0&&c.buffered.end&&c.duration?d=c.buffered.end(0)/c.duration:c&&void 0!=c.bytesTotal&&c.bytesTotal>0&&void 0!=c.bufferedBytes?d=c.bufferedBytes/c.bytesTotal:a&&a.lengthComputable&&0!=a.total&&(d=a.loaded/a.total),null!==d&&(d=Math.min(1,Math.max(0,d)),b.loaded&&b.total&&b.loaded.width(b.total.width()*d))},setCurrentRail:function(){var a=this;if(void 0!=a.media.currentTime&&a.media.duration&&a.total&&a.handle){var b=Math.round(a.total.width()*a.media.currentTime/a.media.duration),c=b-Math.round(a.handle.outerWidth(!0)/2);a.current.width(b),a.handle.css("left",c)}}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{duration:-1,timeAndDurationSeparator:"<span> | </span>"}),a.extend(MediaElementPlayer.prototype,{buildcurrent:function(b,c,d,e){var f=this;a('<div class="mejs-time"><span class="mejs-currenttime">'+(b.options.alwaysShowHours?"00:":"")+(b.options.showTimecodeFrameCount?"00:00:00":"00:00")+"</span></div>").appendTo(c),f.currenttime=f.controls.find(".mejs-currenttime"),e.addEventListener("timeupdate",function(){b.updateCurrent()},!1)},buildduration:function(b,c,d,e){var f=this;c.children().last().find(".mejs-currenttime").length>0?a(f.options.timeAndDurationSeparator+'<span class="mejs-duration">'+(f.options.duration>0?mejs.Utility.secondsToTimeCode(f.options.duration,f.options.alwaysShowHours||f.media.duration>3600,f.options.showTimecodeFrameCount,f.options.framesPerSecond||25):(b.options.alwaysShowHours?"00:":"")+(b.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span>").appendTo(c.find(".mejs-time")):(c.find(".mejs-currenttime").parent().addClass("mejs-currenttime-container"),a('<div class="mejs-time mejs-duration-container"><span class="mejs-duration">'+(f.options.duration>0?mejs.Utility.secondsToTimeCode(f.options.duration,f.options.alwaysShowHours||f.media.duration>3600,f.options.showTimecodeFrameCount,f.options.framesPerSecond||25):(b.options.alwaysShowHours?"00:":"")+(b.options.showTimecodeFrameCount?"00:00:00":"00:00"))+"</span></div>").appendTo(c)),f.durationD=f.controls.find(".mejs-duration"),e.addEventListener("timeupdate",function(){b.updateDuration()},!1)},updateCurrent:function(){var a=this;a.currenttime&&a.currenttime.html(mejs.Utility.secondsToTimeCode(a.media.currentTime,a.options.alwaysShowHours||a.media.duration>3600,a.options.showTimecodeFrameCount,a.options.framesPerSecond||25))},updateDuration:function(){var a=this;a.container.toggleClass("mejs-long-video",a.media.duration>3600),a.durationD&&(a.options.duration>0||a.media.duration)&&a.durationD.html(mejs.Utility.secondsToTimeCode(a.options.duration>0?a.options.duration:a.media.duration,a.options.alwaysShowHours,a.options.showTimecodeFrameCount,a.options.framesPerSecond||25))}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{muteText:mejs.i18n.t("Mute Toggle"),hideVolumeOnTouchDevices:!0,audioVolume:"horizontal",videoVolume:"vertical"}),a.extend(MediaElementPlayer.prototype,{buildvolume:function(b,c,d,e){if(!mejs.MediaFeatures.hasTouch||!this.options.hideVolumeOnTouchDevices){var f=this,g=f.isVideo?f.options.videoVolume:f.options.audioVolume,h="horizontal"==g?a('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+f.id+'" title="'+f.options.muteText+'" aria-label="'+f.options.muteText+'"></button></div><div class="mejs-horizontal-volume-slider"><div class="mejs-horizontal-volume-total"></div><div class="mejs-horizontal-volume-current"></div><div class="mejs-horizontal-volume-handle"></div></div>').appendTo(c):a('<div class="mejs-button mejs-volume-button mejs-mute"><button type="button" aria-controls="'+f.id+'" title="'+f.options.muteText+'" aria-label="'+f.options.muteText+'"></button><div class="mejs-volume-slider"><div class="mejs-volume-total"></div><div class="mejs-volume-current"></div><div class="mejs-volume-handle"></div></div></div>').appendTo(c),i=f.container.find(".mejs-volume-slider, .mejs-horizontal-volume-slider"),j=f.container.find(".mejs-volume-total, .mejs-horizontal-volume-total"),k=f.container.find(".mejs-volume-current, .mejs-horizontal-volume-current"),l=f.container.find(".mejs-volume-handle, .mejs-horizontal-volume-handle"),m=function(a,b){if(!i.is(":visible")&&"undefined"==typeof b)return i.show(),m(a,!0),void i.hide();if(a=Math.max(0,a),a=Math.min(a,1),0==a?h.removeClass("mejs-mute").addClass("mejs-unmute"):h.removeClass("mejs-unmute").addClass("mejs-mute"),"vertical"==g){var c=j.height(),d=j.position(),e=c-c*a;l.css("top",Math.round(d.top+e-l.height()/2)),k.height(c-e),k.css("top",d.top+e)}else{var f=j.width(),d=j.position(),n=f*a;l.css("left",Math.round(d.left+n-l.width()/2)),k.width(Math.round(n))}},n=function(a){var b=null,c=j.offset();if("vertical"==g){var d=j.height(),f=(parseInt(j.css("top").replace(/px/,""),10),a.pageY-c.top);if(b=(d-f)/d,0==c.top||0==c.left)return}else{var h=j.width(),i=a.pageX-c.left;b=i/h}b=Math.max(0,b),b=Math.min(b,1),m(b),0==b?e.setMuted(!0):e.setMuted(!1),e.setVolume(b)},o=!1,p=!1;h.hover(function(){i.show(),p=!0},function(){p=!1,o||"vertical"!=g||i.hide()}),i.bind("mouseover",function(){p=!0}).bind("mousedown",function(a){return n(a),f.globalBind("mousemove.vol",function(a){n(a)}),f.globalBind("mouseup.vol",function(){o=!1,f.globalUnbind(".vol"),p||"vertical"!=g||i.hide()}),o=!0,!1}),h.find("button").click(function(){e.setMuted(!e.muted)}),e.addEventListener("volumechange",function(a){o||(e.muted?(m(0),h.removeClass("mejs-mute").addClass("mejs-unmute")):(m(e.volume),h.removeClass("mejs-unmute").addClass("mejs-mute")))},!1),f.container.is(":visible")&&(m(b.options.startVolume),0===b.options.startVolume&&e.setMuted(!0),"native"===e.pluginType&&e.setVolume(b.options.startVolume))}}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{usePluginFullScreen:!0,newWindowCallback:function(){return""},fullscreenText:mejs.i18n.t("Fullscreen")}),a.extend(MediaElementPlayer.prototype,{isFullScreen:!1,isNativeFullScreen:!1,isInIframe:!1,buildfullscreen:function(b,c,d,e){if(b.isVideo){if(b.isInIframe=window.location!=window.parent.location,mejs.MediaFeatures.hasTrueNativeFullScreen){var f=function(a){b.isFullScreen&&(mejs.MediaFeatures.isFullScreen()?(b.isNativeFullScreen=!0,b.setControlsSize()):(b.isNativeFullScreen=!1,b.exitFullScreen()))};mejs.MediaFeatures.hasMozNativeFullScreen?b.globalBind(mejs.MediaFeatures.fullScreenEventName,f):b.container.bind(mejs.MediaFeatures.fullScreenEventName,f)}var g=this,h=(b.container,a('<div class="mejs-button mejs-fullscreen-button"><button type="button" aria-controls="'+g.id+'" title="'+g.options.fullscreenText+'" aria-label="'+g.options.fullscreenText+'"></button></div>').appendTo(c));if("native"===g.media.pluginType||!g.options.usePluginFullScreen&&!mejs.MediaFeatures.isFirefox)h.click(function(){var a=mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||b.isFullScreen;a?b.exitFullScreen():b.enterFullScreen()});else{var i=null,j=function(){var a,b=document.createElement("x"),c=document.documentElement,d=window.getComputedStyle;return"pointerEvents"in b.style?(b.style.pointerEvents="auto",b.style.pointerEvents="x",c.appendChild(b),a=d&&"auto"===d(b,"").pointerEvents,c.removeChild(b),!!a):!1}();if(j&&!mejs.MediaFeatures.isOpera){var k,l,m=!1,n=function(){if(m){for(var a in o)o[a].hide();h.css("pointer-events",""),g.controls.css("pointer-events",""),g.media.removeEventListener("click",g.clickToPlayPauseCallback),m=!1}},o={},p=["top","left","right","bottom"],q=function(){var a=h.offset().left-g.container.offset().left,b=h.offset().top-g.container.offset().top,c=h.outerWidth(!0),d=h.outerHeight(!0),e=g.container.width(),f=g.container.height();for(k in o)o[k].css({position:"absolute",top:0,left:0});o.top.width(e).height(b),o.left.width(a).height(d).css({top:b}),o.right.width(e-a-c).height(d).css({top:b,left:a+c}),o.bottom.width(e).height(f-d-b).css({top:b+d})};for(g.globalBind("resize",function(){q()}),k=0,l=p.length;l>k;k++)o[p[k]]=a('<div class="mejs-fullscreen-hover" />').appendTo(g.container).mouseover(n).hide();h.on("mouseover",function(){if(!g.isFullScreen){var a=h.offset(),c=b.container.offset();e.positionFullscreenButton(a.left-c.left,a.top-c.top,!1),h.css("pointer-events","none"),g.controls.css("pointer-events","none"),g.media.addEventListener("click",g.clickToPlayPauseCallback);for(k in o)o[k].show();q(),m=!0}}),e.addEventListener("fullscreenchange",function(a){g.isFullScreen=!g.isFullScreen,g.isFullScreen?g.media.removeEventListener("click",g.clickToPlayPauseCallback):g.media.addEventListener("click",g.clickToPlayPauseCallback),n()}),g.globalBind("mousemove",function(a){if(m){var b=h.offset();(a.pageY<b.top||a.pageY>b.top+h.outerHeight(!0)||a.pageX<b.left||a.pageX>b.left+h.outerWidth(!0))&&(h.css("pointer-events",""),g.controls.css("pointer-events",""),m=!1)}})}else h.on("mouseover",function(){null!==i&&(clearTimeout(i),delete i);var a=h.offset(),c=b.container.offset();e.positionFullscreenButton(a.left-c.left,a.top-c.top,!0)}).on("mouseout",function(){null!==i&&(clearTimeout(i),delete i),i=setTimeout(function(){e.hideFullscreenButton()},1500)})}b.fullscreenBtn=h,g.globalBind("keydown",function(a){(mejs.MediaFeatures.hasTrueNativeFullScreen&&mejs.MediaFeatures.isFullScreen()||g.isFullScreen)&&27==a.keyCode&&b.exitFullScreen()})}},cleanfullscreen:function(a){a.exitFullScreen()},containerSizeTimeout:null,enterFullScreen:function(){var b=this;if("native"===b.media.pluginType||!mejs.MediaFeatures.isFirefox&&!b.options.usePluginFullScreen){if(a(document.documentElement).addClass("mejs-fullscreen"),normalHeight=b.container.height(),normalWidth=b.container.width(),"native"===b.media.pluginType)if(mejs.MediaFeatures.hasTrueNativeFullScreen)mejs.MediaFeatures.requestFullScreen(b.container[0]),b.isInIframe&&setTimeout(function d(){b.isNativeFullScreen&&(a(window).width()!==screen.width?b.exitFullScreen():setTimeout(d,500))},500);else if(mejs.MediaFeatures.hasSemiNativeFullScreen)return void b.media.webkitEnterFullscreen();if(b.isInIframe){var c=b.options.newWindowCallback(this);if(""!==c){if(!mejs.MediaFeatures.hasTrueNativeFullScreen)return b.pause(),void window.open(c,b.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no");setTimeout(function(){b.isNativeFullScreen||(b.pause(),window.open(c,b.id,"top=0,left=0,width="+screen.availWidth+",height="+screen.availHeight+",resizable=yes,scrollbars=no,status=no,toolbar=no"))},250)}}b.container.addClass("mejs-container-fullscreen").width("100%").height("100%"),b.containerSizeTimeout=setTimeout(function(){b.container.css({width:"100%",height:"100%"}),b.setControlsSize()},500),"native"===b.media.pluginType?b.$media.width("100%").height("100%"):(b.container.find(".mejs-shim").width("100%").height("100%"),b.media.setVideoSize(a(window).width(),a(window).height())),b.layers.children("div").width("100%").height("100%"),b.fullscreenBtn&&b.fullscreenBtn.removeClass("mejs-fullscreen").addClass("mejs-unfullscreen"),b.setControlsSize(),b.isFullScreen=!0,a(window).trigger("resize")}},exitFullScreen:function(){var b=this;return clearTimeout(b.containerSizeTimeout),"native"!==b.media.pluginType&&mejs.MediaFeatures.isFirefox?void b.media.setFullscreen(!1):(mejs.MediaFeatures.hasTrueNativeFullScreen&&(mejs.MediaFeatures.isFullScreen()||b.isFullScreen)&&mejs.MediaFeatures.cancelFullScreen(),a(document.documentElement).removeClass("mejs-fullscreen"),b.container.removeClass("mejs-container-fullscreen").width(normalWidth).height(normalHeight),"native"===b.media.pluginType?b.$media.width(normalWidth).height(normalHeight):(b.container.find(".mejs-shim").width(normalWidth).height(normalHeight),b.media.setVideoSize(normalWidth,normalHeight)),b.layers.children("div").width(normalWidth).height(normalHeight),b.fullscreenBtn.removeClass("mejs-unfullscreen").addClass("mejs-fullscreen"),b.setControlsSize(),b.isFullScreen=!1,void a(window).trigger("resize"))}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{startLanguage:"",tracksText:mejs.i18n.t("Captions/Subtitles"),hideCaptionsButtonWhenEmpty:!0,toggleCaptionsButtonWhenOnlyOne:!1,slidesSelector:""}),a.extend(MediaElementPlayer.prototype,{hasChapters:!1,buildtracks:function(b,c,d,e){if(0!=b.tracks.length){var f,g=this;if(g.domNode.textTracks)for(var f=g.domNode.textTracks.length-1;f>=0;f--)g.domNode.textTracks[f].mode="hidden";b.chapters=a('<div class="mejs-chapters mejs-layer"></div>').prependTo(d).hide(),b.captions=a('<div class="mejs-captions-layer mejs-layer"><div class="mejs-captions-position mejs-captions-position-hover"><span class="mejs-captions-text"></span></div></div>').prependTo(d).hide(),b.captionsText=b.captions.find(".mejs-captions-text"),b.captionsButton=a('<div class="mejs-button mejs-captions-button"><button type="button" aria-controls="'+g.id+'" title="'+g.options.tracksText+'" aria-label="'+g.options.tracksText+'"></button><div class="mejs-captions-selector"><ul><li><input type="radio" name="'+b.id+'_captions" id="'+b.id+'_captions_none" value="none" checked="checked" /><label for="'+b.id+'_captions_none">'+mejs.i18n.t("None")+"</label></li></ul></div></div>").appendTo(c);var h=0;for(f=0;f<b.tracks.length;f++)"subtitles"==b.tracks[f].kind&&h++;for(g.options.toggleCaptionsButtonWhenOnlyOne&&1==h?b.captionsButton.on("click",function(){if(null==b.selectedTrack)var a=b.tracks[0].srclang;else var a="none";b.setTrack(a)}):b.captionsButton.hover(function(){a(this).find(".mejs-captions-selector").css("visibility","visible")},function(){a(this).find(".mejs-captions-selector").css("visibility","hidden")}).on("click","input[type=radio]",function(){lang=this.value,b.setTrack(lang)}),b.options.alwaysShowControls?b.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover"):b.container.bind("controlsshown",function(){b.container.find(".mejs-captions-position").addClass("mejs-captions-position-hover")}).bind("controlshidden",function(){e.paused||b.container.find(".mejs-captions-position").removeClass("mejs-captions-position-hover")}),b.trackToLoad=-1,b.selectedTrack=null,b.isLoadingTrack=!1,f=0;f<b.tracks.length;f++)"subtitles"==b.tracks[f].kind&&b.addTrackButton(b.tracks[f].srclang,b.tracks[f].label);b.loadNextTrack(),e.addEventListener("timeupdate",function(a){b.displayCaptions()},!1),""!=b.options.slidesSelector&&(b.slidesContainer=a(b.options.slidesSelector),e.addEventListener("timeupdate",function(a){b.displaySlides()},!1)),e.addEventListener("loadedmetadata",function(a){b.displayChapters()},!1),b.container.hover(function(){b.hasChapters&&(b.chapters.css("visibility","visible"),b.chapters.fadeIn(200).height(b.chapters.find(".mejs-chapter").outerHeight()))},function(){b.hasChapters&&!e.paused&&b.chapters.fadeOut(200,function(){a(this).css("visibility","hidden"),a(this).css("display","block")})}),null!==b.node.getAttribute("autoplay")&&b.chapters.css("visibility","hidden")}},setTrack:function(a){var b,c=this;if("none"==a)c.selectedTrack=null,c.captionsButton.removeClass("mejs-captions-enabled");else for(b=0;b<c.tracks.length;b++)if(c.tracks[b].srclang==a){null==c.selectedTrack&&c.captionsButton.addClass("mejs-captions-enabled"),c.selectedTrack=c.tracks[b],c.captions.attr("lang",c.selectedTrack.srclang),c.displayCaptions();break}},loadNextTrack:function(){var a=this;a.trackToLoad++,a.trackToLoad<a.tracks.length?(a.isLoadingTrack=!0,a.loadTrack(a.trackToLoad)):(a.isLoadingTrack=!1,a.checkForTracks())},loadTrack:function(b){var c=this,d=c.tracks[b],e=function(){d.isLoaded=!0,c.enableTrackButton(d.srclang,d.label),c.loadNextTrack()};void 0!=d.src&&""!=d.src&&a.ajax({url:d.src,dataType:"text",success:function(a){"string"==typeof a&&/<tt\s+xml/gi.exec(a)?d.entries=mejs.TrackFormatParser.dfxp.parse(a):d.entries=mejs.TrackFormatParser.webvvt.parse(a),e(),"chapters"==d.kind&&c.media.addEventListener("play",function(a){c.media.duration>0&&c.displayChapters(d)},!1),"slides"==d.kind&&c.setupSlides(d)},error:function(){c.loadNextTrack()}})},enableTrackButton:function(b,c){var d=this;""===c&&(c=mejs.language.codes[b]||b),d.captionsButton.find("input[value="+b+"]").prop("disabled",!1).siblings("label").html(c),d.options.startLanguage==b&&a("#"+d.id+"_captions_"+b).click(),d.adjustLanguageBox()},addTrackButton:function(b,c){var d=this;""===c&&(c=mejs.language.codes[b]||b),d.captionsButton.find("ul").append(a('<li><input type="radio" name="'+d.id+'_captions" id="'+d.id+"_captions_"+b+'" value="'+b+'" disabled="disabled" /><label for="'+d.id+"_captions_"+b+'">'+c+" (loading)</label></li>")),d.adjustLanguageBox(),d.container.find(".mejs-captions-translations option[value="+b+"]").remove()},adjustLanguageBox:function(){var a=this;a.captionsButton.find(".mejs-captions-selector").height(a.captionsButton.find(".mejs-captions-selector ul").outerHeight(!0)+a.captionsButton.find(".mejs-captions-translations").outerHeight(!0))},checkForTracks:function(){var a=this,b=!1;if(a.options.hideCaptionsButtonWhenEmpty){for(i=0;i<a.tracks.length;i++)if("subtitles"==a.tracks[i].kind){b=!0;break}b||(a.captionsButton.hide(),a.setControlsSize())}},displayCaptions:function(){if("undefined"!=typeof this.tracks){var a,b=this,c=b.selectedTrack;if(null!=c&&c.isLoaded){for(a=0;a<c.entries.times.length;a++)if(b.media.currentTime>=c.entries.times[a].start&&b.media.currentTime<=c.entries.times[a].stop)return b.captionsText.html(c.entries.text[a]),void b.captions.show().height(0);b.captions.hide()}else b.captions.hide()}},setupSlides:function(a){var b=this;b.slides=a,b.slides.entries.imgs=[b.slides.entries.text.length],b.showSlide(0)},showSlide:function(b){if("undefined"!=typeof this.tracks&&"undefined"!=typeof this.slidesContainer){var c=this,d=c.slides.entries.text[b],e=c.slides.entries.imgs[b];"undefined"==typeof e||"undefined"==typeof e.fadeIn?c.slides.entries.imgs[b]=e=a('<img src="'+d+'">').on("load",function(){e.appendTo(c.slidesContainer).hide().fadeIn().siblings(":visible").fadeOut()}):e.is(":visible")||e.is(":animated")||e.fadeIn().siblings(":visible").fadeOut()}},displaySlides:function(){if("undefined"!=typeof this.slides){var a,b=this,c=b.slides;for(a=0;a<c.entries.times.length;a++)if(b.media.currentTime>=c.entries.times[a].start&&b.media.currentTime<=c.entries.times[a].stop)return void b.showSlide(a)}},displayChapters:function(){var a,b=this;for(a=0;a<b.tracks.length;a++)if("chapters"==b.tracks[a].kind&&b.tracks[a].isLoaded){b.drawChapters(b.tracks[a]),b.hasChapters=!0;break}},drawChapters:function(b){var c,d,e=this,f=0,g=0;for(e.chapters.empty(),c=0;c<b.entries.times.length;c++)d=b.entries.times[c].stop-b.entries.times[c].start,f=Math.floor(d/e.media.duration*100),(f+g>100||c==b.entries.times.length-1&&100>f+g)&&(f=100-g),e.chapters.append(a('<div class="mejs-chapter" rel="'+b.entries.times[c].start+'" style="left: '+g.toString()+"%;width: "+f.toString()+'%;"><div class="mejs-chapter-block'+(c==b.entries.times.length-1?" mejs-chapter-block-last":"")+'"><span class="ch-title">'+b.entries.text[c]+'</span><span class="ch-time">'+mejs.Utility.secondsToTimeCode(b.entries.times[c].start)+"&ndash;"+mejs.Utility.secondsToTimeCode(b.entries.times[c].stop)+"</span></div></div>")),g+=f;e.chapters.find("div.mejs-chapter").click(function(){e.media.setCurrentTime(parseFloat(a(this).attr("rel"))),e.media.paused&&e.media.play()}),e.chapters.show()}}),mejs.language={codes:{af:"Afrikaans",sq:"Albanian",ar:"Arabic",be:"Belarusian",bg:"Bulgarian",ca:"Catalan",zh:"Chinese","zh-cn":"Chinese Simplified","zh-tw":"Chinese Traditional",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch",en:"English",et:"Estonian",tl:"Filipino",fi:"Finnish",fr:"French",gl:"Galician",de:"German",el:"Greek",ht:"Haitian Creole",iw:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",ga:"Irish",it:"Italian",ja:"Japanese",ko:"Korean",lv:"Latvian",lt:"Lithuanian",mk:"Macedonian",ms:"Malay",mt:"Maltese",no:"Norwegian",fa:"Persian",pl:"Polish",pt:"Portuguese",ro:"Romanian",ru:"Russian",sr:"Serbian",sk:"Slovak",sl:"Slovenian",es:"Spanish",sw:"Swahili",sv:"Swedish",tl:"Tagalog",th:"Thai",tr:"Turkish",uk:"Ukrainian",vi:"Vietnamese",cy:"Welsh",yi:"Yiddish"}},mejs.TrackFormatParser={webvvt:{pattern_identifier:/^([a-zA-z]+-)?[0-9]+$/,pattern_timecode:/^([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{1,3})?) --\> ([0-9]{2}:[0-9]{2}:[0-9]{2}([,.][0-9]{3})?)(.*)$/,parse:function(b){for(var c,d,e=0,f=mejs.TrackFormatParser.split2(b,/\r?\n/),g={text:[],times:[]};e<f.length;e++)if(this.pattern_identifier.exec(f[e])&&(e++,c=this.pattern_timecode.exec(f[e]),c&&e<f.length)){for(e++,d=f[e],e++;""!==f[e]&&e<f.length;)d=d+"\n"+f[e],e++;d=a.trim(d).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),g.text.push(d),g.times.push({start:0==mejs.Utility.convertSMPTEtoSeconds(c[1])?.2:mejs.Utility.convertSMPTEtoSeconds(c[1]),stop:mejs.Utility.convertSMPTEtoSeconds(c[3]),settings:c[5]})}return g}},dfxp:{parse:function(b){b=a(b).filter("tt");var c,d,e=0,f=b.children("div").eq(0),g=f.find("p"),h=b.find("#"+f.attr("style")),i={text:[],times:[]};if(h.length){var j=h.removeAttr("id").get(0).attributes;if(j.length)for(c={},e=0;e<j.length;e++)c[j[e].name.split(":")[1]]=j[e].value}for(e=0;e<g.length;e++){var k,l={start:null,stop:null,style:null};if(g.eq(e).attr("begin")&&(l.start=mejs.Utility.convertSMPTEtoSeconds(g.eq(e).attr("begin"))),!l.start&&g.eq(e-1).attr("end")&&(l.start=mejs.Utility.convertSMPTEtoSeconds(g.eq(e-1).attr("end"))),g.eq(e).attr("end")&&(l.stop=mejs.Utility.convertSMPTEtoSeconds(g.eq(e).attr("end"))),!l.stop&&g.eq(e+1).attr("begin")&&(l.stop=mejs.Utility.convertSMPTEtoSeconds(g.eq(e+1).attr("begin"))),c){k="";for(var m in c)k+=m+":"+c[m]+";"}k&&(l.style=k),0==l.start&&(l.start=.2),i.times.push(l),d=a.trim(g.eq(e).html()).replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/gi,"<a href='$1' target='_blank'>$1</a>"),i.text.push(d),0==i.times.start&&(i.times.start=2)}return i}},split2:function(a,b){return a.split(b)}},3!="x\n\ny".split(/\n/gi).length&&(mejs.TrackFormatParser.split2=function(a,b){var c,d=[],e="";for(c=0;c<a.length;c++)e+=a.substring(c,c+1),b.test(e)&&(d.push(e.replace(b,"")),e="");return d.push(e),d})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{contextMenuItems:[{render:function(a){return"undefined"==typeof a.enterFullScreen?null:a.isFullScreen?mejs.i18n.t("Turn off Fullscreen"):mejs.i18n.t("Go Fullscreen")},click:function(a){a.isFullScreen?a.exitFullScreen():a.enterFullScreen()}},{render:function(a){return a.media.muted?mejs.i18n.t("Unmute"):mejs.i18n.t("Mute")},click:function(a){a.media.muted?a.setMuted(!1):a.setMuted(!0)}},{isSeparator:!0},{render:function(a){return mejs.i18n.t("Download Video")},click:function(a){window.location.href=a.media.currentSrc}}]}),a.extend(MediaElementPlayer.prototype,{buildcontextmenu:function(b,c,d,e){b.contextMenu=a('<div class="mejs-contextmenu"></div>').appendTo(a("body")).hide(),b.container.bind("contextmenu",function(a){return b.isContextMenuEnabled?(a.preventDefault(),b.renderContextMenu(a.clientX-1,a.clientY-1),!1):void 0}),b.container.bind("click",function(){b.contextMenu.hide()}),b.contextMenu.bind("mouseleave",function(){b.startContextMenuTimer()})},cleancontextmenu:function(a){a.contextMenu.remove()},isContextMenuEnabled:!0,enableContextMenu:function(){this.isContextMenuEnabled=!0},disableContextMenu:function(){this.isContextMenuEnabled=!1},contextMenuTimeout:null,startContextMenuTimer:function(){var a=this;a.killContextMenuTimer(),a.contextMenuTimer=setTimeout(function(){a.hideContextMenu(),a.killContextMenuTimer()},750)},killContextMenuTimer:function(){var a=this.contextMenuTimer;null!=a&&(clearTimeout(a),delete a,a=null)},hideContextMenu:function(){this.contextMenu.hide()},renderContextMenu:function(b,c){for(var d=this,e="",f=d.options.contextMenuItems,g=0,h=f.length;h>g;g++)if(f[g].isSeparator)e+='<div class="mejs-contextmenu-separator"></div>';else{var i=f[g].render(d);null!=i&&(e+='<div class="mejs-contextmenu-item" data-itemindex="'+g+'" id="element-'+1e6*Math.random()+'">'+i+"</div>")}d.contextMenu.empty().append(a(e)).css({top:c,left:b}).show(),d.contextMenu.find(".mejs-contextmenu-item").each(function(){var b=a(this),c=parseInt(b.data("itemindex"),10),e=d.options.contextMenuItems[c];"undefined"!=typeof e.show&&e.show(b,d),b.click(function(){"undefined"!=typeof e.click&&e.click(d),d.contextMenu.hide()})}),setTimeout(function(){d.killControlsTimer("rev3")},100)}})}(mejs.$),function(a){a.extend(mejs.MepDefaults,{postrollCloseText:mejs.i18n.t("Close")}),a.extend(MediaElementPlayer.prototype,{buildpostroll:function(b,c,d,e){var f=this,g=f.container.find('link[rel="postroll"]').attr("href");"undefined"!=typeof g&&(b.postroll=a('<div class="mejs-postroll-layer mejs-layer"><a class="mejs-postroll-close" onclick="$(this).parent().hide();return false;">'+f.options.postrollCloseText+'</a><div class="mejs-postroll-layer-content"></div></div>').prependTo(d).hide(),f.media.addEventListener("ended",function(c){a.ajax({dataType:"html",url:g,success:function(a,b){d.find(".mejs-postroll-layer-content").html(a)}}),b.postroll.show()},!1))}})}(mejs.$),!function(a){"function"==typeof define&&define.amd?define([],a):"object"==typeof exports?module.exports=a():window.noUiSlider=a()}(function(){"use strict";function a(a){a.parentElement.removeChild(a)}function b(a){return null!=a}function c(a){a.preventDefault()}function d(a){return"number"==typeof a&&!isNaN(a)&&isFinite(a)}function e(a,b,c){c>0&&(i(a,b),setTimeout(function(){j(a,b)},c))}function f(a){return Math.max(Math.min(a,100),0)}function g(a){return Array.isArray(a)?a:[a]}function h(a){var b=(a=String(a)).split(".");return 1<b.length?b[1].length:0}function i(a,b){a.classList?a.classList.add(b):a.className+=" "+b}function j(a,b){a.classList?a.classList.remove(b):a.className=a.className.replace(new RegExp("(^|\\b)"+b.split(" ").join("|")+"(\\b|$)","gi")," ")}function k(a){var b=void 0!==window.pageXOffset,c="CSS1Compat"===(a.compatMode||"");return{x:b?window.pageXOffset:c?a.documentElement.scrollLeft:a.body.scrollLeft,y:b?window.pageYOffset:c?a.documentElement.scrollTop:a.body.scrollTop}}function l(a,b){return 100/(b-a)}function m(a,b){return 100*b/(a[1]-a[0])}function n(a,b){for(var c=1;a>=b[c];)c+=1;return c}function o(a,b,c){if(c>=a.slice(-1)[0])return 100;var d,e,f=n(c,a),g=a[f-1],h=a[f],i=b[f-1],j=b[f];return i+(e=c,m(d=[g,h],d[0]<0?e+Math.abs(d[0]):e-d[0])/l(i,j))}function p(a,b,c,d){if(100===d)return d;var e,f,g=n(d,a),h=a[g-1],i=a[g];return c?d-h>(i-h)/2?i:h:b[g-1]?a[g-1]+(e=d-a[g-1],f=b[g-1],Math.round(e/f)*f):d}function q(a,b,c){var e;if("number"==typeof b&&(b=[b]),!Array.isArray(b))throw new Error("noUiSlider ("+Q+"): 'range' contains invalid value.");if(!d(e="min"===a?0:"max"===a?100:parseFloat(a))||!d(b[0]))throw new Error("noUiSlider ("+Q+"): 'range' value isn't numeric.");c.xPct.push(e),c.xVal.push(b[0]),e?c.xSteps.push(!isNaN(b[1])&&b[1]):isNaN(b[1])||(c.xSteps[0]=b[1]),c.xHighestCompleteStep.push(0)}function r(a,b,c){if(b)if(c.xVal[a]!==c.xVal[a+1]){c.xSteps[a]=m([c.xVal[a],c.xVal[a+1]],b)/l(c.xPct[a],c.xPct[a+1]);var d=(c.xVal[a+1]-c.xVal[a])/c.xNumSteps[a],e=Math.ceil(Number(d.toFixed(3))-1),f=c.xVal[a]+c.xNumSteps[a]*e;c.xHighestCompleteStep[a]=f}else c.xSteps[a]=c.xHighestCompleteStep[a]=c.xVal[a]}function s(a,b,c){var d;this.xPct=[],this.xVal=[],this.xSteps=[c||!1],this.xNumSteps=[!1],this.xHighestCompleteStep=[],this.snap=b;var e=[];for(d in a)a.hasOwnProperty(d)&&e.push([a[d],d]);for(e.length&&"object"==typeof e[0][0]?e.sort(function(a,b){return a[0][0]-b[0][0]}):e.sort(function(a,b){return a[0]-b[0]}),d=0;d<e.length;d++)q(e[d][1],e[d][0],this);for(this.xNumSteps=this.xSteps.slice(0),d=0;d<this.xNumSteps.length;d++)r(d,this.xNumSteps[d],this)}function t(a){if("object"==typeof(b=a)&&"function"==typeof b.to&&"function"==typeof b.from)return!0;var b;throw new Error("noUiSlider ("+Q+"): 'format' requires 'to' and 'from' methods.")}function u(a,b){if(!d(b))throw new Error("noUiSlider ("+Q+"): 'step' is not numeric.");a.singleStep=b}function v(a,b){if("object"!=typeof b||Array.isArray(b))throw new Error("noUiSlider ("+Q+"): 'range' is not an object.");if(void 0===b.min||void 0===b.max)throw new Error("noUiSlider ("+Q+"): Missing 'min' or 'max' in 'range'.");if(b.min===b.max)throw new Error("noUiSlider ("+Q+"): 'range' 'min' and 'max' cannot be equal.");a.spectrum=new s(b,a.snap,a.singleStep)}function w(a,b){if(b=g(b),!Array.isArray(b)||!b.length)throw new Error("noUiSlider ("+Q+"): 'start' option is incorrect.");a.handles=b.length,a.start=b}function x(a,b){if("boolean"!=typeof(a.snap=b))throw new Error("noUiSlider ("+Q+"): 'snap' option must be a boolean.")}function y(a,b){if("boolean"!=typeof(a.animate=b))throw new Error("noUiSlider ("+Q+"): 'animate' option must be a boolean.")}function z(a,b){if("number"!=typeof(a.animationDuration=b))throw new Error("noUiSlider ("+Q+"): 'animationDuration' option must be a number.")}function A(a,b){var c,d=[!1];if("lower"===b?b=[!0,!1]:"upper"===b&&(b=[!1,!0]),!0===b||!1===b){for(c=1;c<a.handles;c++)d.push(b);d.push(!1)}else{if(!Array.isArray(b)||!b.length||b.length!==a.handles+1)throw new Error("noUiSlider ("+Q+"): 'connect' option doesn't match handle count.");d=b}a.connect=d}function B(a,b){switch(b){case"horizontal":a.ort=0;break;case"vertical":a.ort=1;break;default:throw new Error("noUiSlider ("+Q+"): 'orientation' option is invalid.")}}function C(a,b){if(!d(b))throw new Error("noUiSlider ("+Q+"): 'margin' option must be numeric.");if(0!==b&&(a.margin=a.spectrum.getMargin(b),!a.margin))throw new Error("noUiSlider ("+Q+"): 'margin' option is only supported on linear sliders.")}function D(a,b){if(!d(b))throw new Error("noUiSlider ("+Q+"): 'limit' option must be numeric.");if(a.limit=a.spectrum.getMargin(b),!a.limit||a.handles<2)throw new Error("noUiSlider ("+Q+"): 'limit' option is only supported on linear sliders with 2 or more handles.")}function E(a,b){if(!d(b)&&!Array.isArray(b))throw new Error("noUiSlider ("+Q+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(Array.isArray(b)&&2!==b.length&&!d(b[0])&&!d(b[1]))throw new Error("noUiSlider ("+Q+"): 'padding' option must be numeric or array of exactly 2 numbers.");if(0!==b){if(Array.isArray(b)||(b=[b,b]),!(a.padding=[a.spectrum.getMargin(b[0]),a.spectrum.getMargin(b[1])])===a.padding[0]||!1===a.padding[1])throw new Error("noUiSlider ("+Q+"): 'padding' option is only supported on linear sliders.");if(a.padding[0]<0||a.padding[1]<0)throw new Error("noUiSlider ("+Q+"): 'padding' option must be a positive number(s).");if(100<a.padding[0]+a.padding[1])throw new Error("noUiSlider ("+Q+"): 'padding' option must not exceed 100% of the range.")}}function F(a,b){switch(b){case"ltr":a.dir=0;break;case"rtl":a.dir=1;break;default:throw new Error("noUiSlider ("+Q+"): 'direction' option was not recognized.")}}function G(a,b){if("string"!=typeof b)throw new Error("noUiSlider ("+Q+"): 'behaviour' must be a string containing options.");var c=0<=b.indexOf("tap"),d=0<=b.indexOf("drag"),e=0<=b.indexOf("fixed"),f=0<=b.indexOf("snap"),g=0<=b.indexOf("hover"),h=0<=b.indexOf("unconstrained");if(e){if(2!==a.handles)throw new Error("noUiSlider ("+Q+"): 'fixed' behaviour must be used with 2 handles");C(a,a.start[1]-a.start[0])}if(h&&(a.margin||a.limit))throw new Error("noUiSlider ("+Q+"): 'unconstrained' behaviour cannot be used with margin or limit");a.events={tap:c||f,drag:d,fixed:e,snap:f,hover:g,unconstrained:h}}function H(a,b){if(!1!==b)if(!0===b){a.tooltips=[];for(var c=0;c<a.handles;c++)a.tooltips.push(!0)}else{if(a.tooltips=g(b),a.tooltips.length!==a.handles)throw new Error("noUiSlider ("+Q+"): must pass a formatter for all handles.");a.tooltips.forEach(function(a){if("boolean"!=typeof a&&("object"!=typeof a||"function"!=typeof a.to))throw new Error("noUiSlider ("+Q+"): 'tooltips' must be passed a formatter or 'false'.")})}}function I(a,b){t(a.ariaFormat=b)}function J(a,b){t(a.format=b)}function K(a,b){
if("boolean"!=typeof(a.keyboardSupport=b))throw new Error("noUiSlider ("+Q+"): 'keyboardSupport' option must be a boolean.")}function L(a,b){a.documentElement=b}function M(a,b){if("string"!=typeof b&&!1!==b)throw new Error("noUiSlider ("+Q+"): 'cssPrefix' must be a string or `false`.");a.cssPrefix=b}function N(a,b){if("object"!=typeof b)throw new Error("noUiSlider ("+Q+"): 'cssClasses' must be an object.");if("string"==typeof a.cssPrefix)for(var c in a.cssClasses={},b)b.hasOwnProperty(c)&&(a.cssClasses[c]=a.cssPrefix+b[c]);else a.cssClasses=b}function O(a){var c={margin:0,limit:0,padding:0,animate:!0,animationDuration:300,ariaFormat:R,format:R},d={step:{r:!1,t:u},start:{r:!0,t:w},connect:{r:!0,t:A},direction:{r:!0,t:F},snap:{r:!1,t:x},animate:{r:!1,t:y},animationDuration:{r:!1,t:z},range:{r:!0,t:v},orientation:{r:!1,t:B},margin:{r:!1,t:C},limit:{r:!1,t:D},padding:{r:!1,t:E},behaviour:{r:!0,t:G},ariaFormat:{r:!1,t:I},format:{r:!1,t:J},tooltips:{r:!1,t:H},keyboardSupport:{r:!0,t:K},documentElement:{r:!1,t:L},cssPrefix:{r:!0,t:M},cssClasses:{r:!0,t:N}},e={connect:!1,direction:"ltr",behaviour:"tap",orientation:"horizontal",keyboardSupport:!0,cssPrefix:"noUi-",cssClasses:{target:"target",base:"base",origin:"origin",handle:"handle",handleLower:"handle-lower",handleUpper:"handle-upper",touchArea:"touch-area",horizontal:"horizontal",vertical:"vertical",background:"background",connect:"connect",connects:"connects",ltr:"ltr",rtl:"rtl",draggable:"draggable",drag:"state-drag",tap:"state-tap",active:"active",tooltip:"tooltip",pips:"pips",pipsHorizontal:"pips-horizontal",pipsVertical:"pips-vertical",marker:"marker",markerHorizontal:"marker-horizontal",markerVertical:"marker-vertical",markerNormal:"marker-normal",markerLarge:"marker-large",markerSub:"marker-sub",value:"value",valueHorizontal:"value-horizontal",valueVertical:"value-vertical",valueNormal:"value-normal",valueLarge:"value-large",valueSub:"value-sub"}};a.format&&!a.ariaFormat&&(a.ariaFormat=a.format),Object.keys(d).forEach(function(f){if(!b(a[f])&&void 0===e[f]){if(d[f].r)throw new Error("noUiSlider ("+Q+"): '"+f+"' is required.");return!0}d[f].t(c,b(a[f])?a[f]:e[f])}),c.pips=a.pips;var f=document.createElement("div"),g=void 0!==f.style.msTransform,h=void 0!==f.style.transform;return c.transformRule=h?"transform":g?"msTransform":"webkitTransform",c.style=[["left","top"],["right","bottom"]][c.dir][c.ort],c}function P(b,d,h){function l(a,b){var c=ka.createElement("div");return b&&i(c,b),a.appendChild(c),c}function m(a,b){var c=l(a,d.cssClasses.origin),e=l(c,d.cssClasses.handle);return l(e,d.cssClasses.touchArea),e.setAttribute("data-handle",b),d.keyboardSupport&&(e.setAttribute("tabindex","0"),e.addEventListener("keydown",function(a){return function(a,b){if(p()||q(b))return!1;var c=["Left","Right"],e=["Down","Up"];d.dir&&!d.ort?c.reverse():d.ort&&!d.dir&&e.reverse();var f=a.key.replace("Arrow",""),g=f===e[0]||f===c[0],h=f===e[1]||f===c[1];if(!g&&!h)return!0;a.preventDefault();var i=g?0:1,j=U(b)[i];return null===j?!1:(!1===j&&(j=ea.getDefaultStep(ga[b],g,10)),j=Math.max(j,1e-7),j*=g?-1:1,N(b,ea.toStepping(fa[b]+j),!0,!0),H("slide",b),H("update",b),H("change",b),H("set",b),!1)}(a,b)})),e.setAttribute("role","slider"),e.setAttribute("aria-orientation",d.ort?"vertical":"horizontal"),0===b?i(e,d.cssClasses.handleLower):b===d.handles-1&&i(e,d.cssClasses.handleUpper),c}function n(a,b){return!!b&&l(a,d.cssClasses.connect)}function o(a,b){return!!d.tooltips[b]&&l(a.firstChild,d.cssClasses.tooltip)}function p(){return da.hasAttribute("disabled")}function q(a){return W[a].hasAttribute("disabled")}function r(){Z&&(G("update.tooltips"),Z.forEach(function(b){b&&a(b)}),Z=null)}function s(){r(),Z=W.map(o),F("update.tooltips",function(a,b,c){if(Z[b]){var e=a[b];!0!==d.tooltips[b]&&(e=d.tooltips[b].to(c[b])),Z[b].innerHTML=e}})}function t(a,b,c){function e(a,b){var c=b===d.cssClasses.value,e=c?g:h;return b+" "+(c?j:k)[d.ort]+" "+e[a]}var f=ka.createElement("div"),g=[];g[oa]=d.cssClasses.valueNormal,g[pa]=d.cssClasses.valueLarge,g[qa]=d.cssClasses.valueSub;var h=[];h[oa]=d.cssClasses.markerNormal,h[pa]=d.cssClasses.markerLarge,h[qa]=d.cssClasses.markerSub;var j=[d.cssClasses.valueHorizontal,d.cssClasses.valueVertical],k=[d.cssClasses.markerHorizontal,d.cssClasses.markerVertical];return i(f,d.cssClasses.pips),i(f,0===d.ort?d.cssClasses.pipsHorizontal:d.cssClasses.pipsVertical),Object.keys(a).forEach(function(g){!function(a,g,h){if((h=b?b(g,h):h)!==na){var i=l(f,!1);i.className=e(h,d.cssClasses.marker),i.style[d.style]=a+"%",h>oa&&((i=l(f,!1)).className=e(h,d.cssClasses.value),i.setAttribute("data-value",g),i.style[d.style]=a+"%",i.innerHTML=c.to(g))}}(g,a[g][0],a[g][1])}),f}function u(){Y&&(a(Y),Y=null)}function v(a){u();var b,c,d,e,f,g,h,i,j,k=a.mode,l=a.density||1,m=a.filter||!1,n=function(a,b,c){if("range"===a||"steps"===a)return ea.xVal;if("count"===a){if(2>b)throw new Error("noUiSlider ("+Q+"): 'values' (>= 2) required for mode 'count'.");var d=b-1,e=100/d;for(b=[];d--;)b[d]=d*e;b.push(100),a="positions"}return"positions"===a?b.map(function(a){return ea.fromStepping(c?ea.getStep(a):a)}):"values"===a?c?b.map(function(a){return ea.fromStepping(ea.getStep(ea.toStepping(a)))}):b:void 0}(k,a.values||!1,a.stepped||!1),o=(b=l,c=k,d=n,e={},f=ea.xVal[0],g=ea.xVal[ea.xVal.length-1],i=h=!1,j=0,(d=d.slice().sort(function(a,b){return a-b}).filter(function(a){return!this[a]&&(this[a]=!0)},{}))[0]!==f&&(d.unshift(f),h=!0),d[d.length-1]!==g&&(d.push(g),i=!0),d.forEach(function(a,f){var g,k,l,m,n,o,p,q,r,s,t=a,u=d[f+1],v="steps"===c;if(v&&(g=ea.xNumSteps[f]),g||(g=u-t),!1!==t&&void 0!==u)for(g=Math.max(g,1e-7),k=t;u>=k;k=(k+g).toFixed(7)/1){for(q=(n=(m=ea.toStepping(k))-j)/b,s=n/(r=Math.round(q)),l=1;r>=l;l+=1)e[(o=j+l*s).toFixed(5)]=[ea.fromStepping(o),0];p=-1<d.indexOf(k)?pa:v?qa:oa,!f&&h&&(p=0),k===u&&i||(e[m.toFixed(5)]=[k,p]),j=m}}),e),p=a.format||{to:Math.round};return Y=da.appendChild(t(o,m,p))}function w(){var a=V.getBoundingClientRect(),b="offset"+["Width","Height"][d.ort];return 0===d.ort?a.width||V[b]:a.height||V[b]}function x(a,b,c,e){var f=function(f){return!!(f=function(a,b,c){var d,e,f=0===a.type.indexOf("touch"),g=0===a.type.indexOf("mouse"),h=0===a.type.indexOf("pointer");if(0===a.type.indexOf("MSPointer")&&(h=!0),f){var i=function(a){return a.target===c||c.contains(a.target)};if("touchstart"===a.type){var j=Array.prototype.filter.call(a.touches,i);if(1<j.length)return!1;d=j[0].pageX,e=j[0].pageY}else{var l=Array.prototype.find.call(a.changedTouches,i);if(!l)return!1;d=l.pageX,e=l.pageY}}return b=b||k(ka),(g||h)&&(d=a.clientX+b.x,e=a.clientY+b.y),a.pageOffset=b,a.points=[d,e],a.cursor=g||h,a}(f,e.pageOffset,e.target||b))&&!(p()&&!e.doNotReject)&&(g=da,h=d.cssClasses.tap,!((g.classList?g.classList.contains(h):new RegExp("\\b"+h+"\\b").test(g.className))&&!e.doNotReject)&&!(a===ba.start&&void 0!==f.buttons&&1<f.buttons)&&(!e.hover||!f.buttons)&&(ca||f.preventDefault(),f.calcPoint=f.points[d.ort],void c(f,e)));var g,h},g=[];return a.split(" ").forEach(function(a){b.addEventListener(a,f,!!ca&&{passive:!0}),g.push([a,f])}),g}function y(a){var b,c,e,g,h,i,j=100*(a-(b=V,c=d.ort,e=b.getBoundingClientRect(),g=b.ownerDocument,h=g.documentElement,i=k(g),/webkit.*Chrome.*Mobile/i.test(navigator.userAgent)&&(i.x=0),c?e.top+i.y-h.clientTop:e.left+i.x-h.clientLeft))/w();return j=f(j),d.dir?100-j:j}function z(a,b){"mouseout"===a.type&&"HTML"===a.target.nodeName&&null===a.relatedTarget&&B(a,b)}function A(a,b){if(-1===navigator.appVersion.indexOf("MSIE 9")&&0===a.buttons&&0!==b.buttonsProperty)return B(a,b);var c=(d.dir?-1:1)*(a.calcPoint-b.startCalcPoint);K(c>0,100*c/b.baseSize,b.locations,b.handleNumbers)}function B(a,b){b.handle&&(j(b.handle,d.cssClasses.active),ia-=1),b.listeners.forEach(function(a){la.removeEventListener(a[0],a[1])}),0===ia&&(j(da,d.cssClasses.drag),M(),a.cursor&&(ma.style.cursor="",ma.removeEventListener("selectstart",c))),b.handleNumbers.forEach(function(a){H("change",a),H("set",a),H("end",a)})}function C(a,b){if(b.handleNumbers.some(q))return!1;var e;1===b.handleNumbers.length&&(e=W[b.handleNumbers[0]].children[0],ia+=1,i(e,d.cssClasses.active)),a.stopPropagation();var f=[],g=x(ba.move,la,A,{target:a.target,handle:e,listeners:f,startCalcPoint:a.calcPoint,baseSize:w(),pageOffset:a.pageOffset,handleNumbers:b.handleNumbers,buttonsProperty:a.buttons,locations:ga.slice()}),h=x(ba.end,la,B,{target:a.target,handle:e,listeners:f,doNotReject:!0,handleNumbers:b.handleNumbers}),j=x("mouseout",la,z,{target:a.target,handle:e,listeners:f,doNotReject:!0,handleNumbers:b.handleNumbers});f.push.apply(f,g.concat(h,j)),a.cursor&&(ma.style.cursor=getComputedStyle(a.target).cursor,1<W.length&&i(da,d.cssClasses.drag),ma.addEventListener("selectstart",c,!1)),b.handleNumbers.forEach(function(a){H("start",a)})}function D(a){a.stopPropagation();var b,c,f,g=y(a.calcPoint),h=(b=g,f=!(c=100),W.forEach(function(a,d){if(!q(d)){var e=ga[d],g=Math.abs(e-b);(c>g||c>=g&&b>e||100===g&&100===c)&&(f=d,c=g)}}),f);return!1===h?!1:(d.events.snap||e(da,d.cssClasses.tap,d.animationDuration),N(h,g,!0,!0),M(),H("slide",h,!0),H("update",h,!0),H("change",h,!0),H("set",h,!0),d.events.snap&&C(a,{handleNumbers:[h]}),void 0)}function E(a){var b=y(a.calcPoint),c=ea.getStep(b),d=ea.fromStepping(c);Object.keys(ja).forEach(function(a){"hover"===a.split(".")[0]&&ja[a].forEach(function(a){a.call($,d)})})}function F(a,b){ja[a]=ja[a]||[],ja[a].push(b),"update"===a.split(".")[0]&&W.forEach(function(a,b){H("update",b)})}function G(a){var b=a&&a.split(".")[0],c=b&&a.substring(b.length);Object.keys(ja).forEach(function(a){var d=a.split(".")[0],e=a.substring(d.length);b&&b!==d||c&&c!==e||delete ja[a]})}function H(a,b,c){Object.keys(ja).forEach(function(e){var f=e.split(".")[0];a===f&&ja[e].forEach(function(a){a.call($,fa.map(d.format.to),b,fa.slice(),c||!1,ga.slice())})})}function I(a,b,c,e,g,h){return 1<W.length&&!d.events.unconstrained&&(e&&b>0&&(c=Math.max(c,a[b-1]+d.margin)),g&&b<W.length-1&&(c=Math.min(c,a[b+1]-d.margin))),1<W.length&&d.limit&&(e&&b>0&&(c=Math.min(c,a[b-1]+d.limit)),g&&b<W.length-1&&(c=Math.max(c,a[b+1]-d.limit))),d.padding&&(0===b&&(c=Math.max(c,d.padding[0])),b===W.length-1&&(c=Math.min(c,100-d.padding[1]))),!((c=f(c=ea.getStep(c)))===a[b]&&!h)&&c}function J(a,b){var c=d.ort;return(c?b:a)+", "+(c?a:b)}function K(a,b,c,d){var e=c.slice(),f=[!a,a],g=[a,!a];d=d.slice(),a&&d.reverse(),1<d.length?d.forEach(function(a,c){var d=I(e,a,e[a]+b,f[c],g[c],!1);!1===d?b=0:(b=d-e[a],e[a]=d)}):f=g=[!0];var h=!1;d.forEach(function(a,d){h=N(a,c[a]+b,f[d],g[d])||h}),h&&d.forEach(function(a){H("update",a),H("slide",a)})}function L(a,b){return d.dir?100-a-b:a}function M(){ha.forEach(function(a){var b=50<ga[a]?-1:1,c=3+(W.length+b*a);W[a].style.zIndex=c})}function N(a,b,c,e){return!1!==(b=I(ga,a,b,c,e,!1))&&(function(a,b){ga[a]=b,fa[a]=ea.fromStepping(b);var c="translate("+J(10*(L(b,0)-ra)+"%","0")+")";W[a].style[d.transformRule]=c,P(a),P(a+1)}(a,b),!0)}function P(a){if(X[a]){var b=0,c=100;0!==a&&(b=ga[a-1]),a!==X.length-1&&(c=ga[a]);var e=c-b,f="translate("+J(L(b,e)+"%","0")+")",g="scale("+J(e/100,"1")+")";X[a].style[d.transformRule]=f+" "+g}}function R(a,b){return null===a||!1===a||void 0===a?ga[b]:("number"==typeof a&&(a=String(a)),a=d.format.from(a),!1===(a=ea.toStepping(a))||isNaN(a)?ga[b]:a)}function S(a,b){var c=g(a),f=void 0===ga[0];b=void 0===b||!!b,d.animate&&!f&&e(da,d.cssClasses.tap,d.animationDuration),ha.forEach(function(a){N(a,R(c[a],a),!0,!1)});for(var h=1===ha.length?0:1;h<ha.length;++h)ha.forEach(function(a){N(a,ga[a],!0,!0)});M(),ha.forEach(function(a){H("update",a),null!==c[a]&&b&&H("set",a)})}function T(){var a=fa.map(d.format.to);return 1===a.length?a[0]:a}function U(a){var b=ga[a],c=ea.getNearbySteps(b),e=fa[a],f=c.thisStep.step,g=null;if(d.snap)return[e-c.stepBefore.startValue||null,c.stepAfter.startValue-e||null];!1!==f&&e+f>c.stepAfter.startValue&&(f=c.stepAfter.startValue-e),g=e>c.thisStep.startValue?c.thisStep.step:!1!==c.stepBefore.step&&e-c.stepBefore.highestStep,100===b?f=null:0===b&&(g=null);var h=ea.countStepDecimals();return null!==f&&!1!==f&&(f=Number(f.toFixed(h))),null!==g&&!1!==g&&(g=Number(g.toFixed(h))),[g,f]}var V,W,X,Y,Z,$,_,aa,ba=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend"},ca=window.CSS&&CSS.supports&&CSS.supports("touch-action","none")&&function(){var a=!1;try{var b=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("test",null,b)}catch(a){}return a}(),da=b,ea=d.spectrum,fa=[],ga=[],ha=[],ia=0,ja={},ka=b.ownerDocument,la=d.documentElement||ka.documentElement,ma=ka.body,na=-1,oa=0,pa=1,qa=2,ra="rtl"===ka.dir||1===d.ort?0:100;return i(_=da,d.cssClasses.target),0===d.dir?i(_,d.cssClasses.ltr):i(_,d.cssClasses.rtl),0===d.ort?i(_,d.cssClasses.horizontal):i(_,d.cssClasses.vertical),V=l(_,d.cssClasses.base),function(a,b){var c=l(b,d.cssClasses.connects);W=[],(X=[]).push(n(c,a[0]));for(var e=0;e<d.handles;e++)W.push(m(b,e)),ha[e]=e,X.push(n(c,a[e+1]))}(d.connect,V),(aa=d.events).fixed||W.forEach(function(a,b){x(ba.start,a.children[0],C,{handleNumbers:[b]})}),aa.tap&&x(ba.start,V,D,{}),aa.hover&&x(ba.move,V,E,{hover:!0}),aa.drag&&X.forEach(function(a,b){if(!1!==a&&0!==b&&b!==X.length-1){var c=W[b-1],e=W[b],f=[a];i(a,d.cssClasses.draggable),aa.fixed&&(f.push(c.children[0]),f.push(e.children[0])),f.forEach(function(a){x(ba.start,a,C,{handles:[c,e],handleNumbers:[b-1,b]})})}}),S(d.start),d.pips&&v(d.pips),d.tooltips&&s(),F("update",function(a,b,c,e,f){ha.forEach(function(a){var b=W[a],e=I(ga,a,0,!0,!0,!0),g=I(ga,a,100,!0,!0,!0),h=f[a],i=d.ariaFormat.to(c[a]);e=ea.fromStepping(e).toFixed(1),g=ea.fromStepping(g).toFixed(1),h=ea.fromStepping(h).toFixed(1),b.children[0].setAttribute("aria-valuemin",e),b.children[0].setAttribute("aria-valuemax",g),b.children[0].setAttribute("aria-valuenow",h),b.children[0].setAttribute("aria-valuetext",i)})}),$={destroy:function(){for(var a in d.cssClasses)d.cssClasses.hasOwnProperty(a)&&j(da,d.cssClasses[a]);for(;da.firstChild;)da.removeChild(da.firstChild);delete da.noUiSlider},steps:function(){return ha.map(U)},on:F,off:G,get:T,set:S,setHandle:function(a,b,c){if(!(0<=(a=Number(a))&&a<ha.length))throw new Error("noUiSlider ("+Q+"): invalid handle number, got: "+a);N(a,R(b,a),!0,!0),H("update",a),c&&H("set",a)},reset:function(a){S(d.start,a)},__moveHandles:function(a,b,c){K(a,b,ga,c)},options:h,updateOptions:function(a,b){var c=T(),e=["margin","limit","padding","range","animate","snap","step","format","pips","tooltips"];e.forEach(function(b){void 0!==a[b]&&(h[b]=a[b])});var f=O(h);e.forEach(function(b){void 0!==a[b]&&(d[b]=f[b])}),ea=f.spectrum,d.margin=f.margin,d.limit=f.limit,d.padding=f.padding,d.pips?v(d.pips):u(),d.tooltips?s():r(),ga=[],S(a.start||c,b)},target:da,removePips:u,removeTooltips:r,pips:v}}var Q="14.0.3";s.prototype.getMargin=function(a){var b=this.xNumSteps[0];if(b&&a/b%1!=0)throw new Error("noUiSlider ("+Q+"): 'limit', 'margin' and 'padding' must be divisible by step.");return 2===this.xPct.length&&m(this.xVal,a)},s.prototype.toStepping=function(a){return a=o(this.xVal,this.xPct,a)},s.prototype.fromStepping=function(a){return function(a,b,c){if(c>=100)return a.slice(-1)[0];var d,e=n(c,b),f=a[e-1],g=a[e],h=b[e-1],i=b[e];return d=[f,g],(c-h)*l(h,i)*(d[1]-d[0])/100+d[0]}(this.xVal,this.xPct,a)},s.prototype.getStep=function(a){return a=p(this.xPct,this.xSteps,this.snap,a)},s.prototype.getDefaultStep=function(a,b,c){var d=n(a,this.xPct);return(100===a||b&&a===this.xPct[d-1])&&(d=Math.max(d-1,1)),(this.xVal[d]-this.xVal[d-1])/c},s.prototype.getNearbySteps=function(a){var b=n(a,this.xPct);return{stepBefore:{startValue:this.xVal[b-2],step:this.xNumSteps[b-2],highestStep:this.xHighestCompleteStep[b-2]},thisStep:{startValue:this.xVal[b-1],step:this.xNumSteps[b-1],highestStep:this.xHighestCompleteStep[b-1]},stepAfter:{startValue:this.xVal[b],step:this.xNumSteps[b],highestStep:this.xHighestCompleteStep[b]}}},s.prototype.countStepDecimals=function(){var a=this.xNumSteps.map(h);return Math.max.apply(null,a)},s.prototype.convert=function(a){return this.getStep(this.toStepping(a))};var R={to:function(a){return void 0!==a&&a.toFixed(2)},from:Number};return{__spectrum:s,version:Q,create:function(a,b){if(!a||!a.nodeName)throw new Error("noUiSlider ("+Q+"): create requires a single element, got: "+a);if(a.noUiSlider)throw new Error("noUiSlider ("+Q+"): Slider was already initialized.");var c=P(a,O(b),b);return a.noUiSlider=c}}}),!function(){"use strict";if("undefined"!=typeof window){var a=window.navigator.userAgent.match(/Edge\/(\d{2})\./),b=!!a&&parseInt(a[1],10)>=16;if("objectFit"in document.documentElement.style!=0&&!b)return void(window.objectFitPolyfill=function(){return!1});var c=function(a){var b=window.getComputedStyle(a,null),c=b.getPropertyValue("position"),d=b.getPropertyValue("overflow"),e=b.getPropertyValue("display");c&&"static"!==c||(a.style.position="relative"),"hidden"!==d&&(a.style.overflow="hidden"),e&&"inline"!==e||(a.style.display="block"),0===a.clientHeight&&(a.style.height="100%"),-1===a.className.indexOf("object-fit-polyfill")&&(a.className=a.className+" object-fit-polyfill")},d=function(a){var b=window.getComputedStyle(a,null),c={"max-width":"none","max-height":"none","min-width":"0px","min-height":"0px",top:"auto",right:"auto",bottom:"auto",left:"auto","margin-top":"0px","margin-right":"0px","margin-bottom":"0px","margin-left":"0px"};for(var d in c)b.getPropertyValue(d)!==c[d]&&(a.style[d]=c[d])},e=function(a,b,c){var d,e,f,g,h;if(c=c.split(" "),c.length<2&&(c[1]=c[0]),"x"===a)d=c[0],e=c[1],f="left",g="right",h=b.clientWidth;else{if("y"!==a)return;d=c[1],e=c[0],f="top",g="bottom",h=b.clientHeight}return d===f||e===f?void(b.style[f]="0"):d===g||e===g?void(b.style[g]="0"):"center"===d||"50%"===d?(b.style[f]="50%",void(b.style["margin-"+f]=h/-2+"px")):d.indexOf("%")>=0?(d=parseInt(d),void(50>d?(b.style[f]=d+"%",b.style["margin-"+f]=h*(d/-100)+"px"):(d=100-d,b.style[g]=d+"%",b.style["margin-"+g]=h*(d/-100)+"px"))):void(b.style[f]=d)},f=function(a){var b=a.dataset?a.dataset.objectFit:a.getAttribute("data-object-fit"),f=a.dataset?a.dataset.objectPosition:a.getAttribute("data-object-position");b=b||"cover",f=f||"50% 50%";var g=a.parentNode;c(g),d(a),a.style.position="absolute",a.style.height="100%",a.style.width="auto","scale-down"===b&&(a.style.height="auto",a.clientWidth<g.clientWidth&&a.clientHeight<g.clientHeight?(e("x",a,f),e("y",a,f)):(b="contain",a.style.height="100%")),"none"===b?(a.style.width="auto",a.style.height="auto",e("x",a,f),e("y",a,f)):"cover"===b&&a.clientWidth>g.clientWidth||"contain"===b&&a.clientWidth<g.clientWidth?(a.style.top="0",a.style.marginTop="0",e("x",a,f)):"scale-down"!==b&&(a.style.width="100%",a.style.height="auto",a.style.left="0",a.style.marginLeft="0",e("y",a,f))},g=function(a){if(void 0===a)a=document.querySelectorAll("[data-object-fit]");else if(a&&a.nodeName)a=[a];else{if("object"!=typeof a||!a.length||!a[0].nodeName)return!1;a=a}for(var c=0;c<a.length;c++)if(a[c].nodeName){var d=a[c].nodeName.toLowerCase();"img"!==d||b?"video"===d&&(a[c].readyState>0?f(a[c]):a[c].addEventListener("loadedmetadata",function(){f(this)})):a[c].complete?f(a[c]):a[c].addEventListener("load",function(){f(this)})}return!0};document.addEventListener("DOMContentLoaded",function(){g()}),window.addEventListener("resize",function(){g()}),window.objectFitPolyfill=g}}(),function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G=[].slice;q='<span class="odometer-value"></span>',n='<span class="odometer-ribbon"><span class="odometer-ribbon-inner">'+q+"</span></span>",d='<span class="odometer-digit"><span class="odometer-digit-spacer">8</span><span class="odometer-digit-inner">'+n+"</span></span>",g='<span class="odometer-formatting-mark"></span>',c="(,ddd).dd",h=/^\(?([^)]*)\)?(?:(.)(d+))?$/,i=30,f=2e3,a=20,j=2,e=.5,k=1e3/i,b=1e3/a,o="transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd",y=document.createElement("div").style,p=null!=y.transition||null!=y.webkitTransition||null!=y.mozTransition||null!=y.oTransition,w=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,l=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,s=function(a){var b;return b=document.createElement("div"),b.innerHTML=a,b.children[0]},v=function(a,b){return a.className=a.className.replace(new RegExp("(^| )"+b.split(" ").join("|")+"( |$)","gi")," ")},r=function(a,b){return v(a,b),a.className+=" "+b},z=function(a,b){var c;return null!=document.createEvent?(c=document.createEvent("HTMLEvents"),c.initEvent(b,!0,!0),a.dispatchEvent(c)):void 0},u=function(){var a,b;return null!=(a=null!=(b=window.performance)&&"function"==typeof b.now?b.now():void 0)?a:+new Date},x=function(a,b){return null==b&&(b=0),b?(a*=Math.pow(10,b),a+=.5,a=Math.floor(a),a/=Math.pow(10,b)):Math.round(a)},A=function(a){return 0>a?Math.ceil(a):Math.floor(a)},t=function(a){return a-x(a)},C=!1,(B=function(){var a,b,c,d,e;if(!C&&null!=window.jQuery){for(C=!0,d=["html","text"],e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(function(a){var b;return b=window.jQuery.fn[a],window.jQuery.fn[a]=function(a){var c;return null==a||null==(null!=(c=this[0])?c.odometer:void 0)?b.apply(this,arguments):this[0].odometer.update(a)}}(a));return e}})(),setTimeout(B,0),m=function(){function a(b){var c,d,e,g,h,i,l,m,n,o,p=this;if(this.options=b,this.el=this.options.el,null!=this.el.odometer)return this.el.odometer;this.el.odometer=this,m=a.options;for(d in m)g=m[d],null==this.options[d]&&(this.options[d]=g);null==(h=this.options).duration&&(h.duration=f),this.MAX_VALUES=this.options.duration/k/j|0,this.resetFormat(),this.value=this.cleanValue(null!=(n=this.options.value)?n:""),this.renderInside(),this.render();try{for(o=["innerHTML","innerText","textContent"],i=0,l=o.length;l>i;i++)e=o[i],null!=this.el[e]&&!function(a){return Object.defineProperty(p.el,a,{get:function(){var b;return"innerHTML"===a?p.inside.outerHTML:null!=(b=p.inside.innerText)?b:p.inside.textContent},set:function(a){return p.update(a)}})}(e)}catch(q){c=q,this.watchForMutations()}}return a.prototype.renderInside=function(){return this.inside=document.createElement("div"),this.inside.className="odometer-inside",this.el.innerHTML="",this.el.appendChild(this.inside)},a.prototype.watchForMutations=function(){var a,b=this;if(null!=l)try{return null==this.observer&&(this.observer=new l(function(){var a;return a=b.el.innerText,b.renderInside(),b.render(b.value),b.update(a)})),this.watchMutations=!0,this.startWatchingMutations()}catch(c){a=c}},a.prototype.startWatchingMutations=function(){return this.watchMutations?this.observer.observe(this.el,{childList:!0}):void 0},a.prototype.stopWatchingMutations=function(){var a;return null!=(a=this.observer)?a.disconnect():void 0},a.prototype.cleanValue=function(a){var b;return"string"==typeof a&&(a=a.replace(null!=(b=this.format.radix)?b:".","<radix>"),a=a.replace(/[.,]/g,""),a=a.replace("<radix>","."),a=parseFloat(a,10)||0),x(a,this.format.precision)},a.prototype.bindTransitionEnd=function(){var a,b,c,d,e,f,g=this;if(!this.transitionEndBound){for(this.transitionEndBound=!0,b=!1,e=o.split(" "),f=[],c=0,d=e.length;d>c;c++)a=e[c],f.push(this.el.addEventListener(a,function(){return b?!0:(b=!0,setTimeout(function(){return g.render(),b=!1,z(g.el,"odometerdone")},0),!0)},!1));return f}},a.prototype.resetFormat=function(){var a,b,d,e,f,g,i,j;if(a=null!=(i=this.options.format)?i:c,a||(a="d"),d=h.exec(a),!d)throw new Error("Odometer: Unparsable digit format");return j=d.slice(1,4),g=j[0],f=j[1],b=j[2],e=(null!=b?b.length:void 0)||0,this.format={repeating:g,radix:f,precision:e}},a.prototype.render=function(a){var b,c,d,e,f,g,h,i,j,k,l,m;for(null==a&&(a=this.value),this.stopWatchingMutations(),this.resetFormat(),this.inside.innerHTML="",g=this.options.theme,b=this.el.className.split(" "),f=[],i=0,k=b.length;k>i;i++)c=b[i],c.length&&((e=/^odometer-theme-(.+)$/.exec(c))?g=e[1]:/^odometer(-|$)/.test(c)||f.push(c));for(f.push("odometer"),p||f.push("odometer-no-transitions"),f.push(g?"odometer-theme-"+g:"odometer-auto-theme"),this.el.className=f.join(" "),this.ribbons={},this.digits=[],h=!this.format.precision||!t(a)||!1,m=a.toString().split("").reverse(),j=0,l=m.length;l>j;j++)d=m[j],"."===d&&(h=!0),this.addDigit(d,h);return this.startWatchingMutations()},a.prototype.update=function(a){var b,c=this;return a=this.cleanValue(a),(b=a-this.value)?(v(this.el,"odometer-animating-up odometer-animating-down odometer-animating"),b>0?r(this.el,"odometer-animating-up"):r(this.el,"odometer-animating-down"),this.stopWatchingMutations(),this.animate(a),this.startWatchingMutations(),setTimeout(function(){return c.el.offsetHeight,r(c.el,"odometer-animating")},0),this.value=a):void 0},a.prototype.renderDigit=function(){return s(d)},a.prototype.insertDigit=function(a,b){return null!=b?this.inside.insertBefore(a,b):this.inside.children.length?this.inside.insertBefore(a,this.inside.children[0]):this.inside.appendChild(a)},a.prototype.addSpacer=function(a,b,c){var d;return d=s(g),d.innerHTML=a,c&&r(d,c),this.insertDigit(d,b)},a.prototype.addDigit=function(a,b){var c,d,e,f;if(null==b&&(b=!0),"-"===a)return this.addSpacer(a,null,"odometer-negation-mark");if("."===a)return this.addSpacer(null!=(f=this.format.radix)?f:".",null,"odometer-radix-mark");if(b)for(e=!1;;){if(!this.format.repeating.length){if(e)throw new Error("Bad odometer format without digits");this.resetFormat(),e=!0}if(c=this.format.repeating[this.format.repeating.length-1],this.format.repeating=this.format.repeating.substring(0,this.format.repeating.length-1),"d"===c)break;this.addSpacer(c)}return d=this.renderDigit(),d.querySelector(".odometer-value").innerHTML=a,this.digits.push(d),this.insertDigit(d)},a.prototype.animate=function(a){return p&&"count"!==this.options.animation?this.animateSlide(a):this.animateCount(a)},a.prototype.animateCount=function(a){var c,d,e,f,g,h=this;return(d=+a-this.value)?(f=e=u(),c=this.value,(g=function(){var i,j,k;return u()-f>h.options.duration?(h.value=a,h.render(),void z(h.el,"odometerdone")):(i=u()-e,i>b&&(e=u(),k=i/h.options.duration,j=d*k,c+=j,h.render(Math.round(c))),null!=w?w(g):setTimeout(g,b))})()):void 0},a.prototype.getDigitCount=function(){var a,b,c,d,e,f;for(d=1<=arguments.length?G.call(arguments,0):[],a=e=0,f=d.length;f>e;a=++e)c=d[a],d[a]=Math.abs(c);return b=Math.max.apply(Math,d),Math.ceil(Math.log(b+1)/Math.log(10))},a.prototype.getFractionalDigitCount=function(){var a,b,c,d,e,f,g;for(e=1<=arguments.length?G.call(arguments,0):[],b=/^\-?\d*\.(\d*?)0*$/,a=f=0,g=e.length;g>f;a=++f)d=e[a],e[a]=d.toString(),c=b.exec(e[a]),e[a]=null==c?0:c[1].length;return Math.max.apply(Math,e)},a.prototype.resetDigits=function(){return this.digits=[],this.ribbons=[],this.inside.innerHTML="",this.resetFormat()},a.prototype.animateSlide=function(a){var b,c,d,f,g,h,i,j,k,l,m,n,o,p,q,s,t,u,v,w,x,y,z,B,C,D,E;if(s=this.value,j=this.getFractionalDigitCount(s,a),j&&(a*=Math.pow(10,j),s*=Math.pow(10,j)),d=a-s){for(this.bindTransitionEnd(),f=this.getDigitCount(s,a),g=[],b=0,m=v=0;f>=0?f>v:v>f;m=f>=0?++v:--v){if(t=A(s/Math.pow(10,f-m-1)),i=A(a/Math.pow(10,f-m-1)),h=i-t,Math.abs(h)>this.MAX_VALUES){for(l=[],n=h/(this.MAX_VALUES+this.MAX_VALUES*b*e),c=t;h>0&&i>c||0>h&&c>i;)l.push(Math.round(c)),c+=n;l[l.length-1]!==i&&l.push(i),b++}else l=function(){E=[];for(var a=t;i>=t?i>=a:a>=i;i>=t?a++:a--)E.push(a);return E}.apply(this);for(m=w=0,y=l.length;y>w;m=++w)k=l[m],l[m]=Math.abs(k%10);g.push(l)}for(this.resetDigits(),D=g.reverse(),m=x=0,z=D.length;z>x;m=++x)for(l=D[m],this.digits[m]||this.addDigit(" ",m>=j),null==(u=this.ribbons)[m]&&(u[m]=this.digits[m].querySelector(".odometer-ribbon-inner")),this.ribbons[m].innerHTML="",0>d&&(l=l.reverse()),o=C=0,B=l.length;B>C;o=++C)k=l[o],q=document.createElement("div"),q.className="odometer-value",q.innerHTML=k,this.ribbons[m].appendChild(q),o===l.length-1&&r(q,"odometer-last-value"),0===o&&r(q,"odometer-first-value");return 0>t&&this.addDigit("-"),p=this.inside.querySelector(".odometer-radix-mark"),null!=p&&p.parent.removeChild(p),j?this.addSpacer(this.format.radix,this.digits[j-1],"odometer-radix-mark"):void 0}},a}(),m.options=null!=(E=window.odometerOptions)?E:{},setTimeout(function(){var a,b,c,d,e;if(window.odometerOptions){d=window.odometerOptions,e=[];for(a in d)b=d[a],e.push(null!=(c=m.options)[a]?(c=m.options)[a]:c[a]=b);return e}},0),m.init=function(){var a,b,c,d,e,f;if(null!=document.querySelectorAll){for(b=document.querySelectorAll(m.options.selector||".odometer"),f=[],c=0,d=b.length;d>c;c++)a=b[c],f.push(a.odometer=new m({el:a,value:null!=(e=a.innerText)?e:a.textContent}));return f}},null!=(null!=(F=document.documentElement)?F.doScroll:void 0)&&null!=document.createEventObject?(D=document.onreadystatechange,document.onreadystatechange=function(){return"complete"===document.readyState&&m.options.auto!==!1&&m.init(),null!=D?D.apply(this,arguments):void 0}):document.addEventListener("DOMContentLoaded",function(){return m.options.auto!==!1?m.init():void 0},!1),"function"==typeof define&&define.amd?define(["jquery"],function(){return m}):typeof exports===!1?module.exports=m:window.Odometer=m}.call(this),!function(a){var b=navigator.userAgent;a.HTMLPictureElement&&/ecko/.test(b)&&b.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",function(){var b,c=document.createElement("source"),d=function(a){var b,d,e=a.parentNode;"PICTURE"===e.nodeName.toUpperCase()?(b=c.cloneNode(),e.insertBefore(b,e.firstElementChild),setTimeout(function(){e.removeChild(b)})):(!a._pfLastSize||a.offsetWidth>a._pfLastSize)&&(a._pfLastSize=a.offsetWidth,d=a.sizes,a.sizes+=",100vw",setTimeout(function(){a.sizes=d}))},e=function(){var a,b=document.querySelectorAll("picture > img, img[srcset][sizes]");for(a=0;a<b.length;a++)d(b[a])},f=function(){clearTimeout(b),b=setTimeout(e,99)},g=a.matchMedia&&matchMedia("(orientation: landscape)"),h=function(){f(),g&&g.addListener&&g.addListener(f)};return c.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?h():document.addEventListener("DOMContentLoaded",h),f}())}(window),function(a,b,c){"use strict";function d(a){return" "===a||" "===a||"\n"===a||"\f"===a||"\r"===a}function e(b,c){var d=new a.Image;return d.onerror=function(){A[b]=!1,ba()},d.onload=function(){A[b]=1===d.width,ba()},d.src=c,"pending"}function f(){M=!1,P=a.devicePixelRatio,N={},O={},s.DPR=P||1,Q.width=Math.max(a.innerWidth||0,z.clientWidth),Q.height=Math.max(a.innerHeight||0,z.clientHeight),Q.vw=Q.width/100,Q.vh=Q.height/100,r=[Q.height,Q.width,P].join("-"),Q.em=s.getEmValue(),Q.rem=Q.em}function g(a,b,c,d){var e,f,g,h;return"saveData"===B.algorithm?a>2.7?h=c+1:(f=b-c,e=Math.pow(a-.6,1.5),g=f*e,d&&(g+=.1*e),h=a+g):h=c>1?Math.sqrt(a*b):a,h>c}function h(a){var b,c=s.getSet(a),d=!1;"pending"!==c&&(d=r,c&&(b=s.setRes(c),s.applySetCandidate(b,a))),a[s.ns].evaled=d}function i(a,b){return a.res-b.res}function j(a,b,c){var d;return!c&&b&&(c=a[s.ns].sets,c=c&&c[c.length-1]),d=k(b,c),d&&(b=s.makeUrl(b),a[s.ns].curSrc=b,a[s.ns].curCan=d,d.res||aa(d,d.set.sizes)),d}function k(a,b){var c,d,e;if(a&&b)for(e=s.parseSet(b),a=s.makeUrl(a),c=0;c<e.length;c++)if(a===s.makeUrl(e[c].url)){d=e[c];break}return d}function l(a,b){var c,d,e,f,g=a.getElementsByTagName("source");for(c=0,d=g.length;d>c;c++)e=g[c],e[s.ns]=!0,f=e.getAttribute("srcset"),f&&b.push({srcset:f,media:e.getAttribute("media"),type:e.getAttribute("type"),sizes:e.getAttribute("sizes")})}function m(a,b){function c(b){var c,d=b.exec(a.substring(m));return d?(c=d[0],m+=c.length,c):void 0}function e(){var a,c,d,e,f,i,j,k,l,m=!1,o={};for(e=0;e<h.length;e++)f=h[e],i=f[f.length-1],j=f.substring(0,f.length-1),k=parseInt(j,10),l=parseFloat(j),
X.test(j)&&"w"===i?((a||c)&&(m=!0),0===k?m=!0:a=k):Y.test(j)&&"x"===i?((a||c||d)&&(m=!0),0>l?m=!0:c=l):X.test(j)&&"h"===i?((d||c)&&(m=!0),0===k?m=!0:d=k):m=!0;m||(o.url=g,a&&(o.w=a),c&&(o.d=c),d&&(o.h=d),d||c||a||(o.d=1),1===o.d&&(b.has1x=!0),o.set=b,n.push(o))}function f(){for(c(T),i="",j="in descriptor";;){if(k=a.charAt(m),"in descriptor"===j)if(d(k))i&&(h.push(i),i="",j="after descriptor");else{if(","===k)return m+=1,i&&h.push(i),void e();if("("===k)i+=k,j="in parens";else{if(""===k)return i&&h.push(i),void e();i+=k}}else if("in parens"===j)if(")"===k)i+=k,j="in descriptor";else{if(""===k)return h.push(i),void e();i+=k}else if("after descriptor"===j)if(d(k));else{if(""===k)return void e();j="in descriptor",m-=1}m+=1}}for(var g,h,i,j,k,l=a.length,m=0,n=[];;){if(c(U),m>=l)return n;g=c(V),h=[],","===g.slice(-1)?(g=g.replace(W,""),e()):f()}}function n(a){function b(a){function b(){f&&(g.push(f),f="")}function c(){g[0]&&(h.push(g),g=[])}for(var e,f="",g=[],h=[],i=0,j=0,k=!1;;){if(e=a.charAt(j),""===e)return b(),c(),h;if(k){if("*"===e&&"/"===a[j+1]){k=!1,j+=2,b();continue}j+=1}else{if(d(e)){if(a.charAt(j-1)&&d(a.charAt(j-1))||!f){j+=1;continue}if(0===i){b(),j+=1;continue}e=" "}else if("("===e)i+=1;else if(")"===e)i-=1;else{if(","===e){b(),c(),j+=1;continue}if("/"===e&&"*"===a.charAt(j+1)){k=!0,j+=2;continue}}f+=e,j+=1}}}function c(a){return k.test(a)&&parseFloat(a)>=0?!0:l.test(a)?!0:"0"===a||"-0"===a||"+0"===a?!0:!1}var e,f,g,h,i,j,k=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,l=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(f=b(a),g=f.length,e=0;g>e;e++)if(h=f[e],i=h[h.length-1],c(i)){if(j=i,h.pop(),0===h.length)return j;if(h=h.join(" "),s.matchesMedia(h))return j}return"100vw"}b.createElement("picture");var o,p,q,r,s={},t=!1,u=function(){},v=b.createElement("img"),w=v.getAttribute,x=v.setAttribute,y=v.removeAttribute,z=b.documentElement,A={},B={algorithm:""},C="data-pfsrc",D=C+"set",E=navigator.userAgent,F=/rident/.test(E)||/ecko/.test(E)&&E.match(/rv\:(\d+)/)&&RegExp.$1>35,G="currentSrc",H=/\s+\+?\d+(e\d+)?w/,I=/(\([^)]+\))?\s*(.+)/,J=a.picturefillCFG,K="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",L="font-size:100%!important;",M=!0,N={},O={},P=a.devicePixelRatio,Q={px:1,"in":96},R=b.createElement("a"),S=!1,T=/^[ \t\n\r\u000c]+/,U=/^[, \t\n\r\u000c]+/,V=/^[^ \t\n\r\u000c]+/,W=/[,]+$/,X=/^\d+$/,Y=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/,Z=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,d||!1):a.attachEvent&&a.attachEvent("on"+b,c)},$=function(a){var b={};return function(c){return c in b||(b[c]=a(c)),b[c]}},_=function(){var a=/^([\d\.]+)(em|vw|px)$/,b=function(){for(var a=arguments,b=0,c=a[0];++b in a;)c=c.replace(a[b],a[++b]);return c},c=$(function(a){return"return "+b((a||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"});return function(b,d){var e;if(!(b in N))if(N[b]=!1,d&&(e=b.match(a)))N[b]=e[1]*Q[e[2]];else try{N[b]=new Function("e",c(b))(Q)}catch(f){}return N[b]}}(),aa=function(a,b){return a.w?(a.cWidth=s.calcListLength(b||"100vw"),a.res=a.w/a.cWidth):a.res=a.d,a},ba=function(a){if(t){var c,d,e,f=a||{};if(f.elements&&1===f.elements.nodeType&&("IMG"===f.elements.nodeName.toUpperCase()?f.elements=[f.elements]:(f.context=f.elements,f.elements=null)),c=f.elements||s.qsa(f.context||b,f.reevaluate||f.reselect?s.sel:s.selShort),e=c.length){for(s.setupRun(f),S=!0,d=0;e>d;d++)s.fillImg(c[d],f);s.teardownRun(f)}}};o=a.console&&console.warn?function(a){console.warn(a)}:u,G in v||(G="src"),A["image/jpeg"]=!0,A["image/gif"]=!0,A["image/png"]=!0,A["image/svg+xml"]=b.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),s.ns=("pf"+(new Date).getTime()).substr(0,9),s.supSrcset="srcset"in v,s.supSizes="sizes"in v,s.supPicture=!!a.HTMLPictureElement,s.supSrcset&&s.supPicture&&!s.supSizes&&!function(a){v.srcset="data:,a",a.src="data:,a",s.supSrcset=v.complete===a.complete,s.supPicture=s.supSrcset&&s.supPicture}(b.createElement("img")),s.supSrcset&&!s.supSizes?!function(){var a="data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw==",c="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",d=b.createElement("img"),e=function(){var a=d.width;2===a&&(s.supSizes=!0),q=s.supSrcset&&!s.supSizes,t=!0,setTimeout(ba)};d.onload=e,d.onerror=e,d.setAttribute("sizes","9px"),d.srcset=c+" 1w,"+a+" 9w",d.src=c}():t=!0,s.selShort="picture>img,img[srcset]",s.sel=s.selShort,s.cfg=B,s.DPR=P||1,s.u=Q,s.types=A,s.setSize=u,s.makeUrl=$(function(a){return R.href=a,R.href}),s.qsa=function(a,b){return"querySelector"in a?a.querySelectorAll(b):[]},s.matchesMedia=function(){return a.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?s.matchesMedia=function(a){return!a||matchMedia(a).matches}:s.matchesMedia=s.mMQ,s.matchesMedia.apply(this,arguments)},s.mMQ=function(a){return a?_(a):!0},s.calcLength=function(a){var b=_(a,!0)||!1;return 0>b&&(b=!1),b},s.supportsType=function(a){return a?A[a]:!0},s.parseSize=$(function(a){var b=(a||"").match(I);return{media:b&&b[1],length:b&&b[2]}}),s.parseSet=function(a){return a.cands||(a.cands=m(a.srcset,a)),a.cands},s.getEmValue=function(){var a;if(!p&&(a=b.body)){var c=b.createElement("div"),d=z.style.cssText,e=a.style.cssText;c.style.cssText=K,z.style.cssText=L,a.style.cssText=L,a.appendChild(c),p=c.offsetWidth,a.removeChild(c),p=parseFloat(p,10),z.style.cssText=d,a.style.cssText=e}return p||16},s.calcListLength=function(a){if(!(a in O)||B.uT){var b=s.calcLength(n(a));O[a]=b?b:Q.width}return O[a]},s.setRes=function(a){var b;if(a){b=s.parseSet(a);for(var c=0,d=b.length;d>c;c++)aa(b[c],a.sizes)}return b},s.setRes.res=aa,s.applySetCandidate=function(a,b){if(a.length){var c,d,e,f,h,k,l,m,n,o=b[s.ns],p=s.DPR;if(k=o.curSrc||b[G],l=o.curCan||j(b,k,a[0].set),l&&l.set===a[0].set&&(n=F&&!b.complete&&l.res-.1>p,n||(l.cached=!0,l.res>=p&&(h=l))),!h)for(a.sort(i),f=a.length,h=a[f-1],d=0;f>d;d++)if(c=a[d],c.res>=p){e=d-1,h=a[e]&&(n||k!==s.makeUrl(c.url))&&g(a[e].res,c.res,p,a[e].cached)?a[e]:c;break}h&&(m=s.makeUrl(h.url),o.curSrc=m,o.curCan=h,m!==k&&s.setSrc(b,h),s.setSize(b))}},s.setSrc=function(a,b){var c;a.src=b.url,"image/svg+xml"===b.set.type&&(c=a.style.width,a.style.width=a.offsetWidth+1+"px",a.offsetWidth+1&&(a.style.width=c))},s.getSet=function(a){var b,c,d,e=!1,f=a[s.ns].sets;for(b=0;b<f.length&&!e;b++)if(c=f[b],c.srcset&&s.matchesMedia(c.media)&&(d=s.supportsType(c.type))){"pending"===d&&(c=d),e=c;break}return e},s.parseSets=function(a,b,d){var e,f,g,h,i=b&&"PICTURE"===b.nodeName.toUpperCase(),j=a[s.ns];(j.src===c||d.src)&&(j.src=w.call(a,"src"),j.src?x.call(a,C,j.src):y.call(a,C)),(j.srcset===c||d.srcset||!s.supSrcset||a.srcset)&&(e=w.call(a,"srcset"),j.srcset=e,h=!0),j.sets=[],i&&(j.pic=!0,l(b,j.sets)),j.srcset?(f={srcset:j.srcset,sizes:w.call(a,"sizes")},j.sets.push(f),g=(q||j.src)&&H.test(j.srcset||""),g||!j.src||k(j.src,f)||f.has1x||(f.srcset+=", "+j.src,f.cands.push({url:j.src,d:1,set:f}))):j.src&&j.sets.push({srcset:j.src,sizes:null}),j.curCan=null,j.curSrc=c,j.supported=!(i||f&&!s.supSrcset||g&&!s.supSizes),h&&s.supSrcset&&!j.supported&&(e?(x.call(a,D,e),a.srcset=""):y.call(a,D)),j.supported&&!j.srcset&&(!j.src&&a.src||a.src!==s.makeUrl(j.src))&&(null===j.src?a.removeAttribute("src"):a.src=j.src),j.parsed=!0},s.fillImg=function(a,b){var c,d=b.reselect||b.reevaluate;a[s.ns]||(a[s.ns]={}),c=a[s.ns],(d||c.evaled!==r)&&((!c.parsed||b.reevaluate)&&s.parseSets(a,a.parentNode,b),c.supported?c.evaled=r:h(a))},s.setupRun=function(){(!S||M||P!==a.devicePixelRatio)&&f()},s.supPicture?(ba=u,s.fillImg=u):!function(){var c,d=a.attachEvent?/d$|^c/:/d$|^c|^i/,e=function(){var a=b.readyState||"";f=setTimeout(e,"loading"===a?200:999),b.body&&(s.fillImgs(),c=c||d.test(a),c&&clearTimeout(f))},f=setTimeout(e,b.body?9:99),g=function(a,b){var c,d,e=function(){var f=new Date-d;b>f?c=setTimeout(e,b-f):(c=null,a())};return function(){d=new Date,c||(c=setTimeout(e,b))}},h=z.clientHeight,i=function(){M=Math.max(a.innerWidth||0,z.clientWidth)!==Q.width||z.clientHeight!==h,h=z.clientHeight,M&&s.fillImgs()};Z(a,"resize",g(i,99)),Z(b,"readystatechange",e)}(),s.picturefill=ba,s.fillImgs=ba,s.teardownRun=u,ba._=s,a.picturefillCFG={pf:s,push:function(a){var b=a.shift();"function"==typeof s[b]?s[b].apply(s,a):(B[b]=a[0],S&&s.fillImgs({reselect:!0}))}};for(;J&&J.length;)a.picturefillCFG.push(J.shift());a.picturefill=ba,"object"==typeof module&&"object"==typeof module.exports?module.exports=ba:"function"==typeof define&&define.amd&&define("picturefill",function(){return ba}),s.supPicture||(A["image/webp"]=e("image/webp","data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA=="))}(window,document),function(a){"use strict";function b(a,b,c){return a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent?a.attachEvent("on"+b,c):void 0}function c(a,b){var c,d;for(c=0,d=a.length;d>c;c++)if(a[c]===b)return!0;return!1}function d(a,b){var c;a.createTextRange?(c=a.createTextRange(),c.move("character",b),c.select()):a.selectionStart&&(a.focus(),a.setSelectionRange(b,b))}function e(a,b){try{return a.type=b,!0}catch(c){return!1}}a.Placeholders={Utils:{addEventListener:b,inArray:c,moveCaret:d,changeType:e}}}(this),function(a){"use strict";function b(){}function c(){try{return document.activeElement}catch(a){}}function d(a,b){var c,d,e=!!b&&a.value!==b,f=a.value===a.getAttribute(H);return(e||f)&&"true"===a.getAttribute(I)?(a.removeAttribute(I),a.value=a.value.replace(a.getAttribute(H),""),a.className=a.className.replace(G,""),d=a.getAttribute(O),parseInt(d,10)>=0&&(a.setAttribute("maxLength",d),a.removeAttribute(O)),c=a.getAttribute(J),c&&(a.type=c),!0):!1}function e(a){var b,c,d=a.getAttribute(H);return""===a.value&&d?(a.setAttribute(I,"true"),a.value=d,a.className+=" "+F,c=a.getAttribute(O),c||(a.setAttribute(O,a.maxLength),a.removeAttribute("maxLength")),b=a.getAttribute(J),b?a.type="text":"password"===a.type&&T.changeType(a,"text")&&a.setAttribute(J,"password"),!0):!1}function f(a,b){var c,d,e,f,g,h,i;if(a&&a.getAttribute(H))b(a);else for(e=a?a.getElementsByTagName("input"):p,f=a?a.getElementsByTagName("textarea"):q,c=e?e.length:0,d=f?f.length:0,i=0,h=c+d;h>i;i++)g=c>i?e[i]:f[i-c],b(g)}function g(a){f(a,d)}function h(a){f(a,e)}function i(a){return function(){r&&a.value===a.getAttribute(H)&&"true"===a.getAttribute(I)?T.moveCaret(a,0):d(a)}}function j(a){return function(){e(a)}}function k(a){return function(b){return t=a.value,"true"===a.getAttribute(I)&&t===a.getAttribute(H)&&T.inArray(D,b.keyCode)?(b.preventDefault&&b.preventDefault(),!1):void 0}}function l(a){return function(){d(a,t),""===a.value&&(a.blur(),T.moveCaret(a,0))}}function m(a){return function(){a===c()&&a.value===a.getAttribute(H)&&"true"===a.getAttribute(I)&&T.moveCaret(a,0)}}function n(a){return function(){g(a)}}function o(a){a.form&&(y=a.form,"string"==typeof y&&(y=document.getElementById(y)),y.getAttribute(K)||(T.addEventListener(y,"submit",n(y)),y.setAttribute(K,"true"))),T.addEventListener(a,"focus",i(a)),T.addEventListener(a,"blur",j(a)),r&&(T.addEventListener(a,"keydown",k(a)),T.addEventListener(a,"keyup",l(a)),T.addEventListener(a,"click",m(a))),a.setAttribute(L,"true"),a.setAttribute(H,w),(r||a!==c())&&e(a)}var p,q,r,s,t,u,v,w,x,y,z,A,B,C=["text","search","url","tel","email","password","number","textarea"],D=[27,33,34,35,36,37,38,39,40,8,46],E="#ccc",F="placeholdersjs",G=new RegExp("(?:^|\\s)"+F+"(?!\\S)"),H="data-placeholder-value",I="data-placeholder-active",J="data-placeholder-type",K="data-placeholder-submit",L="data-placeholder-bound",M="data-placeholder-focus",N="data-placeholder-live",O="data-placeholder-maxlength",P=document.createElement("input"),Q=document.getElementsByTagName("head")[0],R=document.documentElement,S=a.Placeholders,T=S.Utils;if(S.nativeSupport=void 0!==P.placeholder,!S.nativeSupport){for(p=document.getElementsByTagName("input"),q=document.getElementsByTagName("textarea"),r="false"===R.getAttribute(M),s="false"!==R.getAttribute(N),u=document.createElement("style"),u.type="text/css",v=document.createTextNode("."+F+" { color:"+E+"; }"),u.styleSheet?u.styleSheet.cssText=v.nodeValue:u.appendChild(v),Q.insertBefore(u,Q.firstChild),B=0,A=p.length+q.length;A>B;B++)z=B<p.length?p[B]:q[B-p.length],w=z.attributes.placeholder,w&&(w=w.nodeValue,w&&T.inArray(C,z.type)&&o(z));x=setInterval(function(){for(B=0,A=p.length+q.length;A>B;B++)z=B<p.length?p[B]:q[B-p.length],w=z.attributes.placeholder,w?(w=w.nodeValue,w&&T.inArray(C,z.type)&&(z.getAttribute(L)||o(z),(w!==z.getAttribute(H)||"password"===z.type&&!z.getAttribute(J))&&("password"===z.type&&!z.getAttribute(J)&&T.changeType(z,"text")&&z.setAttribute(J,"password"),z.value===z.getAttribute(H)&&(z.value=w),z.setAttribute(H,w)))):z.getAttribute(I)&&(d(z),z.removeAttribute(H));s||clearInterval(x)},100)}T.addEventListener(a,"beforeunload",function(){S.disable()}),S.disable=S.nativeSupport?b:g,S.enable=S.nativeSupport?b:h}(this),"createTouch"in document)try{var pattern=/:hover\b/,sheet,rule,selectors,newSelector,selectorAdded,newRule,i,j,k;for(i=0;i<document.styleSheets.length;i++)for(sheet=document.styleSheets[i],j=sheet.cssRules.length-1;j>=0;j--)if(rule=sheet.cssRules[j],rule.type===CSSRule.STYLE_RULE&&pattern.test(rule.selectorText)){for(selectors=rule.selectorText.split(","),newSelector="",selectorAdded=!1,k=0;k<selectors.length;k++)pattern.test(selectors[k])||(selectorAdded?newSelector+=", "+selectors[k]:(newSelector+=selectors[k],selectorAdded=!0));selectorAdded?(newRule=rule.cssText.replace(/([^{]*)?/,newSelector+" "),sheet.deleteRule(j),sheet.insertRule(newRule,j)):sheet.deleteRule(j)}}catch(e){}!function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b,c){var d=(new Date).getTime(),e=Math.max(0,16-(d-a)),f=window.setTimeout(function(){b(d+e)},e);return a=d+e,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),function(a){"use strict";a.richsponsiveImage=function(){var b=$("span[data-picture]").not("[data-picture-ignore], [data-background-image]"),c=!1;$(window).trigger("lazyload"),$.each(b,function(b,d){var e=$(d),f=e.parents(".royalSlider");if(1===f.length)if(1===f.parent().data("total"));else if(0===e.parents(".rsContainer").length)return!0;var g=null;if("true"===e.attr("data-filterby-orientation")){var h="landscape";e.height()>e.width()&&(h="portrait"),g=$("> span[data-orientation='"+h+"']",e)}else g=$("> span",e);var i=[];$.each(g,function(b,c){var d=$(c),e=d.attr("data-media");(!e||a.matchMedia&&a.matchMedia(e).matches)&&i.push(d)});var j=$(".image",e),k=null;if(0!==i.length){var l=i.pop(),m=!0;if(e.hasClass("backgroundImage")){var n=location.protocol+"//"+location.host,o=e.css("background-image"),p='"',q=new RegExp(p,"g");o=o.replace(q,""),p="'",q=new RegExp(p,"g"),o=o.replace(q,""),"none"===o?m=!1:(o==="url("+l.attr("data-src")+")"||o==="url("+n+l.attr("data-src")+")")&&(m=!1)}else if(0!==j.length){var r=$(j[0]);r.parent()[0]!==l[0]?r.remove():m=!1}if(m===!0){if(c=!0,""===l.attr("data-src"))return void(c=!1);if("undefined"!=typeof e.attr("data-background-image")){"data:"===e.css("background-image").substring(5,10)&&(c=!1);var s=e.data("align");"undefined"!==s&&e.css("background-position",s)}else l.append('<img class="image" />'),k=$("img.image",l),k.attr("alt",e.attr("data-alt")),k.attr("src",l.attr("data-src"))}}}),c===!0&&$(window).trigger("resize")}}(this),function(a){function b(b,c){var d,e=this,f=window.navigator,g=f.userAgent.toLowerCase();e.uid=a.rsModules.uid++,e.ns=".rs"+e.uid;var h,i=document.createElement("div").style,j=["webkit","Moz","ms","O"],k="",l=0;for(d=0;d<j.length;d++)h=j[d],!k&&h+"Transform"in i&&(k=h),h=h.toLowerCase(),window.requestAnimationFrame||(window.requestAnimationFrame=window[h+"RequestAnimationFrame"],window.cancelAnimationFrame=window[h+"CancelAnimationFrame"]||window[h+"CancelRequestAnimationFrame"]);window.requestAnimationFrame||(window.requestAnimationFrame=function(a,b){var c=(new Date).getTime(),d=Math.max(0,16-(c-l)),e=window.setTimeout(function(){a(c+d)},d);return l=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)}),e.isIPAD=g.match(/(ipad)/),e.isIOS=e.isIPAD||g.match(/(iphone|ipod)/),d=function(a){return a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[],{browser:a[1]||"",version:a[2]||"0"}}(g),j={},d.browser&&(j[d.browser]=!0,j.version=d.version),j.chrome&&(j.webkit=!0),e._a=j,e.isAndroid=-1<g.indexOf("android"),e.slider=a(b),e.ev=a(e),e._b=a(document),e.st=a.extend({},a.fn.royalSlider.defaults,c),e._c=e.st.transitionSpeed,e._d=0,!e.st.allowCSS3||j.webkit&&!e.st.allowCSS3OnWebkit||(d=k+(k?"T":"t"),e._e=d+"ransform"in i&&d+"ransition"in i,e._e&&(e._f=k+(k?"P":"p")+"erspective"in i)),k=k.toLowerCase(),e._g="-"+k+"-",e._h="vertical"===e.st.slidesOrientation?!1:!0,e._i=e._h?"left":"top",e._j=e._h?"width":"height",e._k=-1,e._l="fade"===e.st.transitionType?!1:!0,e._l||(e.st.sliderDrag=!1,e._m=10),e._n="z-index:0; display:none; opacity:0;",e._o=0,e._p=0,e._q=0,a.each(a.rsModules,function(a,b){"uid"!==a&&b.call(e)}),e.slides=[],e._r=0,(e.st.slides?a(e.st.slides):e.slider.children().detach()).each(function(){e._s(this,!0)}),e.st.randomizeSlides&&e.slides.sort(function(){return.5-Math.random()}),e.numSlides=e.slides.length,e._t(),e.st.startSlideId?e.st.startSlideId>e.numSlides-1&&(e.st.startSlideId=e.numSlides-1):e.st.startSlideId=0,e._o=e.staticSlideId=e.currSlideId=e._u=e.st.startSlideId,e.currSlide=e.slides[e.currSlideId],e._v=0,e.pointerMultitouch=!1,e.slider.addClass((e._h?"rsHor":"rsVer")+(e._l?"":" rsFade")),i='<div class="rsOverflow"><div class="rsContainer">',e.slidesSpacing=e.st.slidesSpacing,e._w=(e._h?e.slider.width():e.slider.height())+e.st.slidesSpacing,e._x=Boolean(0<e._y),1>=e.numSlides&&(e._z=!1),e._a1=e._z&&e._l?2===e.numSlides?1:2:0,e._b1=6>e.numSlides?e.numSlides:6,e._c1=0,e._d1=0,e.slidesJQ=[];for(d=0;d<e.numSlides;d++)e.slidesJQ.push(a('<div style="'+(e._l?"":d!==e.currSlideId?e._n:"z-index:0;")+'" class="rsSlide "></div>'));e._e1=i=a(i+"</div></div>");var m=e.ns,k=function(a,b,c,d,f){e._j1=a+b+m,e._k1=a+c+m,e._l1=a+d+m,f&&(e._m1=a+f+m)};d=f.pointerEnabled,e.pointerEnabled=d||f.msPointerEnabled,e.pointerEnabled?(e.hasTouch=!1,e._n1=.2,e.pointerMultitouch=Boolean(1<f[(d?"m":"msM")+"axTouchPoints"]),d?k("pointer","down","move","up","cancel"):k("MSPointer","Down","Move","Up","Cancel")):(e.isIOS?e._j1=e._k1=e._l1=e._m1="":k("mouse","down","move","up"),"ontouchstart"in window||"createTouch"in document?(e.hasTouch=!0,e._j1+=" touchstart"+m,e._k1+=" touchmove"+m,e._l1+=" touchend"+m,e._m1+=" touchcancel"+m,e._n1=.5,e.st.sliderTouch&&(e._f1=!0)):(e.hasTouch=!1,e._n1=.2)),e.st.sliderDrag&&(e._f1=!0,j.msie||j.opera?e._g1=e._h1="move":j.mozilla?(e._g1="-moz-grab",e._h1="-moz-grabbing"):j.webkit&&-1!=f.platform.indexOf("Mac")&&(e._g1="-webkit-grab",e._h1="-webkit-grabbing"),e._i1()),e.slider.html(i),e._o1=e.st.controlsInside?e._e1:e.slider,e._p1=e._e1.children(".rsContainer"),e.pointerEnabled&&e._p1.css((d?"":"-ms-")+"touch-action",e._h?"pan-y":"pan-x"),e._q1=a('<div class="rsPreloader"></div>'),f=e._p1.children(".rsSlide"),e._r1=e.slidesJQ[e.currSlideId],e._s1=0,e._e?(e._t1="transition-property",e._u1="transition-duration",e._v1="transition-timing-function",e._w1=e._x1=e._g+"transform",e._f?(j.webkit&&!j.chrome&&e.slider.addClass("rsWebkit3d"),e._y1="translate3d(",e._z1="px, ",e._a2="px, 0px)"):(e._y1="translate(",e._z1="px, ",e._a2="px)"),e._l?e._p1[e._g+e._t1]=e._g+"transform":(j={},j[e._g+e._t1]="opacity",j[e._g+e._u1]=e.st.transitionSpeed+"ms",j[e._g+e._v1]=e.st.css3easeInOut,f.css(j))):(e._x1="left",e._w1="top");var n;a(window).on("resize"+e.ns,function(){n&&clearTimeout(n),n=setTimeout(function(){e.updateSliderSize()},50)}),e.ev.trigger("rsAfterPropsSetup"),e.updateSliderSize(),e.st.keyboardNavEnabled&&e._b2(),e.st.arrowsNavHideOnTouch&&(e.hasTouch||e.pointerMultitouch)&&(e.st.arrowsNav=!1),e.st.arrowsNav&&(f=e._o1,a('<div class="rsArrow rsArrowLeft"><div class="rsArrowIcn"></div></div><div class="rsArrow rsArrowRight"><div class="rsArrowIcn"></div></div>').appendTo(f),e._c2=f.children(".rsArrowLeft").click(function(a){a.preventDefault(),e.prev()}),e._d2=f.children(".rsArrowRight").click(function(a){a.preventDefault(),e.next()}),e.st.arrowsNavAutoHide&&!e.hasTouch&&(e._c2.addClass("rsHidden"),e._d2.addClass("rsHidden"),f.one("mousemove.arrowshover",function(){e._c2.removeClass("rsHidden"),e._d2.removeClass("rsHidden")}),f.hover(function(){e._e2||(e._c2.removeClass("rsHidden"),e._d2.removeClass("rsHidden"))},function(){e._e2||(e._c2.addClass("rsHidden"),e._d2.addClass("rsHidden"))})),e.ev.on("rsOnUpdateNav",function(){e._f2()}),e._f2()),e._f1?e._p1.on(e._j1,function(a){e._g2(a)}):e.dragSuccess=!1;var o=["rsPlayBtnIcon","rsPlayBtn","rsCloseVideoBtn","rsCloseVideoIcn"];e._p1.click(function(b){if(!e.dragSuccess){var c=a(b.target).attr("class");if(-1!==a.inArray(c,o)&&e.toggleVideo())return!1;if(e.st.navigateByClick&&!e._h2){if(a(b.target).closest(".rsNoDrag",e._r1).length)return!0;e._i2(b)}e.ev.trigger("rsSlideClick",b)}}).on("click.rs","a",function(a){return e.dragSuccess?!1:(e._h2=!0,void setTimeout(function(){e._h2=!1},3))}),e.ev.trigger("rsAfterInit")}a.rsModules||(a.rsModules={uid:0}),b.prototype={constructor:b,_i2:function(a){a=a[this._h?"pageX":"pageY"]-this._j2,a>=this._q?this.next():0>a&&this.prev()},_t:function(){var a;a=this.st.numImagesToPreload,(this._z=this.st.loop)&&(2===this.numSlides?(this._z=!1,this.st.loopRewind=!0):2>this.numSlides&&(this.st.loopRewind=this._z=!1)),this._z&&a>0&&(4>=this.numSlides?a=1:this.st.numImagesToPreload>(this.numSlides-1)/2&&(a=Math.floor((this.numSlides-1)/2))),this._y=a},_s:function(b,c){function d(a,b){if(b?h.images.push(a.attr(b)):h.images.push(a.text()),i){i=!1,h.caption="src"===b?a.attr("alt"):a.contents(),h.image=h.images[0],h.videoURL=a.attr("data-rsVideo");var c=a.attr("data-rsw"),d=a.attr("data-rsh");"undefined"!=typeof c&&!1!==c&&"undefined"!=typeof d&&!1!==d?(h.iW=parseInt(c,10),h.iH=parseInt(d,10)):g.st.imgWidth&&g.st.imgHeight&&(h.iW=g.st.imgWidth,h.iH=g.st.imgHeight)}}var e,f,g=this,h={},i=!0;return b=a(b),g._k2=b,g.ev.trigger("rsBeforeParseNode",[b,h]),h.stopParsing?void 0:(b=g._k2,h.id=g._r,h.contentAdded=!1,g._r++,h.images=[],h.isBig=!1,h.hasCover||(b.hasClass("rsImg")?(f=b,e=!0):(f=b.find(".rsImg"),f.length&&(e=!0)),e?(h.bigImage=f.eq(0).attr("data-rsBigImg"),f.each(function(){var b=a(this);b.is("a")?d(b,"href"):b.is("img")?d(b,"src"):d(b)})):b.is("img")&&(b.addClass("rsImg rsMainSlideImage"),d(b,"src"))),f=b.find(".rsCaption"),f.length&&(h.caption=f.remove()),h.content=b,g.ev.trigger("rsAfterParseNode",[b,h]),c&&g.slides.push(h),0===h.images.length&&(h.isLoaded=!0,h.isRendered=!1,h.isLoading=!1,h.images=null),h)},_b2:function(){var a,b,c=this,d=function(a){37===a?c.prev():39===a&&c.next()};c._b.on("keydown"+c.ns,function(e){c._l2||(b=e.keyCode,37!==b&&39!==b||a||(d(b),a=setInterval(function(){d(b)},700)))}).on("keyup"+c.ns,function(b){a&&(clearInterval(a),a=null)})},goTo:function(a,b){a!==this.currSlideId&&this._m2(a,this.st.transitionSpeed,!0,!b)},destroy:function(b){this.ev.trigger("rsBeforeDestroy"),this._b.off("keydown"+this.ns+" keyup"+this.ns+" "+this._k1+" "+this._l1),this._p1.off(this._j1+" click"),this.slider.data("royalSlider",null),a.removeData(this.slider,"royalSlider"),a(window).off("resize"+this.ns),this.loadingTimeout&&clearTimeout(this.loadingTimeout),b&&this.slider.remove(),this.ev=this.slider=this.slides=null},_n2:function(b,c){function d(c,d,g){c.isAdded?(e(d,c),f(d,c)):(g||(g=j.slidesJQ[d]),c.holder?g=c.holder:(g=j.slidesJQ[d]=a(g),c.holder=g),c.appendOnLoaded=!1,f(d,c,g),e(d,c),j._p2(c,g,b),c.isAdded=!0)}function e(a,c){c.contentAdded||(j.setItemHtml(c,b),b||(c.contentAdded=!0))}function f(a,b,c){j._l&&(c||(c=j.slidesJQ[a]),c.css(j._i,(a+j._d1+m)*j._w))}function g(a){if(k){if(a>l-1)return g(a-l);if(0>a)return g(l+a)}return a}var h,i,j=this,k=j._z,l=j.numSlides;if(!isNaN(c))return g(c);var m,n,o=j.currSlideId,p=b?Math.abs(j._o2-j.currSlideId)>=j.numSlides-1?0:1:j._y,q=Math.min(2,p),r=!1,s=!1;for(i=o;o+1+q>i;i++)if(n=g(i),(h=j.slides[n])&&(!h.isAdded||!h.positionSet)){r=!0;break}for(i=o-1;i>o-1-q;i--)if(n=g(i),(h=j.slides[n])&&(!h.isAdded||!h.positionSet)){s=!0;break}if(r)for(i=o;o+p+1>i;i++)n=g(i),m=Math.floor((j._u-(o-i))/j.numSlides)*j.numSlides,(h=j.slides[n])&&d(h,n);if(s)for(i=o-1;i>o-1-p;i--)n=g(i),m=Math.floor((j._u-(o-i))/l)*l,(h=j.slides[n])&&d(h,n);if(!b)for(q=g(o-p),o=g(o+p),p=q>o?0:q,i=0;l>i;i++)q>o&&i>q-1||!(p>i||i>o)||(h=j.slides[i])&&h.holder&&(h.holder.detach(),h.isAdded=!1)},setItemHtml:function(b,c){var d=this,e=function(){if(b.images){if(!b.isLoading){var c,e;if(b.content.hasClass("rsImg")?(c=b.content,e=!0):c=b.content.find(".rsImg:not(img)"),c&&!c.is("img")&&c.each(function(){var c=a(this),d='<img class="rsImg" src="'+(c.is("a")?c.attr("href"):c.text())+'" />';e?b.content=a(d):c.replaceWith(d)}),c=e?b.content:b.content.find("img.rsImg"),j(),c.eq(0).addClass("rsMainSlideImage"),b.iW&&b.iH&&(b.isLoaded||d._q2(b),h()),b.isLoading=!0,b.isBig)a("<img />").on("load.rs error.rs",function(b){a(this).off("load.rs error.rs"),f([this],!0)}).attr("src",b.image);else{b.loaded=[],b.numStartedLoad=0,c=function(c){a(this).off("load.rs error.rs"),b.loaded.push(this),b.loaded.length===b.numStartedLoad&&f(b.loaded,!1)};for(var g=0;g<b.images.length;g++){var i=a("<img />");b.numStartedLoad++,i.on("load.rs error.rs",c).attr("src",b.images[g])}}}}else b.isRendered=!0,b.isLoaded=!0,b.isLoading=!1,h(!0)},f=function(a,c){if(a.length){var d=a[0];if(c!==b.isBig)(d=b.holder.children())&&1<d.length&&k();else if(b.iW&&b.iH)g();else if(b.iW=d.width,b.iH=d.height,b.iW&&b.iH)g();else{var e=new Image;e.onload=function(){e.width?(b.iW=e.width,b.iH=e.height,g()):setTimeout(function(){e.width&&(b.iW=e.width,b.iH=e.height),g()},1e3)},e.src=d.src}}else g()},g=function(){b.isLoaded=!0,b.isLoading=!1,h(),k(),i()},h=function(){if(!b.isAppended&&d.ev){var a=d.st.visibleNearby,e=b.id-d._o;c||b.appendOnLoaded||!d.st.fadeinLoadedSlide||0!==e&&(!(a||d._r2||d._l2)||-1!==e&&1!==e)||(a={visibility:"visible",opacity:0},a[d._g+"transition"]="opacity 400ms ease-in-out",b.content.css(a),setTimeout(function(){b.content.css("opacity",1)},16)),b.holder.find(".rsPreloader").length?b.holder.append(b.content):b.holder.html(b.content),b.isAppended=!0,b.isLoaded&&(d._q2(b),i()),b.sizeReady||(b.sizeReady=!0,setTimeout(function(){d.ev.trigger("rsMaybeSizeReady",b)},100))}},i=function(){!b.loadedTriggered&&d.ev&&(b.isLoaded=b.loadedTriggered=!0,b.holder.trigger("rsAfterContentSet"),d.ev.trigger("rsAfterContentSet",b))},j=function(){d.st.usePreloader&&b.holder.html(d._q1.clone())},k=function(a){d.st.usePreloader&&(a=b.holder.find(".rsPreloader"),a.length&&a.remove())};b.isLoaded?h():c?!d._l&&b.images&&b.iW&&b.iH?e():(b.holder.isWaiting=!0,j(),b.holder.slideId=-99):e()},_p2:function(a,b,c){this._p1.append(a.holder),a.appendOnLoaded=!1},_g2:function(b,c){var d,e=this,f="touchstart"===b.type;if(e._s2=f,e.ev.trigger("rsDragStart"),a(b.target).closest(".rsNoDrag",e._r1).length)return e.dragSuccess=!1,!0;if(!c&&e._r2&&(e._t2=!0,e._u2()),e.dragSuccess=!1,e._l2)f&&(e._v2=!0);else{if(f&&(e._v2=!1),e._w2(),f){var g=b.originalEvent.touches;if(!(g&&0<g.length))return;d=g[0],1<g.length&&(e._v2=!0)}else b.preventDefault(),d=b,e.pointerEnabled&&(d=d.originalEvent);e._l2=!0,e._b.on(e._k1,function(a){e._x2(a,c)}).on(e._l1,function(a){e._y2(a,c)}),e._z2="",e._a3=!1,e._b3=d.pageX,e._c3=d.pageY,e._d3=e._v=(c?e._e3:e._h)?d.pageX:d.pageY,e._f3=0,e._g3=0,e._h3=c?e._i3:e._p,e._j3=(new Date).getTime(),f&&e._e1.on(e._m1,function(a){e._y2(a,c)})}},_k3:function(a,b){if(this._l3){var c=this._m3,d=a.pageX-this._b3,e=a.pageY-this._c3,f=this._h3+d,g=this._h3+e,h=b?this._e3:this._h,f=h?f:g,g=this._z2;this._a3=!0,this._b3=a.pageX,this._c3=a.pageY,"x"===g&&0!==d?this._f3=d>0?1:-1:"y"===g&&0!==e&&(this._g3=e>0?1:-1),g=h?this._b3:this._c3,d=h?d:e,b?f>this._n3?f=this._h3+d*this._n1:f<this._o3&&(f=this._h3+d*this._n1):this._z||(0>=this.currSlideId&&0<g-this._d3&&(f=this._h3+d*this._n1),this.currSlideId>=this.numSlides-1&&0>g-this._d3&&(f=this._h3+d*this._n1)),this._h3=f,200<c-this._j3&&(this._j3=c,this._v=g),b?this._q3(this._h3):this._l&&this._p3(this._h3)}},_x2:function(a,b){var c,d=this,e="touchmove"===a.type;if(!d._s2||e){if(e){if(d._r3)return;var f=a.originalEvent.touches;if(!f)return;if(1<f.length)return;c=f[0]}else c=a,d.pointerEnabled&&(c=c.originalEvent);if(d._a3||(d._e&&(b?d._s3:d._p1).css(d._g+d._u1,"0s"),function g(){d._l2&&(d._t3=requestAnimationFrame(g),d._u3&&d._k3(d._u3,b))}()),d._l3)a.preventDefault(),d._m3=(new Date).getTime(),d._u3=c;else if(f=b?d._e3:d._h,c=Math.abs(c.pageX-d._b3)-Math.abs(c.pageY-d._c3)-(f?-7:7),c>7){if(f)a.preventDefault(),d._z2="x";else if(e)return void d._v3(a);d._l3=!0}else if(-7>c){if(f){if(e)return void d._v3(a)}else a.preventDefault(),d._z2="y";d._l3=!0}}},_v3:function(a,b){this._r3=!0,this._a3=this._l2=!1,this._y2(a)},_y2:function(b,c){function d(a){return 100>a?100:a>500?500:a}function e(a,b){(j._l||c)&&(h=(-j._u-j._d1)*j._w,i=Math.abs(j._p-h),j._c=i/b,a&&(j._c+=250),j._c=d(j._c),j._x3(h,!1))}var f,g,h,i,j=this;if(f=-1<b.type.indexOf("touch"),!j._s2||f)if(j._s2=!1,j.ev.trigger("rsDragRelease"),j._u3=null,j._l2=!1,j._r3=!1,j._l3=!1,j._m3=0,cancelAnimationFrame(j._t3),j._a3&&(c?j._q3(j._h3):j._l&&j._p3(j._h3)),j._b.off(j._k1).off(j._l1),f&&j._e1.off(j._m1),j._i1(),!j._a3&&!j._v2&&c&&j._w3){var k=a(b.target).closest(".rsNavItem");k.length&&j.goTo(k.index())}else{if(g=c?j._e3:j._h,!j._a3||"y"===j._z2&&g||"x"===j._z2&&!g){if(c||!j._t2)return j._t2=!1,void(j.dragSuccess=!1);if(j._t2=!1,j.st.navigateByClick)return j._i2(j.pointerEnabled?b.originalEvent:b),void(j.dragSuccess=!0);j.dragSuccess=!0}else j.dragSuccess=!0;j._t2=!1,j._z2="";var l=j.st.minSlideOffset;f=f?b.originalEvent.changedTouches[0]:j.pointerEnabled?b.originalEvent:b;var m=g?f.pageX:f.pageY,n=j._d3;f=j._v;var o=j.currSlideId,p=j.numSlides,q=g?j._f3:j._g3,r=j._z;if(Math.abs(m-n),f=m-f,g=(new Date).getTime()-j._j3,g=Math.abs(f)/g,0===q||1>=p)e(!0,g);else{if(!r&&!c)if(0>=o){if(q>0)return void e(!0,g)}else if(o>=p-1&&0>q)return void e(!0,g);if(c){if(h=j._i3,h>j._n3)h=j._n3;else if(h<j._o3)h=j._o3;else{if(m=g*g/.006,k=-j._i3,n=j._y3-j._z3+j._i3,f>0&&m>k?(k+=j._z3/(15/(m/g*.003)),g=g*k/m,m=k):0>f&&m>n&&(n+=j._z3/(15/(m/g*.003)),g=g*n/m,m=n),k=Math.max(Math.round(g/.003),50),h+=m*(0>f?-1:1),h>j._n3)return void j._a4(h,k,!0,j._n3,200);if(h<j._o3)return void j._a4(h,k,!0,j._o3,200)}j._a4(h,k,!0)}else k=function(a){var b=Math.floor(a/j._w);return a-b*j._w>l&&b++,b},m>n+l?0>q?e(!1,g):(k=k(m-n),j._m2(j.currSlideId-k,d(Math.abs(j._p-(-j._u-j._d1+k)*j._w)/g),!1,!0,!0)):n-l>m?q>0?e(!1,g):(k=k(n-m),j._m2(j.currSlideId+k,d(Math.abs(j._p-(-j._u-j._d1-k)*j._w)/g),!1,!0,!0)):e(!1,g)}}},_p3:function(a){a=this._p=a,this._e?this._p1.css(this._x1,this._y1+(this._h?a+this._z1+0:0+this._z1+a)+this._a2):this._p1.css(this._h?this._x1:this._w1,a)},updateSliderSize:function(a){var b,c;if(this.st.autoScaleSlider){var d=this.st.autoScaleSliderWidth,e=this.st.autoScaleSliderHeight;this.st.autoScaleHeight?(b=this.slider.width(),b!=this.width&&(this.slider.css("height",e/d*b),b=this.slider.width()),c=this.slider.height()):(c=this.slider.height(),
c!=this.height&&(this.slider.css("width",d/e*c),c=this.slider.height()),b=this.slider.width())}else b=this.slider.width(),c=this.slider.height();if(a||b!=this.width||c!=this.height){for(this.width=b,this.height=c,this._b4=b,this._c4=c,this.ev.trigger("rsBeforeSizeSet"),this.ev.trigger("rsAfterSizePropSet"),this._e1.css({width:this._b4,height:this._c4}),this._w=(this._h?this._b4:this._c4)+this.st.slidesSpacing,this._d4=this.st.imageScalePadding,b=0;b<this.slides.length;b++)a=this.slides[b],a.positionSet=!1,a&&a.images&&a.isLoaded&&(a.isRendered=!1,this._q2(a));if(this._e4)for(b=0;b<this._e4.length;b++)a=this._e4[b],a.holder.css(this._i,(a.id+this._d1)*this._w);this._n2(),this._l&&(this._e&&this._p1.css(this._g+"transition-duration","0s"),this._p3((-this._u-this._d1)*this._w)),this.ev.trigger("rsOnUpdateNav")}this._j2=this._e1.offset(),this._j2=this._j2[this._i]},appendSlide:function(b,c){var d=this._s(b);(isNaN(c)||c>this.numSlides)&&(c=this.numSlides),this.slides.splice(c,0,d),this.slidesJQ.splice(c,0,a('<div style="'+(this._l?"position:absolute;":this._n)+'" class="rsSlide"></div>')),c<this.currSlideId&&this.currSlideId++,this.ev.trigger("rsOnAppendSlide",[d,c]),this._f4(c),c===this.currSlideId&&this.ev.trigger("rsAfterSlideChange")},removeSlide:function(a){var b=this.slides[a];b&&(b.holder&&b.holder.remove(),a<this.currSlideId&&this.currSlideId--,this.slides.splice(a,1),this.slidesJQ.splice(a,1),this.ev.trigger("rsOnRemoveSlide",[a]),this._f4(a),a===this.currSlideId&&this.ev.trigger("rsAfterSlideChange"))},_f4:function(a){var b=this;for(a=b.numSlides,a=0>=b._u?0:Math.floor(b._u/a),b.numSlides=b.slides.length,0===b.numSlides?(b.currSlideId=b._d1=b._u=0,b.currSlide=b._g4=null):b._u=a*b.numSlides+b.currSlideId,a=0;a<b.numSlides;a++)b.slides[a].id=a;b.currSlide=b.slides[b.currSlideId],b._r1=b.slidesJQ[b.currSlideId],b.currSlideId>=b.numSlides?b.goTo(b.numSlides-1):0>b.currSlideId&&b.goTo(0),b._t(),b._l&&b._z&&b._p1.css(b._g+b._u1,"0ms"),b._h4&&clearTimeout(b._h4),b._h4=setTimeout(function(){b._l&&b._p3((-b._u-b._d1)*b._w),b._n2(),b._l||b._r1.css({display:"block",opacity:1})},14),b.ev.trigger("rsOnUpdateNav")},_i1:function(){this._f1&&this._l&&(this._g1?this._e1.css("cursor",this._g1):(this._e1.removeClass("grabbing-cursor"),this._e1.addClass("grab-cursor")))},_w2:function(){this._f1&&this._l&&(this._h1?this._e1.css("cursor",this._h1):(this._e1.removeClass("grab-cursor"),this._e1.addClass("grabbing-cursor")))},next:function(a){this._m2("next",this.st.transitionSpeed,!0,!a)},prev:function(a){this._m2("prev",this.st.transitionSpeed,!0,!a)},_m2:function(a,b,c,d,e){var f,g,h,i=this;if(i.ev.trigger("rsBeforeMove",[a,d]),h="next"===a?i.currSlideId+1:"prev"===a?i.currSlideId-1:a=parseInt(a,10),!i._z){if(0>h)return void i._i4("left",!d);if(h>=i.numSlides)return void i._i4("right",!d)}i._r2&&(i._u2(!0),c=!1),g=h-i.currSlideId,h=i._o2=i.currSlideId;var j=i.currSlideId+g;d=i._u;var k;i._z?(j=i._n2(!1,j),d+=g):d=j,i._o=j,i._g4=i.slidesJQ[i.currSlideId],i._u=d,i.currSlideId=i._o,i.currSlide=i.slides[i.currSlideId],i._r1=i.slidesJQ[i.currSlideId];var j=i.st.slidesDiff,l=Boolean(g>0);g=Math.abs(g);var m=Math.floor(h/i._y),n=Math.floor((h+(l?j:-j))/i._y),m=(l?Math.max(m,n):Math.min(m,n))*i._y+(l?i._y-1:0);if(m>i.numSlides-1?m=i.numSlides-1:0>m&&(m=0),h=l?m-h:h-m,h>i._y&&(h=i._y),g>h+j)for(i._d1+=(g-(h+j))*(l?-1:1),b*=1.4,h=0;h<i.numSlides;h++)i.slides[h].positionSet=!1;i._c=b,i._n2(!0),e||(k=!0),f=(-d-i._d1)*i._w,k?setTimeout(function(){i._j4=!1,i._x3(f,a,!1,c),i.ev.trigger("rsOnUpdateNav")},0):(i._x3(f,a,!1,c),i.ev.trigger("rsOnUpdateNav"))},_f2:function(){this.st.arrowsNav&&(1>=this.numSlides?(this._c2.css("display","none"),this._d2.css("display","none")):(this._c2.css("display","block"),this._d2.css("display","block"),this._z||this.st.loopRewind||(0===this.currSlideId?this._c2.addClass("rsArrowDisabled"):this._c2.removeClass("rsArrowDisabled"),this.currSlideId===this.numSlides-1?this._d2.addClass("rsArrowDisabled"):this._d2.removeClass("rsArrowDisabled"))))},_x3:function(b,c,d,e,f){function g(){var a;h&&(a=h.data("rsTimeout"))&&(h!==i&&h.css({opacity:0,display:"none",zIndex:0}),clearTimeout(a),h.data("rsTimeout","")),(a=i.data("rsTimeout"))&&(clearTimeout(a),i.data("rsTimeout",""))}var h,i,j=this,k={};isNaN(j._c)&&(j._c=400),j._p=j._h3=b,j.ev.trigger("rsBeforeAnimStart"),j._e?j._l?(j._c=parseInt(j._c,10),d=j._g+j._v1,k[j._g+j._u1]=j._c+"ms",k[d]=e?a.rsCSS3Easing[j.st.easeInOut]:a.rsCSS3Easing[j.st.easeOut],j._p1.css(k),e||!j.hasTouch?setTimeout(function(){j._p3(b)},5):j._p3(b)):(j._c=j.st.transitionSpeed,h=j._g4,i=j._r1,i.data("rsTimeout")&&i.css("opacity",0),g(),h&&h.data("rsTimeout",setTimeout(function(){k[j._g+j._u1]="0ms",k.zIndex=0,k.display="none",h.data("rsTimeout",""),h.css(k),setTimeout(function(){h.css("opacity",0)},16)},j._c+60)),k.display="block",k.zIndex=j._m,k.opacity=0,k[j._g+j._u1]="0ms",k[j._g+j._v1]=a.rsCSS3Easing[j.st.easeInOut],i.css(k),i.data("rsTimeout",setTimeout(function(){i.css(j._g+j._u1,j._c+"ms"),i.data("rsTimeout",setTimeout(function(){i.css("opacity",1),i.data("rsTimeout","")},20))},20))):j._l?(k[j._h?j._x1:j._w1]=b+"px",j._p1.animate(k,j._c,e?j.st.easeInOut:j.st.easeOut)):(h=j._g4,i=j._r1,i.stop(!0,!0).css({opacity:0,display:"block",zIndex:j._m}),j._c=j.st.transitionSpeed,i.animate({opacity:1},j._c,j.st.easeInOut),g(),h&&h.data("rsTimeout",setTimeout(function(){h.stop(!0,!0).css({opacity:0,display:"none",zIndex:0})},j._c+60))),j._r2=!0,j.loadingTimeout&&clearTimeout(j.loadingTimeout),j.loadingTimeout=f?setTimeout(function(){j.loadingTimeout=null,f.call()},j._c+60):setTimeout(function(){j.loadingTimeout=null,j._k4(c)},j._c+60)},_u2:function(a){if(this._r2=!1,clearTimeout(this.loadingTimeout),this._l)if(this._e){if(!a){a=this._p;var b=this._h3=this._l4();this._p1.css(this._g+this._u1,"0ms"),a!==b&&this._p3(b)}}else this._p1.stop(!0),this._p=parseInt(this._p1.css(this._x1),10);else 20<this._m?this._m=10:this._m++},_l4:function(){var a=window.getComputedStyle(this._p1.get(0),null).getPropertyValue(this._g+"transform").replace(/^matrix\(/i,"").split(/, |\)$/g),b=0===a[0].indexOf("matrix3d");return parseInt(a[this._h?b?12:4:b?13:5],10)},_m4:function(a,b){return this._e?this._y1+(b?a+this._z1+0:0+this._z1+a)+this._a2:a},_k4:function(a){this._l||(this._r1.css("z-index",0),this._m=10),this._r2=!1,this.staticSlideId=this.currSlideId,this._n2(),this._n4=!1,this.ev.trigger("rsAfterSlideChange")},_i4:function(a,b){var c=this,d=(-c._u-c._d1)*c._w;if(0!==c.numSlides&&!c._r2)if(c.st.loopRewind)c.goTo("left"===a?c.numSlides-1:0,b);else if(c._l){c._c=200;var e=function(){c._r2=!1};c._x3(d+("left"===a?30:-30),"",!1,!0,function(){c._r2=!1,c._x3(d,"",!1,!0,e)})}},_q2:function(a,b){if(!a.isRendered){var c,d,e=a.content,f="rsMainSlideImage",g=this.st.imageAlignCenter,h=this.st.imageScaleMode;if(a.videoURL&&(f="rsVideoContainer","fill"!==h?c=!0:(d=e,d.hasClass(f)||(d=d.find("."+f)),d.css({width:"100%",height:"100%"}),f="rsMainSlideImage")),e.hasClass(f)||(e=e.find("."+f)),e){var i=a.iW,j=a.iH;if(a.isRendered=!0,"none"!==h||g){f="fill"!==h?this._d4:0,d=this._b4-2*f;var k,l,m=this._c4-2*f,n={};"fit-if-smaller"===h&&(i>d||j>m)&&(h="fit"),("fill"===h||"fit"===h)&&(k=d/i,l=m/j,k="fill"==h?k>l?k:l:"fit"==h?l>k?k:l:1,i=Math.ceil(i*k,10),j=Math.ceil(j*k,10)),"none"!==h&&(n.width=i,n.height=j,c&&e.find(".rsImg").css({width:"100%",height:"100%"})),g&&(n.marginLeft=Math.floor((d-i)/2)+f,n.marginTop=Math.floor((m-j)/2)+f),e.css(n)}}}}},a.rsProto=b.prototype,a.fn.royalSlider=function(c){var d=arguments;return this.each(function(){var e=a(this);if("object"!=typeof c&&c){if((e=e.data("royalSlider"))&&e[c])return e[c].apply(e,Array.prototype.slice.call(d,1))}else e.data("royalSlider")||e.data("royalSlider",new b(e,c))})},a.fn.royalSlider.defaults={slidesSpacing:8,startSlideId:0,loop:!1,loopRewind:!1,numImagesToPreload:4,fadeinLoadedSlide:!0,slidesOrientation:"horizontal",transitionType:"move",transitionSpeed:600,controlNavigation:"bullets",controlsInside:!0,arrowsNav:!0,arrowsNavAutoHide:!0,navigateByClick:!0,randomizeSlides:!1,sliderDrag:!0,sliderTouch:!0,keyboardNavEnabled:!1,fadeInAfterLoaded:!0,allowCSS3:!0,allowCSS3OnWebkit:!0,addActiveClass:!1,autoHeight:!1,easeOut:"easeOutSine",easeInOut:"easeInOutSine",minSlideOffset:10,imageScaleMode:"fit-if-smaller",imageAlignCenter:!0,imageScalePadding:4,usePreloader:!0,autoScaleSlider:!1,autoScaleSliderWidth:800,autoScaleSliderHeight:400,autoScaleHeight:!0,arrowsNavHideOnTouch:!1,globalCaption:!1,slidesDiff:2},a.rsCSS3Easing={easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)"},a.extend(jQuery.easing,{easeInOutSine:function(a,b,c,d,e){return-d/2*(Math.cos(Math.PI*b/e)-1)+c},easeOutSine:function(a,b,c,d,e){return d*Math.sin(b/e*(Math.PI/2))+c},easeOutCubic:function(a,b,c,d,e){return d*((b=b/e-1)*b*b+1)+c}})}(jQuery,window),function(a){a.extend(a.rsProto,{_i5:function(){var b=this;"bullets"===b.st.controlNavigation&&(b.ev.one("rsAfterPropsSetup",function(){b._j5=!0,b.slider.addClass("rsWithBullets");for(var c='<div class="rsNav rsBullets">',d=0;d<b.numSlides;d++)c+='<div class="rsNavItem rsBullet"><span></span></div>';b._k5=c=a(c+"</div>"),b._l5=c.appendTo(b.slider).children(),b._k5.on("click.rs",".rsNavItem",function(c){b._m5||b.goTo(a(this).index())})}),b.ev.on("rsOnAppendSlide",function(a,c,d){d>=b.numSlides?b._k5.append('<div class="rsNavItem rsBullet"><span></span></div>'):b._l5.eq(d).before('<div class="rsNavItem rsBullet"><span></span></div>'),b._l5=b._k5.children()}),b.ev.on("rsOnRemoveSlide",function(a,c){var d=b._l5.eq(c);d&&d.length&&(d.remove(),b._l5=b._k5.children())}),b.ev.on("rsOnUpdateNav",function(){var a=b.currSlideId;b._n5&&b._n5.removeClass("rsNavSelected"),a=b._l5.eq(a),a.addClass("rsNavSelected"),b._n5=a}))}}),a.rsModules.bullets=a.rsProto._i5}(jQuery),function(a){a.extend(a.rsProto,{_h6:function(){var b=this;"thumbnails"===b.st.controlNavigation&&(b._i6={drag:!0,touch:!0,orientation:"horizontal",navigation:!0,arrows:!0,arrowLeft:null,arrowRight:null,spacing:4,arrowsAutoHide:!1,appendSpan:!1,transitionSpeed:600,autoCenter:!0,fitInViewport:!0,firstMargin:!0,paddingTop:0,paddingBottom:0},b.st.thumbs=a.extend({},b._i6,b.st.thumbs),b._j6=!0,!1===b.st.thumbs.firstMargin?b.st.thumbs.firstMargin=0:!0===b.st.thumbs.firstMargin&&(b.st.thumbs.firstMargin=b.st.thumbs.spacing),b.ev.on("rsBeforeParseNode",function(b,c,d){c=a(c),d.thumbnail=c.find(".rsTmb").remove(),d.thumbnail.length?d.thumbnail=a(document.createElement("div")).append(d.thumbnail).html():(d.thumbnail=c.attr("data-rsTmb"),d.thumbnail||(d.thumbnail=c.find(".rsImg").attr("data-rsTmb")),d.thumbnail=d.thumbnail?'<img src="'+d.thumbnail+'"/>':"")}),b.ev.one("rsAfterPropsSetup",function(){b._k6()}),b._n5=null,b.ev.on("rsOnUpdateNav",function(){var c=a(b._l5[b.currSlideId]);c!==b._n5&&(b._n5&&(b._n5.removeClass("rsNavSelected"),b._n5=null),b._l6&&b._m6(b.currSlideId),b._n5=c.addClass("rsNavSelected"))}),b.ev.on("rsOnAppendSlide",function(a,c,d){a="<div"+b._n6+' class="rsNavItem rsThumb">'+b._o6+c.thumbnail+"</div>",d>=b.numSlides?b._s3.append(a):b._l5.eq(d).before(a),b._l5=b._s3.children(),b.updateThumbsSize()}),b.ev.on("rsOnRemoveSlide",function(a,c){var d=b._l5.eq(c);d&&(d.remove(),b._l5=b._s3.children(),b.updateThumbsSize())}))},_k6:function(){var b,c,d=this,e="rsThumbs",f=d.st.thumbs,g="",h=f.spacing;d._j5=!0,d._e3="vertical"===f.orientation?!1:!0,d._n6=b=h?' style="margin-'+(d._e3?"right":"bottom")+":"+h+'px;"':"",d._i3=0,d._p6=!1,d._m5=!1,d._l6=!1,d._q6=f.arrows&&f.navigation,c=d._e3?"Hor":"Ver",d.slider.addClass("rsWithThumbs rsWithThumbs"+c),g+='<div class="rsNav rsThumbs rsThumbs'+c+'"><div class="'+e+'Container">',d._o6=f.appendSpan?'<span class="thumbIco"></span>':"";for(var i=0;i<d.numSlides;i++)c=d.slides[i],g+="<div"+b+' class="rsNavItem rsThumb">'+c.thumbnail+d._o6+"</div>";g=a(g+"</div></div>"),b={},f.paddingTop&&(b[d._e3?"paddingTop":"paddingLeft"]=f.paddingTop),f.paddingBottom&&(b[d._e3?"paddingBottom":"paddingRight"]=f.paddingBottom),g.css(b),d._s3=a(g).find("."+e+"Container"),d._q6&&(e+="Arrow",f.arrowLeft?d._r6=f.arrowLeft:(d._r6=a('<button class="'+e+" "+e+'Left"><div class="'+e+'Icn"></div></button>'),g.append(d._r6)),f.arrowRight?d._s6=f.arrowRight:(d._s6=a('<button class="'+e+" "+e+'Right"><div class="'+e+'Icn"></div></button>'),g.append(d._s6)),d._r6.click(function(){var a=(Math.floor(d._i3/d._t6)+d._u6)*d._t6+d._v6;d._a4(a>d._n3?d._n3:a)}),d._s6.click(function(){var a=(Math.floor(d._i3/d._t6)-d._u6)*d._t6+d._v6;d._a4(a<d._o3?d._o3:a)}),f.arrowsAutoHide&&!d.hasTouch&&(d._r6.css("opacity",0),d._s6.css("opacity",0),g.one("mousemove.rsarrowshover",function(){d._l6&&(d._r6.css("opacity",1),d._s6.css("opacity",1))}),g.hover(function(){d._l6&&(d._r6.css("opacity",1),d._s6.css("opacity",1))},function(){d._l6&&(d._r6.css("opacity",0),d._s6.css("opacity",0))}))),d._k5=g,d._l5=d._s3.children(),d.msEnabled&&d.st.thumbs.navigation&&d._s3.css("-ms-touch-action",d._e3?"pan-y":"pan-x"),d.slider.append(g),d._w3=!0,d._v6=h,f.navigation&&d._e&&d._s3.css(d._g+"transition-property",d._g+"transform"),d._k5.on("click.rs",".rsNavItem",function(b){d._m5||d.goTo(a(this).index())}),d.ev.off("rsBeforeSizeSet.thumbs").on("rsBeforeSizeSet.thumbs",function(){d._w6=d._e3?d._c4:d._b4,d.updateThumbsSize(!0)}),d.ev.off("rsAutoHeightChange.thumbs").on("rsAutoHeightChange.thumbs",function(a,b){d.updateThumbsSize(!0,b)})},updateThumbsSize:function(a,b){var c=this,d=c._l5.first(),e={},f=c._l5.length;c._t6=(c._e3?d.outerWidth():d.outerHeight())+c._v6,c._y3=f*c._t6-c._v6,e[c._e3?"width":"height"]=c._y3+c._v6,c._z3=c._e3?c._k5.width():void 0!==b?b:c._k5.height(),c._w3&&(c.isFullscreen||c.st.thumbs.fitInViewport)&&(c._e3?c._c4=c._w6-c._k5.outerHeight():c._b4=c._w6-c._k5.outerWidth()),c._z3&&(c._o3=-(c._y3-c._z3)-c.st.thumbs.firstMargin,c._n3=c.st.thumbs.firstMargin,c._u6=Math.floor(c._z3/c._t6),c._y3<c._z3?(c.st.thumbs.autoCenter&&c._q3((c._z3-c._y3)/2),c.st.thumbs.arrows&&c._r6&&(c._r6.addClass("rsThumbsArrowDisabled"),c._s6.addClass("rsThumbsArrowDisabled")),c._l6=!1,c._m5=!1,c._k5.off(c._j1)):c.st.thumbs.navigation&&!c._l6&&(c._l6=!0,!c.hasTouch&&c.st.thumbs.drag||c.hasTouch&&c.st.thumbs.touch)&&(c._m5=!0,c._k5.on(c._j1,function(a){c._g2(a,!0)})),c._s3.css(e),a&&b&&c._m6(c.currSlideId),c._e&&(e[c._g+"transition-duration"]="0ms"))},setThumbsOrientation:function(a,b){this._w3&&(this.st.thumbs.orientation=a,this._k5.remove(),this.slider.removeClass("rsWithThumbsHor rsWithThumbsVer"),this._k6(),this._k5.off(this._j1),b||this.updateSliderSize(!0))},_q3:function(a){this._i3=a,this._e?this._s3.css(this._x1,this._y1+(this._e3?a+this._z1+0:0+this._z1+a)+this._a2):this._s3.css(this._e3?this._x1:this._w1,a)},_a4:function(b,c,d,e,f){var g=this;if(g._l6){c||(c=g.st.thumbs.transitionSpeed),g._i3=b,g._x6&&clearTimeout(g._x6),g._p6&&(g._e||g._s3.stop(),d=!0);var h={};g._p6=!0,g._e?(h[g._g+"transition-duration"]=c+"ms",h[g._g+"transition-timing-function"]=d?a.rsCSS3Easing[g.st.easeOut]:a.rsCSS3Easing[g.st.easeInOut],g._s3.css(h),g._q3(b)):(h[g._e3?g._x1:g._w1]=b+"px",g._s3.animate(h,c,d?"easeOutCubic":g.st.easeInOut)),e&&(g._i3=e),g._y6(),g._x6=setTimeout(function(){g._p6=!1,f&&(g._a4(e,f,!0),f=null)},c)}},_y6:function(){this._q6&&(this._i3===this._n3?this._r6.addClass("rsThumbsArrowDisabled"):this._r6.removeClass("rsThumbsArrowDisabled"),this._i3===this._o3?this._s6.addClass("rsThumbsArrowDisabled"):this._s6.removeClass("rsThumbsArrowDisabled"))},_m6:function(a,b){var c,d=0,e=a*this._t6+2*this._t6-this._v6+this._n3,f=Math.floor(this._i3/this._t6);this._l6&&(this._j6&&(b=!0,this._j6=!1),e+this._i3>this._z3?(a===this.numSlides-1&&(d=1),f=-a+this._u6-2+d,c=f*this._t6+this._z3%this._t6+this._v6-this._n3):0!==a?(a-1)*this._t6<=-this._i3+this._n3&&a-1<=this.numSlides-this._u6&&(c=(-a+1)*this._t6+this._n3):c=this._n3,c!==this._i3&&(d=void 0===c?this._i3:c,d>this._n3?this._q3(this._n3):d<this._o3?this._q3(this._o3):void 0!==c&&(b?this._q3(c):this._a4(c))),this._y6())}}),a.rsModules.thumbnails=a.rsProto._h6}(jQuery),function(a){a.extend(a.rsProto,{_f6:function(){var b=this;"tabs"===b.st.controlNavigation&&(b.ev.on("rsBeforeParseNode",function(b,c,d){c=a(c),d.thumbnail=c.find(".rsTmb").remove(),d.thumbnail.length?d.thumbnail=a(document.createElement("div")).append(d.thumbnail).html():(d.thumbnail=c.attr("data-rsTmb"),d.thumbnail||(d.thumbnail=c.find(".rsImg").attr("data-rsTmb")),d.thumbnail=d.thumbnail?'<img src="'+d.thumbnail+'"/>':"")}),b.ev.one("rsAfterPropsSetup",function(){b._g6()}),b.ev.on("rsOnAppendSlide",function(a,c,d){d>=b.numSlides?b._k5.append('<div class="rsNavItem rsTab">'+c.thumbnail+"</div>"):b._l5.eq(d).before('<div class="rsNavItem rsTab">'+c.thumbnail+"</div>"),b._l5=b._k5.children()}),b.ev.on("rsOnRemoveSlide",function(a,c){var d=b._l5.eq(c);d&&(d.remove(),b._l5=b._k5.children())}),b.ev.on("rsOnUpdateNav",function(){var a=b.currSlideId;b._n5&&b._n5.removeClass("rsNavSelected"),a=b._l5.eq(a),a.addClass("rsNavSelected"),b._n5=a}))},_g6:function(){var b,c=this;c._j5=!0,b='<div class="rsNav rsTabs">';for(var d=0;d<c.numSlides;d++)b+='<div class="rsNavItem rsTab">'+c.slides[d].thumbnail+"</div>";b=a(b+"</div>"),c._k5=b,c._l5=b.children(".rsNavItem"),c.slider.append(b),c._k5.click(function(b){b=a(b.target).closest(".rsNavItem"),b.length&&c.goTo(b.index())})}}),a.rsModules.tabs=a.rsProto._f6}(jQuery),function(a){a.extend(a.rsProto,{_q5:function(){var b=this;b._r5={enabled:!1,keyboardNav:!0,buttonFS:!0,nativeFS:!1,doubleTap:!0},b.st.fullscreen=a.extend({},b._r5,b.st.fullscreen),b.st.fullscreen.enabled&&b.ev.one("rsBeforeSizeSet",function(){b._s5()})},_s5:function(){var b=this;if(b._t5=!b.st.keyboardNavEnabled&&b.st.fullscreen.keyboardNav,b.st.fullscreen.nativeFS){b._u5={supportsFullScreen:!1,isFullScreen:function(){return!1},requestFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",prefix:""};var c=["webkit","moz","o","ms","khtml"];if(!b.isAndroid)if("undefined"!=typeof document.cancelFullScreen)b._u5.supportsFullScreen=!0;else for(var d=0;d<c.length;d++)if(b._u5.prefix=c[d],"undefined"!=typeof document[b._u5.prefix+"CancelFullScreen"]){b._u5.supportsFullScreen=!0;break}b._u5.supportsFullScreen?(b.nativeFS=!0,b._u5.fullScreenEventName=b._u5.prefix+"fullscreenchange"+b.ns,b._u5.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}},b._u5.requestFullScreen=function(a){return""===this.prefix?a.requestFullScreen():a[this.prefix+"RequestFullScreen"]()},b._u5.cancelFullScreen=function(a){return""===this.prefix?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()}):b._u5=!1}b.st.fullscreen.buttonFS&&(b._v5=a('<div class="rsFullscreenBtn"><div class="rsFullscreenIcn"></div></div>').appendTo(b._o1).on("click.rs",function(){b.isFullscreen?b.exitFullscreen():b.enterFullscreen()}))},enterFullscreen:function(b){var c=this;if(c._u5){if(!b)return c._b.on(c._u5.fullScreenEventName,function(a){c._u5.isFullScreen()?c.enterFullscreen(!0):c.exitFullscreen(!0)}),void c._u5.requestFullScreen(a("html")[0]);c._u5.requestFullScreen(a("html")[0])}if(!c._w5){c._w5=!0,c._b.on("keyup"+c.ns+"fullscreen",function(a){27===a.keyCode&&c.exitFullscreen()}),c._t5&&c._b2(),b=a(window),c._x5=b.scrollTop(),c._y5=b.scrollLeft(),c._z5=a("html").attr("style"),c._a6=a("body").attr("style"),c._b6=c.slider.attr("style"),a("body, html").css({overflow:"hidden",height:"100%",width:"100%",margin:"0",padding:"0"}),c.slider.addClass("rsFullscreen");var d;for(d=0;d<c.numSlides;d++)b=c.slides[d],b.isRendered=!1,b.bigImage&&(b.isBig=!0,b.isMedLoaded=b.isLoaded,b.isMedLoading=b.isLoading,b.medImage=b.image,b.medIW=b.iW,b.medIH=b.iH,b.slideId=-99,b.bigImage!==b.medImage&&(b.sizeType="big"),b.isLoaded=b.isBigLoaded,b.isLoading=!1,b.image=b.bigImage,b.images[0]=b.bigImage,b.iW=b.bigIW,b.iH=b.bigIH,b.isAppended=b.contentAdded=!1,c._c6(b));c.isFullscreen=!0,c._w5=!1,c.updateSliderSize(),c.ev.trigger("rsEnterFullscreen")}},exitFullscreen:function(b){var c=this;if(c._u5){if(!b)return void c._u5.cancelFullScreen(a("html")[0]);c._b.off(c._u5.fullScreenEventName)}if(!c._w5){c._w5=!0,c._b.off("keyup"+c.ns+"fullscreen"),c._t5&&c._b.off("keydown"+c.ns),a("html").attr("style",c._z5||""),a("body").attr("style",c._a6||"");var d;for(d=0;d<c.numSlides;d++)b=c.slides[d],b.isRendered=!1,b.bigImage&&(b.isBig=!1,b.slideId=-99,b.isBigLoaded=b.isLoaded,b.isBigLoading=b.isLoading,b.bigImage=b.image,b.bigIW=b.iW,b.bigIH=b.iH,b.isLoaded=b.isMedLoaded,b.isLoading=!1,b.image=b.medImage,b.images[0]=b.medImage,b.iW=b.medIW,b.iH=b.medIH,b.isAppended=b.contentAdded=!1,c._c6(b,!0),b.bigImage!==b.medImage&&(b.sizeType="med"));c.isFullscreen=!1,b=a(window),b.scrollTop(c._x5),b.scrollLeft(c._y5),c._w5=!1,c.slider.removeClass("rsFullscreen"),c.updateSliderSize(),setTimeout(function(){c.updateSliderSize()},1),c.ev.trigger("rsExitFullscreen")}},_c6:function(b,c){var d=b.isLoaded||b.isLoading?'<img class="rsImg rsMainSlideImage" src="'+b.image+'"/>':'<a class="rsImg rsMainSlideImage" href="'+b.image+'"></a>';b.content.hasClass("rsImg")?b.content=a(d):b.content.find(".rsImg").eq(0).replaceWith(d),b.isLoaded||b.isLoading||!b.holder||b.holder.html(b.content)}}),a.rsModules.fullscreen=a.rsProto._q5}(jQuery),function(a){a.extend(a.rsProto,{_x4:function(){var b,c=this;c._y4={enabled:!1,stopAtAction:!0,pauseOnHover:!0,delay:2e3},!c.st.autoPlay&&c.st.autoplay&&(c.st.autoPlay=c.st.autoplay),c.st.autoPlay=a.extend({},c._y4,c.st.autoPlay),c.st.autoPlay.enabled&&(c.ev.on("rsBeforeParseNode",function(c,d,e){d=a(d),(b=d.attr("data-rsDelay"))&&(e.customDelay=parseInt(b,10))}),c.ev.one("rsAfterInit",function(){c._z4()}),c.ev.on("rsBeforeDestroy",function(){c.stopAutoPlay(),c.slider.off("mouseenter mouseleave"),a(window).off("blur"+c.ns+" focus"+c.ns)}))},_z4:function(){var b=this;b.startAutoPlay(),b.ev.on("rsAfterContentSet",function(a,c){b._l2||b._r2||!b._a5||c!==b.currSlide||b._b5()}),b.ev.on("rsDragRelease",function(){b._a5&&b._c5&&(b._c5=!1,b._b5())}),b.ev.on("rsAfterSlideChange",function(){b._a5&&b._c5&&(b._c5=!1,b.currSlide.isLoaded&&b._b5())}),b.ev.on("rsDragStart",function(){b._a5&&(b.st.autoPlay.stopAtAction?b.stopAutoPlay():(b._c5=!0,b._d5()))}),b.ev.on("rsBeforeMove",function(a,c,d){b._a5&&(d&&b.st.autoPlay.stopAtAction?b.stopAutoPlay():(b._c5=!0,b._d5()))}),b._e5=!1,b.ev.on("rsVideoStop",function(){b._a5&&(b._e5=!1,b._b5())}),b.ev.on("rsVideoPlay",function(){b._a5&&(b._c5=!1,b._d5(),b._e5=!0)}),a(window).on("blur"+b.ns,function(){b._a5&&(b._c5=!0,b._d5())}).on("focus"+b.ns,function(){b._a5&&b._c5&&(b._c5=!1,b._b5())}),b.st.autoPlay.pauseOnHover&&(b._f5=!1,b.slider.hover(function(){b._a5&&(b._c5=!1,b._d5(),b._f5=!0)},function(){b._a5&&(b._f5=!1,b._b5())}))},toggleAutoPlay:function(){this._a5?this.stopAutoPlay():this.startAutoPlay()},startAutoPlay:function(){this._a5=!0,this.currSlide.isLoaded&&this._b5()},stopAutoPlay:function(){this._e5=this._f5=this._c5=this._a5=!1,this._d5()},_b5:function(){var a=this;a._f5||a._e5||(a._g5=!0,a._h5&&clearTimeout(a._h5),a._h5=setTimeout(function(){var b;a._z||a.st.loopRewind||(b=!0,a.st.loopRewind=!0),a.next(!0),b&&(a.st.loopRewind=!1)},a.currSlide.customDelay?a.currSlide.customDelay:a.st.autoPlay.delay))},_d5:function(){this._f5||this._e5||(this._g5=!1,this._h5&&(clearTimeout(this._h5),this._h5=null))}}),a.rsModules.autoplay=a.rsProto._x4}(jQuery),function(a){a.extend(a.rsProto,{_z6:function(){var b=this;b._a7={autoHideArrows:!0,autoHideControlNav:!1,autoHideBlocks:!1,autoHideCaption:!1,disableCSS3inFF:!0,youTubeCode:'<iframe src="http://www.youtube.com/embed/%id%?rel=1&showinfo=0&autoplay=1&wmode=transparent" frameborder="no"></iframe>',vimeoCode:'<iframe src="http://player.vimeo.com/video/%id%?byline=0&portrait=0&autoplay=1" frameborder="no" webkitAllowFullScreen mozallowfullscreen allowFullScreen></iframe>'},b.st.video=a.extend({},b._a7,b.st.video),b.ev.on("rsBeforeSizeSet",function(){b._b7&&setTimeout(function(){var a=b._r1,a=a.hasClass("rsVideoContainer")?a:a.find(".rsVideoContainer");b._c7&&b._c7.css({width:a.width(),height:a.height()})},32)});var c=b._a.mozilla;b.ev.on("rsAfterParseNode",function(d,e,f){if(d=a(e),f.videoURL){b.st.video.disableCSS3inFF&&c&&(b._e=b._f=!1),e=a('<div class="rsVideoContainer"></div>');var g=a('<div class="rsBtnCenterer"><div class="rsPlayBtn"><div class="rsPlayBtnIcon"></div></div></div>');d.hasClass("rsImg")?f.content=e.append(d).append(g):f.content.find(".rsImg").wrap(e).after(g)}}),b.ev.on("rsAfterSlideChange",function(){b.stopVideo()})},toggleVideo:function(){return this._b7?this.stopVideo():this.playVideo()},playVideo:function(){var b=this;if(!b._b7){var c=b.currSlide;if(!c.videoURL)return!1;b._d7=c;var d,e,f=b._e7=c.content,c=c.videoURL;return c.match(/youtu\.be/i)||c.match(/youtube\.com/i)?(e=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,(e=c.match(e))&&11==e[7].length&&(d=e[7]),void 0!==d&&(b._c7=b.st.video.youTubeCode.replace("%id%",d))):c.match(/vimeo\.com/i)&&(e=/(www\.)?vimeo.com\/(\d+)($|\/)/,(e=c.match(e))&&(d=e[2]),void 0!==d&&(b._c7=b.st.video.vimeoCode.replace("%id%",d))),b.videoObj=a(b._c7),b.ev.trigger("rsOnCreateVideoElement",[c]),b.videoObj.length&&(b._c7=a('<div class="rsVideoFrameHolder"><div class="rsPreloader"></div><div class="rsCloseVideoBtn"><div class="rsCloseVideoIcn"></div></div></div>'),b._c7.find(".rsPreloader").after(b.videoObj),f=f.hasClass("rsVideoContainer")?f:f.find(".rsVideoContainer"),b._c7.css({width:f.width(),height:f.height()}).find(".rsCloseVideoBtn").off("click.rsv").on("click.rsv",function(a){return b.stopVideo(),a.preventDefault(),a.stopPropagation(),!1}),f.append(b._c7),b.isIPAD&&f.addClass("rsIOSVideo"),b._f7(!1),setTimeout(function(){b._c7.addClass("rsVideoActive")},10),b.ev.trigger("rsVideoPlay"),b._b7=!0),!0}return!1},stopVideo:function(){var a=this;return a._b7?(a.isIPAD&&a.slider.find(".rsCloseVideoBtn").remove(),a._f7(!0),setTimeout(function(){a.ev.trigger("rsOnDestroyVideoElement",[a.videoObj]);var b=a._c7.find("iframe");if(b.length)try{b.attr("src","")}catch(c){}a._c7.remove(),a._c7=null},16),a.ev.trigger("rsVideoStop"),a._b7=!1,!0):!1},_f7:function(a,b){var c=[],d=this.st.video;if(d.autoHideArrows&&(this._c2&&(c.push(this._c2,this._d2),this._e2=!a),this._v5&&c.push(this._v5)),d.autoHideControlNav&&this._k5&&c.push(this._k5),d.autoHideBlocks&&this._d7.animBlocks&&c.push(this._d7.animBlocks),d.autoHideCaption&&this.globalCaption&&c.push(this.globalCaption),this.slider[a?"removeClass":"addClass"]("rsVideoPlaying"),c.length)for(d=0;d<c.length;d++)a?c[d].removeClass("rsHidden"):c[d].addClass("rsHidden")}}),a.rsModules.video=a.rsProto._z6}(jQuery),function(a){a.extend(a.rsProto,{_p4:function(){function b(){var a=d.currSlide;if(d.currSlide&&d.currSlide.isLoaded&&d._t4!==a){if(0<d._s4.length){for(c=0;c<d._s4.length;c++)clearTimeout(d._s4[c]);d._s4=[]}if(0<d._r4.length){var b;for(c=0;c<d._r4.length;c++)(b=d._r4[c])&&(d._e?(b.block.css(d._g+d._u1,"0s"),b.block.css(b.css)):b.block.stop(!0).css(b.css),d._t4=null,a.animBlocksDisplayed=!1);d._r4=[]}a.animBlocks&&(a.animBlocksDisplayed=!0,d._t4=a,d._u4(a.animBlocks))}}var c,d=this;d._q4={fadeEffect:!0,moveEffect:"top",moveOffset:20,speed:400,easing:"easeOutSine",delay:200},d.st.block=a.extend({},d._q4,d.st.block),d._r4=[],d._s4=[],d.ev.on("rsAfterInit",function(){b()}),d.ev.on("rsBeforeParseNode",function(b,c,d){c=a(c),d.animBlocks=c.find(".rsABlock").css("display","none"),d.animBlocks.length||(c.hasClass("rsABlock")?d.animBlocks=c.css("display","none"):d.animBlocks=!1)}),d.ev.on("rsAfterContentSet",function(a,c){c.id===d.slides[d.currSlideId].id&&setTimeout(function(){b()},d.st.fadeinLoadedSlide?300:0)}),d.ev.on("rsAfterSlideChange",function(){b()})},_v4:function(a,b){setTimeout(function(){a.css(b)},6)},_u4:function(b){var c,d,e,f,g,h,i,j=this;j._s4=[],b.each(function(b){c=a(this),d={},e={},f=null;var k=c.attr("data-move-offset"),k=k?parseInt(k,10):j.st.block.moveOffset;if(k>0&&((h=c.data("move-effect"))?(h=h.toLowerCase(),"none"===h?h=!1:"left"!==h&&"top"!==h&&"bottom"!==h&&"right"!==h&&(h=j.st.block.moveEffect,"none"===h&&(h=!1))):h=j.st.block.moveEffect,h&&"none"!==h)){var l;l="right"===h||"left"===h?!0:!1;var m;i=!1,j._e?(m=0,g=j._x1):(l?isNaN(parseInt(c.css("right"),10))?g="left":(g="right",i=!0):isNaN(parseInt(c.css("bottom"),10))?g="top":(g="bottom",i=!0),g="margin-"+g,i&&(k=-k),j._e?m=parseInt(c.css(g),10):(m=c.data("rs-start-move-prop"),void 0===m&&(m=parseInt(c.css(g),10),isNaN(m)&&(m=0),c.data("rs-start-move-prop",m)))),e[g]=j._m4("top"===h||"left"===h?m-k:m+k,l),d[g]=j._m4(m,l)}k=c.attr("data-fade-effect"),k?("none"===k.toLowerCase()||"false"===k.toLowerCase())&&(k=!1):k=j.st.block.fadeEffect,k&&(e.opacity=0,d.opacity=1),(k||h)&&(f={},f.hasFade=Boolean(k),Boolean(h)&&(f.moveProp=g,f.hasMove=!0),f.speed=c.data("speed"),isNaN(f.speed)&&(f.speed=j.st.block.speed),f.easing=c.data("easing"),f.easing||(f.easing=j.st.block.easing),f.css3Easing=a.rsCSS3Easing[f.easing],f.delay=c.data("delay"),isNaN(f.delay)&&(f.delay=j.st.block.delay*b)),k={},j._e&&(k[j._g+j._u1]="0ms"),k.moveProp=d.moveProp,k.opacity=d.opacity,k.display="none",j._r4.push({block:c,css:k}),j._v4(c,e),j._s4.push(setTimeout(function(a,b,c,d){return function(){if(a.css("display","block"),c){var e={};if(j._e){var f="";c.hasMove&&(f+=c.moveProp),c.hasFade&&(c.hasMove&&(f+=", "),f+="opacity"),e[j._g+j._t1]=f,e[j._g+j._u1]=c.speed+"ms",e[j._g+j._v1]=c.css3Easing,a.css(e),setTimeout(function(){a.css(b)},24)}else setTimeout(function(){a.animate(b,c.speed,c.easing)},16)}delete j._s4[d]}}(c,d,f,b),6>=f.delay?12:f.delay))})}}),a.rsModules.animatedBlocks=a.rsProto._p4}(jQuery),function(a){a.extend(a.rsProto,{_w4:function(){var a=this;if(a.st.autoHeight){var b,c,d,e=!0,f=function(f){d=a.slides[a.currSlideId],(b=d.holder)&&(c=b.height())&&void 0!==c&&c>(a.st.minAutoHeight||30)&&(a._c4=c,a._e||!f?a._e1.css("height",c):a._e1.stop(!0,!0).animate({height:c},a.st.transitionSpeed),a.ev.trigger("rsAutoHeightChange",c),e&&(a._e&&setTimeout(function(){a._e1.css(a._g+"transition","height "+a.st.transitionSpeed+"ms ease-in-out")},16),e=!1))};a.ev.on("rsMaybeSizeReady.rsAutoHeight",function(a,b){d===b&&f()}),a.ev.on("rsAfterContentSet.rsAutoHeight",function(a,b){d===b&&f()}),a.slider.addClass("rsAutoHeight"),a.ev.one("rsAfterInit",function(){setTimeout(function(){f(!1),setTimeout(function(){a.slider.append('<div style="clear:both; float: none;"></div>')},16)},16)}),a.ev.on("rsBeforeAnimStart",function(){f(!0)}),a.ev.on("rsBeforeSizeSet",function(){setTimeout(function(){f(!1)},16)})}}}),a.rsModules.autoHeight=a.rsProto._w4}(jQuery),function(a){a.extend(a.rsProto,{_d6:function(){var b=this;b.st.globalCaption&&(b.ev.on("rsAfterInit",function(){b.globalCaption=a('<div class="rsGCaption"></div>').appendTo(b.st.globalCaptionInside?b._e1:b.slider),b.globalCaption.html(b.currSlide.caption)}),b.ev.on("rsBeforeAnimStart",function(){b.globalCaption.html(b.currSlide.caption)}))}}),a.rsModules.globalCaption=a.rsProto._d6}(jQuery),function(a){a.rsProto._o4=function(){var a,b=this;b.st.addActiveClass&&b.ev.on("rsOnUpdateNav",function(){a&&clearTimeout(a),a=setTimeout(function(){b._g4&&b._g4.removeClass("rsActiveSlide"),b._r1&&b._r1.addClass("rsActiveSlide"),a=null},50)})},a.rsModules.activeClass=a.rsProto._o4}(jQuery),function(a){a.extend(a.rsProto,{_o5:function(){var b,c,d,e=this;if(e._p5={enabled:!1,change:!1,prefix:""},e.st.deeplinking=a.extend({},e._p5,e.st.deeplinking),e.st.deeplinking.enabled){var f=e.st.deeplinking.change,g=e.st.deeplinking.prefix,h="#"+g,i=function(){var a=window.location.hash;return a&&0<a.indexOf(g)&&(a=parseInt(a.substring(h.length),10),a>=0)?a-1:-1},j=i();-1!==j&&(e.st.startSlideId=j),f&&(a(window).on("hashchange"+e.ns,function(a){b||(a=i(),0>a||(a>e.numSlides-1&&(a=e.numSlides-1),e.goTo(a)))}),e.ev.on("rsBeforeAnimStart",function(){c&&clearTimeout(c),d&&clearTimeout(d)}),e.ev.on("rsAfterSlideChange",function(){c&&clearTimeout(c),d&&clearTimeout(d),
d=setTimeout(function(){b=!0,window.location.replace((""+window.location).split("#")[0]+h+(e.currSlideId+1)),c=setTimeout(function(){b=!1,c=null},60)},400)})),e.ev.on("rsBeforeDestroy",function(){c=d=null,f&&a(window).off("hashchange"+e.ns)})}}}),a.rsModules.deeplinking=a.rsProto._o5}(jQuery),function(a,b,c){function d(a){return a=a||location.href,"#"+a.replace(/^[^#]*#?(.*)$/,"$1")}var e,f="hashchange",g=document,h=a.event.special,i=g.documentMode,j="on"+f in b&&(i===c||i>7);a.fn[f]=function(a){return a?this.bind(f,a):this.trigger(f)},a.fn[f].delay=50,h[f]=a.extend(h[f],{setup:function(){return j?!1:void a(e.start)},teardown:function(){return j?!1:void a(e.stop)}}),e=function(){function e(){var c=d(),g=n(k);c!==k?(m(k=c,g),a(b).trigger(f)):g!==k&&(location.href=location.href.replace(/#.*/,"")+g),h=setTimeout(e,a.fn[f].delay)}var h,i={},k=d(),l=function(a){return a},m=l,n=l;return i.start=function(){h||e()},i.stop=function(){h&&clearTimeout(h),h=c},b.attachEvent&&!b.addEventListener&&!j&&function(){var b,c;i.start=function(){b||(c=(c=a.fn[f].src)&&c+d(),b=a('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){c||m(d()),e()}).attr("src",c||"javascript:0").insertAfter("body")[0].contentWindow,g.onpropertychange=function(){try{"title"===event.propertyName&&(b.document.title=g.title)}catch(a){}})},i.stop=l,n=function(){return d(b.location.href)},m=function(c,d){var e=b.document,h=a.fn[f].domain;c!==d&&(e.title=g.title,e.open(),h&&e.write('<script>document.domain="'+h+'"</script>'),e.close(),b.location.hash=c)}}(),i}()}(jQuery,this),function(a){a.rsProto._g7=function(){var b=this;b.st.visibleNearby&&b.st.visibleNearby.enabled&&(b._h7={enabled:!0,centerArea:.6,center:!0,breakpoint:0,breakpointCenterArea:.8,hiddenOverflow:!0,navigateByCenterClick:!1},b.st.visibleNearby=a.extend({},b._h7,b.st.visibleNearby),b.ev.one("rsAfterPropsSetup",function(){b._i7=b._e1.css("overflow","visible").wrap('<div class="rsVisibleNearbyWrap"></div>').parent(),b.st.visibleNearby.hiddenOverflow||b._i7.css("overflow","visible"),b._o1=b.st.controlsInside?b._i7:b.slider}),b.ev.on("rsAfterSizePropSet",function(){var a,c=b.st.visibleNearby;a=c.breakpoint&&b.width<c.breakpoint?c.breakpointCenterArea:c.centerArea,b._h?(b._b4*=a,b._i7.css({height:b._c4,width:b._b4/a}),b._d=b._b4*(1-a)/2/a):(b._c4*=a,b._i7.css({height:b._c4/a,width:b._b4}),b._d=b._c4*(1-a)/2/a),c.navigateByCenterClick||(b._q=b._h?b._b4:b._c4),c.center&&b._e1.css("margin-"+(b._h?"left":"top"),b._d)}))},a.rsModules.visibleNearby=a.rsProto._g7}(jQuery),function(a,b){var c=function(a,b,c){var d;return function(){function e(){c||a.apply(f,g),d=null}var f=this,g=arguments;d?clearTimeout(d):c&&a.apply(f,g),d=setTimeout(e,b||100)}};a("html").hasClass("lt-ie9")?jQuery.fn[b]=function(a){return a?this.bind("ieResize",c(a)):this.trigger(b)}:jQuery.fn[b]=function(a){return a?this.bind("resize",c(a)):this.trigger(b)}}(jQuery,"smartresize");var smartresize_windowWidth=0,smartresize_windowHeight=0;$("html").hasClass("lt-ie9")&&(document.body.onresize=function(a){(smartresize_windowWidth!==document.documentElement.clientWidth||smartresize_windowHeight!==document.documentElement.clientHeight)&&(smartresize_windowWidth=document.documentElement.clientWidth,smartresize_windowHeight=document.documentElement.clientHeight,$(window).trigger("ieResize"))}),function(a,b){"$:nomunge";var c,d=a.jQuery||a.Cowboy||(a.Cowboy={});d.throttle=c=function(a,c,e,f){function g(){function d(){i=+new Date,e.apply(j,l)}function g(){h=b}var j=this,k=+new Date-i,l=arguments;f&&!h&&d(),h&&clearTimeout(h),f===b&&k>a?d():c!==!0&&(h=setTimeout(f?g:d,f===b?a-k:a))}var h,i=0;return"boolean"!=typeof c&&(f=e,e=c,c=b),d.guid&&(g.guid=e.guid=e.guid||d.guid++),g},d.debounce=function(a,d,e){return e===b?c(a,d,!1):c(a,e,d!==!1)}}(this),function(a){"use strict";function b(a,b,c){for(a=String(a);a.length<b;)a=String(c)+a;return a}function c(a,b,c){return a>c?c:b>a?b:a}function d(a,b,c,d){for(;a>c;)a-=d;for(;b>a;)a+=d;return a}function e(a){return a.preventDefault(),!1}function f(){window.console&&window.console.log&&window.console.log.apply(window.console,arguments)}function g(a,b,c){c&&a.bind(b+"."+l,c)}function h(a){a.unbind("."+l)}function i(a){var b,c,d="string"==typeof a.source?[a.source]:a.source,e=0,f=[],g=a.preloadCount||f.length,h=!1,i=!1,j=function(){e+=1,"function"==typeof a.progress&&a.progress({index:f.indexOf(this),loaded:e,total:d.length,percent:Math.round(e/d.length*100)}),i=i||this===f[0],!h&&e>=g&&i&&"function"==typeof a.complete&&(h=!0,a.complete(f))};for(b=0;b<d.length;b+=1)c=new Image,f.push(c),c.onload=c.onabort=c.onerror=j,c.src=d[b];"function"==typeof a.initiated&&a.initiated(f)}function j(a,b){var c=(b||a).width,d=(b||a).height;if(1048576>=c*d)return!1;var e;if(e=document.createElement("canvas"),!e||!e.getContext)return!1;var g=e.getContext("2d");if(!g)return!1;e.width=e.height=1,g.fillStyle="#FF00FF",g.fillRect(0,0,1,1),g.drawImage(a,-c+1,0);try{var h=g.getImageData(0,0,1,1).data;return 255===h[0]&&0===h[1]&&255===h[2]}catch(i){return f(i.message,i.stack),!1}}function k(a){var b=new Image;return b.src=a.src,{width:b.width,height:b.height}}var l="spritespin",m=["mousedown","mousemove","mouseup","mouseenter","mouseover","mouseleave","dblclick","touchstart","touchmove","touchend","touchcancel","selectstart","gesturestart","gesturechange","gestureend"],n=["dragstart"],o={};window.SpriteSpin=o,o.namespace=l,o.mods={},o.defaults={source:void 0,width:void 0,height:void 0,frames:void 0,framesX:void 0,lanes:1,module:"360",behavior:"drag",renderer:"canvas",lane:0,frame:0,frameTime:40,animate:!0,reverse:!1,loop:!0,stopFrame:0,wrap:!0,wrapLane:!1,sense:1,senseLane:void 0,orientation:"horizontal",detectSubsampling:!0,scrollThreshold:50,preloadCount:void 0,onInit:void 0,onProgress:void 0,onLoad:void 0,onFrame:void 0,onDraw:void 0},o.clamp=c,o.wrap=d,o.sourceArray=function(a,c){var d=0,e=0,f=0,g=0,h=c.digits||2;c.frame&&(d=c.frame[0],e=c.frame[1]),c.lane&&(f=c.lane[0],g=c.lane[1]);var i,j,k,l=[];for(i=f;g>=i;i+=1)for(j=d;e>=j;j+=1)k=a.replace("{lane}",b(i,h,0)),k=k.replace("{frame}",b(j,h,0)),l.push(k);return l},o.measureSource=function(a){var b=a.images[0],c=k(b);if(1===a.images.length){if(a.sourceWidth=c.width,a.sourceHeight=c.height,a.detectSubsampling&&j(b,c)&&(a.sourceWidth/=2,a.sourceHeight/=2),a.framesX=a.framesX||a.frames,!a.frameWidth||!a.frameHeight)if(a.framesX){a.frameWidth=Math.floor(a.sourceWidth/a.framesX);var d=Math.ceil(a.frames*a.lanes/a.framesX);a.frameHeight=Math.floor(a.sourceHeight/d)}else a.frameWidth=c.width,a.frameHeight=c.height}else a.sourceWidth=a.frameWidth=c.width,a.sourceHeight=a.frameHeight=c.height,j(b,c)&&(a.sourceWidth=a.frameWidth=c.width/2,a.sourceHeight=a.frameHeight=c.height/2),a.frames=a.frames||a.images.length},o.resetInput=function(a){a.startX=a.startY=void 0,a.currentX=a.currentY=void 0,a.oldX=a.oldY=void 0,a.dX=a.dY=a.dW=0,a.ddX=a.ddY=a.ddW=0},o.updateInput=function(a,b){void 0===a.touches&&void 0!==a.originalEvent&&(a.touches=a.originalEvent.touches),b.oldX=b.currentX,b.oldY=b.currentY,void 0!==a.touches&&a.touches.length>0?(b.currentX=a.touches[0].clientX||0,b.currentY=a.touches[0].clientY||0):(b.currentX=a.clientX||0,b.currentY=a.clientY||0),(void 0===b.oldX||void 0===b.oldY)&&(b.oldX=b.currentX,b.oldY=b.currentY),(void 0===b.startX||void 0===b.startY)&&(b.startX=b.currentX,b.startY=b.currentY,b.clickframe=b.frame,b.clicklane=b.lane),b.dX=b.currentX-b.startX,b.dY=b.currentY-b.startY,b.ddX=b.currentX-b.oldX,b.ddY=b.currentY-b.oldY,b.ndX=b.dX/b.width,b.ndY=b.dY/b.height,b.nddX=b.ddX/b.width,b.nddY=b.ddY/b.height},o.updateFrame=function(a,b,e){void 0!==b?a.frame=Number(b):a.animation&&(a.frame+=a.reverse?-1:1),a.animation?(a.frame=d(a.frame,0,a.frames-1,a.frames),a.loop||a.frame!==a.stopFrame||o.stopAnimation(a)):a.wrap?a.frame=d(a.frame,0,a.frames-1,a.frames):a.frame=c(a.frame,0,a.frames-1),void 0!==e&&(a.lane=e,a.lane=c(a.lane,0,a.lanes-1)),a.target.trigger("onFrame",a),a.target.trigger("onDraw",a)},o.stopAnimation=function(a){a.animate=!1,a.animation&&(window.clearInterval(a.animation),a.animation=null)},o.setAnimation=function(a){a.animate?o.requestFrame(a):o.stopAnimation(a)},o.requestFrame=function(a){a.animation||(void 0===a.frameFunction&&(a.frameFunction=function(){try{o.updateFrame(a)}catch(b){}}),a.animation=window.setInterval(a.frameFunction,a.frameTime))},o.setModules=function(b){var c,d,e;for(c=0;c<b.mods.length;c+=1)d=b.mods[c],"string"==typeof d&&(e=o.mods[d],e?b.mods[c]=e:a.error("No module found with name "+d))},o.setLayout=function(a){a.target.attr("unselectable","on").css({"-ms-user-select":"none","-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","user-select":"none"});var b=Math.floor(a.width||a.frameWidth||a.target.innerWidth()),c=Math.floor(a.height||a.frameHeight||a.target.innerHeight());a.target.css({width:b,height:c,position:"relative",overflow:"hidden"});var d={width:"100%",height:"100%",top:0,left:0,bottom:0,right:0,position:"absolute"};a.stage.css(d).hide(),a.canvas&&(a.canvas[0].width=b,a.canvas[0].height=c,a.canvas.css(d).hide())},o.setEvents=function(a){var b,c,d,f=a.target;for(h(f),c=0;c<n.length;c+=1)g(f,n[c],e);for(b=0;b<a.mods.length;b+=1){for(d=a.mods[b],c=0;c<m.length;c+=1)g(f,m[c],d[m[c]]);g(f,"onInit",d.onInit),g(f,"onProgress",d.onProgress),g(f,"onLoad",d.onLoad),g(f,"onFrame",d.onFrame),g(f,"onDraw",d.onDraw)}g(f,"onLoad",function(a,b){o.setAnimation(b)}),g(f,"onInit",a.onInit),g(f,"onProgress",a.onProgress),g(f,"onLoad",a.onLoad),g(f,"onFrame",a.onFrame),g(f,"onDraw",a.onDraw)},o.boot=function(a){o.setModules(a),o.setLayout(a),o.setEvents(a),a.target.addClass("loading").trigger("onInit",a),a.loading=!0,i({source:a.source,preloadCount:a.preloadCount,progress:function(b){a.target.trigger("onProgress",[b,a])},complete:function(b){a.images=b,a.loading=!1,o.measureSource(a),a.stage.show(),a.target.removeClass("loading").trigger("onLoad",a).trigger("onFrame",a).trigger("onDraw",a)}})},o.create=function(b){var c=b.target,d=c.data(l);if(d)a.extend(d,b);else{if(d=a.extend({},o.defaults,b),d.source=d.source||[],c.find("img").each(function(){d.source.push(a(this).attr("src"))}),c.empty().addClass("spritespin-instance").append("<div class='spritespin-stage'></div>"),"canvas"===d.renderer){var e=a("<canvas class='spritespin-canvas'></canvas>")[0];e.getContext&&e.getContext("2d")?(d.canvas=a(e),d.context=e.getContext("2d"),c.append(d.canvas),c.addClass("with-canvas")):d.renderer="image"}d.target=c,d.stage=c.find(".spritespin-stage"),c.data(l,d)}"string"==typeof d.source&&(d.source=[d.source]),d.mods&&(delete d.behavior,delete d.module),(d.behavior||d.module)&&(d.mods=[],d.behavior&&d.mods.push(d.behavior),d.module&&d.mods.push(d.module),delete d.behavior,delete d.module),o.boot(d)},o.destroy=function(a){a&&(o.stopAnimation(a),h(a.target),a.target.removeData(l))},o.registerModule=function(b,c){return o.mods[b]&&a.error("Module name is already taken: "+b),c=c||{},o.mods[b]=c,c},o.Api=function(a){this.data=a},o.extendApi=function(b){var c,d=o.Api.prototype;for(c in b)b.hasOwnProperty(c)&&(d[c]?a.error("API method is already defined: "+c):d[c]=b[c]);return d},a.fn.spritespin=function(b,c){if("data"===b)return this.data(l);if("api"===b){var d=this.data(l);return d.api=d.api||new o.Api(d),d.api}if("destroy"===b)return a(this).each(function(){o.destroy(a(this).data(l))});if(2===arguments.length&&"string"==typeof b){var e={};e[b]=c,b=e}return"object"==typeof b?(b.target=b.target||a(this),o.create(b),b.target):a.error("Invalid call to spritespin")}}(window.jQuery||window.Zepto||window.$),function(a){"use strict";var b=window.SpriteSpin;b.extendApi({isPlaying:function(){return null!==this.data.animation},isLooping:function(){return this.data.loop},toggleAnimation:function(){this.data.animate=!this.data.animate,b.setAnimation(this.data)},stopAnimation:function(){this.data.animate=!1,b.setAnimation(this.data)},startAnimation:function(){this.data.animate=!0,b.setAnimation(this.data)},loop:function(a){return this.data.loop=a,b.setAnimation(this.data),this},currentFrame:function(){return this.data.frame},updateFrame:function(a){return b.updateFrame(this.data,a),this},skipFrames:function(a){var c=this.data;return b.updateFrame(c,c.frame+(c.reverse?-a:+a)),this},nextFrame:function(){return this.skipFrames(1)},prevFrame:function(){return this.skipFrames(-1)},playTo:function(a,c){var d=this.data;if(c=c||{},c.force||d.frame!==a){if(c.nearest){var e=a-d.frame,f=a>d.frame?e-d.frames:e+d.frames,g=Math.abs(e)<Math.abs(f)?e:f;d.reverse=0>g}return d.animate=!0,d.loop=!1,d.stopFrame=a,b.setAnimation(d),this}}})}(window.jQuery||window.Zepto||window.$),function(a,b){"use strict";function c(c){var d=a(this),e=d.data("spritespin");b.updateInput(c,e);var f,g;"horizontal"===e.orientation?(f=e.target.innerWidth()/2,g=e.currentX-e.target.offset().left):(f=e.target.innerHeight()/2,g=e.currentY-e.target.offset().top),g>f?d.spritespin("next"):d.spritespin("prev")}b.registerModule("click",{mouseup:c,touchend:c})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),function(a,b){"use strict";function c(c){var d=a(this).spritespin("data");d.loading||d.dragging||!d.stage.is(":visible")||(d.dragFrame=d.frame||0,d.dragLane=d.lane||0,b.updateInput(c,d),d.dragging=!0)}function d(c){var d=a(this),e=d.spritespin("data");e.dragging=!1,e.stage.is(":visible")&&b.resetInput(e)}function e(c){var d,e,f=a(this),g=f.spritespin("data");if(g.dragging){if(b.updateInput(c,g),Math.abs(g.ddX)+Math.abs(g.ddY)>g.scrollThreshold)return g.dragging=!1,void b.resetInput(g);c.preventDefault();var h=0;h="number"==typeof g.orientation?(Number(g.orientation)||0)*Math.PI/180:"horizontal"===g.orientation?0:Math.PI/2;var i=Math.sin(h),j=Math.cos(h),k=(g.nddX*j-g.nddY*i)*g.sense||0,l=(g.nddX*i+g.nddY*j)*(g.senseLane||g.sense)||0;g.dragFrame+=g.frames*k,g.dragLane+=g.lanes*l,g.wrap||(g.dragFrame=Math.min(g.dragFrame,g.frames),g.dragFrame=Math.max(g.dragFrame,0)),g.wrapLane||(g.dragLane=Math.min(g.dragLane,g.lanes),g.dragLane=Math.max(g.dragLane,0)),e=Math.floor(g.dragFrame),d=Math.floor(g.dragLane),b.updateFrame(g,e,d),b.stopAnimation(g)}}b.registerModule("drag",{mousedown:c,mousemove:e,mouseup:d,mouseleave:d,touchstart:c,touchmove:e,touchend:d,touchcancel:d}),b.registerModule("move",{mousemove:function(a){c.call(this,a),e.call(this,a)},mouseleave:d,touchstart:c,touchmove:e,touchend:d,touchcancel:d})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),function(a,b){"use strict";function c(c){var d=a(this),e=d.spritespin("data");e.loading||(b.updateInput(c,e),e.dragging=!0,d.spritespin("api").startAnimation())}function d(c){var d=a(this),e=d.spritespin("data");b.resetInput(e),e.dragging=!1,d.spritespin("api").stopAnimation()}function e(c){var d=a(this),e=d.spritespin("data");if(e.dragging){b.updateInput(c,e);var f,g;"horizontal"===e.orientation?(f=e.target.innerWidth()/2,g=(e.currentX-e.target.offset().left-f)/f):(f=e.height/2,g=(e.currentY-e.target.offset().top-f)/f),e.reverse=0>g,g=0>g?-g:g,e.frameTime=80*(1-g)+20,("horizontal"===e.orientation&&e.dX<e.dY||"vertical"===e.orientation&&e.dX<e.dY)&&c.preventDefault()}}b.registerModule("hold",{mousedown:c,mousemove:e,mouseup:d,mouseleave:d,touchstart:c,touchmove:e,touchend:d,touchcancel:d,onFrame:function(){a(this).spritespin("api").startAnimation()}})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),function(a,b){"use strict";function c(c){var d=a(this).spritespin("data");d.loading||(b.updateInput(c,d),d.dragging=!0)}function d(){var c=a(this).spritespin("data");c.dragging=!1,b.resetInput(c)}function e(c){var d=a(this),e=d.spritespin("data");if(e.dragging){b.updateInput(c,e);var f,g,h=e.frame,i=e.snap||.25;"horizontal"===e.orientation?(f=e.dX,g=e.target.innerWidth()*i):(f=e.dY,g=e.target.innerHeight()*i),f>g?(h=e.frame-1,e.dragging=!1):-g>f&&(h=e.frame+1,e.dragging=!1),d.spritespin("update",h),d.spritespin("animate",!1),("horizontal"===e.orientation&&e.dX<e.dY||"vertical"===e.orientation&&e.dX<e.dY)&&c.preventDefault()}}b.registerModule("swipe",{mousedown:c,mousemove:e,mouseup:d,mouseleave:d,touchstart:c,touchmove:e,touchend:d,touchcancel:d})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),function(a,b){"use strict";function c(b){var c=b.lane*b.frames+b.frame,d=b.frameWidth*(c%b.framesX),f=b.frameHeight*e(c/b.framesX);return"canvas"===b.renderer?(b.context.clearRect(0,0,b.width,b.height),void b.context.drawImage(b.images[0],d,f,b.frameWidth,b.frameHeight,0,0,b.width,b.height)):(d=-e(d*b.scaleWidth),f=-e(f*b.scaleHeight),void("background"===b.renderer?b.stage.css({"background-image":["url('",b.source[0],"')"].join(""),"background-position":[d,"px ",f,"px"].join("")}):a(b.images).css({top:f,left:d})))}function d(b){var c=b.lane*b.frames+b.frame,d=b.images[c];"canvas"===b.renderer?d&&(b.context.clearRect(0,0,b.width,b.height),b.context.drawImage(b.images[c],0,0,b.width,b.height)):"background"===b.renderer?b.stage.css({"background-image":["url('",b.source[c],"')"].join(""),"background-position":[0,"px ",0,"px"].join("")}):(a(b.images).hide(),a(b.images[c]).show())}var e=Math.floor;b.registerModule("360",{onLoad:function(b,c){var d,f;if(c.scaleWidth=c.width/c.frameWidth,c.scaleHeight=c.height/c.frameHeight,c.sourceIsSprite=1===c.images.length,c.stage.empty().css({"background-image":"none"}).show(),"canvas"===c.renderer)c.context.clearRect(0,0,c.width,c.height),c.canvas.show();else if("background"===c.renderer){c.sourceIsSprite?(d=e(c.sourceWidth*c.scaleWidth),f=e(c.sourceHeight*c.scaleHeight)):(d=e(c.frameWidth*c.scaleWidth),f=e(c.frameHeight*c.scaleHeight));var g=[d,"px ",f,"px"].join("");c.stage.css({"background-repeat":"no-repeat","-webkit-background-size":g,"-moz-background-size":g,"-o-background-size":g,"background-size":g})}else"image"===c.renderer&&(c.sourceIsSprite?(d=e(c.sourceWidth*c.scaleWidth),f=e(c.sourceHeight*c.scaleHeight)):d=f="100%",a(c.images).appendTo(c.stage).css({width:d,height:f,position:"absolute"}))},onDraw:function(a,b){b.sourceIsSprite?c(b):d(b)}})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),function(a){"use strict";var b=window.SpriteSpin.mods.gallery={};b.onLoad=function(b,c){c.images=[],c.offsets=[],c.stage.empty(),c.speed=500,c.opacity=.25,c.oldFrame=0;var d,e=0;for(d=0;d<c.source.length;d+=1){var f=a("<img src='"+c.source[d]+"'/>");c.stage.append(f),c.images.push(f),c.offsets.push(-e+(c.width-f[0].width)/2),e+=f[0].width,f.css({opacity:.25})}c.stage.css({width:e}),c.images[c.oldFrame].animate({opacity:1},c.speed)},b.onDraw=function(a,b){b.oldFrame!==b.frame&&b.offsets?(b.stage.stop(!0,!1),b.stage.animate({left:b.offsets[b.frame]},b.speed),b.images[b.oldFrame].animate({opacity:b.opacity},b.speed),b.oldFrame=b.frame,b.images[b.oldFrame].animate({opacity:1},b.speed)):b.stage.css({left:b.offsets[b.frame]+b.dX})},b.resetInput=function(a,b){b.onDrag||b.stage.animate({left:b.offsets[b.frame]})}}(window.jQuery||window.Zepto||window.$),function(a,b){"use strict";var c=Math.floor;b.registerModule("panorama",{onLoad:function(a,b){b.stage.empty().show(),b.frames=b.sourceWidth,"horizontal"===b.orientation?(b.scale=b.height/b.sourceHeight,b.frames=b.sourceWidth):(b.scale=b.width/b.sourceWidth,b.frames=b.sourceHeight);var d=c(b.sourceWidth*b.scale),e=c(b.sourceHeight*b.scale),f=[d,"px ",e,"px"].join("");b.stage.css({"background-image":["url('",b.source[0],"')"].join(""),"background-repeat":"repeat-both","-webkit-background-size":f,"-moz-background-size":f,"-o-background-size":f,"background-size":f})},onDraw:function(a,b){var d=0,e=0;"horizontal"===b.orientation?d=-c(b.frame%b.frames*b.scale):e=-c(b.frame%b.frames*b.scale),b.stage.css({"background-position":[d,"px ",e,"px"].join("")})}})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),function(a,b){"use strict";function c(a,c){a.preventDefault(),c.dragging=!1,!a.touches&&a.originalEvent&&(a.touches=a.originalEvent.touches);var d,e;a.touches&&a.touches.length?(d=a.touches[0].clientX||0,e=a.touches[0].clientY||0):(d=a.clientX||0,e=a.clientY||0),c.zoomX=d/c.width,c.zoomY=e/c.height,c.zoomX=c.zoomX>1?1:c.zoomX<0?0:c.zoomX,c.zoomY=c.zoomY>1?1:c.zoomY<0?0:c.zoomY,b.updateFrame(c)}function d(b){b.preventDefault();var d=a(this).spritespin("data"),e=(new Date).getTime();if(!d.zoomClickTime)return void(d.zoomClickTime=e);var f=e-d.zoomClickTime;return f>500?void(d.zoomClickTime=e):(d.zoomClickTime=0,void(a(this).spritespin("api").toggleZoom()&&c(b,d)))}function e(b){var d=a(this).spritespin("data");d.zoomStage.is(":visible")&&c(b,d)}b.registerModule("zoom",{mousedown:d,touchstart:d,mousemove:e,touchmove:e,onInit:function(b,c){c.zoomStage||(c.zoomStage=a("<div class='spritezoom-stage'></div>").css({width:"100%",height:"100%",top:0,left:0,bottom:0,right:0,position:"absolute"}).appendTo(c.target).hide())},onDraw:function(a,b){var c=b.lane*b.frames+b.frame,d=b.source[c];if(b.zoomSource&&(d=b.zoomSource[c]),d){var e=b.zoomX,f=b.zoomY;(null==e||null==f)&&(e=b.zoomX=.5,f=b.zoomY=.5),b.zoomStage.css({"background-repeat":"no-repeat","background-image":["url('",d,"')"].join(""),"background-position":[100*e|0,"% ",100*f|0,"%"].join("")})}}}),b.extendApi({toggleZoom:function(){var b=this.data;return b.zoomStage?b.zoomStage.is(":visible")?(b.zoomStage.fadeOut(),b.stage.fadeIn(),!1):(b.zoomStage.fadeIn(),b.stage.fadeOut(),!0):(a.error("zoom module is not initialized or is not available."),!1)}})}(window.jQuery||window.Zepto||window.$,window.SpriteSpin),!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?module.exports=b():"function"==typeof define&&define.amd?define(b):a.Swiper=b()}(this,function(){"use strict";function a(a,b){var c=[],g=0;if(a&&!b&&a instanceof f)return a;if(a)if("string"==typeof a){var h,i,j=a.trim();if(0<=j.indexOf("<")&&0<=j.indexOf(">")){var k="div";for(0===j.indexOf("<li")&&(k="ul"),0===j.indexOf("<tr")&&(k="tbody"),0!==j.indexOf("<td")&&0!==j.indexOf("<th")||(k="tr"),0===j.indexOf("<tbody")&&(k="table"),0===j.indexOf("<option")&&(k="select"),(i=d.createElement(k)).innerHTML=j,g=0;g<i.childNodes.length;g+=1)c.push(i.childNodes[g])}else for(h=b||"#"!==a[0]||a.match(/[ .<>:~]/)?(b||d).querySelectorAll(a.trim()):[d.getElementById(a.trim().split("#")[1])],g=0;g<h.length;g+=1)h[g]&&c.push(h[g])}else if(a.nodeType||a===e||a===d)c.push(a);else if(0<a.length&&a[0].nodeType)for(g=0;g<a.length;g+=1)c.push(a[g]);return new f(c)}function b(a){for(var b=[],c=0;c<a.length;c+=1)-1===b.indexOf(a[c])&&b.push(a[c]);return b}function c(){var a=this,b=a.params,c=a.el;if(!c||0!==c.offsetWidth){b.breakpoints&&a.setBreakpoint();var d=a.allowSlideNext,e=a.allowSlidePrev,f=a.snapGrid;if(a.allowSlideNext=!0,a.allowSlidePrev=!0,a.updateSize(),a.updateSlides(),b.freeMode){var g=Math.min(Math.max(a.translate,a.maxTranslate()),a.minTranslate());a.setTranslate(g),a.updateActiveIndex(),a.updateSlidesClasses(),b.autoHeight&&a.updateAutoHeight()}else a.updateSlidesClasses(),("auto"===b.slidesPerView||1<b.slidesPerView)&&a.isEnd&&!a.params.centeredSlides?a.slideTo(a.slides.length-1,0,!1,!0):a.slideTo(a.activeIndex,0,!1,!0);a.allowSlidePrev=e,a.allowSlideNext=d,a.params.watchOverflow&&f!==a.snapGrid&&a.checkOverflow()}}var d="undefined"==typeof document?{body:{},addEventListener:function(){},removeEventListener:function(){},activeElement:{blur:function(){},nodeName:""},querySelector:function(){return null},querySelectorAll:function(){return[]},getElementById:function(){return null},createEvent:function(){return{initEvent:function(){}}},createElement:function(){return{children:[],childNodes:[],style:{},setAttribute:function(){},getElementsByTagName:function(){return[]}}},location:{hash:""}}:document,e="undefined"==typeof window?{document:d,navigator:{userAgent:""},location:{},history:{},CustomEvent:function(){return this},addEventListener:function(){},removeEventListener:function(){},getComputedStyle:function(){return{getPropertyValue:function(){return""}}},Image:function(){},Date:function(){},screen:{},setTimeout:function(){},clearTimeout:function(){}}:window,f=function(a){for(var b=0;b<a.length;b+=1)this[b]=a[b];return this.length=a.length,this};a.fn=f.prototype,a.Class=f,a.Dom7=f;var g={addClass:function(a){if(void 0===a)return this;for(var b=a.split(" "),c=0;c<b.length;c+=1)for(var d=0;d<this.length;d+=1)void 0!==this[d]&&void 0!==this[d].classList&&this[d].classList.add(b[c]);return this},removeClass:function(a){for(var b=a.split(" "),c=0;c<b.length;c+=1)for(var d=0;d<this.length;d+=1)void 0!==this[d]&&void 0!==this[d].classList&&this[d].classList.remove(b[c]);return this},hasClass:function(a){return!!this[0]&&this[0].classList.contains(a)},toggleClass:function(a){for(var b=a.split(" "),c=0;c<b.length;c+=1)for(var d=0;d<this.length;d+=1)void 0!==this[d]&&void 0!==this[d].classList&&this[d].classList.toggle(b[c]);return this},attr:function(a,b){var c=arguments;if(1===arguments.length&&"string"==typeof a)return this[0]?this[0].getAttribute(a):void 0;for(var d=0;d<this.length;d+=1)if(2===c.length)this[d].setAttribute(a,b);else for(var e in a)this[d][e]=a[e],this[d].setAttribute(e,a[e]);return this},removeAttr:function(a){for(var b=0;b<this.length;b+=1)this[b].removeAttribute(a);return this},data:function(a,b){var c;if(void 0!==b){for(var d=0;d<this.length;d+=1)(c=this[d]).dom7ElementDataStorage||(c.dom7ElementDataStorage={}),c.dom7ElementDataStorage[a]=b;return this}if(c=this[0]){if(c.dom7ElementDataStorage&&a in c.dom7ElementDataStorage)return c.dom7ElementDataStorage[a];var e=c.getAttribute("data-"+a);return e||void 0}},transform:function(a){for(var b=0;b<this.length;b+=1){var c=this[b].style;c.webkitTransform=a,c.transform=a}return this},transition:function(a){"string"!=typeof a&&(a+="ms");for(var b=0;b<this.length;b+=1){var c=this[b].style;c.webkitTransitionDuration=a,c.transitionDuration=a}return this},on:function(){function b(b){var c=b.target;if(c){var d=b.target.dom7EventData||[];if(d.indexOf(b)<0&&d.unshift(b),a(c).is(h))i.apply(c,d);else for(var e=a(c).parents(),f=0;f<e.length;f+=1)a(e[f]).is(h)&&i.apply(e[f],d)}}function c(a){var b=a&&a.target&&a.target.dom7EventData||[];b.indexOf(a)<0&&b.unshift(a),i.apply(this,b)}for(var d,e=[],f=arguments.length;f--;)e[f]=arguments[f];var g=e[0],h=e[1],i=e[2],j=e[3];"function"==typeof e[1]&&(g=(d=e)[0],i=d[1],j=d[2],h=void 0),j||(j=!1);for(var k,l=g.split(" "),m=0;m<this.length;m+=1){var n=this[m];if(h)for(k=0;k<l.length;k+=1){var o=l[k];n.dom7LiveListeners||(n.dom7LiveListeners={}),n.dom7LiveListeners[o]||(n.dom7LiveListeners[o]=[]),n.dom7LiveListeners[o].push({listener:i,proxyListener:b}),n.addEventListener(o,b,j)}else for(k=0;k<l.length;k+=1){var p=l[k];n.dom7Listeners||(n.dom7Listeners={}),n.dom7Listeners[p]||(n.dom7Listeners[p]=[]),n.dom7Listeners[p].push({listener:i,proxyListener:c}),n.addEventListener(p,c,j)}}return this},off:function(){for(var a,b=[],c=arguments.length;c--;)b[c]=arguments[c];var d=b[0],e=b[1],f=b[2],g=b[3];"function"==typeof b[1]&&(d=(a=b)[0],f=a[1],g=a[2],e=void 0),g||(g=!1);for(var h=d.split(" "),i=0;i<h.length;i+=1)for(var j=h[i],k=0;k<this.length;k+=1){var l=this[k],m=void 0;if(!e&&l.dom7Listeners?m=l.dom7Listeners[j]:e&&l.dom7LiveListeners&&(m=l.dom7LiveListeners[j]),m&&m.length)for(var n=m.length-1;n>=0;n-=1){var o=m[n];f&&o.listener===f?(l.removeEventListener(j,o.proxyListener,g),m.splice(n,1)):f||(l.removeEventListener(j,o.proxyListener,g),m.splice(n,1))}}return this},trigger:function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];for(var c=a[0].split(" "),f=a[1],g=0;g<c.length;g+=1)for(var h=c[g],i=0;i<this.length;i+=1){var j=this[i],k=void 0;try{k=new e.CustomEvent(h,{detail:f,bubbles:!0,cancelable:!0})}catch(a){(k=d.createEvent("Event")).initEvent(h,!0,!0),k.detail=f}j.dom7EventData=a.filter(function(a,b){return b>0}),j.dispatchEvent(k),j.dom7EventData=[],delete j.dom7EventData}return this},transitionEnd:function(a){function b(f){if(f.target===this)for(a.call(this,f),c=0;c<d.length;c+=1)e.off(d[c],b)}var c,d=["webkitTransitionEnd","transitionend"],e=this;if(a)for(c=0;c<d.length;c+=1)e.on(d[c],b);return this},outerWidth:function(a){if(0<this.length){if(a){var b=this.styles();return this[0].offsetWidth+parseFloat(b.getPropertyValue("margin-right"))+parseFloat(b.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function(a){if(0<this.length){if(a){var b=this.styles();return this[0].offsetHeight+parseFloat(b.getPropertyValue("margin-top"))+parseFloat(b.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},offset:function(){if(0<this.length){var a=this[0],b=a.getBoundingClientRect(),c=d.body,f=a.clientTop||c.clientTop||0,g=a.clientLeft||c.clientLeft||0,h=a===e?e.scrollY:a.scrollTop,i=a===e?e.scrollX:a.scrollLeft;return{top:b.top+h-f,left:b.left+i-g}}return null},css:function(a,b){var c;if(1===arguments.length){if("string"!=typeof a){for(c=0;c<this.length;c+=1)for(var d in a)this[c].style[d]=a[d];return this}if(this[0])return e.getComputedStyle(this[0],null).getPropertyValue(a)}if(2===arguments.length&&"string"==typeof a){for(c=0;c<this.length;c+=1)this[c].style[a]=b;return this}return this},each:function(a){if(!a)return this;for(var b=0;b<this.length;b+=1)if(!1===a.call(this[b],b,this[b]))return this;return this},html:function(a){if(void 0===a)return this[0]?this[0].innerHTML:void 0;for(var b=0;b<this.length;b+=1)this[b].innerHTML=a;return this},text:function(a){if(void 0===a)return this[0]?this[0].textContent.trim():null;for(var b=0;b<this.length;b+=1)this[b].textContent=a;return this},is:function(b){var c,g,h=this[0];if(!h||void 0===b)return!1;if("string"==typeof b){if(h.matches)return h.matches(b);if(h.webkitMatchesSelector)return h.webkitMatchesSelector(b);if(h.msMatchesSelector)return h.msMatchesSelector(b);for(c=a(b),g=0;g<c.length;g+=1)if(c[g]===h)return!0;return!1}if(b===d)return h===d;if(b===e)return h===e;if(b.nodeType||b instanceof f){for(c=b.nodeType?[b]:b,g=0;g<c.length;g+=1)if(c[g]===h)return!0;return!1}return!1},index:function(){var a,b=this[0];if(b){for(a=0;null!==(b=b.previousSibling);)1===b.nodeType&&(a+=1);return a}},eq:function(a){if(void 0===a)return this;var b,c=this.length;return new f(a>c-1?[]:0>a?(b=c+a)<0?[]:[this[b]]:[this[a]])},append:function(){for(var a,b=[],c=arguments.length;c--;)b[c]=arguments[c];for(var e=0;e<b.length;e+=1){a=b[e];for(var g=0;g<this.length;g+=1)if("string"==typeof a){var h=d.createElement("div");for(h.innerHTML=a;h.firstChild;)this[g].appendChild(h.firstChild)}else if(a instanceof f)for(var i=0;i<a.length;i+=1)this[g].appendChild(a[i]);else this[g].appendChild(a)}return this},prepend:function(a){var b,c;for(b=0;b<this.length;b+=1)if("string"==typeof a){var e=d.createElement("div");for(e.innerHTML=a,c=e.childNodes.length-1;c>=0;c-=1)this[b].insertBefore(e.childNodes[c],this[b].childNodes[0])}else if(a instanceof f)for(c=0;c<a.length;c+=1)this[b].insertBefore(a[c],this[b].childNodes[0]);else this[b].insertBefore(a,this[b].childNodes[0]);return this},next:function(b){return new f(0<this.length?b?this[0].nextElementSibling&&a(this[0].nextElementSibling).is(b)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(b){var c=[],d=this[0];if(!d)return new f([]);for(;d.nextElementSibling;){var e=d.nextElementSibling;b?a(e).is(b)&&c.push(e):c.push(e),d=e}return new f(c)},prev:function(b){if(0<this.length){var c=this[0];return new f(b?c.previousElementSibling&&a(c.previousElementSibling).is(b)?[c.previousElementSibling]:[]:c.previousElementSibling?[c.previousElementSibling]:[])}return new f([])},prevAll:function(b){var c=[],d=this[0];if(!d)return new f([]);for(;d.previousElementSibling;){var e=d.previousElementSibling;b?a(e).is(b)&&c.push(e):c.push(e),d=e}return new f(c)},parent:function(c){for(var d=[],e=0;e<this.length;e+=1)null!==this[e].parentNode&&(c?a(this[e].parentNode).is(c)&&d.push(this[e].parentNode):d.push(this[e].parentNode));return a(b(d))},parents:function(c){for(var d=[],e=0;e<this.length;e+=1)for(var f=this[e].parentNode;f;)c?a(f).is(c)&&d.push(f):d.push(f),
f=f.parentNode;return a(b(d))},closest:function(a){var b=this;return void 0===a?new f([]):(b.is(a)||(b=b.parents(a).eq(0)),b)},find:function(a){for(var b=[],c=0;c<this.length;c+=1)for(var d=this[c].querySelectorAll(a),e=0;e<d.length;e+=1)b.push(d[e]);return new f(b)},children:function(c){for(var d=[],e=0;e<this.length;e+=1)for(var g=this[e].childNodes,h=0;h<g.length;h+=1)c?1===g[h].nodeType&&a(g[h]).is(c)&&d.push(g[h]):1===g[h].nodeType&&d.push(g[h]);return new f(b(d))},remove:function(){for(var a=0;a<this.length;a+=1)this[a].parentNode&&this[a].parentNode.removeChild(this[a]);return this},add:function(){for(var b=[],c=arguments.length;c--;)b[c]=arguments[c];var d,e;for(d=0;d<b.length;d+=1){var f=a(b[d]);for(e=0;e<f.length;e+=1)this[this.length]=f[e],this.length+=1}return this},styles:function(){return this[0]?e.getComputedStyle(this[0],null):{}}};Object.keys(g).forEach(function(b){a.fn[b]=g[b]});var h,i,j,k={deleteProps:function(a){var b=a;Object.keys(b).forEach(function(a){try{b[a]=null}catch(a){}try{delete b[a]}catch(a){}})},nextTick:function(a,b){return void 0===b&&(b=0),setTimeout(a,b)},now:function(){return Date.now()},getTranslate:function(a,b){var c,d,f;void 0===b&&(b="x");var g=e.getComputedStyle(a,null);return e.WebKitCSSMatrix?(6<(d=g.transform||g.webkitTransform).split(",").length&&(d=d.split(", ").map(function(a){return a.replace(",",".")}).join(", ")),f=new e.WebKitCSSMatrix("none"===d?"":d)):c=(f=g.MozTransform||g.OTransform||g.MsTransform||g.msTransform||g.transform||g.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,")).toString().split(","),"x"===b&&(d=e.WebKitCSSMatrix?f.m41:16===c.length?parseFloat(c[12]):parseFloat(c[4])),"y"===b&&(d=e.WebKitCSSMatrix?f.m42:16===c.length?parseFloat(c[13]):parseFloat(c[5])),d||0},parseUrlQuery:function(a){var b,c,d,f,g={},h=a||e.location.href;if("string"==typeof h&&h.length)for(f=(c=(h=-1<h.indexOf("?")?h.replace(/\S*\?/,""):"").split("&").filter(function(a){return""!==a})).length,b=0;f>b;b+=1)d=c[b].replace(/#\S+/g,"").split("="),g[decodeURIComponent(d[0])]=void 0===d[1]?void 0:decodeURIComponent(d[1])||"";return g},isObject:function(a){return"object"==typeof a&&null!==a&&a.constructor&&a.constructor===Object},extend:function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];for(var c=Object(a[0]),d=1;d<a.length;d+=1){var e=a[d];if(null!=e)for(var f=Object.keys(Object(e)),g=0,h=f.length;h>g;g+=1){var i=f[g],j=Object.getOwnPropertyDescriptor(e,i);void 0!==j&&j.enumerable&&(k.isObject(c[i])&&k.isObject(e[i])?k.extend(c[i],e[i]):!k.isObject(c[i])&&k.isObject(e[i])?(c[i]={},k.extend(c[i],e[i])):c[i]=e[i])}}return c}},l=(j=d.createElement("div"),{touch:e.Modernizr&&!0===e.Modernizr.touch||!!("ontouchstart"in e||e.DocumentTouch&&d instanceof e.DocumentTouch),pointerEvents:!!(e.navigator.pointerEnabled||e.PointerEvent||"maxTouchPoints"in e.navigator),prefixedPointerEvents:!!e.navigator.msPointerEnabled,transition:(i=j.style,"transition"in i||"webkitTransition"in i||"MozTransition"in i),transforms3d:e.Modernizr&&!0===e.Modernizr.csstransforms3d||(h=j.style,"webkitPerspective"in h||"MozPerspective"in h||"OPerspective"in h||"MsPerspective"in h||"perspective"in h),flexbox:function(){for(var a=j.style,b="alignItems webkitAlignItems webkitBoxAlign msFlexAlign mozBoxAlign webkitFlexDirection msFlexDirection mozBoxDirection mozBoxOrient webkitBoxDirection webkitBoxOrient".split(" "),c=0;c<b.length;c+=1)if(b[c]in a)return!0;return!1}(),observer:"MutationObserver"in e||"WebkitMutationObserver"in e,passiveListener:function(){var a=!1;try{var b=Object.defineProperty({},"passive",{get:function(){a=!0}});e.addEventListener("testPassiveListener",null,b)}catch(a){}return a}(),gestures:"ongesturestart"in e}),m=function(a){void 0===a&&(a={});var b=this;b.params=a,b.eventsListeners={},b.params&&b.params.on&&Object.keys(b.params.on).forEach(function(a){b.on(a,b.params.on[a])})},n={components:{configurable:!0}};m.prototype.on=function(a,b,c){var d=this;if("function"!=typeof b)return d;var e=c?"unshift":"push";return a.split(" ").forEach(function(a){d.eventsListeners[a]||(d.eventsListeners[a]=[]),d.eventsListeners[a][e](b)}),d},m.prototype.once=function(a,b,c){var d=this;return"function"!=typeof b?d:d.on(a,function e(){for(var c=[],f=arguments.length;f--;)c[f]=arguments[f];b.apply(d,c),d.off(a,e)},c)},m.prototype.off=function(a,b){var c=this;return c.eventsListeners&&a.split(" ").forEach(function(a){void 0===b?c.eventsListeners[a]=[]:c.eventsListeners[a]&&c.eventsListeners[a].length&&c.eventsListeners[a].forEach(function(d,e){d===b&&c.eventsListeners[a].splice(e,1)})}),c},m.prototype.emit=function(){for(var a=[],b=arguments.length;b--;)a[b]=arguments[b];var c,d,e,f=this;return f.eventsListeners&&("string"==typeof a[0]||Array.isArray(a[0])?(c=a[0],d=a.slice(1,a.length),e=f):(c=a[0].events,d=a[0].data,e=a[0].context||f),(Array.isArray(c)?c:c.split(" ")).forEach(function(a){if(f.eventsListeners&&f.eventsListeners[a]){var b=[];f.eventsListeners[a].forEach(function(a){b.push(a)}),b.forEach(function(a){a.apply(e,d)})}})),f},m.prototype.useModulesParams=function(a){var b=this;b.modules&&Object.keys(b.modules).forEach(function(c){var d=b.modules[c];d.params&&k.extend(a,d.params)})},m.prototype.useModules=function(a){void 0===a&&(a={});var b=this;b.modules&&Object.keys(b.modules).forEach(function(c){var d=b.modules[c],e=a[c]||{};d.instance&&Object.keys(d.instance).forEach(function(a){var c=d.instance[a];b[a]="function"==typeof c?c.bind(b):c}),d.on&&b.on&&Object.keys(d.on).forEach(function(a){b.on(a,d.on[a])}),d.create&&d.create.bind(b)(e)})},n.components.set=function(a){this.use&&this.use(a)},m.installModule=function(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];var d=this;d.prototype.modules||(d.prototype.modules={});var e=a.name||Object.keys(d.prototype.modules).length+"_"+k.now();return(d.prototype.modules[e]=a).proto&&Object.keys(a.proto).forEach(function(b){d.prototype[b]=a.proto[b]}),a["static"]&&Object.keys(a["static"]).forEach(function(b){d[b]=a["static"][b]}),a.install&&a.install.apply(d,b),d},m.use=function(a){for(var b=[],c=arguments.length-1;0<c--;)b[c]=arguments[c+1];var d=this;return Array.isArray(a)?(a.forEach(function(a){return d.installModule(a)}),d):d.installModule.apply(d,[a].concat(b))},Object.defineProperties(m,n);var o,p={updateSize:function(){var a,b,c=this,d=c.$el;a=void 0!==c.params.width?c.params.width:d[0].clientWidth,b=void 0!==c.params.height?c.params.height:d[0].clientHeight,0===a&&c.isHorizontal()||0===b&&c.isVertical()||(a=a-parseInt(d.css("padding-left"),10)-parseInt(d.css("padding-right"),10),b=b-parseInt(d.css("padding-top"),10)-parseInt(d.css("padding-bottom"),10),k.extend(c,{width:a,height:b,size:c.isHorizontal()?a:b}))},updateSlides:function(){var a=this,b=a.params,c=a.$wrapperEl,d=a.size,f=a.rtlTranslate,g=a.wrongRTL,h=a.virtual&&b.virtual.enabled,i=h?a.virtual.slides.length:a.slides.length,j=c.children("."+a.params.slideClass),m=h?a.virtual.slides.length:j.length,n=[],o=[],p=[],q=b.slidesOffsetBefore;"function"==typeof q&&(q=b.slidesOffsetBefore.call(a));var r=b.slidesOffsetAfter;"function"==typeof r&&(r=b.slidesOffsetAfter.call(a));var s=a.snapGrid.length,t=a.snapGrid.length,u=b.spaceBetween,v=-q,w=0,x=0;if(void 0!==d){var y,z;"string"==typeof u&&0<=u.indexOf("%")&&(u=parseFloat(u.replace("%",""))/100*d),a.virtualSize=-u,f?j.css({marginLeft:"",marginTop:""}):j.css({marginRight:"",marginBottom:""}),1<b.slidesPerColumn&&(y=Math.floor(m/b.slidesPerColumn)===m/a.params.slidesPerColumn?m:Math.ceil(m/b.slidesPerColumn)*b.slidesPerColumn,"auto"!==b.slidesPerView&&"row"===b.slidesPerColumnFill&&(y=Math.max(y,b.slidesPerView*b.slidesPerColumn)));for(var A,B=b.slidesPerColumn,C=y/B,D=C-(b.slidesPerColumn*C-m),E=0;m>E;E+=1){z=0;var F=j.eq(E);if(1<b.slidesPerColumn){var G=void 0,H=void 0,I=void 0;"column"===b.slidesPerColumnFill?(I=E-(H=Math.floor(E/B))*B,(H>D||H===D&&I===B-1)&&B<=(I+=1)&&(I=0,H+=1),G=H+I*y/B,F.css({"-webkit-box-ordinal-group":G,"-moz-box-ordinal-group":G,"-ms-flex-order":G,"-webkit-order":G,order:G})):H=E-(I=Math.floor(E/C))*C,F.css("margin-"+(a.isHorizontal()?"top":"left"),0!==I&&b.spaceBetween&&b.spaceBetween+"px").attr("data-swiper-column",H).attr("data-swiper-row",I)}if("none"!==F.css("display")){if("auto"===b.slidesPerView){var J=e.getComputedStyle(F[0],null),K=F[0].style.transform,L=F[0].style.webkitTransform;K&&(F[0].style.transform="none"),L&&(F[0].style.webkitTransform="none"),z=b.roundLengths?a.isHorizontal()?F.outerWidth(!0):F.outerHeight(!0):a.isHorizontal()?parseFloat(J.getPropertyValue("width"))+parseFloat(J.getPropertyValue("margin-left"))+parseFloat(J.getPropertyValue("margin-right")):parseFloat(J.getPropertyValue("height"))+parseFloat(J.getPropertyValue("margin-top"))+parseFloat(J.getPropertyValue("margin-bottom")),K&&(F[0].style.transform=K),L&&(F[0].style.webkitTransform=L),b.roundLengths&&(z=Math.floor(z))}else z=(d-(b.slidesPerView-1)*u)/b.slidesPerView,b.roundLengths&&(z=Math.floor(z)),j[E]&&(a.isHorizontal()?j[E].style.width=z+"px":j[E].style.height=z+"px");j[E]&&(j[E].swiperSlideSize=z),p.push(z),b.centeredSlides?(v=v+z/2+w/2+u,0===w&&0!==E&&(v=v-d/2-u),0===E&&(v=v-d/2-u),Math.abs(v)<.001&&(v=0),b.roundLengths&&(v=Math.floor(v)),x%b.slidesPerGroup==0&&n.push(v),o.push(v)):(b.roundLengths&&(v=Math.floor(v)),x%b.slidesPerGroup==0&&n.push(v),o.push(v),v=v+z+u),a.virtualSize+=z+u,w=z,x+=1}}if(a.virtualSize=Math.max(a.virtualSize,d)+r,f&&g&&("slide"===b.effect||"coverflow"===b.effect)&&c.css({width:a.virtualSize+b.spaceBetween+"px"}),l.flexbox&&!b.setWrapperSize||(a.isHorizontal()?c.css({width:a.virtualSize+b.spaceBetween+"px"}):c.css({height:a.virtualSize+b.spaceBetween+"px"})),1<b.slidesPerColumn&&(a.virtualSize=(z+b.spaceBetween)*y,a.virtualSize=Math.ceil(a.virtualSize/b.slidesPerColumn)-b.spaceBetween,a.isHorizontal()?c.css({width:a.virtualSize+b.spaceBetween+"px"}):c.css({height:a.virtualSize+b.spaceBetween+"px"}),b.centeredSlides)){A=[];for(var M=0;M<n.length;M+=1){var N=n[M];b.roundLengths&&(N=Math.floor(N)),n[M]<a.virtualSize+n[0]&&A.push(N)}n=A}if(!b.centeredSlides){A=[];for(var O=0;O<n.length;O+=1){var P=n[O];b.roundLengths&&(P=Math.floor(P)),n[O]<=a.virtualSize-d&&A.push(P)}n=A,1<Math.floor(a.virtualSize-d)-Math.floor(n[n.length-1])&&n.push(a.virtualSize-d)}if(0===n.length&&(n=[0]),0!==b.spaceBetween&&(a.isHorizontal()?f?j.css({marginLeft:u+"px"}):j.css({marginRight:u+"px"}):j.css({marginBottom:u+"px"})),b.centerInsufficientSlides){var Q=0;if(p.forEach(function(a){Q+=a+(b.spaceBetween?b.spaceBetween:0)}),(Q-=b.spaceBetween)<d){var R=(d-Q)/2;n.forEach(function(a,b){n[b]=a-R}),o.forEach(function(a,b){o[b]=a+R})}}k.extend(a,{slides:j,snapGrid:n,slidesGrid:o,slidesSizesGrid:p}),m!==i&&a.emit("slidesLengthChange"),n.length!==s&&(a.params.watchOverflow&&a.checkOverflow(),a.emit("snapGridLengthChange")),o.length!==t&&a.emit("slidesGridLengthChange"),(b.watchSlidesProgress||b.watchSlidesVisibility)&&a.updateSlidesOffset()}},updateAutoHeight:function(a){var b,c=this,d=[],e=0;if("number"==typeof a?c.setTransition(a):!0===a&&c.setTransition(c.params.speed),"auto"!==c.params.slidesPerView&&1<c.params.slidesPerView)for(b=0;b<Math.ceil(c.params.slidesPerView);b+=1){var f=c.activeIndex+b;if(f>c.slides.length)break;d.push(c.slides.eq(f)[0])}else d.push(c.slides.eq(c.activeIndex)[0]);for(b=0;b<d.length;b+=1)if(void 0!==d[b]){var g=d[b].offsetHeight;e=g>e?g:e}e&&c.$wrapperEl.css("height",e+"px")},updateSlidesOffset:function(){for(var a=this.slides,b=0;b<a.length;b+=1)a[b].swiperSlideOffset=this.isHorizontal()?a[b].offsetLeft:a[b].offsetTop},updateSlidesProgress:function(b){void 0===b&&(b=this&&this.translate||0);var c=this,d=c.params,e=c.slides,f=c.rtlTranslate;if(0!==e.length){void 0===e[0].swiperSlideOffset&&c.updateSlidesOffset();var g=-b;f&&(g=b),e.removeClass(d.slideVisibleClass),c.visibleSlidesIndexes=[],c.visibleSlides=[];for(var h=0;h<e.length;h+=1){var i=e[h],j=(g+(d.centeredSlides?c.minTranslate():0)-i.swiperSlideOffset)/(i.swiperSlideSize+d.spaceBetween);if(d.watchSlidesVisibility){var k=-(g-i.swiperSlideOffset),l=k+c.slidesSizesGrid[h];(k>=0&&k<c.size||l>0&&l<=c.size||0>=k&&l>=c.size)&&(c.visibleSlides.push(i),c.visibleSlidesIndexes.push(h),e.eq(h).addClass(d.slideVisibleClass))}i.progress=f?-j:j}c.visibleSlides=a(c.visibleSlides)}},updateProgress:function(a){void 0===a&&(a=this&&this.translate||0);var b=this,c=b.params,d=b.maxTranslate()-b.minTranslate(),e=b.progress,f=b.isBeginning,g=b.isEnd,h=f,i=g;0===d?g=f=!(e=0):(f=(e=(a-b.minTranslate())/d)<=0,g=e>=1),k.extend(b,{progress:e,isBeginning:f,isEnd:g}),(c.watchSlidesProgress||c.watchSlidesVisibility)&&b.updateSlidesProgress(a),f&&!h&&b.emit("reachBeginning toEdge"),g&&!i&&b.emit("reachEnd toEdge"),(h&&!f||i&&!g)&&b.emit("fromEdge"),b.emit("progress",e)},updateSlidesClasses:function(){var a,b=this,c=b.slides,d=b.params,e=b.$wrapperEl,f=b.activeIndex,g=b.realIndex,h=b.virtual&&d.virtual.enabled;c.removeClass(d.slideActiveClass+" "+d.slideNextClass+" "+d.slidePrevClass+" "+d.slideDuplicateActiveClass+" "+d.slideDuplicateNextClass+" "+d.slideDuplicatePrevClass),(a=h?b.$wrapperEl.find("."+d.slideClass+'[data-swiper-slide-index="'+f+'"]'):c.eq(f)).addClass(d.slideActiveClass),d.loop&&(a.hasClass(d.slideDuplicateClass)?e.children("."+d.slideClass+":not(."+d.slideDuplicateClass+')[data-swiper-slide-index="'+g+'"]').addClass(d.slideDuplicateActiveClass):e.children("."+d.slideClass+"."+d.slideDuplicateClass+'[data-swiper-slide-index="'+g+'"]').addClass(d.slideDuplicateActiveClass));var i=a.nextAll("."+d.slideClass).eq(0).addClass(d.slideNextClass);d.loop&&0===i.length&&(i=c.eq(0)).addClass(d.slideNextClass);var j=a.prevAll("."+d.slideClass).eq(0).addClass(d.slidePrevClass);d.loop&&0===j.length&&(j=c.eq(-1)).addClass(d.slidePrevClass),d.loop&&(i.hasClass(d.slideDuplicateClass)?e.children("."+d.slideClass+":not(."+d.slideDuplicateClass+')[data-swiper-slide-index="'+i.attr("data-swiper-slide-index")+'"]').addClass(d.slideDuplicateNextClass):e.children("."+d.slideClass+"."+d.slideDuplicateClass+'[data-swiper-slide-index="'+i.attr("data-swiper-slide-index")+'"]').addClass(d.slideDuplicateNextClass),j.hasClass(d.slideDuplicateClass)?e.children("."+d.slideClass+":not(."+d.slideDuplicateClass+')[data-swiper-slide-index="'+j.attr("data-swiper-slide-index")+'"]').addClass(d.slideDuplicatePrevClass):e.children("."+d.slideClass+"."+d.slideDuplicateClass+'[data-swiper-slide-index="'+j.attr("data-swiper-slide-index")+'"]').addClass(d.slideDuplicatePrevClass))},updateActiveIndex:function(a){var b,c=this,d=c.rtlTranslate?c.translate:-c.translate,e=c.slidesGrid,f=c.snapGrid,g=c.params,h=c.activeIndex,i=c.realIndex,j=c.snapIndex,l=a;if(void 0===l){for(var m=0;m<e.length;m+=1)void 0!==e[m+1]?d>=e[m]&&d<e[m+1]-(e[m+1]-e[m])/2?l=m:d>=e[m]&&d<e[m+1]&&(l=m+1):d>=e[m]&&(l=m);g.normalizeSlideIndex&&(0>l||void 0===l)&&(l=0)}if((b=0<=f.indexOf(d)?f.indexOf(d):Math.floor(l/g.slidesPerGroup))>=f.length&&(b=f.length-1),l!==h){var n=parseInt(c.slides.eq(l).attr("data-swiper-slide-index")||l,10);k.extend(c,{snapIndex:b,realIndex:n,previousIndex:h,activeIndex:l}),c.emit("activeIndexChange"),c.emit("snapIndexChange"),i!==n&&c.emit("realIndexChange"),c.emit("slideChange")}else b!==j&&(c.snapIndex=b,c.emit("snapIndexChange"))},updateClickedSlide:function(b){var c=this,d=c.params,e=a(b.target).closest("."+d.slideClass)[0],f=!1;if(e)for(var g=0;g<c.slides.length;g+=1)c.slides[g]===e&&(f=!0);return e&&f?(c.clickedSlide=e,c.virtual&&c.params.virtual.enabled?c.clickedIndex=parseInt(a(e).attr("data-swiper-slide-index"),10):c.clickedIndex=a(e).index(),d.slideToClickedSlide&&void 0!==c.clickedIndex&&c.clickedIndex!==c.activeIndex&&c.slideToClickedSlide(),void 0):(c.clickedSlide=void 0,void(c.clickedIndex=void 0))}},q={getTranslate:function(a){void 0===a&&(a=this.isHorizontal()?"x":"y");var b=this.params,c=this.rtlTranslate,d=this.translate,e=this.$wrapperEl;if(b.virtualTranslate)return c?-d:d;var f=k.getTranslate(e[0],a);return c&&(f=-f),f||0},setTranslate:function(a,b){var c=this,d=c.rtlTranslate,e=c.params,f=c.$wrapperEl,g=c.progress,h=0,i=0;c.isHorizontal()?h=d?-a:a:i=a,e.roundLengths&&(h=Math.floor(h),i=Math.floor(i)),e.virtualTranslate||(l.transforms3d?f.transform("translate3d("+h+"px, "+i+"px, 0px)"):f.transform("translate("+h+"px, "+i+"px)")),c.previousTranslate=c.translate,c.translate=c.isHorizontal()?h:i;var j=c.maxTranslate()-c.minTranslate();(0===j?0:(a-c.minTranslate())/j)!==g&&c.updateProgress(a),c.emit("setTranslate",c.translate,b)},minTranslate:function(){return-this.snapGrid[0]},maxTranslate:function(){return-this.snapGrid[this.snapGrid.length-1]}},r={setTransition:function(a,b){this.$wrapperEl.transition(a),this.emit("setTransition",a,b)},transitionStart:function(a,b){void 0===a&&(a=!0);var c=this,d=c.activeIndex,e=c.params,f=c.previousIndex;e.autoHeight&&c.updateAutoHeight();var g=b;if(g||(g=d>f?"next":f>d?"prev":"reset"),c.emit("transitionStart"),a&&d!==f){if("reset"===g)return void c.emit("slideResetTransitionStart");c.emit("slideChangeTransitionStart"),"next"===g?c.emit("slideNextTransitionStart"):c.emit("slidePrevTransitionStart")}},transitionEnd:function(a,b){void 0===a&&(a=!0);var c=this,d=c.activeIndex,e=c.previousIndex;c.animating=!1,c.setTransition(0);var f=b;if(f||(f=d>e?"next":e>d?"prev":"reset"),c.emit("transitionEnd"),a&&d!==e){if("reset"===f)return void c.emit("slideResetTransitionEnd");c.emit("slideChangeTransitionEnd"),"next"===f?c.emit("slideNextTransitionEnd"):c.emit("slidePrevTransitionEnd")}}},s={slideTo:function(a,b,c,d){void 0===a&&(a=0),void 0===b&&(b=this.params.speed),void 0===c&&(c=!0);var e=this,f=a;0>f&&(f=0);var g=e.params,h=e.snapGrid,i=e.slidesGrid,j=e.previousIndex,k=e.activeIndex,m=e.rtlTranslate;if(e.animating&&g.preventInteractionOnTransition)return!1;var n=Math.floor(f/g.slidesPerGroup);n>=h.length&&(n=h.length-1),(k||g.initialSlide||0)===(j||0)&&c&&e.emit("beforeSlideChangeStart");var o,p=-h[n];if(e.updateProgress(p),g.normalizeSlideIndex)for(var q=0;q<i.length;q+=1)-Math.floor(100*p)>=Math.floor(100*i[q])&&(f=q);if(e.initialized&&f!==k){if(!e.allowSlideNext&&p<e.translate&&p<e.minTranslate())return!1;if(!e.allowSlidePrev&&p>e.translate&&p>e.maxTranslate()&&(k||0)!==f)return!1}return o=f>k?"next":k>f?"prev":"reset",m&&-p===e.translate||!m&&p===e.translate?(e.updateActiveIndex(f),g.autoHeight&&e.updateAutoHeight(),e.updateSlidesClasses(),"slide"!==g.effect&&e.setTranslate(p),"reset"!==o&&(e.transitionStart(c,o),e.transitionEnd(c,o)),!1):(0!==b&&l.transition?(e.setTransition(b),e.setTranslate(p),e.updateActiveIndex(f),e.updateSlidesClasses(),e.emit("beforeTransitionStart",b,d),e.transitionStart(c,o),e.animating||(e.animating=!0,e.onSlideToWrapperTransitionEnd||(e.onSlideToWrapperTransitionEnd=function(a){e&&!e.destroyed&&a.target===this&&(e.$wrapperEl[0].removeEventListener("transitionend",e.onSlideToWrapperTransitionEnd),e.$wrapperEl[0].removeEventListener("webkitTransitionEnd",e.onSlideToWrapperTransitionEnd),e.onSlideToWrapperTransitionEnd=null,delete e.onSlideToWrapperTransitionEnd,e.transitionEnd(c,o))}),e.$wrapperEl[0].addEventListener("transitionend",e.onSlideToWrapperTransitionEnd),e.$wrapperEl[0].addEventListener("webkitTransitionEnd",e.onSlideToWrapperTransitionEnd))):(e.setTransition(0),e.setTranslate(p),e.updateActiveIndex(f),e.updateSlidesClasses(),e.emit("beforeTransitionStart",b,d),e.transitionStart(c,o),e.transitionEnd(c,o)),!0)},slideToLoop:function(a,b,c,d){void 0===a&&(a=0),void 0===b&&(b=this.params.speed),void 0===c&&(c=!0);var e=a;return this.params.loop&&(e+=this.loopedSlides),this.slideTo(e,b,c,d)},slideNext:function(a,b,c){void 0===a&&(a=this.params.speed),void 0===b&&(b=!0);var d=this,e=d.params,f=d.animating;return e.loop?!f&&(d.loopFix(),d._clientLeft=d.$wrapperEl[0].clientLeft,d.slideTo(d.activeIndex+e.slidesPerGroup,a,b,c)):d.slideTo(d.activeIndex+e.slidesPerGroup,a,b,c)},slidePrev:function(a,b,c){function d(a){return 0>a?-Math.floor(Math.abs(a)):Math.floor(a)}void 0===a&&(a=this.params.speed),void 0===b&&(b=!0);var e=this,f=e.params,g=e.animating,h=e.snapGrid,i=e.slidesGrid,j=e.rtlTranslate;if(f.loop){if(g)return!1;e.loopFix(),e._clientLeft=e.$wrapperEl[0].clientLeft}var k,l=d(j?e.translate:-e.translate),m=h.map(function(a){return d(a)}),n=(i.map(function(a){return d(a)}),h[m.indexOf(l)],h[m.indexOf(l)-1]);return void 0!==n&&(k=i.indexOf(n))<0&&(k=e.activeIndex-1),e.slideTo(k,a,b,c)},slideReset:function(a,b,c){return void 0===a&&(a=this.params.speed),void 0===b&&(b=!0),this.slideTo(this.activeIndex,a,b,c)},slideToClosest:function(a,b,c){void 0===a&&(a=this.params.speed),void 0===b&&(b=!0);var d=this,e=d.activeIndex,f=Math.floor(e/d.params.slidesPerGroup);if(f<d.snapGrid.length-1){var g=d.rtlTranslate?d.translate:-d.translate,h=d.snapGrid[f];(d.snapGrid[f+1]-h)/2<g-h&&(e=d.params.slidesPerGroup)}return d.slideTo(e,a,b,c)},slideToClickedSlide:function(){var b,c=this,d=c.params,e=c.$wrapperEl,f="auto"===d.slidesPerView?c.slidesPerViewDynamic():d.slidesPerView,g=c.clickedIndex;if(d.loop){if(c.animating)return;b=parseInt(a(c.clickedSlide).attr("data-swiper-slide-index"),10),d.centeredSlides?g<c.loopedSlides-f/2||g>c.slides.length-c.loopedSlides+f/2?(c.loopFix(),g=e.children("."+d.slideClass+'[data-swiper-slide-index="'+b+'"]:not(.'+d.slideDuplicateClass+")").eq(0).index(),k.nextTick(function(){c.slideTo(g)})):c.slideTo(g):g>c.slides.length-f?(c.loopFix(),g=e.children("."+d.slideClass+'[data-swiper-slide-index="'+b+'"]:not(.'+d.slideDuplicateClass+")").eq(0).index(),k.nextTick(function(){c.slideTo(g)})):c.slideTo(g)}else c.slideTo(g)}},t={loopCreate:function(){var b=this,c=b.params,e=b.$wrapperEl;e.children("."+c.slideClass+"."+c.slideDuplicateClass).remove();var f=e.children("."+c.slideClass);if(c.loopFillGroupWithBlank){var g=c.slidesPerGroup-f.length%c.slidesPerGroup;if(g!==c.slidesPerGroup){for(var h=0;g>h;h+=1){var i=a(d.createElement("div")).addClass(c.slideClass+" "+c.slideBlankClass);e.append(i)}f=e.children("."+c.slideClass)}}"auto"!==c.slidesPerView||c.loopedSlides||(c.loopedSlides=f.length),b.loopedSlides=parseInt(c.loopedSlides||c.slidesPerView,10),b.loopedSlides+=c.loopAdditionalSlides,b.loopedSlides>f.length&&(b.loopedSlides=f.length);var j=[],k=[];f.each(function(c,d){var e=a(d);c<b.loopedSlides&&k.push(d),c<f.length&&c>=f.length-b.loopedSlides&&j.push(d),e.attr("data-swiper-slide-index",c)});for(var l=0;l<k.length;l+=1)e.append(a(k[l].cloneNode(!0)).addClass(c.slideDuplicateClass));for(var m=j.length-1;m>=0;m-=1)e.prepend(a(j[m].cloneNode(!0)).addClass(c.slideDuplicateClass))},loopFix:function(){var a,b=this,c=b.params,d=b.activeIndex,e=b.slides,f=b.loopedSlides,g=b.allowSlidePrev,h=b.allowSlideNext,i=b.snapGrid,j=b.rtlTranslate;b.allowSlidePrev=!0,b.allowSlideNext=!0;var k=-i[d]-b.getTranslate();f>d?(a=e.length-3*f+d,a+=f,b.slideTo(a,0,!1,!0)&&0!==k&&b.setTranslate((j?-b.translate:b.translate)-k)):("auto"===c.slidesPerView&&d>=2*f||d>=e.length-f)&&(a=-e.length+d+f,a+=f,b.slideTo(a,0,!1,!0)&&0!==k&&b.setTranslate((j?-b.translate:b.translate)-k)),b.allowSlidePrev=g,b.allowSlideNext=h},loopDestroy:function(){var a=this.$wrapperEl,b=this.params,c=this.slides;a.children("."+b.slideClass+"."+b.slideDuplicateClass).remove(),c.removeAttr("data-swiper-slide-index")}},u={setGrabCursor:function(a){if(!(l.touch||!this.params.simulateTouch||this.params.watchOverflow&&this.isLocked)){var b=this.el;b.style.cursor="move",b.style.cursor=a?"-webkit-grabbing":"-webkit-grab",b.style.cursor=a?"-moz-grabbin":"-moz-grab",b.style.cursor=a?"grabbing":"grab"}},unsetGrabCursor:function(){l.touch||this.params.watchOverflow&&this.isLocked||(this.el.style.cursor="")}},v={appendSlide:function(a){var b=this,c=b.$wrapperEl,d=b.params;if(d.loop&&b.loopDestroy(),"object"==typeof a&&"length"in a)for(var e=0;e<a.length;e+=1)a[e]&&c.append(a[e]);else c.append(a);d.loop&&b.loopCreate(),d.observer&&l.observer||b.update()},prependSlide:function(a){var b=this,c=b.params,d=b.$wrapperEl,e=b.activeIndex;c.loop&&b.loopDestroy();var f=e+1;if("object"==typeof a&&"length"in a){for(var g=0;g<a.length;g+=1)a[g]&&d.prepend(a[g]);f=e+a.length}else d.prepend(a);c.loop&&b.loopCreate(),c.observer&&l.observer||b.update(),b.slideTo(f,0,!1)},addSlide:function(a,b){var c=this,d=c.$wrapperEl,e=c.params,f=c.activeIndex;e.loop&&(f-=c.loopedSlides,c.loopDestroy(),c.slides=d.children("."+e.slideClass));var g=c.slides.length;if(0>=a)c.prependSlide(b);else if(a>=g)c.appendSlide(b);else{for(var h=f>a?f+1:f,i=[],j=g-1;j>=a;j-=1){var k=c.slides.eq(j);k.remove(),i.unshift(k)}if("object"==typeof b&&"length"in b){for(var m=0;m<b.length;m+=1)b[m]&&d.append(b[m]);h=f>a?f+b.length:f}else d.append(b);for(var n=0;n<i.length;n+=1)d.append(i[n]);e.loop&&c.loopCreate(),e.observer&&l.observer||c.update(),e.loop?c.slideTo(h+c.loopedSlides,0,!1):c.slideTo(h,0,!1)}},removeSlide:function(a){var b=this,c=b.params,d=b.$wrapperEl,e=b.activeIndex;c.loop&&(e-=b.loopedSlides,b.loopDestroy(),b.slides=d.children("."+c.slideClass));var f,g=e;if("object"==typeof a&&"length"in a){for(var h=0;h<a.length;h+=1)f=a[h],b.slides[f]&&b.slides.eq(f).remove(),g>f&&(g-=1);g=Math.max(g,0)}else f=a,b.slides[f]&&b.slides.eq(f).remove(),g>f&&(g-=1),g=Math.max(g,0);c.loop&&b.loopCreate(),c.observer&&l.observer||b.update(),c.loop?b.slideTo(g+b.loopedSlides,0,!1):b.slideTo(g,0,!1)},removeAllSlides:function(){for(var a=[],b=0;b<this.slides.length;b+=1)a.push(b);this.removeSlide(a)}},w=function(){var a=e.navigator.userAgent,b={ios:!1,android:!1,androidChrome:!1,desktop:!1,windows:!1,iphone:!1,ipod:!1,ipad:!1,cordova:e.cordova||e.phonegap,phonegap:e.cordova||e.phonegap},c=a.match(/(Windows Phone);?[\s\/]+([\d.]+)?/),f=a.match(/(Android);?[\s\/]+([\d.]+)?/),g=a.match(/(iPad).*OS\s([\d_]+)/),h=a.match(/(iPod)(.*OS\s([\d_]+))?/),i=!g&&a.match(/(iPhone\sOS|iOS)\s([\d_]+)/);if(c&&(b.os="windows",b.osVersion=c[2],b.windows=!0),f&&!c&&(b.os="android",b.osVersion=f[2],b.android=!0,b.androidChrome=0<=a.toLowerCase().indexOf("chrome")),(g||i||h)&&(b.os="ios",b.ios=!0),i&&!h&&(b.osVersion=i[2].replace(/_/g,"."),b.iphone=!0),g&&(b.osVersion=g[2].replace(/_/g,"."),b.ipad=!0),h&&(b.osVersion=h[3]?h[3].replace(/_/g,"."):null,b.iphone=!0),b.ios&&b.osVersion&&0<=a.indexOf("Version/")&&"10"===b.osVersion.split(".")[0]&&(b.osVersion=a.toLowerCase().split("version/")[1].split(" ")[0]),b.desktop=!(b.os||b.android||b.webView),b.webView=(i||g||h)&&a.match(/.*AppleWebKit(?!.*Safari)/i),b.os&&"ios"===b.os){var j=b.osVersion.split("."),k=d.querySelector('meta[name="viewport"]');b.minimalUi=!b.webView&&(h||i)&&(1*j[0]==7?1<=1*j[1]:7<1*j[0])&&k&&0<=k.getAttribute("content").indexOf("minimal-ui")}return b.pixelRatio=e.devicePixelRatio||1,b}(),x={attachEvents:function(){var b=this,f=b.params,g=b.touchEvents,h=b.el,i=b.wrapperEl;b.onTouchStart=function(b){var c=this,f=c.touchEventsData,g=c.params,h=c.touches;if(!c.animating||!g.preventInteractionOnTransition){var i=b;if(i.originalEvent&&(i=i.originalEvent),f.isTouchEvent="touchstart"===i.type,(f.isTouchEvent||!("which"in i)||3!==i.which)&&!(!f.isTouchEvent&&"button"in i&&0<i.button||f.isTouched&&f.isMoved))if(g.noSwiping&&a(i.target).closest(g.noSwipingSelector?g.noSwipingSelector:"."+g.noSwipingClass)[0])c.allowClick=!0;else if(!g.swipeHandler||a(i).closest(g.swipeHandler)[0]){h.currentX="touchstart"===i.type?i.targetTouches[0].pageX:i.pageX,h.currentY="touchstart"===i.type?i.targetTouches[0].pageY:i.pageY;var j=h.currentX,l=h.currentY,m=g.edgeSwipeDetection||g.iOSEdgeSwipeDetection,n=g.edgeSwipeThreshold||g.iOSEdgeSwipeThreshold;if(!m||!(n>=j||j>=e.screen.width-n)){if(k.extend(f,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),h.startX=j,h.startY=l,f.touchStartTime=k.now(),c.allowClick=!0,c.updateSize(),c.swipeDirection=void 0,0<g.threshold&&(f.allowThresholdMove=!1),"touchstart"!==i.type){var o=!0;a(i.target).is(f.formElements)&&(o=!1),d.activeElement&&a(d.activeElement).is(f.formElements)&&d.activeElement!==i.target&&d.activeElement.blur();var p=o&&c.allowTouchMove&&g.touchStartPreventDefault;(g.touchStartForcePreventDefault||p)&&i.preventDefault()}c.emit("touchStart",i)}}}}.bind(b),b.onTouchMove=function(b){var c=this,e=c.touchEventsData,f=c.params,g=c.touches,h=c.rtlTranslate,i=b;if(i.originalEvent&&(i=i.originalEvent),e.isTouched){if(!e.isTouchEvent||"mousemove"!==i.type){var j="touchmove"===i.type?i.targetTouches[0].pageX:i.pageX,l="touchmove"===i.type?i.targetTouches[0].pageY:i.pageY;if(i.preventedByNestedSwiper)return g.startX=j,void(g.startY=l);if(!c.allowTouchMove)return c.allowClick=!1,void(e.isTouched&&(k.extend(g,{startX:j,startY:l,currentX:j,currentY:l}),e.touchStartTime=k.now()));if(e.isTouchEvent&&f.touchReleaseOnEdges&&!f.loop)if(c.isVertical()){if(l<g.startY&&c.translate<=c.maxTranslate()||l>g.startY&&c.translate>=c.minTranslate())return e.isTouched=!1,void(e.isMoved=!1)}else if(j<g.startX&&c.translate<=c.maxTranslate()||j>g.startX&&c.translate>=c.minTranslate())return;if(e.isTouchEvent&&d.activeElement&&i.target===d.activeElement&&a(i.target).is(e.formElements))return e.isMoved=!0,void(c.allowClick=!1);if(e.allowTouchCallbacks&&c.emit("touchMove",i),!(i.targetTouches&&1<i.targetTouches.length)){g.currentX=j,g.currentY=l;var m,n=g.currentX-g.startX,o=g.currentY-g.startY;if(!(c.params.threshold&&Math.sqrt(Math.pow(n,2)+Math.pow(o,2))<c.params.threshold))if(void 0===e.isScrolling&&(c.isHorizontal()&&g.currentY===g.startY||c.isVertical()&&g.currentX===g.startX?e.isScrolling=!1:n*n+o*o>=25&&(m=180*Math.atan2(Math.abs(o),Math.abs(n))/Math.PI,e.isScrolling=c.isHorizontal()?m>f.touchAngle:90-m>f.touchAngle)),e.isScrolling&&c.emit("touchMoveOpposite",i),void 0===e.startMoving&&(g.currentX===g.startX&&g.currentY===g.startY||(e.startMoving=!0)),e.isScrolling)e.isTouched=!1;else if(e.startMoving){c.allowClick=!1,i.preventDefault(),f.touchMoveStopPropagation&&!f.nested&&i.stopPropagation(),e.isMoved||(f.loop&&c.loopFix(),e.startTranslate=c.getTranslate(),c.setTransition(0),c.animating&&c.$wrapperEl.trigger("webkitTransitionEnd transitionend"),e.allowMomentumBounce=!1,!f.grabCursor||!0!==c.allowSlideNext&&!0!==c.allowSlidePrev||c.setGrabCursor(!0),c.emit("sliderFirstMove",i)),c.emit("sliderMove",i),e.isMoved=!0;var p=c.isHorizontal()?n:o;g.diff=p,p*=f.touchRatio,h&&(p=-p),c.swipeDirection=p>0?"prev":"next",e.currentTranslate=p+e.startTranslate;var q=!0,r=f.resistanceRatio;if(f.touchReleaseOnEdges&&(r=0),p>0&&e.currentTranslate>c.minTranslate()?(q=!1,f.resistance&&(e.currentTranslate=c.minTranslate()-1+Math.pow(-c.minTranslate()+e.startTranslate+p,r))):0>p&&e.currentTranslate<c.maxTranslate()&&(q=!1,f.resistance&&(e.currentTranslate=c.maxTranslate()+1-Math.pow(c.maxTranslate()-e.startTranslate-p,r))),q&&(i.preventedByNestedSwiper=!0),!c.allowSlideNext&&"next"===c.swipeDirection&&e.currentTranslate<e.startTranslate&&(e.currentTranslate=e.startTranslate),!c.allowSlidePrev&&"prev"===c.swipeDirection&&e.currentTranslate>e.startTranslate&&(e.currentTranslate=e.startTranslate),0<f.threshold){if(!(Math.abs(p)>f.threshold||e.allowThresholdMove))return void(e.currentTranslate=e.startTranslate);if(!e.allowThresholdMove)return e.allowThresholdMove=!0,g.startX=g.currentX,g.startY=g.currentY,e.currentTranslate=e.startTranslate,void(g.diff=c.isHorizontal()?g.currentX-g.startX:g.currentY-g.startY)}f.followFinger&&((f.freeMode||f.watchSlidesProgress||f.watchSlidesVisibility)&&(c.updateActiveIndex(),c.updateSlidesClasses()),f.freeMode&&(0===e.velocities.length&&e.velocities.push({position:g[c.isHorizontal()?"startX":"startY"],time:e.touchStartTime}),e.velocities.push({position:g[c.isHorizontal()?"currentX":"currentY"],time:k.now()})),c.updateProgress(e.currentTranslate),c.setTranslate(e.currentTranslate))}}}}else e.startMoving&&e.isScrolling&&c.emit("touchMoveOpposite",i)}.bind(b),b.onTouchEnd=function(a){var b=this,c=b.touchEventsData,d=b.params,e=b.touches,f=b.rtlTranslate,g=b.$wrapperEl,h=b.slidesGrid,i=b.snapGrid,j=a;if(j.originalEvent&&(j=j.originalEvent),c.allowTouchCallbacks&&b.emit("touchEnd",j),c.allowTouchCallbacks=!1,
!c.isTouched)return c.isMoved&&d.grabCursor&&b.setGrabCursor(!1),c.isMoved=!1,void(c.startMoving=!1);d.grabCursor&&c.isMoved&&c.isTouched&&(!0===b.allowSlideNext||!0===b.allowSlidePrev)&&b.setGrabCursor(!1);var l,m=k.now(),n=m-c.touchStartTime;if(b.allowClick&&(b.updateClickedSlide(j),b.emit("tap",j),300>n&&300<m-c.lastClickTime&&(c.clickTimeout&&clearTimeout(c.clickTimeout),c.clickTimeout=k.nextTick(function(){b&&!b.destroyed&&b.emit("click",j)},300)),300>n&&m-c.lastClickTime<300&&(c.clickTimeout&&clearTimeout(c.clickTimeout),b.emit("doubleTap",j))),c.lastClickTime=k.now(),k.nextTick(function(){b.destroyed||(b.allowClick=!0)}),!c.isTouched||!c.isMoved||!b.swipeDirection||0===e.diff||c.currentTranslate===c.startTranslate)return c.isTouched=!1,c.isMoved=!1,void(c.startMoving=!1);if(c.isTouched=!1,c.isMoved=!1,c.startMoving=!1,l=d.followFinger?f?b.translate:-b.translate:-c.currentTranslate,d.freeMode){if(l<-b.minTranslate())return void b.slideTo(b.activeIndex);if(l>-b.maxTranslate())return void(b.slides.length<i.length?b.slideTo(i.length-1):b.slideTo(b.slides.length-1));if(d.freeModeMomentum){if(1<c.velocities.length){var o=c.velocities.pop(),p=c.velocities.pop(),q=o.position-p.position,r=o.time-p.time;b.velocity=q/r,b.velocity/=2,Math.abs(b.velocity)<d.freeModeMinimumVelocity&&(b.velocity=0),(r>150||300<k.now()-o.time)&&(b.velocity=0)}else b.velocity=0;b.velocity*=d.freeModeMomentumVelocityRatio,c.velocities.length=0;var s=1e3*d.freeModeMomentumRatio,t=b.velocity*s,u=b.translate+t;f&&(u=-u);var v,w,x=!1,y=20*Math.abs(b.velocity)*d.freeModeMomentumBounceRatio;if(u<b.maxTranslate())d.freeModeMomentumBounce?(u+b.maxTranslate()<-y&&(u=b.maxTranslate()-y),v=b.maxTranslate(),x=!0,c.allowMomentumBounce=!0):u=b.maxTranslate(),d.loop&&d.centeredSlides&&(w=!0);else if(u>b.minTranslate())d.freeModeMomentumBounce?(u-b.minTranslate()>y&&(u=b.minTranslate()+y),v=b.minTranslate(),x=!0,c.allowMomentumBounce=!0):u=b.minTranslate(),d.loop&&d.centeredSlides&&(w=!0);else if(d.freeModeSticky){for(var z,A=0;A<i.length;A+=1)if(i[A]>-u){z=A;break}u=-(u=Math.abs(i[z]-u)<Math.abs(i[z-1]-u)||"next"===b.swipeDirection?i[z]:i[z-1])}if(w&&b.once("transitionEnd",function(){b.loopFix()}),0!==b.velocity)s=f?Math.abs((-u-b.translate)/b.velocity):Math.abs((u-b.translate)/b.velocity);else if(d.freeModeSticky)return void b.slideToClosest();d.freeModeMomentumBounce&&x?(b.updateProgress(v),b.setTransition(s),b.setTranslate(u),b.transitionStart(!0,b.swipeDirection),b.animating=!0,g.transitionEnd(function(){b&&!b.destroyed&&c.allowMomentumBounce&&(b.emit("momentumBounce"),b.setTransition(d.speed),b.setTranslate(v),g.transitionEnd(function(){b&&!b.destroyed&&b.transitionEnd()}))})):b.velocity?(b.updateProgress(u),b.setTransition(s),b.setTranslate(u),b.transitionStart(!0,b.swipeDirection),b.animating||(b.animating=!0,g.transitionEnd(function(){b&&!b.destroyed&&b.transitionEnd()}))):b.updateProgress(u),b.updateActiveIndex(),b.updateSlidesClasses()}else if(d.freeModeSticky)return void b.slideToClosest();(!d.freeModeMomentum||n>=d.longSwipesMs)&&(b.updateProgress(),b.updateActiveIndex(),b.updateSlidesClasses())}else{for(var B=0,C=b.slidesSizesGrid[0],D=0;D<h.length;D+=d.slidesPerGroup)void 0!==h[D+d.slidesPerGroup]?l>=h[D]&&l<h[D+d.slidesPerGroup]&&(C=h[(B=D)+d.slidesPerGroup]-h[D]):l>=h[D]&&(B=D,C=h[h.length-1]-h[h.length-2]);var E=(l-h[B])/C;if(n>d.longSwipesMs){if(!d.longSwipes)return void b.slideTo(b.activeIndex);"next"===b.swipeDirection&&(E>=d.longSwipesRatio?b.slideTo(B+d.slidesPerGroup):b.slideTo(B)),"prev"===b.swipeDirection&&(E>1-d.longSwipesRatio?b.slideTo(B+d.slidesPerGroup):b.slideTo(B))}else{if(!d.shortSwipes)return void b.slideTo(b.activeIndex);"next"===b.swipeDirection&&b.slideTo(B+d.slidesPerGroup),"prev"===b.swipeDirection&&b.slideTo(B)}}}.bind(b),b.onClick=function(a){this.allowClick||(this.params.preventClicks&&a.preventDefault(),this.params.preventClicksPropagation&&this.animating&&(a.stopPropagation(),a.stopImmediatePropagation()))}.bind(b);var j="container"===f.touchEventsTarget?h:i,m=!!f.nested;if(l.touch||!l.pointerEvents&&!l.prefixedPointerEvents){if(l.touch){var n=!("touchstart"!==g.start||!l.passiveListener||!f.passiveListeners)&&{passive:!0,capture:!1};j.addEventListener(g.start,b.onTouchStart,n),j.addEventListener(g.move,b.onTouchMove,l.passiveListener?{passive:!1,capture:m}:m),j.addEventListener(g.end,b.onTouchEnd,n)}(f.simulateTouch&&!w.ios&&!w.android||f.simulateTouch&&!l.touch&&w.ios)&&(j.addEventListener("mousedown",b.onTouchStart,!1),d.addEventListener("mousemove",b.onTouchMove,m),d.addEventListener("mouseup",b.onTouchEnd,!1))}else j.addEventListener(g.start,b.onTouchStart,!1),d.addEventListener(g.move,b.onTouchMove,m),d.addEventListener(g.end,b.onTouchEnd,!1);(f.preventClicks||f.preventClicksPropagation)&&j.addEventListener("click",b.onClick,!0),b.on(w.ios||w.android?"resize orientationchange observerUpdate":"resize observerUpdate",c,!0)},detachEvents:function(){var a=this,b=a.params,e=a.touchEvents,f=a.el,g=a.wrapperEl,h="container"===b.touchEventsTarget?f:g,i=!!b.nested;if(l.touch||!l.pointerEvents&&!l.prefixedPointerEvents){if(l.touch){var j=!("onTouchStart"!==e.start||!l.passiveListener||!b.passiveListeners)&&{passive:!0,capture:!1};h.removeEventListener(e.start,a.onTouchStart,j),h.removeEventListener(e.move,a.onTouchMove,i),h.removeEventListener(e.end,a.onTouchEnd,j)}(b.simulateTouch&&!w.ios&&!w.android||b.simulateTouch&&!l.touch&&w.ios)&&(h.removeEventListener("mousedown",a.onTouchStart,!1),d.removeEventListener("mousemove",a.onTouchMove,i),d.removeEventListener("mouseup",a.onTouchEnd,!1))}else h.removeEventListener(e.start,a.onTouchStart,!1),d.removeEventListener(e.move,a.onTouchMove,i),d.removeEventListener(e.end,a.onTouchEnd,!1);(b.preventClicks||b.preventClicksPropagation)&&h.removeEventListener("click",a.onClick,!0),a.off(w.ios||w.android?"resize orientationchange observerUpdate":"resize observerUpdate",c)}},y={setBreakpoint:function(){var a=this,b=a.activeIndex,c=a.initialized,d=a.loopedSlides;void 0===d&&(d=0);var e=a.params,f=e.breakpoints;if(f&&(!f||0!==Object.keys(f).length)){var g=a.getBreakpoint(f);if(g&&a.currentBreakpoint!==g){var h=g in f?f[g]:void 0;h&&["slidesPerView","spaceBetween","slidesPerGroup"].forEach(function(a){var b=h[a];void 0!==b&&(h[a]="slidesPerView"!==a||"AUTO"!==b&&"auto"!==b?"slidesPerView"===a?parseFloat(b):parseInt(b,10):"auto")});var i=h||a.originalParams,j=e.loop&&i.slidesPerView!==e.slidesPerView;k.extend(a.params,i),k.extend(a,{allowTouchMove:a.params.allowTouchMove,allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev}),a.currentBreakpoint=g,j&&c&&(a.loopDestroy(),a.loopCreate(),a.updateSlides(),a.slideTo(b-d+a.loopedSlides,0,!1)),a.emit("breakpoint",i)}}},getBreakpoint:function(a){if(a){var b=!1,c=[];Object.keys(a).forEach(function(a){c.push(a)}),c.sort(function(a,b){return parseInt(a,10)-parseInt(b,10)});for(var d=0;d<c.length;d+=1){var f=c[d];this.params.breakpointsInverse?f<=e.innerWidth&&(b=f):f>=e.innerWidth&&!b&&(b=f)}return b||"max"}}},z={isIE:!!e.navigator.userAgent.match(/Trident/g)||!!e.navigator.userAgent.match(/MSIE/g),isEdge:!!e.navigator.userAgent.match(/Edge/g),isSafari:(o=e.navigator.userAgent.toLowerCase(),0<=o.indexOf("safari")&&o.indexOf("chrome")<0&&o.indexOf("android")<0),isUiWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(e.navigator.userAgent)},A={init:!0,direction:"horizontal",touchEventsTarget:"container",initialSlide:0,speed:300,preventInteractionOnTransition:!1,edgeSwipeDetection:!1,edgeSwipeThreshold:20,freeMode:!1,freeModeMomentum:!0,freeModeMomentumRatio:1,freeModeMomentumBounce:!0,freeModeMomentumBounceRatio:1,freeModeMomentumVelocityRatio:1,freeModeSticky:!1,freeModeMinimumVelocity:.02,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsInverse:!1,spaceBetween:0,slidesPerView:1,slidesPerColumn:1,slidesPerColumnFill:"column",slidesPerGroup:1,centeredSlides:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!1,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!0,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,watchSlidesVisibility:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopFillGroupWithBlank:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,containerModifierClass:"swiper-container-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0},B={update:p,translate:q,transition:r,slide:s,loop:t,grabCursor:u,manipulation:v,events:x,breakpoints:y,checkOverflow:{checkOverflow:function(){var a=this,b=a.isLocked;a.isLocked=1===a.snapGrid.length,a.allowSlideNext=!a.isLocked,a.allowSlidePrev=!a.isLocked,b!==a.isLocked&&a.emit(a.isLocked?"lock":"unlock"),b&&b!==a.isLocked&&(a.isEnd=!1,a.navigation.update())}},classes:{addClasses:function(){var a=this.classNames,b=this.params,c=this.rtl,d=this.$el,e=[];e.push(b.direction),b.freeMode&&e.push("free-mode"),l.flexbox||e.push("no-flexbox"),b.autoHeight&&e.push("autoheight"),c&&e.push("rtl"),1<b.slidesPerColumn&&e.push("multirow"),w.android&&e.push("android"),w.ios&&e.push("ios"),(z.isIE||z.isEdge)&&(l.pointerEvents||l.prefixedPointerEvents)&&e.push("wp8-"+b.direction),e.forEach(function(c){a.push(b.containerModifierClass+c)}),d.addClass(a.join(" "))},removeClasses:function(){var a=this.$el,b=this.classNames;a.removeClass(b.join(" "))}},images:{loadImage:function(a,b,c,d,f,g){function h(){g&&g()}var i;a.complete&&f?h():b?((i=new e.Image).onload=h,i.onerror=h,d&&(i.sizes=d),c&&(i.srcset=c),b&&(i.src=b)):h()},preloadImages:function(){function a(){null!=b&&b&&!b.destroyed&&(void 0!==b.imagesLoaded&&(b.imagesLoaded+=1),b.imagesLoaded===b.imagesToLoad.length&&(b.params.updateOnImagesReady&&b.update(),b.emit("imagesReady")))}var b=this;b.imagesToLoad=b.$el.find("img");for(var c=0;c<b.imagesToLoad.length;c+=1){var d=b.imagesToLoad[c];b.loadImage(d,d.currentSrc||d.getAttribute("src"),d.srcset||d.getAttribute("srcset"),d.sizes||d.getAttribute("sizes"),!0,a)}}}},C={},D=function(b){function c(){for(var d,e,f,g=[],h=arguments.length;h--;)g[h]=arguments[h];1===g.length&&g[0].constructor&&g[0].constructor===Object?f=g[0]:(e=(d=g)[0],f=d[1]),f||(f={}),f=k.extend({},f),e&&!f.el&&(f.el=e),b.call(this,f),Object.keys(B).forEach(function(a){Object.keys(B[a]).forEach(function(b){c.prototype[b]||(c.prototype[b]=B[a][b])})});var i=this;void 0===i.modules&&(i.modules={}),Object.keys(i.modules).forEach(function(a){var b=i.modules[a];if(b.params){var c=Object.keys(b.params)[0],d=b.params[c];if("object"!=typeof d||null===d)return;if(!(c in f&&"enabled"in d))return;!0===f[c]&&(f[c]={enabled:!0}),"object"!=typeof f[c]||"enabled"in f[c]||(f[c].enabled=!0),f[c]||(f[c]={enabled:!1})}});var j=k.extend({},A);i.useModulesParams(j),i.params=k.extend({},j,C,f),i.originalParams=k.extend({},i.params),i.passedParams=k.extend({},f);var m=(i.$=a)(i.params.el);if(e=m[0]){if(1<m.length){var n=[];return m.each(function(a,b){var d=k.extend({},f,{el:b});n.push(new c(d))}),n}e.swiper=i,m.data("swiper",i);var o,p,q=m.children("."+i.params.wrapperClass);return k.extend(i,{$el:m,el:e,$wrapperEl:q,wrapperEl:q[0],classNames:[],slides:a(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:function(){return"horizontal"===i.params.direction},isVertical:function(){return"vertical"===i.params.direction},rtl:"rtl"===e.dir.toLowerCase()||"rtl"===m.css("direction"),rtlTranslate:"horizontal"===i.params.direction&&("rtl"===e.dir.toLowerCase()||"rtl"===m.css("direction")),wrongRTL:"-webkit-box"===q.css("display"),activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:i.params.allowSlideNext,allowSlidePrev:i.params.allowSlidePrev,touchEvents:(o=["touchstart","touchmove","touchend"],p=["mousedown","mousemove","mouseup"],l.pointerEvents?p=["pointerdown","pointermove","pointerup"]:l.prefixedPointerEvents&&(p=["MSPointerDown","MSPointerMove","MSPointerUp"]),i.touchEventsTouch={start:o[0],move:o[1],end:o[2]},i.touchEventsDesktop={start:p[0],move:p[1],end:p[2]},l.touch||!i.params.simulateTouch?i.touchEventsTouch:i.touchEventsDesktop),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,formElements:"input, select, option, textarea, button, video",lastClickTime:k.now(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:i.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),i.useModules(),i.params.init&&i.init(),i}}b&&(c.__proto__=b);var d={extendedDefaults:{configurable:!0},defaults:{configurable:!0},Class:{configurable:!0},$:{configurable:!0}};return((c.prototype=Object.create(b&&b.prototype)).constructor=c).prototype.slidesPerViewDynamic=function(){var a=this,b=a.params,c=a.slides,d=a.slidesGrid,e=a.size,f=a.activeIndex,g=1;if(b.centeredSlides){for(var h,i=c[f].swiperSlideSize,j=f+1;j<c.length;j+=1)c[j]&&!h&&(g+=1,e<(i+=c[j].swiperSlideSize)&&(h=!0));for(var k=f-1;k>=0;k-=1)c[k]&&!h&&(g+=1,e<(i+=c[k].swiperSlideSize)&&(h=!0))}else for(var l=f+1;l<c.length;l+=1)d[l]-d[f]<e&&(g+=1);return g},c.prototype.update=function(){function a(){var a=b.rtlTranslate?-1*b.translate:b.translate,c=Math.min(Math.max(a,b.maxTranslate()),b.minTranslate());b.setTranslate(c),b.updateActiveIndex(),b.updateSlidesClasses()}var b=this;if(b&&!b.destroyed){var c=b.snapGrid,d=b.params;d.breakpoints&&b.setBreakpoint(),b.updateSize(),b.updateSlides(),b.updateProgress(),b.updateSlidesClasses(),b.params.freeMode?(a(),b.params.autoHeight&&b.updateAutoHeight()):(("auto"===b.params.slidesPerView||1<b.params.slidesPerView)&&b.isEnd&&!b.params.centeredSlides?b.slideTo(b.slides.length-1,0,!1,!0):b.slideTo(b.activeIndex,0,!1,!0))||a(),d.watchOverflow&&c!==b.snapGrid&&b.checkOverflow(),b.emit("update")}},c.prototype.init=function(){var a=this;a.initialized||(a.emit("beforeInit"),a.params.breakpoints&&a.setBreakpoint(),a.addClasses(),a.params.loop&&a.loopCreate(),a.updateSize(),a.updateSlides(),a.params.watchOverflow&&a.checkOverflow(),a.params.grabCursor&&a.setGrabCursor(),a.params.preloadImages&&a.preloadImages(),a.params.loop?a.slideTo(a.params.initialSlide+a.loopedSlides,0,a.params.runCallbacksOnInit):a.slideTo(a.params.initialSlide,0,a.params.runCallbacksOnInit),a.attachEvents(),a.initialized=!0,a.emit("init"))},c.prototype.destroy=function(a,b){void 0===a&&(a=!0),void 0===b&&(b=!0);var c=this,d=c.params,e=c.$el,f=c.$wrapperEl,g=c.slides;return void 0===c.params||c.destroyed||(c.emit("beforeDestroy"),c.initialized=!1,c.detachEvents(),d.loop&&c.loopDestroy(),b&&(c.removeClasses(),e.removeAttr("style"),f.removeAttr("style"),g&&g.length&&g.removeClass([d.slideVisibleClass,d.slideActiveClass,d.slideNextClass,d.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index").removeAttr("data-swiper-column").removeAttr("data-swiper-row")),c.emit("destroy"),Object.keys(c.eventsListeners).forEach(function(a){c.off(a)}),!1!==a&&(c.$el[0].swiper=null,c.$el.data("swiper",null),k.deleteProps(c)),c.destroyed=!0),null},c.extendDefaults=function(a){k.extend(C,a)},d.extendedDefaults.get=function(){return C},d.defaults.get=function(){return A},d.Class.get=function(){return b},d.$.get=function(){return a},Object.defineProperties(c,d),c}(m),E={name:"device",proto:{device:w},"static":{device:w}},F={name:"support",proto:{support:l},"static":{support:l}},G={name:"browser",proto:{browser:z},"static":{browser:z}},H={name:"resize",create:function(){var a=this;k.extend(a,{resize:{resizeHandler:function(){a&&!a.destroyed&&a.initialized&&(a.emit("beforeResize"),a.emit("resize"))},orientationChangeHandler:function(){a&&!a.destroyed&&a.initialized&&a.emit("orientationchange")}}})},on:{init:function(){e.addEventListener("resize",this.resize.resizeHandler),e.addEventListener("orientationchange",this.resize.orientationChangeHandler)},destroy:function(){e.removeEventListener("resize",this.resize.resizeHandler),e.removeEventListener("orientationchange",this.resize.orientationChangeHandler)}}},I={func:e.MutationObserver||e.WebkitMutationObserver,attach:function(a,b){void 0===b&&(b={});var c=this,d=new I.func(function(a){if(1!==a.length){var b=function(){c.emit("observerUpdate",a[0])};e.requestAnimationFrame?e.requestAnimationFrame(b):e.setTimeout(b,0)}else c.emit("observerUpdate",a[0])});d.observe(a,{attributes:void 0===b.attributes||b.attributes,childList:void 0===b.childList||b.childList,characterData:void 0===b.characterData||b.characterData}),c.observer.observers.push(d)},init:function(){var a=this;if(l.observer&&a.params.observer){if(a.params.observeParents)for(var b=a.$el.parents(),c=0;c<b.length;c+=1)a.observer.attach(b[c]);a.observer.attach(a.$el[0],{childList:!1}),a.observer.attach(a.$wrapperEl[0],{attributes:!1})}},destroy:function(){this.observer.observers.forEach(function(a){a.disconnect()}),this.observer.observers=[]}},J={name:"observer",params:{observer:!1,observeParents:!1},create:function(){k.extend(this,{observer:{init:I.init.bind(this),attach:I.attach.bind(this),destroy:I.destroy.bind(this),observers:[]}})},on:{init:function(){this.observer.init()},destroy:function(){this.observer.destroy()}}},K={update:function(a){function b(){c.updateSlides(),c.updateProgress(),c.updateSlidesClasses(),c.lazy&&c.params.lazy.enabled&&c.lazy.load()}var c=this,d=c.params,e=d.slidesPerView,f=d.slidesPerGroup,g=d.centeredSlides,h=c.params.virtual,i=h.addSlidesBefore,j=h.addSlidesAfter,l=c.virtual,m=l.from,n=l.to,o=l.slides,p=l.slidesGrid,q=l.renderSlide,r=l.offset;c.updateActiveIndex();var s,t,u,v=c.activeIndex||0;s=c.rtlTranslate?"right":c.isHorizontal()?"left":"top",g?(t=Math.floor(e/2)+f+i,u=Math.floor(e/2)+f+j):(t=e+(f-1)+i,u=f+j);var w=Math.max((v||0)-u,0),x=Math.min((v||0)+t,o.length-1),y=(c.slidesGrid[w]||0)-(c.slidesGrid[0]||0);if(k.extend(c.virtual,{from:w,to:x,offset:y,slidesGrid:c.slidesGrid}),m===w&&n===x&&!a)return c.slidesGrid!==p&&y!==r&&c.slides.css(s,y+"px"),void c.updateProgress();if(c.params.virtual.renderExternal)return c.params.virtual.renderExternal.call(c,{offset:y,from:w,to:x,slides:function(){for(var a=[],b=w;x>=b;b+=1)a.push(o[b]);return a}()}),void b();var z=[],A=[];if(a)c.$wrapperEl.find("."+c.params.slideClass).remove();else for(var B=m;n>=B;B+=1)(w>B||B>x)&&c.$wrapperEl.find("."+c.params.slideClass+'[data-swiper-slide-index="'+B+'"]').remove();for(var C=0;C<o.length;C+=1)C>=w&&x>=C&&(void 0===n||a?A.push(C):(C>n&&A.push(C),m>C&&z.push(C)));A.forEach(function(a){c.$wrapperEl.append(q(o[a],a))}),z.sort(function(a,b){return b-a}).forEach(function(a){c.$wrapperEl.prepend(q(o[a],a))}),c.$wrapperEl.children(".swiper-slide").css(s,y+"px"),b()},renderSlide:function(b,c){var d=this,e=d.params.virtual;if(e.cache&&d.virtual.cache[c])return d.virtual.cache[c];var f=a(e.renderSlide?e.renderSlide.call(d,b,c):'<div class="'+d.params.slideClass+'" data-swiper-slide-index="'+c+'">'+b+"</div>");return f.attr("data-swiper-slide-index")||f.attr("data-swiper-slide-index",c),e.cache&&(d.virtual.cache[c]=f),f},appendSlide:function(a){this.virtual.slides.push(a),this.virtual.update(!0)},prependSlide:function(a){var b=this;if(b.virtual.slides.unshift(a),b.params.virtual.cache){var c=b.virtual.cache,d={};Object.keys(c).forEach(function(a){d[a+1]=c[a]}),b.virtual.cache=d}b.virtual.update(!0),b.slideNext(0)}},L={name:"virtual",params:{virtual:{enabled:!1,slides:[],cache:!0,renderSlide:null,renderExternal:null,addSlidesBefore:0,addSlidesAfter:0}},create:function(){var a=this;k.extend(a,{virtual:{update:K.update.bind(a),appendSlide:K.appendSlide.bind(a),prependSlide:K.prependSlide.bind(a),renderSlide:K.renderSlide.bind(a),slides:a.params.virtual.slides,cache:{}}})},on:{beforeInit:function(){var a=this;if(a.params.virtual.enabled){a.classNames.push(a.params.containerModifierClass+"virtual");var b={watchSlidesProgress:!0};k.extend(a.params,b),k.extend(a.originalParams,b),a.params.initialSlide||a.virtual.update()}},setTranslate:function(){this.params.virtual.enabled&&this.virtual.update()}}},M={handle:function(a){var b=this,c=b.rtlTranslate,f=a;f.originalEvent&&(f=f.originalEvent);var g=f.keyCode||f.charCode;if(!b.allowSlideNext&&(b.isHorizontal()&&39===g||b.isVertical()&&40===g))return!1;if(!b.allowSlidePrev&&(b.isHorizontal()&&37===g||b.isVertical()&&38===g))return!1;if(!(f.shiftKey||f.altKey||f.ctrlKey||f.metaKey||d.activeElement&&d.activeElement.nodeName&&("input"===d.activeElement.nodeName.toLowerCase()||"textarea"===d.activeElement.nodeName.toLowerCase()))){if(b.params.keyboard.onlyInViewport&&(37===g||39===g||38===g||40===g)){var h=!1;if(0<b.$el.parents("."+b.params.slideClass).length&&0===b.$el.parents("."+b.params.slideActiveClass).length)return;var i=e.innerWidth,j=e.innerHeight,k=b.$el.offset();c&&(k.left-=b.$el[0].scrollLeft);for(var l=[[k.left,k.top],[k.left+b.width,k.top],[k.left,k.top+b.height],[k.left+b.width,k.top+b.height]],m=0;m<l.length;m+=1){var n=l[m];0<=n[0]&&n[0]<=i&&0<=n[1]&&n[1]<=j&&(h=!0)}if(!h)return}b.isHorizontal()?(37!==g&&39!==g||(f.preventDefault?f.preventDefault():f.returnValue=!1),(39===g&&!c||37===g&&c)&&b.slideNext(),(37===g&&!c||39===g&&c)&&b.slidePrev()):(38!==g&&40!==g||(f.preventDefault?f.preventDefault():f.returnValue=!1),40===g&&b.slideNext(),38===g&&b.slidePrev()),b.emit("keyPress",g)}},enable:function(){this.keyboard.enabled||(a(d).on("keydown",this.keyboard.handle),this.keyboard.enabled=!0)},disable:function(){this.keyboard.enabled&&(a(d).off("keydown",this.keyboard.handle),this.keyboard.enabled=!1)}},N={name:"keyboard",params:{keyboard:{enabled:!1,onlyInViewport:!0}},create:function(){k.extend(this,{keyboard:{enabled:!1,enable:M.enable.bind(this),disable:M.disable.bind(this),handle:M.handle.bind(this)}})},on:{init:function(){this.params.keyboard.enabled&&this.keyboard.enable()},destroy:function(){this.keyboard.enabled&&this.keyboard.disable()}}},O={lastScrollTime:k.now(),event:-1<e.navigator.userAgent.indexOf("firefox")?"DOMMouseScroll":function(){var a="onwheel",b=a in d;if(!b){var c=d.createElement("div");c.setAttribute(a,"return;"),b="function"==typeof c[a]}return!b&&d.implementation&&d.implementation.hasFeature&&!0!==d.implementation.hasFeature("","")&&(b=d.implementation.hasFeature("Events.wheel","3.0")),b}()?"wheel":"mousewheel",normalize:function(a){var b=0,c=0,d=0,e=0;return"detail"in a&&(c=a.detail),"wheelDelta"in a&&(c=-a.wheelDelta/120),"wheelDeltaY"in a&&(c=-a.wheelDeltaY/120),"wheelDeltaX"in a&&(b=-a.wheelDeltaX/120),"axis"in a&&a.axis===a.HORIZONTAL_AXIS&&(b=c,c=0),d=10*b,e=10*c,"deltaY"in a&&(e=a.deltaY),"deltaX"in a&&(d=a.deltaX),(d||e)&&a.deltaMode&&(1===a.deltaMode?(d*=40,e*=40):(d*=800,e*=800)),d&&!b&&(b=1>d?-1:1),e&&!c&&(c=1>e?-1:1),{spinX:b,spinY:c,pixelX:d,pixelY:e}},handleMouseEnter:function(){this.mouseEntered=!0},handleMouseLeave:function(){this.mouseEntered=!1},handle:function(a){var b=a,c=this,d=c.params.mousewheel;if(!c.mouseEntered&&!d.releaseOnEdges)return!0;b.originalEvent&&(b=b.originalEvent);var f=0,g=c.rtlTranslate?-1:1,h=O.normalize(b);if(d.forceToAxis)if(c.isHorizontal()){if(!(Math.abs(h.pixelX)>Math.abs(h.pixelY)))return!0;f=h.pixelX*g}else{if(!(Math.abs(h.pixelY)>Math.abs(h.pixelX)))return!0;f=h.pixelY}else f=Math.abs(h.pixelX)>Math.abs(h.pixelY)?-h.pixelX*g:-h.pixelY;if(0===f)return!0;if(d.invert&&(f=-f),c.params.freeMode){c.params.loop&&c.loopFix();var i=c.getTranslate()+f*d.sensitivity,j=c.isBeginning,l=c.isEnd;if(i>=c.minTranslate()&&(i=c.minTranslate()),i<=c.maxTranslate()&&(i=c.maxTranslate()),c.setTransition(0),c.setTranslate(i),c.updateProgress(),c.updateActiveIndex(),c.updateSlidesClasses(),(!j&&c.isBeginning||!l&&c.isEnd)&&c.updateSlidesClasses(),c.params.freeModeSticky&&(clearTimeout(c.mousewheel.timeout),c.mousewheel.timeout=k.nextTick(function(){c.slideToClosest()},300)),c.emit("scroll",b),c.params.autoplay&&c.params.autoplayDisableOnInteraction&&c.autoplay.stop(),i===c.minTranslate()||i===c.maxTranslate())return!0}else{if(60<k.now()-c.mousewheel.lastScrollTime)if(0>f)if(c.isEnd&&!c.params.loop||c.animating){if(d.releaseOnEdges)return!0}else c.slideNext(),c.emit("scroll",b);else if(c.isBeginning&&!c.params.loop||c.animating){if(d.releaseOnEdges)return!0}else c.slidePrev(),c.emit("scroll",b);c.mousewheel.lastScrollTime=(new e.Date).getTime()}return b.preventDefault?b.preventDefault():b.returnValue=!1,!1},enable:function(){var b=this;if(!O.event)return!1;if(b.mousewheel.enabled)return!1;var c=b.$el;return"container"!==b.params.mousewheel.eventsTarged&&(c=a(b.params.mousewheel.eventsTarged)),c.on("mouseenter",b.mousewheel.handleMouseEnter),c.on("mouseleave",b.mousewheel.handleMouseLeave),c.on(O.event,b.mousewheel.handle),b.mousewheel.enabled=!0},disable:function(){var b=this;if(!O.event)return!1;if(!b.mousewheel.enabled)return!1;var c=b.$el;return"container"!==b.params.mousewheel.eventsTarged&&(c=a(b.params.mousewheel.eventsTarged)),c.off(O.event,b.mousewheel.handle),!(b.mousewheel.enabled=!1)}},P={update:function(){var a=this,b=a.params.navigation;if(!a.params.loop){var c=a.navigation,d=c.$nextEl,e=c.$prevEl;e&&0<e.length&&(a.isBeginning?e.addClass(b.disabledClass):e.removeClass(b.disabledClass),e[a.params.watchOverflow&&a.isLocked?"addClass":"removeClass"](b.lockClass)),d&&0<d.length&&(a.isEnd?d.addClass(b.disabledClass):d.removeClass(b.disabledClass),d[a.params.watchOverflow&&a.isLocked?"addClass":"removeClass"](b.lockClass))}},onPrevClick:function(a){a.preventDefault(),this.isBeginning&&!this.params.loop||this.slidePrev()},onNextClick:function(a){a.preventDefault(),this.isEnd&&!this.params.loop||this.slideNext()},init:function(){var b,c,d=this,e=d.params.navigation;(e.nextEl||e.prevEl)&&(e.nextEl&&(b=a(e.nextEl),d.params.uniqueNavElements&&"string"==typeof e.nextEl&&1<b.length&&1===d.$el.find(e.nextEl).length&&(b=d.$el.find(e.nextEl))),e.prevEl&&(c=a(e.prevEl),d.params.uniqueNavElements&&"string"==typeof e.prevEl&&1<c.length&&1===d.$el.find(e.prevEl).length&&(c=d.$el.find(e.prevEl))),b&&0<b.length&&b.on("click",d.navigation.onNextClick),c&&0<c.length&&c.on("click",d.navigation.onPrevClick),k.extend(d.navigation,{$nextEl:b,nextEl:b&&b[0],$prevEl:c,prevEl:c&&c[0]}))},destroy:function(){var a=this,b=a.navigation,c=b.$nextEl,d=b.$prevEl;c&&c.length&&(c.off("click",a.navigation.onNextClick),c.removeClass(a.params.navigation.disabledClass)),d&&d.length&&(d.off("click",a.navigation.onPrevClick),d.removeClass(a.params.navigation.disabledClass))}},Q={update:function(){var b=this,c=b.rtl,d=b.params.pagination;if(d.el&&b.pagination.el&&b.pagination.$el&&0!==b.pagination.$el.length){var e,f=b.virtual&&b.params.virtual.enabled?b.virtual.slides.length:b.slides.length,g=b.pagination.$el,h=b.params.loop?Math.ceil((f-2*b.loopedSlides)/b.params.slidesPerGroup):b.snapGrid.length;if(b.params.loop?((e=Math.ceil((b.activeIndex-b.loopedSlides)/b.params.slidesPerGroup))>f-1-2*b.loopedSlides&&(e-=f-2*b.loopedSlides),e>h-1&&(e-=h),0>e&&"bullets"!==b.params.paginationType&&(e=h+e)):e=void 0!==b.snapIndex?b.snapIndex:b.activeIndex||0,"bullets"===d.type&&b.pagination.bullets&&0<b.pagination.bullets.length){var i,j,k,l=b.pagination.bullets;if(d.dynamicBullets&&(b.pagination.bulletSize=l.eq(0)[b.isHorizontal()?"outerWidth":"outerHeight"](!0),g.css(b.isHorizontal()?"width":"height",b.pagination.bulletSize*(d.dynamicMainBullets+4)+"px"),1<d.dynamicMainBullets&&void 0!==b.previousIndex&&(b.pagination.dynamicBulletIndex+=e-b.previousIndex,b.pagination.dynamicBulletIndex>d.dynamicMainBullets-1?b.pagination.dynamicBulletIndex=d.dynamicMainBullets-1:b.pagination.dynamicBulletIndex<0&&(b.pagination.dynamicBulletIndex=0)),i=e-b.pagination.dynamicBulletIndex,k=((j=i+(Math.min(l.length,d.dynamicMainBullets)-1))+i)/2),l.removeClass(d.bulletActiveClass+" "+d.bulletActiveClass+"-next "+d.bulletActiveClass+"-next-next "+d.bulletActiveClass+"-prev "+d.bulletActiveClass+"-prev-prev "+d.bulletActiveClass+"-main"),1<g.length)l.each(function(b,c){var f=a(c),g=f.index();g===e&&f.addClass(d.bulletActiveClass),d.dynamicBullets&&(g>=i&&j>=g&&f.addClass(d.bulletActiveClass+"-main"),g===i&&f.prev().addClass(d.bulletActiveClass+"-prev").prev().addClass(d.bulletActiveClass+"-prev-prev"),g===j&&f.next().addClass(d.bulletActiveClass+"-next").next().addClass(d.bulletActiveClass+"-next-next"))});else if(l.eq(e).addClass(d.bulletActiveClass),d.dynamicBullets){for(var m=l.eq(i),n=l.eq(j),o=i;j>=o;o+=1)l.eq(o).addClass(d.bulletActiveClass+"-main");m.prev().addClass(d.bulletActiveClass+"-prev").prev().addClass(d.bulletActiveClass+"-prev-prev"),n.next().addClass(d.bulletActiveClass+"-next").next().addClass(d.bulletActiveClass+"-next-next")}if(d.dynamicBullets){var p=Math.min(l.length,d.dynamicMainBullets+4),q=(b.pagination.bulletSize*p-b.pagination.bulletSize)/2-k*b.pagination.bulletSize,r=c?"right":"left";l.css(b.isHorizontal()?r:"top",q+"px")}}if("fraction"===d.type&&(g.find("."+d.currentClass).text(d.formatFractionCurrent(e+1)),g.find("."+d.totalClass).text(d.formatFractionTotal(h))),"progressbar"===d.type){var s;s=d.progressbarOpposite?b.isHorizontal()?"vertical":"horizontal":b.isHorizontal()?"horizontal":"vertical";var t=(e+1)/h,u=1,v=1;"horizontal"===s?u=t:v=t,g.find("."+d.progressbarFillClass).transform("translate3d(0,0,0) scaleX("+u+") scaleY("+v+")").transition(b.params.speed)}"custom"===d.type&&d.renderCustom?(g.html(d.renderCustom(b,e+1,h)),b.emit("paginationRender",b,g[0])):b.emit("paginationUpdate",b,g[0]),g[b.params.watchOverflow&&b.isLocked?"addClass":"removeClass"](d.lockClass)}},render:function(){var a=this,b=a.params.pagination;if(b.el&&a.pagination.el&&a.pagination.$el&&0!==a.pagination.$el.length){var c=a.virtual&&a.params.virtual.enabled?a.virtual.slides.length:a.slides.length,d=a.pagination.$el,e="";if("bullets"===b.type){for(var f=a.params.loop?Math.ceil((c-2*a.loopedSlides)/a.params.slidesPerGroup):a.snapGrid.length,g=0;f>g;g+=1)e+=b.renderBullet?b.renderBullet.call(a,g,b.bulletClass):"<"+b.bulletElement+' class="'+b.bulletClass+'"></'+b.bulletElement+">";d.html(e),a.pagination.bullets=d.find("."+b.bulletClass)}"fraction"===b.type&&(e=b.renderFraction?b.renderFraction.call(a,b.currentClass,b.totalClass):'<span class="'+b.currentClass+'"></span> / <span class="'+b.totalClass+'"></span>',d.html(e)),"progressbar"===b.type&&(e=b.renderProgressbar?b.renderProgressbar.call(a,b.progressbarFillClass):'<span class="'+b.progressbarFillClass+'"></span>',d.html(e)),"custom"!==b.type&&a.emit("paginationRender",a.pagination.$el[0])}},init:function(){var b=this,c=b.params.pagination;if(c.el){var d=a(c.el);0!==d.length&&(b.params.uniqueNavElements&&"string"==typeof c.el&&1<d.length&&1===b.$el.find(c.el).length&&(d=b.$el.find(c.el)),"bullets"===c.type&&c.clickable&&d.addClass(c.clickableClass),d.addClass(c.modifierClass+c.type),"bullets"===c.type&&c.dynamicBullets&&(d.addClass(""+c.modifierClass+c.type+"-dynamic"),b.pagination.dynamicBulletIndex=0,c.dynamicMainBullets<1&&(c.dynamicMainBullets=1)),"progressbar"===c.type&&c.progressbarOpposite&&d.addClass(c.progressbarOppositeClass),
c.clickable&&d.on("click","."+c.bulletClass,function(c){c.preventDefault();var d=a(this).index()*b.params.slidesPerGroup;b.params.loop&&(d+=b.loopedSlides),b.slideTo(d)}),k.extend(b.pagination,{$el:d,el:d[0]}))}},destroy:function(){var a=this,b=a.params.pagination;if(b.el&&a.pagination.el&&a.pagination.$el&&0!==a.pagination.$el.length){var c=a.pagination.$el;c.removeClass(b.hiddenClass),c.removeClass(b.modifierClass+b.type),a.pagination.bullets&&a.pagination.bullets.removeClass(b.bulletActiveClass),b.clickable&&c.off("click","."+b.bulletClass)}}},R={setTranslate:function(){var a=this;if(a.params.scrollbar.el&&a.scrollbar.el){var b=a.scrollbar,c=a.rtlTranslate,d=a.progress,e=b.dragSize,f=b.trackSize,g=b.$dragEl,h=b.$el,i=a.params.scrollbar,j=e,k=(f-e)*d;c?0<(k=-k)?(j=e-k,k=0):-k+e>f&&(j=f+k):0>k?(j=e+k,k=0):k+e>f&&(j=f-k),a.isHorizontal()?(l.transforms3d?g.transform("translate3d("+k+"px, 0, 0)"):g.transform("translateX("+k+"px)"),g[0].style.width=j+"px"):(l.transforms3d?g.transform("translate3d(0px, "+k+"px, 0)"):g.transform("translateY("+k+"px)"),g[0].style.height=j+"px"),i.hide&&(clearTimeout(a.scrollbar.timeout),h[0].style.opacity=1,a.scrollbar.timeout=setTimeout(function(){h[0].style.opacity=0,h.transition(400)},1e3))}},setTransition:function(a){this.params.scrollbar.el&&this.scrollbar.el&&this.scrollbar.$dragEl.transition(a)},updateSize:function(){var a=this;if(a.params.scrollbar.el&&a.scrollbar.el){var b=a.scrollbar,c=b.$dragEl,d=b.$el;c[0].style.width="",c[0].style.height="";var e,f=a.isHorizontal()?d[0].offsetWidth:d[0].offsetHeight,g=a.size/a.virtualSize,h=g*(f/a.size);e="auto"===a.params.scrollbar.dragSize?f*g:parseInt(a.params.scrollbar.dragSize,10),a.isHorizontal()?c[0].style.width=e+"px":c[0].style.height=e+"px",d[0].style.display=g>=1?"none":"",a.params.scrollbarHide&&(d[0].style.opacity=0),k.extend(b,{trackSize:f,divider:g,moveDivider:h,dragSize:e}),b.$el[a.params.watchOverflow&&a.isLocked?"addClass":"removeClass"](a.params.scrollbar.lockClass)}},setDragPosition:function(a){var b,c=this,d=c.scrollbar,e=c.rtlTranslate,f=d.$el,g=d.dragSize,h=d.trackSize;b=((c.isHorizontal()?"touchstart"===a.type||"touchmove"===a.type?a.targetTouches[0].pageX:a.pageX||a.clientX:"touchstart"===a.type||"touchmove"===a.type?a.targetTouches[0].pageY:a.pageY||a.clientY)-f.offset()[c.isHorizontal()?"left":"top"]-g/2)/(h-g),b=Math.max(Math.min(b,1),0),e&&(b=1-b);var i=c.minTranslate()+(c.maxTranslate()-c.minTranslate())*b;c.updateProgress(i),c.setTranslate(i),c.updateActiveIndex(),c.updateSlidesClasses()},onDragStart:function(a){var b=this,c=b.params.scrollbar,d=b.scrollbar,e=b.$wrapperEl,f=d.$el,g=d.$dragEl;b.scrollbar.isTouched=!0,a.preventDefault(),a.stopPropagation(),e.transition(100),g.transition(100),d.setDragPosition(a),clearTimeout(b.scrollbar.dragTimeout),f.transition(0),c.hide&&f.css("opacity",1),b.emit("scrollbarDragStart",a)},onDragMove:function(a){var b=this.scrollbar,c=this.$wrapperEl,d=b.$el,e=b.$dragEl;this.scrollbar.isTouched&&(a.preventDefault?a.preventDefault():a.returnValue=!1,b.setDragPosition(a),c.transition(0),d.transition(0),e.transition(0),this.emit("scrollbarDragMove",a))},onDragEnd:function(a){var b=this,c=b.params.scrollbar,d=b.scrollbar.$el;b.scrollbar.isTouched&&(b.scrollbar.isTouched=!1,c.hide&&(clearTimeout(b.scrollbar.dragTimeout),b.scrollbar.dragTimeout=k.nextTick(function(){d.css("opacity",0),d.transition(400)},1e3)),b.emit("scrollbarDragEnd",a),c.snapOnRelease&&b.slideToClosest())},enableDraggable:function(){var a=this;if(a.params.scrollbar.el){var b=a.scrollbar,c=a.touchEventsTouch,e=a.touchEventsDesktop,f=a.params,g=b.$el[0],h=!(!l.passiveListener||!f.passiveListeners)&&{passive:!1,capture:!1},i=!(!l.passiveListener||!f.passiveListeners)&&{passive:!0,capture:!1};l.touch?(g.addEventListener(c.start,a.scrollbar.onDragStart,h),g.addEventListener(c.move,a.scrollbar.onDragMove,h),g.addEventListener(c.end,a.scrollbar.onDragEnd,i)):(g.addEventListener(e.start,a.scrollbar.onDragStart,h),d.addEventListener(e.move,a.scrollbar.onDragMove,h),d.addEventListener(e.end,a.scrollbar.onDragEnd,i))}},disableDraggable:function(){var a=this;if(a.params.scrollbar.el){var b=a.scrollbar,c=a.touchEventsTouch,e=a.touchEventsDesktop,f=a.params,g=b.$el[0],h=!(!l.passiveListener||!f.passiveListeners)&&{passive:!1,capture:!1},i=!(!l.passiveListener||!f.passiveListeners)&&{passive:!0,capture:!1};l.touch?(g.removeEventListener(c.start,a.scrollbar.onDragStart,h),g.removeEventListener(c.move,a.scrollbar.onDragMove,h),g.removeEventListener(c.end,a.scrollbar.onDragEnd,i)):(g.removeEventListener(e.start,a.scrollbar.onDragStart,h),d.removeEventListener(e.move,a.scrollbar.onDragMove,h),d.removeEventListener(e.end,a.scrollbar.onDragEnd,i))}},init:function(){var b=this;if(b.params.scrollbar.el){var c=b.scrollbar,d=b.$el,e=b.params.scrollbar,f=a(e.el);b.params.uniqueNavElements&&"string"==typeof e.el&&1<f.length&&1===d.find(e.el).length&&(f=d.find(e.el));var g=f.find("."+b.params.scrollbar.dragClass);0===g.length&&(g=a('<div class="'+b.params.scrollbar.dragClass+'"></div>'),f.append(g)),k.extend(c,{$el:f,el:f[0],$dragEl:g,dragEl:g[0]}),e.draggable&&c.enableDraggable()}},destroy:function(){this.scrollbar.disableDraggable()}},S={setTransform:function(b,c){var d=this.rtl,e=a(b),f=d?-1:1,g=e.attr("data-swiper-parallax")||"0",h=e.attr("data-swiper-parallax-x"),i=e.attr("data-swiper-parallax-y"),j=e.attr("data-swiper-parallax-scale"),k=e.attr("data-swiper-parallax-opacity");if(h||i?(h=h||"0",i=i||"0"):this.isHorizontal()?(h=g,i="0"):(i=g,h="0"),h=0<=h.indexOf("%")?parseInt(h,10)*c*f+"%":h*c*f+"px",i=0<=i.indexOf("%")?parseInt(i,10)*c+"%":i*c+"px",null!=k){var l=k-(k-1)*(1-Math.abs(c));e[0].style.opacity=l}if(null==j)e.transform("translate3d("+h+", "+i+", 0px)");else{var m=j-(j-1)*(1-Math.abs(c));e.transform("translate3d("+h+", "+i+", 0px) scale("+m+")")}},setTranslate:function(){var b=this,c=b.$el,d=b.slides,e=b.progress,f=b.snapGrid;c.children("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(a,c){b.parallax.setTransform(c,e)}),d.each(function(c,d){var g=d.progress;1<b.params.slidesPerGroup&&"auto"!==b.params.slidesPerView&&(g+=Math.ceil(c/2)-e*(f.length-1)),g=Math.min(Math.max(g,-1),1),a(d).find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(a,c){b.parallax.setTransform(c,g)})})},setTransition:function(b){void 0===b&&(b=this.params.speed),this.$el.find("[data-swiper-parallax], [data-swiper-parallax-x], [data-swiper-parallax-y]").each(function(c,d){var e=a(d),f=parseInt(e.attr("data-swiper-parallax-duration"),10)||b;0===b&&(f=0),e.transition(f)})}},T={getDistanceBetweenTouches:function(a){if(a.targetTouches.length<2)return 1;var b=a.targetTouches[0].pageX,c=a.targetTouches[0].pageY,d=a.targetTouches[1].pageX,e=a.targetTouches[1].pageY;return Math.sqrt(Math.pow(d-b,2)+Math.pow(e-c,2))},onGestureStart:function(b){var c=this,d=c.params.zoom,e=c.zoom,f=e.gesture;if(e.fakeGestureTouched=!1,e.fakeGestureMoved=!1,!l.gestures){if("touchstart"!==b.type||"touchstart"===b.type&&b.targetTouches.length<2)return;e.fakeGestureTouched=!0,f.scaleStart=T.getDistanceBetweenTouches(b)}f.$slideEl&&f.$slideEl.length||(f.$slideEl=a(b.target).closest(".swiper-slide"),0===f.$slideEl.length&&(f.$slideEl=c.slides.eq(c.activeIndex)),f.$imageEl=f.$slideEl.find("img, svg, canvas"),f.$imageWrapEl=f.$imageEl.parent("."+d.containerClass),f.maxRatio=f.$imageWrapEl.attr("data-swiper-zoom")||d.maxRatio,0!==f.$imageWrapEl.length)?(f.$imageEl.transition(0),c.zoom.isScaling=!0):f.$imageEl=void 0},onGestureChange:function(a){var b=this.params.zoom,c=this.zoom,d=c.gesture;if(!l.gestures){if("touchmove"!==a.type||"touchmove"===a.type&&a.targetTouches.length<2)return;c.fakeGestureMoved=!0,d.scaleMove=T.getDistanceBetweenTouches(a)}d.$imageEl&&0!==d.$imageEl.length&&(l.gestures?this.zoom.scale=a.scale*c.currentScale:c.scale=d.scaleMove/d.scaleStart*c.currentScale,c.scale>d.maxRatio&&(c.scale=d.maxRatio-1+Math.pow(c.scale-d.maxRatio+1,.5)),c.scale<b.minRatio&&(c.scale=b.minRatio+1-Math.pow(b.minRatio-c.scale+1,.5)),d.$imageEl.transform("translate3d(0,0,0) scale("+c.scale+")"))},onGestureEnd:function(a){var b=this.params.zoom,c=this.zoom,d=c.gesture;if(!l.gestures){if(!c.fakeGestureTouched||!c.fakeGestureMoved)return;if("touchend"!==a.type||"touchend"===a.type&&a.changedTouches.length<2&&!w.android)return;c.fakeGestureTouched=!1,c.fakeGestureMoved=!1}d.$imageEl&&0!==d.$imageEl.length&&(c.scale=Math.max(Math.min(c.scale,d.maxRatio),b.minRatio),d.$imageEl.transition(this.params.speed).transform("translate3d(0,0,0) scale("+c.scale+")"),c.currentScale=c.scale,c.isScaling=!1,1===c.scale&&(d.$slideEl=void 0))},onTouchStart:function(a){var b=this.zoom,c=b.gesture,d=b.image;c.$imageEl&&0!==c.$imageEl.length&&(d.isTouched||(w.android&&a.preventDefault(),d.isTouched=!0,d.touchesStart.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,d.touchesStart.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY))},onTouchMove:function(a){var b=this,c=b.zoom,d=c.gesture,e=c.image,f=c.velocity;if(d.$imageEl&&0!==d.$imageEl.length&&(b.allowClick=!1,e.isTouched&&d.$slideEl)){e.isMoved||(e.width=d.$imageEl[0].offsetWidth,e.height=d.$imageEl[0].offsetHeight,e.startX=k.getTranslate(d.$imageWrapEl[0],"x")||0,e.startY=k.getTranslate(d.$imageWrapEl[0],"y")||0,d.slideWidth=d.$slideEl[0].offsetWidth,d.slideHeight=d.$slideEl[0].offsetHeight,d.$imageWrapEl.transition(0),b.rtl&&(e.startX=-e.startX,e.startY=-e.startY));var g=e.width*c.scale,h=e.height*c.scale;if(!(g<d.slideWidth&&h<d.slideHeight)){if(e.minX=Math.min(d.slideWidth/2-g/2,0),e.maxX=-e.minX,e.minY=Math.min(d.slideHeight/2-h/2,0),e.maxY=-e.minY,e.touchesCurrent.x="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,e.touchesCurrent.y="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,!e.isMoved&&!c.isScaling){if(b.isHorizontal()&&(Math.floor(e.minX)===Math.floor(e.startX)&&e.touchesCurrent.x<e.touchesStart.x||Math.floor(e.maxX)===Math.floor(e.startX)&&e.touchesCurrent.x>e.touchesStart.x))return void(e.isTouched=!1);if(!b.isHorizontal()&&(Math.floor(e.minY)===Math.floor(e.startY)&&e.touchesCurrent.y<e.touchesStart.y||Math.floor(e.maxY)===Math.floor(e.startY)&&e.touchesCurrent.y>e.touchesStart.y))return void(e.isTouched=!1)}a.preventDefault(),a.stopPropagation(),e.isMoved=!0,e.currentX=e.touchesCurrent.x-e.touchesStart.x+e.startX,e.currentY=e.touchesCurrent.y-e.touchesStart.y+e.startY,e.currentX<e.minX&&(e.currentX=e.minX+1-Math.pow(e.minX-e.currentX+1,.8)),e.currentX>e.maxX&&(e.currentX=e.maxX-1+Math.pow(e.currentX-e.maxX+1,.8)),e.currentY<e.minY&&(e.currentY=e.minY+1-Math.pow(e.minY-e.currentY+1,.8)),e.currentY>e.maxY&&(e.currentY=e.maxY-1+Math.pow(e.currentY-e.maxY+1,.8)),f.prevPositionX||(f.prevPositionX=e.touchesCurrent.x),f.prevPositionY||(f.prevPositionY=e.touchesCurrent.y),f.prevTime||(f.prevTime=Date.now()),f.x=(e.touchesCurrent.x-f.prevPositionX)/(Date.now()-f.prevTime)/2,f.y=(e.touchesCurrent.y-f.prevPositionY)/(Date.now()-f.prevTime)/2,Math.abs(e.touchesCurrent.x-f.prevPositionX)<2&&(f.x=0),Math.abs(e.touchesCurrent.y-f.prevPositionY)<2&&(f.y=0),f.prevPositionX=e.touchesCurrent.x,f.prevPositionY=e.touchesCurrent.y,f.prevTime=Date.now(),d.$imageWrapEl.transform("translate3d("+e.currentX+"px, "+e.currentY+"px,0)")}}},onTouchEnd:function(){var a=this.zoom,b=a.gesture,c=a.image,d=a.velocity;if(b.$imageEl&&0!==b.$imageEl.length){if(!c.isTouched||!c.isMoved)return c.isTouched=!1,void(c.isMoved=!1);c.isTouched=!1,c.isMoved=!1;var e=300,f=300,g=d.x*e,h=c.currentX+g,i=d.y*f,j=c.currentY+i;0!==d.x&&(e=Math.abs((h-c.currentX)/d.x)),0!==d.y&&(f=Math.abs((j-c.currentY)/d.y));var k=Math.max(e,f);c.currentX=h,c.currentY=j;var l=c.width*a.scale,m=c.height*a.scale;c.minX=Math.min(b.slideWidth/2-l/2,0),c.maxX=-c.minX,c.minY=Math.min(b.slideHeight/2-m/2,0),c.maxY=-c.minY,c.currentX=Math.max(Math.min(c.currentX,c.maxX),c.minX),c.currentY=Math.max(Math.min(c.currentY,c.maxY),c.minY),b.$imageWrapEl.transition(k).transform("translate3d("+c.currentX+"px, "+c.currentY+"px,0)")}},onTransitionEnd:function(){var a=this.zoom,b=a.gesture;b.$slideEl&&this.previousIndex!==this.activeIndex&&(b.$imageEl.transform("translate3d(0,0,0) scale(1)"),b.$imageWrapEl.transform("translate3d(0,0,0)"),b.$slideEl=void 0,b.$imageEl=void 0,b.$imageWrapEl=void 0,a.scale=1,a.currentScale=1)},toggle:function(a){var b=this.zoom;b.scale&&1!==b.scale?b.out():b["in"](a)},"in":function(b){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=this,t=s.zoom,u=s.params.zoom,v=t.gesture,w=t.image;v.$slideEl||(v.$slideEl=s.clickedSlide?a(s.clickedSlide):s.slides.eq(s.activeIndex),v.$imageEl=v.$slideEl.find("img, svg, canvas"),v.$imageWrapEl=v.$imageEl.parent("."+u.containerClass)),v.$imageEl&&0!==v.$imageEl.length&&(v.$slideEl.addClass(""+u.zoomedSlideClass),void 0===w.touchesStart.x&&b?(c="touchend"===b.type?b.changedTouches[0].pageX:b.pageX,d="touchend"===b.type?b.changedTouches[0].pageY:b.pageY):(c=w.touchesStart.x,d=w.touchesStart.y),t.scale=v.$imageWrapEl.attr("data-swiper-zoom")||u.maxRatio,t.currentScale=v.$imageWrapEl.attr("data-swiper-zoom")||u.maxRatio,b?(q=v.$slideEl[0].offsetWidth,r=v.$slideEl[0].offsetHeight,e=v.$slideEl.offset().left+q/2-c,f=v.$slideEl.offset().top+r/2-d,i=v.$imageEl[0].offsetWidth,j=v.$imageEl[0].offsetHeight,k=i*t.scale,l=j*t.scale,o=-(m=Math.min(q/2-k/2,0)),p=-(n=Math.min(r/2-l/2,0)),(g=e*t.scale)<m&&(g=m),g>o&&(g=o),(h=f*t.scale)<n&&(h=n),h>p&&(h=p)):h=g=0,v.$imageWrapEl.transition(300).transform("translate3d("+g+"px, "+h+"px,0)"),v.$imageEl.transition(300).transform("translate3d(0,0,0) scale("+t.scale+")"))},out:function(){var b=this,c=b.zoom,d=b.params.zoom,e=c.gesture;e.$slideEl||(e.$slideEl=b.clickedSlide?a(b.clickedSlide):b.slides.eq(b.activeIndex),e.$imageEl=e.$slideEl.find("img, svg, canvas"),e.$imageWrapEl=e.$imageEl.parent("."+d.containerClass)),e.$imageEl&&0!==e.$imageEl.length&&(c.scale=1,c.currentScale=1,e.$imageWrapEl.transition(300).transform("translate3d(0,0,0)"),e.$imageEl.transition(300).transform("translate3d(0,0,0) scale(1)"),e.$slideEl.removeClass(""+d.zoomedSlideClass),e.$slideEl=void 0)},enable:function(){var a=this,b=a.zoom;if(!b.enabled){b.enabled=!0;var c=!("touchstart"!==a.touchEvents.start||!l.passiveListener||!a.params.passiveListeners)&&{passive:!0,capture:!1};l.gestures?(a.$wrapperEl.on("gesturestart",".swiper-slide",b.onGestureStart,c),a.$wrapperEl.on("gesturechange",".swiper-slide",b.onGestureChange,c),a.$wrapperEl.on("gestureend",".swiper-slide",b.onGestureEnd,c)):"touchstart"===a.touchEvents.start&&(a.$wrapperEl.on(a.touchEvents.start,".swiper-slide",b.onGestureStart,c),a.$wrapperEl.on(a.touchEvents.move,".swiper-slide",b.onGestureChange,c),a.$wrapperEl.on(a.touchEvents.end,".swiper-slide",b.onGestureEnd,c)),a.$wrapperEl.on(a.touchEvents.move,"."+a.params.zoom.containerClass,b.onTouchMove)}},disable:function(){var a=this,b=a.zoom;if(b.enabled){a.zoom.enabled=!1;var c=!("touchstart"!==a.touchEvents.start||!l.passiveListener||!a.params.passiveListeners)&&{passive:!0,capture:!1};l.gestures?(a.$wrapperEl.off("gesturestart",".swiper-slide",b.onGestureStart,c),a.$wrapperEl.off("gesturechange",".swiper-slide",b.onGestureChange,c),a.$wrapperEl.off("gestureend",".swiper-slide",b.onGestureEnd,c)):"touchstart"===a.touchEvents.start&&(a.$wrapperEl.off(a.touchEvents.start,".swiper-slide",b.onGestureStart,c),a.$wrapperEl.off(a.touchEvents.move,".swiper-slide",b.onGestureChange,c),a.$wrapperEl.off(a.touchEvents.end,".swiper-slide",b.onGestureEnd,c)),a.$wrapperEl.off(a.touchEvents.move,"."+a.params.zoom.containerClass,b.onTouchMove)}}},U={loadInSlide:function(b,c){void 0===c&&(c=!0);var d=this,e=d.params.lazy;if(void 0!==b&&0!==d.slides.length){var f=d.virtual&&d.params.virtual.enabled?d.$wrapperEl.children("."+d.params.slideClass+'[data-swiper-slide-index="'+b+'"]'):d.slides.eq(b),g=f.find("."+e.elementClass+":not(."+e.loadedClass+"):not(."+e.loadingClass+")");!f.hasClass(e.elementClass)||f.hasClass(e.loadedClass)||f.hasClass(e.loadingClass)||(g=g.add(f[0])),0!==g.length&&g.each(function(b,g){var h=a(g);h.addClass(e.loadingClass);var i=h.attr("data-background"),j=h.attr("data-src"),k=h.attr("data-srcset"),l=h.attr("data-sizes");d.loadImage(h[0],j||i,k,l,!1,function(){if(null!=d&&d&&(!d||d.params)&&!d.destroyed){if(i?(h.css("background-image",'url("'+i+'")'),h.removeAttr("data-background")):(k&&(h.attr("srcset",k),h.removeAttr("data-srcset")),l&&(h.attr("sizes",l),h.removeAttr("data-sizes")),j&&(h.attr("src",j),h.removeAttr("data-src"))),h.addClass(e.loadedClass).removeClass(e.loadingClass),f.find("."+e.preloaderClass).remove(),d.params.loop&&c){var a=f.attr("data-swiper-slide-index");if(f.hasClass(d.params.slideDuplicateClass)){var b=d.$wrapperEl.children('[data-swiper-slide-index="'+a+'"]:not(.'+d.params.slideDuplicateClass+")");d.lazy.loadInSlide(b.index(),!1)}else{var g=d.$wrapperEl.children("."+d.params.slideDuplicateClass+'[data-swiper-slide-index="'+a+'"]');d.lazy.loadInSlide(g.index(),!1)}}d.emit("lazyImageReady",f[0],h[0])}}),d.emit("lazyImageLoad",f[0],h[0])})}},load:function(){function b(a){if(i){if(e.children("."+f.slideClass+'[data-swiper-slide-index="'+a+'"]').length)return!0}else if(g[a])return!0;return!1}function c(b){return i?a(b).attr("data-swiper-slide-index"):a(b).index()}var d=this,e=d.$wrapperEl,f=d.params,g=d.slides,h=d.activeIndex,i=d.virtual&&f.virtual.enabled,j=f.lazy,k=f.slidesPerView;if("auto"===k&&(k=0),d.lazy.initialImageLoaded||(d.lazy.initialImageLoaded=!0),d.params.watchSlidesVisibility)e.children("."+f.slideVisibleClass).each(function(b,c){var e=i?a(c).attr("data-swiper-slide-index"):a(c).index();d.lazy.loadInSlide(e)});else if(k>1)for(var l=h;h+k>l;l+=1)b(l)&&d.lazy.loadInSlide(l);else d.lazy.loadInSlide(h);if(j.loadPrevNext)if(k>1||j.loadPrevNextAmount&&1<j.loadPrevNextAmount){for(var m=j.loadPrevNextAmount,n=k,o=Math.min(h+n+Math.max(m,n),g.length),p=Math.max(h-Math.max(n,m),0),q=h+k;o>q;q+=1)b(q)&&d.lazy.loadInSlide(q);for(var r=p;h>r;r+=1)b(r)&&d.lazy.loadInSlide(r)}else{var s=e.children("."+f.slideNextClass);0<s.length&&d.lazy.loadInSlide(c(s));var t=e.children("."+f.slidePrevClass);0<t.length&&d.lazy.loadInSlide(c(t))}}},V={LinearSpline:function(a,b){var c,d,e,f,g,h=function(a,b){for(d=-1,c=a.length;c-d>1;)a[e=c+d>>1]<=b?d=e:c=e;return c};return this.x=a,this.y=b,this.lastIndex=a.length-1,this.interpolate=function(a){return a?(g=h(this.x,a),f=g-1,(a-this.x[f])*(this.y[g]-this.y[f])/(this.x[g]-this.x[f])+this.y[f]):0},this},getInterpolateFunction:function(a){var b=this;b.controller.spline||(b.controller.spline=b.params.loop?new V.LinearSpline(b.slidesGrid,a.slidesGrid):new V.LinearSpline(b.snapGrid,a.snapGrid))},setTranslate:function(a,b){function c(a){var b=f.rtlTranslate?-f.translate:f.translate;"slide"===f.params.controller.by&&(f.controller.getInterpolateFunction(a),e=-f.controller.spline.interpolate(-b)),e&&"container"!==f.params.controller.by||(d=(a.maxTranslate()-a.minTranslate())/(f.maxTranslate()-f.minTranslate()),e=(b-f.minTranslate())*d+a.minTranslate()),f.params.controller.inverse&&(e=a.maxTranslate()-e),a.updateProgress(e),a.setTranslate(e,f),a.updateActiveIndex(),a.updateSlidesClasses()}var d,e,f=this,g=f.controller.control;if(Array.isArray(g))for(var h=0;h<g.length;h+=1)g[h]!==b&&g[h]instanceof D&&c(g[h]);else g instanceof D&&b!==g&&c(g)},setTransition:function(a,b){function c(b){b.setTransition(a,e),0!==a&&(b.transitionStart(),b.params.autoHeight&&k.nextTick(function(){b.updateAutoHeight()}),b.$wrapperEl.transitionEnd(function(){f&&(b.params.loop&&"slide"===e.params.controller.by&&b.loopFix(),b.transitionEnd())}))}var d,e=this,f=e.controller.control;if(Array.isArray(f))for(d=0;d<f.length;d+=1)f[d]!==b&&f[d]instanceof D&&c(f[d]);else f instanceof D&&b!==f&&c(f)}},W={makeElFocusable:function(a){return a.attr("tabIndex","0"),a},addElRole:function(a,b){return a.attr("role",b),a},addElLabel:function(a,b){return a.attr("aria-label",b),a},disableEl:function(a){return a.attr("aria-disabled",!0),a},enableEl:function(a){return a.attr("aria-disabled",!1),a},onEnterKey:function(b){var c=this,d=c.params.a11y;if(13===b.keyCode){var e=a(b.target);c.navigation&&c.navigation.$nextEl&&e.is(c.navigation.$nextEl)&&(c.isEnd&&!c.params.loop||c.slideNext(),c.isEnd?c.a11y.notify(d.lastSlideMessage):c.a11y.notify(d.nextSlideMessage)),c.navigation&&c.navigation.$prevEl&&e.is(c.navigation.$prevEl)&&(c.isBeginning&&!c.params.loop||c.slidePrev(),c.isBeginning?c.a11y.notify(d.firstSlideMessage):c.a11y.notify(d.prevSlideMessage)),c.pagination&&e.is("."+c.params.pagination.bulletClass)&&e[0].click()}},notify:function(a){var b=this.a11y.liveRegion;0!==b.length&&(b.html(""),b.html(a))},updateNavigation:function(){var a=this;if(!a.params.loop){var b=a.navigation,c=b.$nextEl,d=b.$prevEl;d&&0<d.length&&(a.isBeginning?a.a11y.disableEl(d):a.a11y.enableEl(d)),c&&0<c.length&&(a.isEnd?a.a11y.disableEl(c):a.a11y.enableEl(c))}},updatePagination:function(){var b=this,c=b.params.a11y;b.pagination&&b.params.pagination.clickable&&b.pagination.bullets&&b.pagination.bullets.length&&b.pagination.bullets.each(function(d,e){var f=a(e);b.a11y.makeElFocusable(f),b.a11y.addElRole(f,"button"),b.a11y.addElLabel(f,c.paginationBulletMessage.replace(/{{index}}/,f.index()+1))})},init:function(){var a=this;a.$el.append(a.a11y.liveRegion);var b,c,d=a.params.a11y;a.navigation&&a.navigation.$nextEl&&(b=a.navigation.$nextEl),a.navigation&&a.navigation.$prevEl&&(c=a.navigation.$prevEl),b&&(a.a11y.makeElFocusable(b),a.a11y.addElRole(b,"button"),a.a11y.addElLabel(b,d.nextSlideMessage),b.on("keydown",a.a11y.onEnterKey)),c&&(a.a11y.makeElFocusable(c),a.a11y.addElRole(c,"button"),a.a11y.addElLabel(c,d.prevSlideMessage),c.on("keydown",a.a11y.onEnterKey)),a.pagination&&a.params.pagination.clickable&&a.pagination.bullets&&a.pagination.bullets.length&&a.pagination.$el.on("keydown","."+a.params.pagination.bulletClass,a.a11y.onEnterKey)},destroy:function(){var a,b,c=this;c.a11y.liveRegion&&0<c.a11y.liveRegion.length&&c.a11y.liveRegion.remove(),c.navigation&&c.navigation.$nextEl&&(a=c.navigation.$nextEl),c.navigation&&c.navigation.$prevEl&&(b=c.navigation.$prevEl),a&&a.off("keydown",c.a11y.onEnterKey),b&&b.off("keydown",c.a11y.onEnterKey),c.pagination&&c.params.pagination.clickable&&c.pagination.bullets&&c.pagination.bullets.length&&c.pagination.$el.off("keydown","."+c.params.pagination.bulletClass,c.a11y.onEnterKey)}},X={init:function(){var a=this;if(a.params.history){if(!e.history||!e.history.pushState)return a.params.history.enabled=!1,void(a.params.hashNavigation.enabled=!0);var b=a.history;b.initialized=!0,b.paths=X.getPathValues(),(b.paths.key||b.paths.value)&&(b.scrollToSlide(0,b.paths.value,a.params.runCallbacksOnInit),a.params.history.replaceState||e.addEventListener("popstate",a.history.setHistoryPopState))}},destroy:function(){this.params.history.replaceState||e.removeEventListener("popstate",this.history.setHistoryPopState)},setHistoryPopState:function(){this.history.paths=X.getPathValues(),this.history.scrollToSlide(this.params.speed,this.history.paths.value,!1)},getPathValues:function(){var a=e.location.pathname.slice(1).split("/").filter(function(a){return""!==a}),b=a.length;return{key:a[b-2],value:a[b-1]}},setHistory:function(a,b){if(this.history.initialized&&this.params.history.enabled){var c=this.slides.eq(b),d=X.slugify(c.attr("data-history"));e.location.pathname.includes(a)||(d=a+"/"+d);var f=e.history.state;f&&f.value===d||(this.params.history.replaceState?e.history.replaceState({value:d},null,d):e.history.pushState({value:d},null,d))}},slugify:function(a){return a.toString().toLowerCase().replace(/\s+/g,"-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},scrollToSlide:function(a,b,c){var d=this;if(b)for(var e=0,f=d.slides.length;f>e;e+=1){var g=d.slides.eq(e);if(X.slugify(g.attr("data-history"))===b&&!g.hasClass(d.params.slideDuplicateClass)){var h=g.index();d.slideTo(h,a,c)}}else d.slideTo(0,a,c)}},Y={onHashCange:function(){var a=this,b=d.location.hash.replace("#","");if(b!==a.slides.eq(a.activeIndex).attr("data-hash")){var c=a.$wrapperEl.children("."+a.params.slideClass+'[data-hash="'+b+'"]').index();if(void 0===c)return;a.slideTo(c)}},setHash:function(){var a=this;if(a.hashNavigation.initialized&&a.params.hashNavigation.enabled)if(a.params.hashNavigation.replaceState&&e.history&&e.history.replaceState)e.history.replaceState(null,null,"#"+a.slides.eq(a.activeIndex).attr("data-hash")||"");else{var b=a.slides.eq(a.activeIndex),c=b.attr("data-hash")||b.attr("data-history");d.location.hash=c||""}},init:function(){var b=this;if(!(!b.params.hashNavigation.enabled||b.params.history&&b.params.history.enabled)){b.hashNavigation.initialized=!0;var c=d.location.hash.replace("#","");if(c)for(var f=0,g=b.slides.length;g>f;f+=1){var h=b.slides.eq(f);if((h.attr("data-hash")||h.attr("data-history"))===c&&!h.hasClass(b.params.slideDuplicateClass)){var i=h.index();b.slideTo(i,0,b.params.runCallbacksOnInit,!0)}}b.params.hashNavigation.watchState&&a(e).on("hashchange",b.hashNavigation.onHashCange)}},destroy:function(){this.params.hashNavigation.watchState&&a(e).off("hashchange",this.hashNavigation.onHashCange)}},Z={run:function(){var a=this,b=a.slides.eq(a.activeIndex),c=a.params.autoplay.delay;b.attr("data-swiper-autoplay")&&(c=b.attr("data-swiper-autoplay")||a.params.autoplay.delay),a.autoplay.timeout=k.nextTick(function(){a.params.autoplay.reverseDirection?a.params.loop?(a.loopFix(),a.slidePrev(a.params.speed,!0,!0),a.emit("autoplay")):a.isBeginning?a.params.autoplay.stopOnLastSlide?a.autoplay.stop():(a.slideTo(a.slides.length-1,a.params.speed,!0,!0),a.emit("autoplay")):(a.slidePrev(a.params.speed,!0,!0),a.emit("autoplay")):a.params.loop?(a.loopFix(),a.slideNext(a.params.speed,!0,!0),a.emit("autoplay")):a.isEnd?a.params.autoplay.stopOnLastSlide?a.autoplay.stop():(a.slideTo(0,a.params.speed,!0,!0),a.emit("autoplay")):(a.slideNext(a.params.speed,!0,!0),a.emit("autoplay"))},c)},start:function(){var a=this;return void 0===a.autoplay.timeout&&!a.autoplay.running&&(a.autoplay.running=!0,a.emit("autoplayStart"),a.autoplay.run(),!0)},stop:function(){var a=this;return!!a.autoplay.running&&void 0!==a.autoplay.timeout&&(a.autoplay.timeout&&(clearTimeout(a.autoplay.timeout),a.autoplay.timeout=void 0),a.autoplay.running=!1,a.emit("autoplayStop"),!0)},pause:function(a){var b=this;b.autoplay.running&&(b.autoplay.paused||(b.autoplay.timeout&&clearTimeout(b.autoplay.timeout),b.autoplay.paused=!0,0!==a&&b.params.autoplay.waitForTransition?(b.$wrapperEl[0].addEventListener("transitionend",b.autoplay.onTransitionEnd),b.$wrapperEl[0].addEventListener("webkitTransitionEnd",b.autoplay.onTransitionEnd)):(b.autoplay.paused=!1,b.autoplay.run())))}},$={setTranslate:function(){for(var a=this,b=a.slides,c=0;c<b.length;c+=1){var d=a.slides.eq(c),e=-d[0].swiperSlideOffset;a.params.virtualTranslate||(e-=a.translate);var f=0;a.isHorizontal()||(f=e,e=0);var g=a.params.fadeEffect.crossFade?Math.max(1-Math.abs(d[0].progress),0):1+Math.min(Math.max(d[0].progress,-1),0);d.css({opacity:g}).transform("translate3d("+e+"px, "+f+"px, 0px)")}},setTransition:function(a){var b=this,c=b.slides,d=b.$wrapperEl;if(c.transition(a),b.params.virtualTranslate&&0!==a){var e=!1;c.transitionEnd(function(){if(!e&&b&&!b.destroyed){e=!0,b.animating=!1;for(var a=["webkitTransitionEnd","transitionend"],c=0;c<a.length;c+=1)d.trigger(a[c])}})}}},_={setTranslate:function(){var b,c=this,d=c.$el,e=c.$wrapperEl,f=c.slides,g=c.width,h=c.height,i=c.rtlTranslate,j=c.size,k=c.params.cubeEffect,l=c.isHorizontal(),m=c.virtual&&c.params.virtual.enabled,n=0;k.shadow&&(l?(0===(b=e.find(".swiper-cube-shadow")).length&&(b=a('<div class="swiper-cube-shadow"></div>'),e.append(b)),b.css({height:g+"px"})):0===(b=d.find(".swiper-cube-shadow")).length&&(b=a('<div class="swiper-cube-shadow"></div>'),d.append(b)));for(var o=0;o<f.length;o+=1){var p=f.eq(o),q=o;m&&(q=parseInt(p.attr("data-swiper-slide-index"),10));var r=90*q,s=Math.floor(r/360);i&&(r=-r,s=Math.floor(-r/360));var t=Math.max(Math.min(p[0].progress,1),-1),u=0,v=0,w=0;q%4==0?(u=4*-s*j,w=0):(q-1)%4==0?(u=0,w=4*-s*j):(q-2)%4==0?(u=j+4*s*j,w=j):(q-3)%4==0&&(u=-j,w=3*j+4*j*s),i&&(u=-u),l||(v=u,u=0);var x="rotateX("+(l?0:-r)+"deg) rotateY("+(l?r:0)+"deg) translate3d("+u+"px, "+v+"px, "+w+"px)";if(1>=t&&t>-1&&(n=90*q+90*t,i&&(n=90*-q-90*t)),p.transform(x),k.slideShadows){var y=l?p.find(".swiper-slide-shadow-left"):p.find(".swiper-slide-shadow-top"),A=l?p.find(".swiper-slide-shadow-right"):p.find(".swiper-slide-shadow-bottom");0===y.length&&(y=a('<div class="swiper-slide-shadow-'+(l?"left":"top")+'"></div>'),p.append(y)),0===A.length&&(A=a('<div class="swiper-slide-shadow-'+(l?"right":"bottom")+'"></div>'),p.append(A)),y.length&&(y[0].style.opacity=Math.max(-t,0)),A.length&&(A[0].style.opacity=Math.max(t,0))}}if(e.css({"-webkit-transform-origin":"50% 50% -"+j/2+"px","-moz-transform-origin":"50% 50% -"+j/2+"px","-ms-transform-origin":"50% 50% -"+j/2+"px","transform-origin":"50% 50% -"+j/2+"px"}),k.shadow)if(l)b.transform("translate3d(0px, "+(g/2+k.shadowOffset)+"px, "+-g/2+"px) rotateX(90deg) rotateZ(0deg) scale("+k.shadowScale+")");else{var B=Math.abs(n)-90*Math.floor(Math.abs(n)/90),C=1.5-(Math.sin(2*B*Math.PI/360)/2+Math.cos(2*B*Math.PI/360)/2),D=k.shadowScale,E=k.shadowScale/C,F=k.shadowOffset;b.transform("scale3d("+D+", 1, "+E+") translate3d(0px, "+(h/2+F)+"px, "+-h/2/E+"px) rotateX(-90deg)")}var G=z.isSafari||z.isUiWebView?-j/2:0;e.transform("translate3d(0px,0,"+G+"px) rotateX("+(c.isHorizontal()?0:n)+"deg) rotateY("+(c.isHorizontal()?-n:0)+"deg)")},setTransition:function(a){var b=this.$el;this.slides.transition(a).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(a),this.params.cubeEffect.shadow&&!this.isHorizontal()&&b.find(".swiper-cube-shadow").transition(a)}},aa={setTranslate:function(){for(var b=this,c=b.slides,d=b.rtlTranslate,e=0;e<c.length;e+=1){var f=c.eq(e),g=f[0].progress;b.params.flipEffect.limitRotation&&(g=Math.max(Math.min(f[0].progress,1),-1));var h=-180*g,i=0,j=-f[0].swiperSlideOffset,k=0;if(b.isHorizontal()?d&&(h=-h):(k=j,i=-h,h=j=0),f[0].style.zIndex=-Math.abs(Math.round(g))+c.length,b.params.flipEffect.slideShadows){var l=b.isHorizontal()?f.find(".swiper-slide-shadow-left"):f.find(".swiper-slide-shadow-top"),m=b.isHorizontal()?f.find(".swiper-slide-shadow-right"):f.find(".swiper-slide-shadow-bottom");0===l.length&&(l=a('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"left":"top")+'"></div>'),f.append(l)),0===m.length&&(m=a('<div class="swiper-slide-shadow-'+(b.isHorizontal()?"right":"bottom")+'"></div>'),f.append(m)),l.length&&(l[0].style.opacity=Math.max(-g,0)),m.length&&(m[0].style.opacity=Math.max(g,0))}f.transform("translate3d("+j+"px, "+k+"px, 0px) rotateX("+i+"deg) rotateY("+h+"deg)")}},setTransition:function(a){var b=this,c=b.slides,d=b.activeIndex,e=b.$wrapperEl;if(c.transition(a).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(a),b.params.virtualTranslate&&0!==a){var f=!1;c.eq(d).transitionEnd(function(){if(!f&&b&&!b.destroyed){f=!0,b.animating=!1;for(var a=["webkitTransitionEnd","transitionend"],c=0;c<a.length;c+=1)e.trigger(a[c])}})}}},ba={setTranslate:function(){for(var b=this,c=b.width,d=b.height,e=b.slides,f=b.$wrapperEl,g=b.slidesSizesGrid,h=b.params.coverflowEffect,i=b.isHorizontal(),j=b.translate,k=i?c/2-j:d/2-j,m=i?h.rotate:-h.rotate,n=h.depth,o=0,p=e.length;p>o;o+=1){var q=e.eq(o),r=g[o],s=(k-q[0].swiperSlideOffset-r/2)/r*h.modifier,t=i?m*s:0,u=i?0:m*s,v=-n*Math.abs(s),w=i?0:h.stretch*s,x=i?h.stretch*s:0;Math.abs(x)<.001&&(x=0),Math.abs(w)<.001&&(w=0),Math.abs(v)<.001&&(v=0),Math.abs(t)<.001&&(t=0),Math.abs(u)<.001&&(u=0);var y="translate3d("+x+"px,"+w+"px,"+v+"px)  rotateX("+u+"deg) rotateY("+t+"deg)";if(q.transform(y),q[0].style.zIndex=1-Math.abs(Math.round(s)),h.slideShadows){var z=i?q.find(".swiper-slide-shadow-left"):q.find(".swiper-slide-shadow-top"),A=i?q.find(".swiper-slide-shadow-right"):q.find(".swiper-slide-shadow-bottom");
0===z.length&&(z=a('<div class="swiper-slide-shadow-'+(i?"left":"top")+'"></div>'),q.append(z)),0===A.length&&(A=a('<div class="swiper-slide-shadow-'+(i?"right":"bottom")+'"></div>'),q.append(A)),z.length&&(z[0].style.opacity=s>0?s:0),A.length&&(A[0].style.opacity=-s>0?-s:0)}}(l.pointerEvents||l.prefixedPointerEvents)&&(f[0].style.perspectiveOrigin=k+"px 50%")},setTransition:function(a){this.slides.transition(a).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").transition(a)}},ca={init:function(){var a=this,b=a.params.thumbs,c=a.constructor;b.swiper instanceof c?(a.thumbs.swiper=b.swiper,k.extend(a.thumbs.swiper.originalParams,{watchSlidesProgress:!0,slideToClickedSlide:!1}),k.extend(a.thumbs.swiper.params,{watchSlidesProgress:!0,slideToClickedSlide:!1})):k.isObject(b.swiper)&&(a.thumbs.swiper=new c(k.extend({},b.swiper,{watchSlidesVisibility:!0,watchSlidesProgress:!0,slideToClickedSlide:!1})),a.thumbs.swiperCreated=!0),a.thumbs.swiper.$el.addClass(a.params.thumbs.thumbsContainerClass),a.thumbs.swiper.on("tap",a.thumbs.onThumbClick)},onThumbClick:function(){var b=this,c=b.thumbs.swiper;if(c){var d=c.clickedIndex,e=c.clickedSlide;if(!(e&&a(e).hasClass(b.params.thumbs.slideThumbActiveClass)||null==d)){var f;if(f=c.params.loop?parseInt(a(c.clickedSlide).attr("data-swiper-slide-index"),10):d,b.params.loop){var g=b.activeIndex;b.slides.eq(g).hasClass(b.params.slideDuplicateClass)&&(b.loopFix(),b._clientLeft=b.$wrapperEl[0].clientLeft,g=b.activeIndex);var h=b.slides.eq(g).prevAll('[data-swiper-slide-index="'+f+'"]').eq(0).index(),i=b.slides.eq(g).nextAll('[data-swiper-slide-index="'+f+'"]').eq(0).index();f=void 0===h?i:void 0===i?h:g-h>i-g?i:h}b.slideTo(f)}}},update:function(a){var b=this,c=b.thumbs.swiper;if(c){var d="auto"===c.params.slidesPerView?c.slidesPerViewDynamic():c.params.slidesPerView;if(b.realIndex!==c.realIndex){var e,f=c.activeIndex;if(c.params.loop){c.slides.eq(f).hasClass(c.params.slideDuplicateClass)&&(c.loopFix(),c._clientLeft=c.$wrapperEl[0].clientLeft,f=c.activeIndex);var g=c.slides.eq(f).prevAll('[data-swiper-slide-index="'+b.realIndex+'"]').eq(0).index(),h=c.slides.eq(f).nextAll('[data-swiper-slide-index="'+b.realIndex+'"]').eq(0).index();e=void 0===g?h:void 0===h?g:h-f==f-g?f:f-g>h-f?h:g}else e=b.realIndex;c.visibleSlidesIndexes.indexOf(e)<0&&(c.params.centeredSlides?e=e>f?e-Math.floor(d/2)+1:e+Math.floor(d/2)-1:e>f&&(e=e-d+1),c.slideTo(e,a?0:void 0))}var i=1,j=b.params.thumbs.slideThumbActiveClass;if(1<b.params.slidesPerView&&!b.params.centeredSlides&&(i=b.params.slidesPerView),c.slides.removeClass(j),c.params.loop)for(var k=0;i>k;k+=1)c.$wrapperEl.children('[data-swiper-slide-index="'+(b.realIndex+k)+'"]').addClass(j);else for(var l=0;i>l;l+=1)c.slides.eq(b.realIndex+l).addClass(j)}}},da=[E,F,G,H,J,L,N,{name:"mousewheel",params:{mousewheel:{enabled:!1,releaseOnEdges:!1,invert:!1,forceToAxis:!1,sensitivity:1,eventsTarged:"container"}},create:function(){var a=this;k.extend(a,{mousewheel:{enabled:!1,enable:O.enable.bind(a),disable:O.disable.bind(a),handle:O.handle.bind(a),handleMouseEnter:O.handleMouseEnter.bind(a),handleMouseLeave:O.handleMouseLeave.bind(a),lastScrollTime:k.now()}})},on:{init:function(){this.params.mousewheel.enabled&&this.mousewheel.enable()},destroy:function(){this.mousewheel.enabled&&this.mousewheel.disable()}}},{name:"navigation",params:{navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}},create:function(){var a=this;k.extend(a,{navigation:{init:P.init.bind(a),update:P.update.bind(a),destroy:P.destroy.bind(a),onNextClick:P.onNextClick.bind(a),onPrevClick:P.onPrevClick.bind(a)}})},on:{init:function(){this.navigation.init(),this.navigation.update()},toEdge:function(){this.navigation.update()},fromEdge:function(){this.navigation.update()},destroy:function(){this.navigation.destroy()},click:function(b){var c=this.navigation,d=c.$nextEl,e=c.$prevEl;!this.params.navigation.hideOnClick||a(b.target).is(e)||a(b.target).is(d)||(d&&d.toggleClass(this.params.navigation.hiddenClass),e&&e.toggleClass(this.params.navigation.hiddenClass))}}},{name:"pagination",params:{pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:function(a){return a},formatFractionTotal:function(a){return a},bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active",modifierClass:"swiper-pagination-",currentClass:"swiper-pagination-current",totalClass:"swiper-pagination-total",hiddenClass:"swiper-pagination-hidden",progressbarFillClass:"swiper-pagination-progressbar-fill",progressbarOppositeClass:"swiper-pagination-progressbar-opposite",clickableClass:"swiper-pagination-clickable",lockClass:"swiper-pagination-lock"}},create:function(){var a=this;k.extend(a,{pagination:{init:Q.init.bind(a),render:Q.render.bind(a),update:Q.update.bind(a),destroy:Q.destroy.bind(a),dynamicBulletIndex:0}})},on:{init:function(){this.pagination.init(),this.pagination.render(),this.pagination.update()},activeIndexChange:function(){this.params.loop?this.pagination.update():void 0===this.snapIndex&&this.pagination.update()},snapIndexChange:function(){this.params.loop||this.pagination.update()},slidesLengthChange:function(){this.params.loop&&(this.pagination.render(),this.pagination.update())},snapGridLengthChange:function(){this.params.loop||(this.pagination.render(),this.pagination.update())},destroy:function(){this.pagination.destroy()},click:function(b){var c=this;c.params.pagination.el&&c.params.pagination.hideOnClick&&0<c.pagination.$el.length&&!a(b.target).hasClass(c.params.pagination.bulletClass)&&c.pagination.$el.toggleClass(c.params.pagination.hiddenClass)}}},{name:"scrollbar",params:{scrollbar:{el:null,dragSize:"auto",hide:!1,draggable:!1,snapOnRelease:!0,lockClass:"swiper-scrollbar-lock",dragClass:"swiper-scrollbar-drag"}},create:function(){var a=this;k.extend(a,{scrollbar:{init:R.init.bind(a),destroy:R.destroy.bind(a),updateSize:R.updateSize.bind(a),setTranslate:R.setTranslate.bind(a),setTransition:R.setTransition.bind(a),enableDraggable:R.enableDraggable.bind(a),disableDraggable:R.disableDraggable.bind(a),setDragPosition:R.setDragPosition.bind(a),onDragStart:R.onDragStart.bind(a),onDragMove:R.onDragMove.bind(a),onDragEnd:R.onDragEnd.bind(a),isTouched:!1,timeout:null,dragTimeout:null}})},on:{init:function(){this.scrollbar.init(),this.scrollbar.updateSize(),this.scrollbar.setTranslate()},update:function(){this.scrollbar.updateSize()},resize:function(){this.scrollbar.updateSize()},observerUpdate:function(){this.scrollbar.updateSize()},setTranslate:function(){this.scrollbar.setTranslate()},setTransition:function(a){this.scrollbar.setTransition(a)},destroy:function(){this.scrollbar.destroy()}}},{name:"parallax",params:{parallax:{enabled:!1}},create:function(){k.extend(this,{parallax:{setTransform:S.setTransform.bind(this),setTranslate:S.setTranslate.bind(this),setTransition:S.setTransition.bind(this)}})},on:{beforeInit:function(){this.params.parallax.enabled&&(this.params.watchSlidesProgress=!0,this.originalParams.watchSlidesProgress=!0)},init:function(){this.params.parallax&&this.parallax.setTranslate()},setTranslate:function(){this.params.parallax&&this.parallax.setTranslate()},setTransition:function(a){this.params.parallax&&this.parallax.setTransition(a)}}},{name:"zoom",params:{zoom:{enabled:!1,maxRatio:3,minRatio:1,toggle:!0,containerClass:"swiper-zoom-container",zoomedSlideClass:"swiper-slide-zoomed"}},create:function(){var a=this,b={enabled:!1,scale:1,currentScale:1,isScaling:!1,gesture:{$slideEl:void 0,slideWidth:void 0,slideHeight:void 0,$imageEl:void 0,$imageWrapEl:void 0,maxRatio:3},image:{isTouched:void 0,isMoved:void 0,currentX:void 0,currentY:void 0,minX:void 0,minY:void 0,maxX:void 0,maxY:void 0,width:void 0,height:void 0,startX:void 0,startY:void 0,touchesStart:{},touchesCurrent:{}},velocity:{x:void 0,y:void 0,prevPositionX:void 0,prevPositionY:void 0,prevTime:void 0}};"onGestureStart onGestureChange onGestureEnd onTouchStart onTouchMove onTouchEnd onTransitionEnd toggle enable disable in out".split(" ").forEach(function(c){b[c]=T[c].bind(a)}),k.extend(a,{zoom:b})},on:{init:function(){this.params.zoom.enabled&&this.zoom.enable()},destroy:function(){this.zoom.disable()},touchStart:function(a){this.zoom.enabled&&this.zoom.onTouchStart(a)},touchEnd:function(a){this.zoom.enabled&&this.zoom.onTouchEnd(a)},doubleTap:function(a){this.params.zoom.enabled&&this.zoom.enabled&&this.params.zoom.toggle&&this.zoom.toggle(a)},transitionEnd:function(){this.zoom.enabled&&this.params.zoom.enabled&&this.zoom.onTransitionEnd()}}},{name:"lazy",params:{lazy:{enabled:!1,loadPrevNext:!1,loadPrevNextAmount:1,loadOnTransitionStart:!1,elementClass:"swiper-lazy",loadingClass:"swiper-lazy-loading",loadedClass:"swiper-lazy-loaded",preloaderClass:"swiper-lazy-preloader"}},create:function(){k.extend(this,{lazy:{initialImageLoaded:!1,load:U.load.bind(this),loadInSlide:U.loadInSlide.bind(this)}})},on:{beforeInit:function(){this.params.lazy.enabled&&this.params.preloadImages&&(this.params.preloadImages=!1)},init:function(){this.params.lazy.enabled&&!this.params.loop&&0===this.params.initialSlide&&this.lazy.load()},scroll:function(){this.params.freeMode&&!this.params.freeModeSticky&&this.lazy.load()},resize:function(){this.params.lazy.enabled&&this.lazy.load()},scrollbarDragMove:function(){this.params.lazy.enabled&&this.lazy.load()},transitionStart:function(){var a=this;a.params.lazy.enabled&&(a.params.lazy.loadOnTransitionStart||!a.params.lazy.loadOnTransitionStart&&!a.lazy.initialImageLoaded)&&a.lazy.load()},transitionEnd:function(){this.params.lazy.enabled&&!this.params.lazy.loadOnTransitionStart&&this.lazy.load()}}},{name:"controller",params:{controller:{control:void 0,inverse:!1,by:"slide"}},create:function(){var a=this;k.extend(a,{controller:{control:a.params.controller.control,getInterpolateFunction:V.getInterpolateFunction.bind(a),setTranslate:V.setTranslate.bind(a),setTransition:V.setTransition.bind(a)}})},on:{update:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},resize:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},observerUpdate:function(){this.controller.control&&this.controller.spline&&(this.controller.spline=void 0,delete this.controller.spline)},setTranslate:function(a,b){this.controller.control&&this.controller.setTranslate(a,b)},setTransition:function(a,b){this.controller.control&&this.controller.setTransition(a,b)}}},{name:"a11y",params:{a11y:{enabled:!0,notificationClass:"swiper-notification",prevSlideMessage:"Previous slide",nextSlideMessage:"Next slide",firstSlideMessage:"This is the first slide",lastSlideMessage:"This is the last slide",paginationBulletMessage:"Go to slide {{index}}"}},create:function(){var b=this;k.extend(b,{a11y:{liveRegion:a('<span class="'+b.params.a11y.notificationClass+'" aria-live="assertive" aria-atomic="true"></span>')}}),Object.keys(W).forEach(function(a){b.a11y[a]=W[a].bind(b)})},on:{init:function(){this.params.a11y.enabled&&(this.a11y.init(),this.a11y.updateNavigation())},toEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},fromEdge:function(){this.params.a11y.enabled&&this.a11y.updateNavigation()},paginationUpdate:function(){this.params.a11y.enabled&&this.a11y.updatePagination()},destroy:function(){this.params.a11y.enabled&&this.a11y.destroy()}}},{name:"history",params:{history:{enabled:!1,replaceState:!1,key:"slides"}},create:function(){var a=this;k.extend(a,{history:{init:X.init.bind(a),setHistory:X.setHistory.bind(a),setHistoryPopState:X.setHistoryPopState.bind(a),scrollToSlide:X.scrollToSlide.bind(a),destroy:X.destroy.bind(a)}})},on:{init:function(){this.params.history.enabled&&this.history.init()},destroy:function(){this.params.history.enabled&&this.history.destroy()},transitionEnd:function(){this.history.initialized&&this.history.setHistory(this.params.history.key,this.activeIndex)}}},{name:"hash-navigation",params:{hashNavigation:{enabled:!1,replaceState:!1,watchState:!1}},create:function(){var a=this;k.extend(a,{hashNavigation:{initialized:!1,init:Y.init.bind(a),destroy:Y.destroy.bind(a),setHash:Y.setHash.bind(a),onHashCange:Y.onHashCange.bind(a)}})},on:{init:function(){this.params.hashNavigation.enabled&&this.hashNavigation.init()},destroy:function(){this.params.hashNavigation.enabled&&this.hashNavigation.destroy()},transitionEnd:function(){this.hashNavigation.initialized&&this.hashNavigation.setHash()}}},{name:"autoplay",params:{autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1}},create:function(){var a=this;k.extend(a,{autoplay:{running:!1,paused:!1,run:Z.run.bind(a),start:Z.start.bind(a),stop:Z.stop.bind(a),pause:Z.pause.bind(a),onTransitionEnd:function(b){a&&!a.destroyed&&a.$wrapperEl&&b.target===this&&(a.$wrapperEl[0].removeEventListener("transitionend",a.autoplay.onTransitionEnd),a.$wrapperEl[0].removeEventListener("webkitTransitionEnd",a.autoplay.onTransitionEnd),a.autoplay.paused=!1,a.autoplay.running?a.autoplay.run():a.autoplay.stop())}}})},on:{init:function(){this.params.autoplay.enabled&&this.autoplay.start()},beforeTransitionStart:function(a,b){this.autoplay.running&&(b||!this.params.autoplay.disableOnInteraction?this.autoplay.pause(a):this.autoplay.stop())},sliderFirstMove:function(){this.autoplay.running&&(this.params.autoplay.disableOnInteraction?this.autoplay.stop():this.autoplay.pause())},destroy:function(){this.autoplay.running&&this.autoplay.stop()}}},{name:"effect-fade",params:{fadeEffect:{crossFade:!1}},create:function(){k.extend(this,{fadeEffect:{setTranslate:$.setTranslate.bind(this),setTransition:$.setTransition.bind(this)}})},on:{beforeInit:function(){var a=this;if("fade"===a.params.effect){a.classNames.push(a.params.containerModifierClass+"fade");var b={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};k.extend(a.params,b),k.extend(a.originalParams,b)}},setTranslate:function(){"fade"===this.params.effect&&this.fadeEffect.setTranslate()},setTransition:function(a){"fade"===this.params.effect&&this.fadeEffect.setTransition(a)}}},{name:"effect-cube",params:{cubeEffect:{slideShadows:!0,shadow:!0,shadowOffset:20,shadowScale:.94}},create:function(){k.extend(this,{cubeEffect:{setTranslate:_.setTranslate.bind(this),setTransition:_.setTransition.bind(this)}})},on:{beforeInit:function(){var a=this;if("cube"===a.params.effect){a.classNames.push(a.params.containerModifierClass+"cube"),a.classNames.push(a.params.containerModifierClass+"3d");var b={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,resistanceRatio:0,spaceBetween:0,centeredSlides:!1,virtualTranslate:!0};k.extend(a.params,b),k.extend(a.originalParams,b)}},setTranslate:function(){"cube"===this.params.effect&&this.cubeEffect.setTranslate()},setTransition:function(a){"cube"===this.params.effect&&this.cubeEffect.setTransition(a)}}},{name:"effect-flip",params:{flipEffect:{slideShadows:!0,limitRotation:!0}},create:function(){k.extend(this,{flipEffect:{setTranslate:aa.setTranslate.bind(this),setTransition:aa.setTransition.bind(this)}})},on:{beforeInit:function(){var a=this;if("flip"===a.params.effect){a.classNames.push(a.params.containerModifierClass+"flip"),a.classNames.push(a.params.containerModifierClass+"3d");var b={slidesPerView:1,slidesPerColumn:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!0};k.extend(a.params,b),k.extend(a.originalParams,b)}},setTranslate:function(){"flip"===this.params.effect&&this.flipEffect.setTranslate()},setTransition:function(a){"flip"===this.params.effect&&this.flipEffect.setTransition(a)}}},{name:"effect-coverflow",params:{coverflowEffect:{rotate:50,stretch:0,depth:100,modifier:1,slideShadows:!0}},create:function(){k.extend(this,{coverflowEffect:{setTranslate:ba.setTranslate.bind(this),setTransition:ba.setTransition.bind(this)}})},on:{beforeInit:function(){var a=this;"coverflow"===a.params.effect&&(a.classNames.push(a.params.containerModifierClass+"coverflow"),a.classNames.push(a.params.containerModifierClass+"3d"),a.params.watchSlidesProgress=!0,a.originalParams.watchSlidesProgress=!0)},setTranslate:function(){"coverflow"===this.params.effect&&this.coverflowEffect.setTranslate()},setTransition:function(a){"coverflow"===this.params.effect&&this.coverflowEffect.setTransition(a)}}},{name:"thumbs",params:{thumbs:{swiper:null,slideThumbActiveClass:"swiper-slide-thumb-active",thumbsContainerClass:"swiper-container-thumbs"}},create:function(){k.extend(this,{thumbs:{swiper:null,init:ca.init.bind(this),update:ca.update.bind(this),onThumbClick:ca.onThumbClick.bind(this)}})},on:{beforeInit:function(){var a=this.params.thumbs;a&&a.swiper&&(this.thumbs.init(),this.thumbs.update(!0))},slideChange:function(){this.thumbs.swiper&&this.thumbs.update()},update:function(){this.thumbs.swiper&&this.thumbs.update()},resize:function(){this.thumbs.swiper&&this.thumbs.update()},observerUpdate:function(){this.thumbs.swiper&&this.thumbs.update()},setTransition:function(a){var b=this.thumbs.swiper;b&&b.setTransition(a)},beforeDestroy:function(){var a=this.thumbs.swiper;a&&this.thumbs.swiperCreated&&a&&a.destroy()}}}];return void 0===D.use&&(D.use=D.Class.use,D.installModule=D.Class.installModule),D.use(da),D}),function(a){function b(a){if(a in l.style)return a;var b=["Moz","Webkit","O","ms"],c=a.charAt(0).toUpperCase()+a.substr(1);if(a in l.style)return a;for(var d=0;d<b.length;++d){var e=b[d]+c;if(e in l.style)return e}}function c(){return l.style[m.transform]="",l.style[m.transform]="rotateY(90deg)",""!==l.style[m.transform]}function d(a){return"string"==typeof a&&this.parse(a),this}function e(a,b,c){b===!0?a.queue(c):b?a.queue(b,c):c()}function f(b){var c=[];return a.each(b,function(b){b=a.camelCase(b),b=a.transit.propertyMap[b]||a.cssProps[b]||b,b=i(b),m[b]&&(b=i(m[b])),-1===a.inArray(b,c)&&c.push(b)}),c}function g(b,c,d,e){var g=f(b);a.cssEase[d]&&(d=a.cssEase[d]);var h=""+k(c)+" "+d;parseInt(e,10)>0&&(h+=" "+k(e));var i=[];return a.each(g,function(a,b){i.push(b+" "+h)}),i.join(", ")}function h(b,c){c||(a.cssNumber[b]=!0),a.transit.propertyMap[b]=m.transform,a.cssHooks[b]={get:function(c){var d=a(c).css("transit:transform");return d.get(b)},set:function(c,d){var e=a(c).css("transit:transform");e.setFromString(b,d),a(c).css({"transit:transform":e})}}}function i(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function j(a,b){return"string"!=typeof a||a.match(/^[\-0-9\.]+$/)?""+a+b:a}function k(b){var c=b;return"string"!=typeof c||c.match(/^[\-0-9\.]+/)||(c=a.fx.speeds[c]||a.fx.speeds._default),j(c,"ms")}a.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var l=document.createElement("div"),m={},n=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;m.transition=b("transition"),m.transitionDelay=b("transitionDelay"),m.transform=b("transform"),m.transformOrigin=b("transformOrigin"),m.filter=b("Filter"),m.transform3d=c();var o={transition:"transitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},p=m.transitionEnd=o[m.transition]||null;for(var q in m)m.hasOwnProperty(q)&&"undefined"==typeof a.support[q]&&(a.support[q]=m[q]);l=null,a.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},a.cssHooks["transit:transform"]={get:function(b){return a(b).data("transform")||new d},set:function(b,c){var e=c;e instanceof d||(e=new d(e)),"WebkitTransform"!==m.transform||n?b.style[m.transform]=e.toString():b.style[m.transform]=e.toString(!0),a(b).data("transform",e)}},a.cssHooks.transform={set:a.cssHooks["transit:transform"].set},a.cssHooks.filter={get:function(a){return a.style[m.filter]},set:function(a,b){a.style[m.filter]=b}},a.fn.jquery<"1.8"&&(a.cssHooks.transformOrigin={get:function(a){return a.style[m.transformOrigin]},set:function(a,b){a.style[m.transformOrigin]=b}},a.cssHooks.transition={get:function(a){return a.style[m.transition]},set:function(a,b){a.style[m.transition]=b}}),h("scale"),h("translate"),h("rotate"),h("rotateX"),h("rotateY"),h("rotate3d"),h("perspective"),h("skewX"),h("skewY"),h("x",!0),h("y",!0),d.prototype={setFromString:function(a,b){var c="string"==typeof b?b.split(","):b.constructor===Array?b:[b];c.unshift(a),d.prototype.set.apply(this,c)},set:function(a){var b=Array.prototype.slice.apply(arguments,[1]);this.setter[a]?this.setter[a].apply(this,b):this[a]=b.join(",")},get:function(a){return this.getter[a]?this.getter[a].apply(this):this[a]||0},setter:{rotate:function(a){this.rotate=j(a,"deg")},rotateX:function(a){this.rotateX=j(a,"deg")},rotateY:function(a){this.rotateY=j(a,"deg")},scale:function(a,b){void 0===b&&(b=a),this.scale=a+","+b},skewX:function(a){this.skewX=j(a,"deg")},skewY:function(a){this.skewY=j(a,"deg")},perspective:function(a){this.perspective=j(a,"px")},x:function(a){this.set("translate",a,null)},y:function(a){this.set("translate",null,a)},translate:function(a,b){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==a&&void 0!==a&&(this._translateX=j(a,"px")),null!==b&&void 0!==b&&(this._translateY=j(b,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var a=(this.scale||"1,1").split(",");return a[0]&&(a[0]=parseFloat(a[0])),a[1]&&(a[1]=parseFloat(a[1])),a[0]===a[1]?a[0]:a},rotate3d:function(){for(var a=(this.rotate3d||"0,0,0,0deg").split(","),b=0;3>=b;++b)a[b]&&(a[b]=parseFloat(a[b]));return a[3]&&(a[3]=j(a[3],"deg")),a}},parse:function(a){var b=this;a.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(a,c,d){b.setFromString(c,d)})},toString:function(a){var b=[];for(var c in this)if(this.hasOwnProperty(c)){if(!m.transform3d&&("rotateX"===c||"rotateY"===c||"perspective"===c||"transformOrigin"===c))continue;"_"!==c[0]&&(a&&"scale"===c?b.push(c+"3d("+this[c]+",1)"):a&&"translate"===c?b.push(c+"3d("+this[c]+",0)"):b.push(c+"("+this[c]+")"))}return b.join(" ")}},a.fn.transition=a.fn.transit=function(b,c,d,f){var h=this,i=0,j=!0,l=jQuery.extend(!0,{},b);"function"==typeof c&&(f=c,c=void 0),"object"==typeof c&&(d=c.easing,i=c.delay||0,j=c.queue||!0,f=c.complete,c=c.duration),"function"==typeof d&&(f=d,d=void 0),"undefined"!=typeof l.easing&&(d=l.easing,delete l.easing),"undefined"!=typeof l.duration&&(c=l.duration,delete l.duration),"undefined"!=typeof l.complete&&(f=l.complete,delete l.complete),"undefined"!=typeof l.queue&&(j=l.queue,delete l.queue),"undefined"!=typeof l.delay&&(i=l.delay,delete l.delay),"undefined"==typeof c&&(c=a.fx.speeds._default),"undefined"==typeof d&&(d=a.cssEase._default),c=k(c);var n=g(l,c,d,i),o=a.transit.enabled&&m.transition,q=o?parseInt(c,10)+parseInt(i,10):0;if(0===q){var r=function(a){h.css(l),f&&f.apply(h),a&&a()};return e(h,j,r),h}var s={},t=function(c){var d=!1,e=function(){d&&h.unbind(p,e),q>0&&h.each(function(){this.style[m.transition]=s[this]||null}),"function"==typeof f&&f.apply(h),"function"==typeof c&&c()};q>0&&p&&a.transit.useTransitionEnd?(d=!0,h.bind(p,e)):window.setTimeout(e,q),h.each(function(){q>0&&(this.style[m.transition]=n),a(this).css(b)})},u=function(a){this.offsetWidth,t(a)};return e(h,j,u),this},a.transit.getTransitionValue=g}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){var b="waitForImages";a.waitForImages={hasImageProperties:["backgroundImage","listStyleImage","borderImage","borderCornerImage","cursor"],hasImageAttributes:["srcset"]},a.expr[":"].uncached=function(b){return a(b).is('img[src][src!=""]')?!b.complete:!1},a.fn.waitForImages=function(){var c,d,e,f=0,g=0,h=a.Deferred();if(a.isPlainObject(arguments[0])?(e=arguments[0].waitForAll,d=arguments[0].each,c=arguments[0].finished):1===arguments.length&&"boolean"===a.type(arguments[0])?e=arguments[0]:(c=arguments[0],d=arguments[1],e=arguments[2]),c=c||a.noop,d=d||a.noop,e=!!e,!a.isFunction(c)||!a.isFunction(d))throw new TypeError("An invalid callback was supplied.");return this.each(function(){var i=a(this),j=[],k=a.waitForImages.hasImageProperties||[],l=a.waitForImages.hasImageAttributes||[],m=/url\(\s*(['"]?)(.*?)\1\s*\)/g;e?i.find("*").addBack().each(function(){var b=a(this);b.is("img:uncached")&&j.push({src:b.attr("src"),element:b[0]}),a.each(k,function(a,c){var d,e=b.css(c);if(!e)return!0;for(;d=m.exec(e);)j.push({src:d[2],element:b[0]})}),a.each(l,function(c,d){var e,f=b.attr(d);return f?(e=f.split(","),void a.each(e,function(c,d){d=a.trim(d).split(" ")[0],j.push({src:d,element:b[0]})})):!0})}):i.find("img:uncached").each(function(){j.push({src:this.src,element:this})}),f=j.length,g=0,0===f&&(c.call(i[0]),h.resolveWith(i[0])),a.each(j,function(e,j){var k=new Image,l="load."+b+" error."+b;a(k).one(l,function m(b){var e=[g,f,"load"==b.type];return g++,d.apply(j.element,e),h.notifyWith(j.element,e),a(this).off(l,m),g==f?(c.call(i[0]),h.resolveWith(i[0]),!1):void 0}),k.src=j.src})}),h.promise()}}),!function(a,b){var c={},d={};!function(a,b){function c(a){if("number"==typeof a)return a;var b={};for(var c in a)b[c]=a[c];return b}function d(){this._delay=0,this._endDelay=0,this._fill="none",this._iterationStart=0,this._iterations=1,this._duration=0,this._playbackRate=1,this._direction="normal",this._easing="linear",this._easingFunction=x}function e(){return a.isDeprecated("Invalid timing inputs","2016-03-02","TypeError exceptions will be thrown instead.",!0)}function f(b,c,e){var f=new d;return c&&(f.fill="both",f.duration="auto"),"number"!=typeof b||isNaN(b)?void 0!==b&&Object.getOwnPropertyNames(b).forEach(function(c){if("auto"!=b[c]){if(("number"==typeof f[c]||"duration"==c)&&("number"!=typeof b[c]||isNaN(b[c])))return;if("fill"==c&&-1==v.indexOf(b[c]))return;if("direction"==c&&-1==w.indexOf(b[c]))return;if("playbackRate"==c&&1!==b[c]&&a.isDeprecated("AnimationEffectTiming.playbackRate","2014-11-28","Use Animation.playbackRate instead."))return;f[c]=b[c]}}):f.duration=b,f}function g(a){return"number"==typeof a&&(a=isNaN(a)?{duration:0}:{duration:a}),a}function h(b,c){return b=a.numericTimingToObject(b),f(b,c)}function i(a,b,c,d){return 0>a||a>1||0>c||c>1?x:function(e){function f(a,b,c){return 3*a*(1-c)*(1-c)*c+3*b*(1-c)*c*c+c*c*c}if(0>=e){var g=0;return a>0?g=b/a:!b&&c>0&&(g=d/c),g*e}if(e>=1){var h=0;return 1>c?h=(d-1)/(c-1):1==c&&1>a&&(h=(b-1)/(a-1)),1+h*(e-1)}for(var i=0,j=1;j>i;){var k=(i+j)/2,l=f(a,c,k);if(Math.abs(e-l)<1e-5)return f(b,d,k);e>l?i=k:j=k}return f(b,d,k)}}function j(a,b){return function(c){if(c>=1)return 1;var d=1/a;return(c+=b*d)-c%d}}function k(a){C||(C=document.createElement("div").style),C.animationTimingFunction="",C.animationTimingFunction=a;var b=C.animationTimingFunction;if(""==b&&e())throw new TypeError(a+" is not a valid value for easing");return b}function l(a){if("linear"==a)return x;var b=E.exec(a);if(b)return i.apply(this,b.slice(1).map(Number));var c=F.exec(a);return c?j(Number(c[1]),{start:y,middle:z,end:A}[c[2]]):B[a]||x}function m(a){return Math.abs(n(a)/a.playbackRate)}function n(a){return 0===a.duration||0===a.iterations?0:a.duration*a.iterations}function o(a,b,c){if(null==b)return G;var d=c.delay+a+c.endDelay;return b<Math.min(c.delay,d)?H:b>=Math.min(c.delay+a,d)?I:J}function p(a,b,c,d,e){switch(d){case H:return"backwards"==b||"both"==b?0:null;case J:return c-e;case I:return"forwards"==b||"both"==b?a:null;case G:return null}}function q(a,b,c,d,e){var f=e;return 0===a?b!==H&&(f+=c):f+=d/a,f}function r(a,b,c,d,e,f){var g=a===1/0?b%1:a%1;return 0!==g||c!==I||0===d||0===e&&0!==f||(g=1),g}function s(a,b,c,d){return a===I&&b===1/0?1/0:1===c?Math.floor(d)-1:Math.floor(d)}function t(a,b,c){var d=a;if("normal"!==a&&"reverse"!==a){var e=b;"alternate-reverse"===a&&(e+=1),d="normal",e!==1/0&&e%2!=0&&(d="reverse")}return"normal"===d?c:1-c}function u(a,b,c){var d=o(a,b,c),e=p(a,c.fill,b,d,c.delay);if(null===e)return null;var f=q(c.duration,d,c.iterations,e,c.iterationStart),g=r(f,c.iterationStart,d,c.iterations,e,c.duration),h=s(d,c.iterations,g,f),i=t(c.direction,h,g);return c._easingFunction(i)}var v="backwards|forwards|both|none".split("|"),w="reverse|alternate|alternate-reverse".split("|"),x=function(a){return a};d.prototype={_setMember:function(b,c){this["_"+b]=c,this._effect&&(this._effect._timingInput[b]=c,this._effect._timing=a.normalizeTimingInput(this._effect._timingInput),this._effect.activeDuration=a.calculateActiveDuration(this._effect._timing),this._effect._animation&&this._effect._animation._rebuildUnderlyingAnimation())},get playbackRate(){return this._playbackRate},set delay(a){this._setMember("delay",a)},get delay(){return this._delay},set endDelay(a){this._setMember("endDelay",a)},get endDelay(){return this._endDelay},set fill(a){this._setMember("fill",a)},get fill(){return this._fill},set iterationStart(a){if((isNaN(a)||0>a)&&e())throw new TypeError("iterationStart must be a non-negative number, received: "+timing.iterationStart);this._setMember("iterationStart",a)},get iterationStart(){return this._iterationStart},set duration(a){if("auto"!=a&&(isNaN(a)||0>a)&&e())throw new TypeError("duration must be non-negative or auto, received: "+a);this._setMember("duration",a)},get duration(){return this._duration},set direction(a){this._setMember("direction",a)},get direction(){return this._direction},set easing(a){this._easingFunction=l(k(a)),this._setMember("easing",a)},get easing(){return this._easing},set iterations(a){if((isNaN(a)||0>a)&&e())throw new TypeError("iterations must be non-negative, received: "+a);this._setMember("iterations",a)},get iterations(){return this._iterations}};var y=1,z=.5,A=0,B={ease:i(.25,.1,.25,1),"ease-in":i(.42,0,1,1),"ease-out":i(0,0,.58,1),"ease-in-out":i(.42,0,.58,1),"step-start":j(1,y),"step-middle":j(1,z),"step-end":j(1,A)},C=null,D="\\s*(-?\\d+\\.?\\d*|-?\\.\\d+)\\s*",E=new RegExp("cubic-bezier\\("+D+","+D+","+D+","+D+"\\)"),F=/steps\(\s*(\d+)\s*,\s*(start|middle|end)\s*\)/,G=0,H=1,I=2,J=3;a.cloneTimingInput=c,a.makeTiming=f,a.numericTimingToObject=g,a.normalizeTimingInput=h,a.calculateActiveDuration=m,a.calculateIterationProgress=u,a.calculatePhase=o,a.normalizeEasing=k,a.parseEasingFunction=l}(c),function(a,b){function c(a,b){return a in k?k[a][b]||b:b}function d(a){return"display"===a||0===a.lastIndexOf("animation",0)||0===a.lastIndexOf("transition",0);
}function e(a,b,e){if(!d(a)){var f=h[a];if(f){i.style[a]=b;for(var g in f){var j=f[g],k=i.style[j];e[j]=c(j,k)}}else e[a]=c(a,b)}}function f(a){var b=[];for(var c in a)if(!(c in["easing","offset","composite"])){var d=a[c];Array.isArray(d)||(d=[d]);for(var e,f=d.length,g=0;f>g;g++)e={},e.offset="offset"in a?a.offset:1==f?1:g/(f-1),"easing"in a&&(e.easing=a.easing),"composite"in a&&(e.composite=a.composite),e[c]=d[g],b.push(e)}return b.sort(function(a,b){return a.offset-b.offset}),b}function g(b){function c(){var a=d.length;null==d[a-1].offset&&(d[a-1].offset=1),a>1&&null==d[0].offset&&(d[0].offset=0);for(var b=0,c=d[0].offset,e=1;a>e;e++){var f=d[e].offset;if(null!=f){for(var g=1;e-b>g;g++)d[b+g].offset=c+(f-c)*g/(e-b);b=e,c=f}}}if(null==b)return[];window.Symbol&&Symbol.iterator&&Array.prototype.from&&b[Symbol.iterator]&&(b=Array.from(b)),Array.isArray(b)||(b=f(b));for(var d=b.map(function(b){var c={};for(var d in b){var f=b[d];if("offset"==d){if(null!=f){if(f=Number(f),!isFinite(f))throw new TypeError("Keyframe offsets must be numbers.");if(0>f||f>1)throw new TypeError("Keyframe offsets must be between 0 and 1.")}}else if("composite"==d){if("add"==f||"accumulate"==f)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"add compositing is not supported"};if("replace"!=f)throw new TypeError("Invalid composite mode "+f+".")}else f="easing"==d?a.normalizeEasing(f):""+f;e(d,f,c)}return void 0==c.offset&&(c.offset=null),void 0==c.easing&&(c.easing="linear"),c}),g=!0,h=-1/0,i=0;i<d.length;i++){var j=d[i].offset;if(null!=j){if(h>j)throw new TypeError("Keyframes are not loosely sorted by offset. Sort or specify offsets.");h=j}else g=!1}return d=d.filter(function(a){return a.offset>=0&&a.offset<=1}),g||c(),d}var h={background:["backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","backgroundAttachment","backgroundOrigin","backgroundClip","backgroundColor"],border:["borderTopColor","borderTopStyle","borderTopWidth","borderRightColor","borderRightStyle","borderRightWidth","borderBottomColor","borderBottomStyle","borderBottomWidth","borderLeftColor","borderLeftStyle","borderLeftWidth"],borderBottom:["borderBottomWidth","borderBottomStyle","borderBottomColor"],borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderLeft:["borderLeftWidth","borderLeftStyle","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderRight:["borderRightWidth","borderRightStyle","borderRightColor"],borderTop:["borderTopWidth","borderTopStyle","borderTopColor"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],flex:["flexGrow","flexShrink","flexBasis"],font:["fontFamily","fontSize","fontStyle","fontVariant","fontWeight","lineHeight"],margin:["marginTop","marginRight","marginBottom","marginLeft"],outline:["outlineColor","outlineStyle","outlineWidth"],padding:["paddingTop","paddingRight","paddingBottom","paddingLeft"]},i=document.createElementNS("http://www.w3.org/1999/xhtml","div"),j={thin:"1px",medium:"3px",thick:"5px"},k={borderBottomWidth:j,borderLeftWidth:j,borderRightWidth:j,borderTopWidth:j,fontSize:{"xx-small":"60%","x-small":"75%",small:"89%",medium:"100%",large:"120%","x-large":"150%","xx-large":"200%"},fontWeight:{normal:"400",bold:"700"},outlineWidth:j,textShadow:{none:"0px 0px 0px transparent"},boxShadow:{none:"0px 0px 0px 0px transparent"}};a.convertToArrayForm=f,a.normalizeKeyframes=g}(c),function(a){var b={};a.isDeprecated=function(a,c,d,e){var f=e?"are":"is",g=new Date,h=new Date(c);return h.setMonth(h.getMonth()+3),!(h>g&&(a in b||console.warn("Web Animations: "+a+" "+f+" deprecated and will stop working on "+h.toDateString()+". "+d),b[a]=!0,1))},a.deprecated=function(b,c,d,e){var f=e?"are":"is";if(a.isDeprecated(b,c,d,e))throw new Error(b+" "+f+" no longer supported. "+d)}}(c),function(){if(document.documentElement.animate){var a=document.documentElement.animate([],0),b=!0;if(a&&(b=!1,"play|currentTime|pause|reverse|playbackRate|cancel|finish|startTime|playState".split("|").forEach(function(c){void 0===a[c]&&(b=!0)})),!b)return}!function(a,b,c){function d(a){for(var b={},c=0;c<a.length;c++)for(var d in a[c])if("offset"!=d&&"easing"!=d&&"composite"!=d){var e={offset:a[c].offset,easing:a[c].easing,value:a[c][d]};b[d]=b[d]||[],b[d].push(e)}for(var f in b){var g=b[f];if(0!=g[0].offset||1!=g[g.length-1].offset)throw{type:DOMException.NOT_SUPPORTED_ERR,name:"NotSupportedError",message:"Partial keyframes are not supported"}}return b}function e(c){var d=[];for(var e in c)for(var f=c[e],g=0;g<f.length-1;g++){var h=g,i=g+1,j=f[h].offset,k=f[i].offset,l=j,m=k;0==g&&(l=-1/0,0==k&&(i=h)),g==f.length-2&&(m=1/0,1==j&&(h=i)),d.push({applyFrom:l,applyTo:m,startOffset:f[h].offset,endOffset:f[i].offset,easingFunction:a.parseEasingFunction(f[h].easing),property:e,interpolation:b.propertyInterpolation(e,f[h].value,f[i].value)})}return d.sort(function(a,b){return a.startOffset-b.startOffset}),d}b.convertEffectInput=function(c){var f=a.normalizeKeyframes(c),g=d(f),h=e(g);return function(a,c){if(null!=c)h.filter(function(a){return c>=a.applyFrom&&c<a.applyTo}).forEach(function(d){var e=c-d.startOffset,f=d.endOffset-d.startOffset,g=0==f?0:d.easingFunction(e/f);b.apply(a,d.property,d.interpolation(g))});else for(var d in g)"offset"!=d&&"easing"!=d&&"composite"!=d&&b.clear(a,d)}}}(c,d),function(a,b,c){function d(a){return a.replace(/-(.)/g,function(a,b){return b.toUpperCase()})}function e(a,b,c){h[c]=h[c]||[],h[c].push([a,b])}function f(a,b,c){for(var f=0;f<c.length;f++)e(a,b,d(c[f]))}function g(c,e,f){var g=c;/-/.test(c)&&!a.isDeprecated("Hyphenated property names","2016-03-22","Use camelCase instead.",!0)&&(g=d(c)),"initial"!=e&&"initial"!=f||("initial"==e&&(e=i[g]),"initial"==f&&(f=i[g]));for(var j=e==f?[]:h[g],k=0;j&&k<j.length;k++){var l=j[k][0](e),m=j[k][0](f);if(void 0!==l&&void 0!==m){var n=j[k][1](l,m);if(n){var o=b.Interpolation.apply(null,n);return function(a){return 0==a?e:1==a?f:o(a)}}}}return b.Interpolation(!1,!0,function(a){return a?f:e})}var h={};b.addPropertiesHandler=f;var i={backgroundColor:"transparent",backgroundPosition:"0% 0%",borderBottomColor:"currentColor",borderBottomLeftRadius:"0px",borderBottomRightRadius:"0px",borderBottomWidth:"3px",borderLeftColor:"currentColor",borderLeftWidth:"3px",borderRightColor:"currentColor",borderRightWidth:"3px",borderSpacing:"2px",borderTopColor:"currentColor",borderTopLeftRadius:"0px",borderTopRightRadius:"0px",borderTopWidth:"3px",bottom:"auto",clip:"rect(0px, 0px, 0px, 0px)",color:"black",fontSize:"100%",fontWeight:"400",height:"auto",left:"auto",letterSpacing:"normal",lineHeight:"120%",marginBottom:"0px",marginLeft:"0px",marginRight:"0px",marginTop:"0px",maxHeight:"none",maxWidth:"none",minHeight:"0px",minWidth:"0px",opacity:"1.0",outlineColor:"invert",outlineOffset:"0px",outlineWidth:"3px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px",paddingTop:"0px",right:"auto",strokeDasharray:"none",strokeDashoffset:"0px",textIndent:"0px",textShadow:"0px 0px 0px transparent",top:"auto",transform:"",verticalAlign:"0px",visibility:"visible",width:"auto",wordSpacing:"normal",zIndex:"auto"};b.propertyInterpolation=g}(c,d),function(a,b,c){function d(b){var c=a.calculateActiveDuration(b),d=function(d){return a.calculateIterationProgress(c,d,b)};return d._totalDuration=b.delay+c+b.endDelay,d}b.KeyframeEffect=function(c,e,f,g){var h,i=d(a.normalizeTimingInput(f)),j=b.convertEffectInput(e),k=function(){j(c,h)};return k._update=function(a){return null!==(h=i(a))},k._clear=function(){j(c,null)},k._hasSameTarget=function(a){return c===a},k._target=c,k._totalDuration=i._totalDuration,k._id=g,k}}(c,d),function(a,b){function c(a,b){return!(!b.namespaceURI||-1==b.namespaceURI.indexOf("/svg"))&&(g in a||(a[g]=/Trident|MSIE|IEMobile|Edge|Android 4/i.test(a.navigator.userAgent)),a[g])}function d(a,b,c){c.enumerable=!0,c.configurable=!0,Object.defineProperty(a,b,c)}function e(a){this._element=a,this._surrogateStyle=document.createElementNS("http://www.w3.org/1999/xhtml","div").style,this._style=a.style,this._length=0,this._isAnimatedProperty={},this._updateSvgTransformAttr=c(window,a),this._savedTransformAttr=null;for(var b=0;b<this._style.length;b++){var d=this._style[b];this._surrogateStyle[d]=this._style[d]}this._updateIndices()}function f(a){if(!a._webAnimationsPatchedStyle){var b=new e(a);try{d(a,"style",{get:function(){return b}})}catch(b){a.style._set=function(b,c){a.style[b]=c},a.style._clear=function(b){a.style[b]=""}}a._webAnimationsPatchedStyle=a.style}}var g="_webAnimationsUpdateSvgTransformAttr",h={cssText:1,length:1,parentRule:1},i={getPropertyCSSValue:1,getPropertyPriority:1,getPropertyValue:1,item:1,removeProperty:1,setProperty:1},j={removeProperty:1,setProperty:1};e.prototype={get cssText(){return this._surrogateStyle.cssText},set cssText(a){for(var b={},c=0;c<this._surrogateStyle.length;c++)b[this._surrogateStyle[c]]=!0;this._surrogateStyle.cssText=a,this._updateIndices();for(var c=0;c<this._surrogateStyle.length;c++)b[this._surrogateStyle[c]]=!0;for(var d in b)this._isAnimatedProperty[d]||this._style.setProperty(d,this._surrogateStyle.getPropertyValue(d))},get length(){return this._surrogateStyle.length},get parentRule(){return this._style.parentRule},_updateIndices:function(){for(;this._length<this._surrogateStyle.length;)Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,get:function(a){return function(){return this._surrogateStyle[a]}}(this._length)}),this._length++;for(;this._length>this._surrogateStyle.length;)this._length--,Object.defineProperty(this,this._length,{configurable:!0,enumerable:!1,value:void 0})},_set:function(b,c){this._style[b]=c,this._isAnimatedProperty[b]=!0,this._updateSvgTransformAttr&&"transform"==a.unprefixedPropertyName(b)&&(null==this._savedTransformAttr&&(this._savedTransformAttr=this._element.getAttribute("transform")),this._element.setAttribute("transform",a.transformToSvgMatrix(c)))},_clear:function(b){this._style[b]=this._surrogateStyle[b],this._updateSvgTransformAttr&&"transform"==a.unprefixedPropertyName(b)&&(this._savedTransformAttr?this._element.setAttribute("transform",this._savedTransformAttr):this._element.removeAttribute("transform"),this._savedTransformAttr=null),delete this._isAnimatedProperty[b]}};for(var k in i)e.prototype[k]=function(a,b){return function(){var c=this._surrogateStyle[a].apply(this._surrogateStyle,arguments);return b&&(this._isAnimatedProperty[arguments[0]]||this._style[a].apply(this._style,arguments),this._updateIndices()),c}}(k,k in j);for(var l in document.documentElement.style)l in h||l in i||function(a){d(e.prototype,a,{get:function(){return this._surrogateStyle[a]},set:function(b){this._surrogateStyle[a]=b,this._updateIndices(),this._isAnimatedProperty[a]||(this._style[a]=b)}})}(l);a.apply=function(b,c,d){f(b),b.style._set(a.propertyName(c),d)},a.clear=function(b,c){b._webAnimationsPatchedStyle&&b.style._clear(a.propertyName(c))}}(d),function(a){window.Element.prototype.animate=function(b,c){var d="";return c&&c.id&&(d=c.id),a.timeline._play(a.KeyframeEffect(this,b,c,d))}}(d),function(a,b){function c(a,b,d){if("number"==typeof a&&"number"==typeof b)return a*(1-d)+b*d;if("boolean"==typeof a&&"boolean"==typeof b)return.5>d?a:b;if(a.length==b.length){for(var e=[],f=0;f<a.length;f++)e.push(c(a[f],b[f],d));return e}throw"Mismatched interpolation arguments "+a+":"+b}a.Interpolation=function(a,b,d){return function(e){return d(c(a,b,e))}}}(d),function(a,b){function c(a,b,c){return Math.max(Math.min(a,c),b)}function d(b,d,e){var f=a.dot(b,d);f=c(f,-1,1);var g=[];if(1===f)g=b;else for(var h=Math.acos(f),i=1*Math.sin(e*h)/Math.sqrt(1-f*f),j=0;4>j;j++)g.push(b[j]*(Math.cos(e*h)-f*i)+d[j]*i);return g}var e=function(){function a(a,b){for(var c=[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,0]],d=0;4>d;d++)for(var e=0;4>e;e++)for(var f=0;4>f;f++)c[d][e]+=b[d][f]*a[f][e];return c}function b(a){return 0==a[0][2]&&0==a[0][3]&&0==a[1][2]&&0==a[1][3]&&0==a[2][0]&&0==a[2][1]&&1==a[2][2]&&0==a[2][3]&&0==a[3][2]&&1==a[3][3]}function c(c,d,e,f,g){for(var h=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]],i=0;4>i;i++)h[i][3]=g[i];for(var i=0;3>i;i++)for(var j=0;3>j;j++)h[3][i]+=c[j]*h[j][i];var k=f[0],l=f[1],m=f[2],n=f[3],o=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];o[0][0]=1-2*(l*l+m*m),o[0][1]=2*(k*l-m*n),o[0][2]=2*(k*m+l*n),o[1][0]=2*(k*l+m*n),o[1][1]=1-2*(k*k+m*m),o[1][2]=2*(l*m-k*n),o[2][0]=2*(k*m-l*n),o[2][1]=2*(l*m+k*n),o[2][2]=1-2*(k*k+l*l),h=a(h,o);var p=[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1]];e[2]&&(p[2][1]=e[2],h=a(h,p)),e[1]&&(p[2][1]=0,p[2][0]=e[0],h=a(h,p)),e[0]&&(p[2][0]=0,p[1][0]=e[0],h=a(h,p));for(var i=0;3>i;i++)for(var j=0;3>j;j++)h[i][j]*=d[i];return b(h)?[h[0][0],h[0][1],h[1][0],h[1][1],h[3][0],h[3][1]]:h[0].concat(h[1],h[2],h[3])}return c}();a.composeMatrix=e,a.quat=d}(d),function(a,b,c){a.sequenceNumber=0;var d=function(a,b,c){this.target=a,this.currentTime=b,this.timelineTime=c,this.type="finish",this.bubbles=!1,this.cancelable=!1,this.currentTarget=a,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()};b.Animation=function(b){this.id="",b&&b._id&&(this.id=b._id),this._sequenceNumber=a.sequenceNumber++,this._currentTime=0,this._startTime=null,this._paused=!1,this._playbackRate=1,this._inTimeline=!0,this._finishedFlag=!0,this.onfinish=null,this._finishHandlers=[],this._effect=b,this._inEffect=this._effect._update(0),this._idle=!0,this._currentTimePending=!1},b.Animation.prototype={_ensureAlive:function(){this.playbackRate<0&&0===this.currentTime?this._inEffect=this._effect._update(-1):this._inEffect=this._effect._update(this.currentTime),this._inTimeline||!this._inEffect&&this._finishedFlag||(this._inTimeline=!0,b.timeline._animations.push(this))},_tickCurrentTime:function(a,b){a!=this._currentTime&&(this._currentTime=a,this._isFinished&&!b&&(this._currentTime=this._playbackRate>0?this._totalDuration:0),this._ensureAlive())},get currentTime(){return this._idle||this._currentTimePending?null:this._currentTime},set currentTime(a){a=+a,isNaN(a)||(b.restart(),this._paused||null==this._startTime||(this._startTime=this._timeline.currentTime-a/this._playbackRate),this._currentTimePending=!1,this._currentTime!=a&&(this._idle&&(this._idle=!1,this._paused=!0),this._tickCurrentTime(a,!0),b.applyDirtiedAnimation(this)))},get startTime(){return this._startTime},set startTime(a){a=+a,isNaN(a)||this._paused||this._idle||(this._startTime=a,this._tickCurrentTime((this._timeline.currentTime-this._startTime)*this.playbackRate),b.applyDirtiedAnimation(this))},get playbackRate(){return this._playbackRate},set playbackRate(a){if(a!=this._playbackRate){var c=this.currentTime;this._playbackRate=a,this._startTime=null,"paused"!=this.playState&&"idle"!=this.playState&&(this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),b.applyDirtiedAnimation(this)),null!=c&&(this.currentTime=c)}},get _isFinished(){return!this._idle&&(this._playbackRate>0&&this._currentTime>=this._totalDuration||this._playbackRate<0&&this._currentTime<=0)},get _totalDuration(){return this._effect._totalDuration},get playState(){return this._idle?"idle":null==this._startTime&&!this._paused&&0!=this.playbackRate||this._currentTimePending?"pending":this._paused?"paused":this._isFinished?"finished":"running"},_rewind:function(){if(this._playbackRate>=0)this._currentTime=0;else{if(!(this._totalDuration<1/0))throw new DOMException("Unable to rewind negative playback rate animation with infinite duration","InvalidStateError");this._currentTime=this._totalDuration}},play:function(){this._paused=!1,(this._isFinished||this._idle)&&(this._rewind(),this._startTime=null),this._finishedFlag=!1,this._idle=!1,this._ensureAlive(),b.applyDirtiedAnimation(this)},pause:function(){this._isFinished||this._paused||this._idle?this._idle&&(this._rewind(),this._idle=!1):this._currentTimePending=!0,this._startTime=null,this._paused=!0},finish:function(){this._idle||(this.currentTime=this._playbackRate>0?this._totalDuration:0,this._startTime=this._totalDuration-this.currentTime,this._currentTimePending=!1,b.applyDirtiedAnimation(this))},cancel:function(){this._inEffect&&(this._inEffect=!1,this._idle=!0,this._paused=!1,this._isFinished=!0,this._finishedFlag=!0,this._currentTime=0,this._startTime=null,this._effect._update(null),b.applyDirtiedAnimation(this))},reverse:function(){this.playbackRate*=-1,this.play()},addEventListener:function(a,b){"function"==typeof b&&"finish"==a&&this._finishHandlers.push(b)},removeEventListener:function(a,b){if("finish"==a){var c=this._finishHandlers.indexOf(b);c>=0&&this._finishHandlers.splice(c,1)}},_fireEvents:function(a){if(this._isFinished){if(!this._finishedFlag){var b=new d(this,this._currentTime,a),c=this._finishHandlers.concat(this.onfinish?[this.onfinish]:[]);setTimeout(function(){c.forEach(function(a){a.call(b.target,b)})},0),this._finishedFlag=!0}}else this._finishedFlag=!1},_tick:function(a,b){this._idle||this._paused||(null==this._startTime?b&&(this.startTime=a-this._currentTime/this.playbackRate):this._isFinished||this._tickCurrentTime((a-this._startTime)*this.playbackRate)),b&&(this._currentTimePending=!1,this._fireEvents(a))},get _needsTick(){return this.playState in{pending:1,running:1}||!this._finishedFlag},_targetAnimations:function(){var a=this._effect._target;return a._activeAnimations||(a._activeAnimations=[]),a._activeAnimations},_markTarget:function(){var a=this._targetAnimations();-1===a.indexOf(this)&&a.push(this)},_unmarkTarget:function(){var a=this._targetAnimations(),b=a.indexOf(this);-1!==b&&a.splice(b,1)}}}(c,d),function(a,b,c){function d(a){var b=j;j=[],a<q.currentTime&&(a=q.currentTime),q._animations.sort(e),q._animations=h(a,!0,q._animations)[0],b.forEach(function(b){b[1](a)}),g(),l=void 0}function e(a,b){return a._sequenceNumber-b._sequenceNumber}function f(){this._animations=[],this.currentTime=window.performance&&performance.now?performance.now():0}function g(){o.forEach(function(a){a()}),o.length=0}function h(a,c,d){p=!0,n=!1,b.timeline.currentTime=a,m=!1;var e=[],f=[],g=[],h=[];return d.forEach(function(b){b._tick(a,c),b._inEffect?(f.push(b._effect),b._markTarget()):(e.push(b._effect),b._unmarkTarget()),b._needsTick&&(m=!0);var d=b._inEffect||b._needsTick;b._inTimeline=d,d?g.push(b):h.push(b)}),o.push.apply(o,e),o.push.apply(o,f),m&&requestAnimationFrame(function(){}),p=!1,[g,h]}var i=window.requestAnimationFrame,j=[],k=0;window.requestAnimationFrame=function(a){var b=k++;return 0==j.length&&i(d),j.push([b,a]),b},window.cancelAnimationFrame=function(a){j.forEach(function(b){b[0]==a&&(b[1]=function(){})})},f.prototype={_play:function(c){c._timing=a.normalizeTimingInput(c.timing);var d=new b.Animation(c);return d._idle=!1,d._timeline=this,this._animations.push(d),b.restart(),b.applyDirtiedAnimation(d),d}};var l=void 0,m=!1,n=!1;b.restart=function(){return m||(m=!0,requestAnimationFrame(function(){}),n=!0),n},b.applyDirtiedAnimation=function(a){if(!p){a._markTarget();var c=a._targetAnimations();c.sort(e),h(b.timeline.currentTime,!1,c.slice())[1].forEach(function(a){var b=q._animations.indexOf(a);-1!==b&&q._animations.splice(b,1)}),g()}};var o=[],p=!1,q=new f;b.timeline=q}(c,d),function(a,b){function c(a,b){for(var c=0,d=0;d<a.length;d++)c+=a[d]*b[d];return c}function d(a,b){return[a[0]*b[0]+a[4]*b[1]+a[8]*b[2]+a[12]*b[3],a[1]*b[0]+a[5]*b[1]+a[9]*b[2]+a[13]*b[3],a[2]*b[0]+a[6]*b[1]+a[10]*b[2]+a[14]*b[3],a[3]*b[0]+a[7]*b[1]+a[11]*b[2]+a[15]*b[3],a[0]*b[4]+a[4]*b[5]+a[8]*b[6]+a[12]*b[7],a[1]*b[4]+a[5]*b[5]+a[9]*b[6]+a[13]*b[7],a[2]*b[4]+a[6]*b[5]+a[10]*b[6]+a[14]*b[7],a[3]*b[4]+a[7]*b[5]+a[11]*b[6]+a[15]*b[7],a[0]*b[8]+a[4]*b[9]+a[8]*b[10]+a[12]*b[11],a[1]*b[8]+a[5]*b[9]+a[9]*b[10]+a[13]*b[11],a[2]*b[8]+a[6]*b[9]+a[10]*b[10]+a[14]*b[11],a[3]*b[8]+a[7]*b[9]+a[11]*b[10]+a[15]*b[11],a[0]*b[12]+a[4]*b[13]+a[8]*b[14]+a[12]*b[15],a[1]*b[12]+a[5]*b[13]+a[9]*b[14]+a[13]*b[15],a[2]*b[12]+a[6]*b[13]+a[10]*b[14]+a[14]*b[15],a[3]*b[12]+a[7]*b[13]+a[11]*b[14]+a[15]*b[15]]}function e(a){var b=a.rad||0;return((a.deg||0)/360+(a.grad||0)/400+(a.turn||0))*(2*Math.PI)+b}function f(a){switch(a.t){case"rotatex":var b=e(a.d[0]);return[1,0,0,0,0,Math.cos(b),Math.sin(b),0,0,-Math.sin(b),Math.cos(b),0,0,0,0,1];case"rotatey":var b=e(a.d[0]);return[Math.cos(b),0,-Math.sin(b),0,0,1,0,0,Math.sin(b),0,Math.cos(b),0,0,0,0,1];case"rotate":case"rotatez":var b=e(a.d[0]);return[Math.cos(b),Math.sin(b),0,0,-Math.sin(b),Math.cos(b),0,0,0,0,1,0,0,0,0,1];case"rotate3d":var c=a.d[0],d=a.d[1],f=a.d[2],b=e(a.d[3]),g=c*c+d*d+f*f;if(0===g)c=1,d=0,f=0;else if(1!==g){var h=Math.sqrt(g);c/=h,d/=h,f/=h}var i=Math.sin(b/2),j=i*Math.cos(b/2),k=i*i;return[1-2*(d*d+f*f)*k,2*(c*d*k+f*j),2*(c*f*k-d*j),0,2*(c*d*k-f*j),1-2*(c*c+f*f)*k,2*(d*f*k+c*j),0,2*(c*f*k+d*j),2*(d*f*k-c*j),1-2*(c*c+d*d)*k,0,0,0,0,1];case"scale":return[a.d[0],0,0,0,0,a.d[1],0,0,0,0,1,0,0,0,0,1];case"scalex":return[a.d[0],0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"scaley":return[1,0,0,0,0,a.d[0],0,0,0,0,1,0,0,0,0,1];case"scalez":return[1,0,0,0,0,1,0,0,0,0,a.d[0],0,0,0,0,1];case"scale3d":return[a.d[0],0,0,0,0,a.d[1],0,0,0,0,a.d[2],0,0,0,0,1];case"skew":var l=e(a.d[0]),m=e(a.d[1]);return[1,Math.tan(m),0,0,Math.tan(l),1,0,0,0,0,1,0,0,0,0,1];case"skewx":var b=e(a.d[0]);return[1,0,0,0,Math.tan(b),1,0,0,0,0,1,0,0,0,0,1];case"skewy":var b=e(a.d[0]);return[1,Math.tan(b),0,0,0,1,0,0,0,0,1,0,0,0,0,1];case"translate":var c=a.d[0].px||0,d=a.d[1].px||0;return[1,0,0,0,0,1,0,0,0,0,1,0,c,d,0,1];case"translatex":var c=a.d[0].px||0;return[1,0,0,0,0,1,0,0,0,0,1,0,c,0,0,1];case"translatey":var d=a.d[0].px||0;return[1,0,0,0,0,1,0,0,0,0,1,0,0,d,0,1];case"translatez":var f=a.d[0].px||0;return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,f,1];case"translate3d":var c=a.d[0].px||0,d=a.d[1].px||0,f=a.d[2].px||0;return[1,0,0,0,0,1,0,0,0,0,1,0,c,d,f,1];case"perspective":return[1,0,0,0,0,1,0,0,0,0,1,a.d[0].px?-1/a.d[0].px:0,0,0,0,1];case"matrix":return[a.d[0],a.d[1],0,0,a.d[2],a.d[3],0,0,0,0,1,0,a.d[4],a.d[5],0,1];case"matrix3d":return a.d}}function g(a){return 0===a.length?[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]:a.map(f).reduce(d)}function h(a){return[i(g(a))]}var i=function(){function a(a){return a[0][0]*a[1][1]*a[2][2]+a[1][0]*a[2][1]*a[0][2]+a[2][0]*a[0][1]*a[1][2]-a[0][2]*a[1][1]*a[2][0]-a[1][2]*a[2][1]*a[0][0]-a[2][2]*a[0][1]*a[1][0]}function b(b){for(var c=1/a(b),d=b[0][0],e=b[0][1],f=b[0][2],g=b[1][0],h=b[1][1],i=b[1][2],j=b[2][0],k=b[2][1],l=b[2][2],m=[[(h*l-i*k)*c,(f*k-e*l)*c,(e*i-f*h)*c,0],[(i*j-g*l)*c,(d*l-f*j)*c,(f*g-d*i)*c,0],[(g*k-h*j)*c,(j*e-d*k)*c,(d*h-e*g)*c,0]],n=[],o=0;3>o;o++){for(var p=0,q=0;3>q;q++)p+=b[3][q]*m[q][o];n.push(p)}return n.push(1),m.push(n),m}function d(a){return[[a[0][0],a[1][0],a[2][0],a[3][0]],[a[0][1],a[1][1],a[2][1],a[3][1]],[a[0][2],a[1][2],a[2][2],a[3][2]],[a[0][3],a[1][3],a[2][3],a[3][3]]]}function e(a,b){for(var c=[],d=0;4>d;d++){for(var e=0,f=0;4>f;f++)e+=a[f]*b[f][d];c.push(e)}return c}function f(a){var b=g(a);return[a[0]/b,a[1]/b,a[2]/b]}function g(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1]+a[2]*a[2])}function h(a,b,c,d){return[c*a[0]+d*b[0],c*a[1]+d*b[1],c*a[2]+d*b[2]]}function i(a,b){return[a[1]*b[2]-a[2]*b[1],a[2]*b[0]-a[0]*b[2],a[0]*b[1]-a[1]*b[0]]}function j(j){var k=[j.slice(0,4),j.slice(4,8),j.slice(8,12),j.slice(12,16)];if(1!==k[3][3])return null;for(var l=[],m=0;4>m;m++)l.push(k[m].slice());for(var m=0;3>m;m++)l[m][3]=0;if(0===a(l))return null;var n,o=[];k[0][3]||k[1][3]||k[2][3]?(o.push(k[0][3]),o.push(k[1][3]),o.push(k[2][3]),o.push(k[3][3]),n=e(o,d(b(l)))):n=[0,0,0,1];var p=k[3].slice(0,3),q=[];q.push(k[0].slice(0,3));var r=[];r.push(g(q[0])),q[0]=f(q[0]);var s=[];q.push(k[1].slice(0,3)),s.push(c(q[0],q[1])),q[1]=h(q[1],q[0],1,-s[0]),r.push(g(q[1])),q[1]=f(q[1]),s[0]/=r[1],q.push(k[2].slice(0,3)),s.push(c(q[0],q[2])),q[2]=h(q[2],q[0],1,-s[1]),s.push(c(q[1],q[2])),q[2]=h(q[2],q[1],1,-s[2]),r.push(g(q[2])),q[2]=f(q[2]),s[1]/=r[2],s[2]/=r[2];var t=i(q[1],q[2]);if(c(q[0],t)<0)for(var m=0;3>m;m++)r[m]*=-1,q[m][0]*=-1,q[m][1]*=-1,q[m][2]*=-1;var u,v,w=q[0][0]+q[1][1]+q[2][2]+1;return w>1e-4?(u=.5/Math.sqrt(w),v=[(q[2][1]-q[1][2])*u,(q[0][2]-q[2][0])*u,(q[1][0]-q[0][1])*u,.25/u]):q[0][0]>q[1][1]&&q[0][0]>q[2][2]?(u=2*Math.sqrt(1+q[0][0]-q[1][1]-q[2][2]),v=[.25*u,(q[0][1]+q[1][0])/u,(q[0][2]+q[2][0])/u,(q[2][1]-q[1][2])/u]):q[1][1]>q[2][2]?(u=2*Math.sqrt(1+q[1][1]-q[0][0]-q[2][2]),v=[(q[0][1]+q[1][0])/u,.25*u,(q[1][2]+q[2][1])/u,(q[0][2]-q[2][0])/u]):(u=2*Math.sqrt(1+q[2][2]-q[0][0]-q[1][1]),v=[(q[0][2]+q[2][0])/u,(q[1][2]+q[2][1])/u,.25*u,(q[1][0]-q[0][1])/u]),[p,r,s,v,n]}return j}();a.dot=c,a.makeMatrixDecomposition=h,a.transformListToMatrix=g}(d),function(a){function b(a,b){var c=a.exec(b);return c?(c=a.ignoreCase?c[0].toLowerCase():c[0],[c,b.substr(c.length)]):void 0}function c(a,b){b=b.replace(/^\s*/,"");var c=a(b);return c?[c[0],c[1].replace(/^\s*/,"")]:void 0}function d(a,d,e){a=c.bind(null,a);for(var f=[];;){var g=a(e);if(!g)return[f,e];if(f.push(g[0]),e=g[1],!(g=b(d,e))||""==g[1])return[f,e];e=g[1]}}function e(a,b){for(var c=0,d=0;d<b.length&&(!/\s|,/.test(b[d])||0!=c);d++)if("("==b[d])c++;else if(")"==b[d]&&(c--,0==c&&d++,0>=c))break;var e=a(b.substr(0,d));return void 0==e?void 0:[e,b.substr(d)]}function f(a,b){for(var c=a,d=b;c&&d;)c>d?c%=d:d%=c;return c=a*b/(c+d)}function g(a){return function(b){var c=a(b);return c&&(c[0]=void 0),c}}function h(a,b){return function(c){return a(c)||[b,c]}}function i(b,c){for(var d=[],e=0;e<b.length;e++){var f=a.consumeTrimmed(b[e],c);if(!f||""==f[0])return;void 0!==f[0]&&d.push(f[0]),c=f[1]}return""==c?d:void 0}function j(a,b,c,d,e){for(var g=[],h=[],i=[],j=f(d.length,e.length),k=0;j>k;k++){var l=b(d[k%d.length],e[k%e.length]);if(!l)return;g.push(l[0]),h.push(l[1]),i.push(l[2])}return[g,h,function(b){var d=b.map(function(a,b){return i[b](a)}).join(c);return a?a(d):d}]}function k(a,b,c){for(var d=[],e=[],f=[],g=0,h=0;h<c.length;h++)if("function"==typeof c[h]){var i=c[h](a[g],b[g++]);d.push(i[0]),e.push(i[1]),f.push(i[2])}else!function(a){d.push(!1),e.push(!1),f.push(function(){return c[a]})}(h);return[d,e,function(a){for(var b="",c=0;c<a.length;c++)b+=f[c](a[c]);return b}]}a.consumeToken=b,a.consumeTrimmed=c,a.consumeRepeated=d,a.consumeParenthesised=e,a.ignore=g,a.optional=h,a.consumeList=i,a.mergeNestedRepeated=j.bind(null,null),a.mergeWrappedNestedRepeated=j,a.mergeList=k}(d),function(a){function b(b){function c(b){var c=a.consumeToken(/^inset/i,b);if(c)return d.inset=!0,c;var c=a.consumeLengthOrPercent(b);if(c)return d.lengths.push(c[0]),c;var c=a.consumeColor(b);return c?(d.color=c[0],c):void 0}var d={inset:!1,lengths:[],color:null},e=a.consumeRepeated(c,/^/,b);return e&&e[0].length?[d,e[1]]:void 0}function c(c){var d=a.consumeRepeated(b,/^,/,c);return d&&""==d[1]?d[0]:void 0}function d(b,c){for(;b.lengths.length<Math.max(b.lengths.length,c.lengths.length);)b.lengths.push({px:0});for(;c.lengths.length<Math.max(b.lengths.length,c.lengths.length);)c.lengths.push({px:0});if(b.inset==c.inset&&!!b.color==!!c.color){for(var d,e=[],f=[[],0],g=[[],0],h=0;h<b.lengths.length;h++){var i=a.mergeDimensions(b.lengths[h],c.lengths[h],2==h);f[0].push(i[0]),g[0].push(i[1]),e.push(i[2])}if(b.color&&c.color){var j=a.mergeColors(b.color,c.color);f[1]=j[0],g[1]=j[1],d=j[2]}return[f,g,function(a){for(var c=b.inset?"inset ":" ",f=0;f<e.length;f++)c+=e[f](a[0][f])+" ";return d&&(c+=d(a[1])),c}]}}function e(b,c,d,e){function f(a){return{inset:a,color:[0,0,0,0],lengths:[{px:0},{px:0},{px:0},{px:0}]}}for(var g=[],h=[],i=0;i<d.length||i<e.length;i++){var j=d[i]||f(e[i].inset),k=e[i]||f(d[i].inset);g.push(j),h.push(k)}return a.mergeNestedRepeated(b,c,g,h)}var f=e.bind(null,d,", ");a.addPropertiesHandler(c,f,["box-shadow","text-shadow"])}(d),function(a,b){function c(a){return a.toFixed(3).replace(/0+$/,"").replace(/\.$/,"")}function d(a,b,c){return Math.min(b,Math.max(a,c))}function e(a){return/^\s*[-+]?(\d*\.)?\d+\s*$/.test(a)?Number(a):void 0}function f(a,b){return[a,b,c]}function g(a,b){return 0!=a?i(0,1/0)(a,b):void 0}function h(a,b){return[a,b,function(a){return Math.round(d(1,1/0,a))}]}function i(a,b){return function(e,f){return[e,f,function(e){return c(d(a,b,e))}]}}function j(a){var b=a.trim().split(/\s*[\s,]\s*/);if(0!==b.length){for(var c=[],d=0;d<b.length;d++){var f=e(b[d]);if(void 0===f)return;c.push(f)}return c}}function k(a,b){return a.length==b.length?[a,b,function(a){return a.map(c).join(" ")}]:void 0}function l(a,b){return[a,b,Math.round]}a.clamp=d,a.addPropertiesHandler(j,k,["stroke-dasharray"]),a.addPropertiesHandler(e,i(0,1/0),["border-image-width","line-height"]),a.addPropertiesHandler(e,i(0,1),["opacity","shape-image-threshold"]),a.addPropertiesHandler(e,g,["flex-grow","flex-shrink"]),a.addPropertiesHandler(e,h,["orphans","widows"]),a.addPropertiesHandler(e,l,["z-index"]),a.parseNumber=e,a.parseNumberList=j,a.mergeNumbers=f,a.numberToString=c}(d),function(a,b){function c(a,b){return"visible"==a||"visible"==b?[0,1,function(c){return 0>=c?a:c>=1?b:"visible"}]:void 0}a.addPropertiesHandler(String,c,["visibility"])}(d),function(a,b){function c(a){a=a.trim(),f.fillStyle="#000",f.fillStyle=a;var b=f.fillStyle;if(f.fillStyle="#fff",f.fillStyle=a,b==f.fillStyle){f.fillRect(0,0,1,1);var c=f.getImageData(0,0,1,1).data;f.clearRect(0,0,1,1);var d=c[3]/255;return[c[0]*d,c[1]*d,c[2]*d,d]}}function d(b,c){return[b,c,function(b){function c(a){return Math.max(0,Math.min(255,a))}if(b[3])for(var d=0;3>d;d++)b[d]=Math.round(c(b[d]/b[3]));return b[3]=a.numberToString(a.clamp(0,1,b[3])),"rgba("+b.join(",")+")"}]}var e=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");e.width=e.height=1;var f=e.getContext("2d");a.addPropertiesHandler(c,d,["background-color","border-bottom-color","border-left-color","border-right-color","border-top-color","color","fill","flood-color","lighting-color","outline-color","stop-color","stroke","text-decoration-color"]),a.consumeColor=a.consumeParenthesised.bind(null,c),a.mergeColors=d}(d),function(a,b){function c(a){function b(){var b=h.exec(a);g=b?b[0]:void 0}function c(){var a=Number(g);return b(),a}function d(){if("("!==g)return c();b();var a=f();return")"!==g?NaN:(b(),a)}function e(){for(var a=d();"*"===g||"/"===g;){var c=g;b();var e=d();"*"===c?a*=e:a/=e}return a}function f(){for(var a=e();"+"===g||"-"===g;){var c=g;b();var d=e();"+"===c?a+=d:a-=d}return a}var g,h=/([\+\-\w\.]+|[\(\)\*\/])/g;return b(),f()}function d(a,b){if("0"==(b=b.trim().toLowerCase())&&"px".search(a)>=0)return{px:0};if(/^[^(]*$|^calc/.test(b)){b=b.replace(/calc\(/g,"(");var d={};b=b.replace(a,function(a){return d[a]=null,"U"+a});for(var e="U("+a.source+")",f=b.replace(/[-+]?(\d*\.)?\d+([Ee][-+]?\d+)?/g,"N").replace(new RegExp("N"+e,"g"),"D").replace(/\s[+-]\s/g,"O").replace(/\s/g,""),g=[/N\*(D)/g,/(N|D)[*\/]N/g,/(N|D)O\1/g,/\((N|D)\)/g],h=0;h<g.length;)g[h].test(f)?(f=f.replace(g[h],"$1"),h=0):h++;if("D"==f){for(var i in d){var j=c(b.replace(new RegExp("U"+i,"g"),"").replace(new RegExp(e,"g"),"*0"));if(!isFinite(j))return;d[i]=j}return d}}}function e(a,b){return f(a,b,!0)}function f(b,c,d){var e,f=[];for(e in b)f.push(e);for(e in c)f.indexOf(e)<0&&f.push(e);return b=f.map(function(a){return b[a]||0}),c=f.map(function(a){return c[a]||0}),[b,c,function(b){var c=b.map(function(c,e){return 1==b.length&&d&&(c=Math.max(c,0)),a.numberToString(c)+f[e]}).join(" + ");return b.length>1?"calc("+c+")":c}]}var g="px|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc",h=d.bind(null,new RegExp(g,"g")),i=d.bind(null,new RegExp(g+"|%","g")),j=d.bind(null,/deg|rad|grad|turn/g);a.parseLength=h,a.parseLengthOrPercent=i,a.consumeLengthOrPercent=a.consumeParenthesised.bind(null,i),a.parseAngle=j,a.mergeDimensions=f;var k=a.consumeParenthesised.bind(null,h),l=a.consumeRepeated.bind(void 0,k,/^/),m=a.consumeRepeated.bind(void 0,l,/^,/);a.consumeSizePairList=m;var n=function(a){var b=m(a);return b&&""==b[1]?b[0]:void 0},o=a.mergeNestedRepeated.bind(void 0,e," "),p=a.mergeNestedRepeated.bind(void 0,o,",");a.mergeNonNegativeSizePair=o,a.addPropertiesHandler(n,p,["background-size"]),a.addPropertiesHandler(i,e,["border-bottom-width","border-image-width","border-left-width","border-right-width","border-top-width","flex-basis","font-size","height","line-height","max-height","max-width","outline-width","width"]),
a.addPropertiesHandler(i,f,["border-bottom-left-radius","border-bottom-right-radius","border-top-left-radius","border-top-right-radius","bottom","left","letter-spacing","margin-bottom","margin-left","margin-right","margin-top","min-height","min-width","outline-offset","padding-bottom","padding-left","padding-right","padding-top","perspective","right","shape-margin","stroke-dashoffset","text-indent","top","vertical-align","word-spacing"])}(d),function(a,b){function c(b){return a.consumeLengthOrPercent(b)||a.consumeToken(/^auto/,b)}function d(b){var d=a.consumeList([a.ignore(a.consumeToken.bind(null,/^rect/)),a.ignore(a.consumeToken.bind(null,/^\(/)),a.consumeRepeated.bind(null,c,/^,/),a.ignore(a.consumeToken.bind(null,/^\)/))],b);return d&&4==d[0].length?d[0]:void 0}function e(b,c){return"auto"==b||"auto"==c?[!0,!1,function(d){var e=d?b:c;if("auto"==e)return"auto";var f=a.mergeDimensions(e,e);return f[2](f[0])}]:a.mergeDimensions(b,c)}function f(a){return"rect("+a+")"}var g=a.mergeWrappedNestedRepeated.bind(null,f,e,", ");a.parseBox=d,a.mergeBoxes=g,a.addPropertiesHandler(d,g,["clip"])}(d),function(a,b){function c(a){return function(b){var c=0;return a.map(function(a){return a===k?b[c++]:a})}}function d(a){return a}function e(b){if("none"==(b=b.toLowerCase().trim()))return[];for(var c,d=/\s*(\w+)\(([^)]*)\)/g,e=[],f=0;c=d.exec(b);){if(c.index!=f)return;f=c.index+c[0].length;var g=c[1],h=n[g];if(!h)return;var i=c[2].split(","),j=h[0];if(j.length<i.length)return;for(var k=[],o=0;o<j.length;o++){var p,q=i[o],r=j[o];if(void 0===(p=q?{A:function(b){return"0"==b.trim()?m:a.parseAngle(b)},N:a.parseNumber,T:a.parseLengthOrPercent,L:a.parseLength}[r.toUpperCase()](q):{a:m,n:k[0],t:l}[r]))return;k.push(p)}if(e.push({t:g,d:k}),d.lastIndex==b.length)return e}}function f(a){return a.toFixed(6).replace(".000000","")}function g(b,c){if(b.decompositionPair!==c){b.decompositionPair=c;var d=a.makeMatrixDecomposition(b)}if(c.decompositionPair!==b){c.decompositionPair=b;var e=a.makeMatrixDecomposition(c)}return null==d[0]||null==e[0]?[[!1],[!0],function(a){return a?c[0].d:b[0].d}]:(d[0].push(0),e[0].push(1),[d,e,function(b){var c=a.quat(d[0][3],e[0][3],b[5]);return a.composeMatrix(b[0],b[1],b[2],c,b[4]).map(f).join(",")}])}function h(a){return a.replace(/[xy]/,"")}function i(a){return a.replace(/(x|y|z|3d)?$/,"3d")}function j(b,c){var d=a.makeMatrixDecomposition&&!0,e=!1;if(!b.length||!c.length){b.length||(e=!0,b=c,c=[]);for(var f=0;f<b.length;f++){var j=b[f].t,k=b[f].d,l="scale"==j.substr(0,5)?1:0;c.push({t:j,d:k.map(function(a){if("number"==typeof a)return l;var b={};for(var c in a)b[c]=l;return b})})}}var m=function(a,b){return"perspective"==a&&"perspective"==b||("matrix"==a||"matrix3d"==a)&&("matrix"==b||"matrix3d"==b)},o=[],p=[],q=[];if(b.length!=c.length){if(!d)return;var r=g(b,c);o=[r[0]],p=[r[1]],q=[["matrix",[r[2]]]]}else for(var f=0;f<b.length;f++){var j,s=b[f].t,t=c[f].t,u=b[f].d,v=c[f].d,w=n[s],x=n[t];if(m(s,t)){if(!d)return;var r=g([b[f]],[c[f]]);o.push(r[0]),p.push(r[1]),q.push(["matrix",[r[2]]])}else{if(s==t)j=s;else if(w[2]&&x[2]&&h(s)==h(t))j=h(s),u=w[2](u),v=x[2](v);else{if(!w[1]||!x[1]||i(s)!=i(t)){if(!d)return;var r=g(b,c);o=[r[0]],p=[r[1]],q=[["matrix",[r[2]]]];break}j=i(s),u=w[1](u),v=x[1](v)}for(var y=[],z=[],A=[],B=0;B<u.length;B++){var C="number"==typeof u[B]?a.mergeNumbers:a.mergeDimensions,r=C(u[B],v[B]);y[B]=r[0],z[B]=r[1],A.push(r[2])}o.push(y),p.push(z),q.push([j,A])}}if(e){var D=o;o=p,p=D}return[o,p,function(a){return a.map(function(a,b){var c=a.map(function(a,c){return q[b][1][c](a)}).join(",");return"matrix"==q[b][0]&&16==c.split(",").length&&(q[b][0]="matrix3d"),q[b][0]+"("+c+")"}).join(" ")}]}var k=null,l={px:0},m={deg:0},n={matrix:["NNNNNN",[k,k,0,0,k,k,0,0,0,0,1,0,k,k,0,1],d],matrix3d:["NNNNNNNNNNNNNNNN",d],rotate:["A"],rotatex:["A"],rotatey:["A"],rotatez:["A"],rotate3d:["NNNA"],perspective:["L"],scale:["Nn",c([k,k,1]),d],scalex:["N",c([k,1,1]),c([k,1])],scaley:["N",c([1,k,1]),c([1,k])],scalez:["N",c([1,1,k])],scale3d:["NNN",d],skew:["Aa",null,d],skewx:["A",null,c([k,m])],skewy:["A",null,c([m,k])],translate:["Tt",c([k,k,l]),d],translatex:["T",c([k,l,l]),c([k,l])],translatey:["T",c([l,k,l]),c([l,k])],translatez:["L",c([l,l,k])],translate3d:["TTL",d]};a.addPropertiesHandler(e,j,["transform"]),a.transformToSvgMatrix=function(b){var c=a.transformListToMatrix(e(b));return"matrix("+f(c[0])+" "+f(c[1])+" "+f(c[4])+" "+f(c[5])+" "+f(c[12])+" "+f(c[13])+")"}}(d),function(a){function b(a){var b=Number(a);return isNaN(b)||100>b||b>900||b%100!=0?void 0:b}function c(b){return b=100*Math.round(b/100),b=a.clamp(100,900,b),400===b?"normal":700===b?"bold":String(b)}function d(a,b){return[a,b,c]}a.addPropertiesHandler(b,d,["font-weight"])}(d),function(a){function b(a){var b={};for(var c in a)b[c]=-a[c];return b}function c(b){return a.consumeToken(/^(left|center|right|top|bottom)\b/i,b)||a.consumeLengthOrPercent(b)}function d(b,d){var e=a.consumeRepeated(c,/^/,d);if(e&&""==e[1]){var f=e[0];if(f[0]=f[0]||"center",f[1]=f[1]||"center",3==b&&(f[2]=f[2]||{px:0}),f.length==b){if(/top|bottom/.test(f[0])||/left|right/.test(f[1])){var h=f[0];f[0]=f[1],f[1]=h}if(/left|right|center|Object/.test(f[0])&&/top|bottom|center|Object/.test(f[1]))return f.map(function(a){return"object"==typeof a?a:g[a]})}}}function e(d){var e=a.consumeRepeated(c,/^/,d);if(e){for(var f=e[0],h=[{"%":50},{"%":50}],i=0,j=!1,k=0;k<f.length;k++){var l=f[k];"string"==typeof l?(j=/bottom|right/.test(l),i={left:0,right:0,center:i,top:1,bottom:1}[l],h[i]=g[l],"center"==l&&i++):(j&&(l=b(l),l["%"]=(l["%"]||0)+100),h[i]=l,i++,j=!1)}return[h,e[1]]}}function f(b){var c=a.consumeRepeated(e,/^,/,b);return c&&""==c[1]?c[0]:void 0}var g={left:{"%":0},center:{"%":50},right:{"%":100},top:{"%":0},bottom:{"%":100}},h=a.mergeNestedRepeated.bind(null,a.mergeDimensions," ");a.addPropertiesHandler(d.bind(null,3),h,["transform-origin"]),a.addPropertiesHandler(d.bind(null,2),h,["perspective-origin"]),a.consumePosition=e,a.mergeOffsetList=h;var i=a.mergeNestedRepeated.bind(null,h,", ");a.addPropertiesHandler(f,i,["background-position","object-position"])}(d),function(a){function b(b){var c=a.consumeToken(/^circle/,b);if(c&&c[0])return["circle"].concat(a.consumeList([a.ignore(a.consumeToken.bind(void 0,/^\(/)),d,a.ignore(a.consumeToken.bind(void 0,/^at/)),a.consumePosition,a.ignore(a.consumeToken.bind(void 0,/^\)/))],c[1]));var f=a.consumeToken(/^ellipse/,b);if(f&&f[0])return["ellipse"].concat(a.consumeList([a.ignore(a.consumeToken.bind(void 0,/^\(/)),e,a.ignore(a.consumeToken.bind(void 0,/^at/)),a.consumePosition,a.ignore(a.consumeToken.bind(void 0,/^\)/))],f[1]));var g=a.consumeToken(/^polygon/,b);return g&&g[0]?["polygon"].concat(a.consumeList([a.ignore(a.consumeToken.bind(void 0,/^\(/)),a.optional(a.consumeToken.bind(void 0,/^nonzero\s*,|^evenodd\s*,/),"nonzero,"),a.consumeSizePairList,a.ignore(a.consumeToken.bind(void 0,/^\)/))],g[1])):void 0}function c(b,c){return b[0]===c[0]?"circle"==b[0]?a.mergeList(b.slice(1),c.slice(1),["circle(",a.mergeDimensions," at ",a.mergeOffsetList,")"]):"ellipse"==b[0]?a.mergeList(b.slice(1),c.slice(1),["ellipse(",a.mergeNonNegativeSizePair," at ",a.mergeOffsetList,")"]):"polygon"==b[0]&&b[1]==c[1]?a.mergeList(b.slice(2),c.slice(2),["polygon(",b[1],g,")"]):void 0:void 0}var d=a.consumeParenthesised.bind(null,a.parseLengthOrPercent),e=a.consumeRepeated.bind(void 0,d,/^/),f=a.mergeNestedRepeated.bind(void 0,a.mergeDimensions," "),g=a.mergeNestedRepeated.bind(void 0,f,",");a.addPropertiesHandler(b,c,["shape-outside"])}(d),function(a,b){function c(a,b){b.concat([a]).forEach(function(b){b in document.documentElement.style&&(d[a]=b),e[b]=a})}var d={},e={};c("transform",["webkitTransform","msTransform"]),c("transformOrigin",["webkitTransformOrigin"]),c("perspective",["webkitPerspective"]),c("perspectiveOrigin",["webkitPerspectiveOrigin"]),a.propertyName=function(a){return d[a]||a},a.unprefixedPropertyName=function(a){return e[a]||a}}(d)}(),function(){if(void 0===document.createElement("div").animate([]).oncancel){var a;if(window.performance&&performance.now)var a=function(){return performance.now()};else var a=function(){return Date.now()};var b=function(a,b,c){this.target=a,this.currentTime=b,this.timelineTime=c,this.type="cancel",this.bubbles=!1,this.cancelable=!1,this.currentTarget=a,this.defaultPrevented=!1,this.eventPhase=Event.AT_TARGET,this.timeStamp=Date.now()},c=window.Element.prototype.animate;window.Element.prototype.animate=function(d,e){var f=c.call(this,d,e);f._cancelHandlers=[],f.oncancel=null;var g=f.cancel;f.cancel=function(){g.call(this);var c=new b(this,null,a()),d=this._cancelHandlers.concat(this.oncancel?[this.oncancel]:[]);setTimeout(function(){d.forEach(function(a){a.call(c.target,c)})},0)};var h=f.addEventListener;f.addEventListener=function(a,b){"function"==typeof b&&"cancel"==a?this._cancelHandlers.push(b):h.call(this,a,b)};var i=f.removeEventListener;return f.removeEventListener=function(a,b){if("cancel"==a){var c=this._cancelHandlers.indexOf(b);c>=0&&this._cancelHandlers.splice(c,1)}else i.call(this,a,b)},f}}}(),function(a){var b=document.documentElement,c=null,d=!1;try{var e=getComputedStyle(b).getPropertyValue("opacity"),f="0"==e?"1":"0";c=b.animate({opacity:[f,f]},{duration:1}),c.currentTime=0,d=getComputedStyle(b).getPropertyValue("opacity")==f}catch(a){}finally{c&&c.cancel()}if(!d){var g=window.Element.prototype.animate;window.Element.prototype.animate=function(b,c){return window.Symbol&&Symbol.iterator&&Array.prototype.from&&b[Symbol.iterator]&&(b=Array.from(b)),Array.isArray(b)||null===b||(b=a.convertToArrayForm(b)),g.call(this,b,c)}}}(c),b["true"]=a}({},function(){return this}()),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a(require("jquery")):a(jQuery)}(function(a){if(a.support.cors||!a.ajaxTransport||!window.XDomainRequest)return a;var b=/^(https?:)?\/\//i,c=/^get|post$/i,d=new RegExp("^(//|"+location.protocol+")","i");return a.ajaxTransport("* text html xml json",function(e,f,g){if(e.crossDomain&&e.async&&c.test(e.type)&&b.test(e.url)&&d.test(e.url)){var h=null;return{send:function(b,c){var d="",g=(f.dataType||"").toLowerCase();h=new XDomainRequest,/^\d+$/.test(f.timeout)&&(h.timeout=f.timeout),h.ontimeout=function(){c(500,"timeout")},h.onload=function(){var b="Content-Length: "+h.responseText.length+"\r\nContent-Type: "+h.contentType,d={code:200,message:"success"},e={text:h.responseText};try{if("html"===g||/text\/html/i.test(h.contentType))e.html=h.responseText;else if("json"===g||"text"!==g&&/\/json/i.test(h.contentType))try{e.json=a.parseJSON(h.responseText)}catch(f){d.code=500,d.message="parseerror"}else if("xml"===g||"text"!==g&&/\/xml/i.test(h.contentType)){var i=new ActiveXObject("Microsoft.XMLDOM");i.async=!1;try{i.loadXML(h.responseText)}catch(f){i=void 0}if(!i||!i.documentElement||i.getElementsByTagName("parsererror").length)throw d.code=500,d.message="parseerror","Invalid XML: "+h.responseText;e.xml=i}}catch(j){throw j}finally{c(d.code,d.message,e,b)}},h.onprogress=function(){},h.onerror=function(){c(500,"error",{text:h.responseText})},f.data&&(d="string"===a.type(f.data)?f.data:a.param(f.data)),h.open(e.type,e.url),h.send(d)},abort:function(){h&&h.abort()}}}}),a});

/* 
 * 	Author:		Connect Group
 * 	Website:	connect-group.com
 * 
 * 	Title:		LRDX
 * 	Build:		2021-03-03 08:25:46
 * 
 */
function _toConsumableArray(a) {
    if (Array.isArray(a)) {
        for (var b = 0, c = Array(a.length); b < a.length; b++) c[b] = a[b];
        return c
    }
    return Array.from(a)
}

function _possibleConstructorReturn(a, b) {
    if (!a) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
    return !b || "object" != typeof b && "function" != typeof b ? a : b
}

function _inherits(a, b) {
    if ("function" != typeof b && null !== b) throw new TypeError("Super expression must either be null or a function, not " + typeof b);
    a.prototype = Object.create(b && b.prototype, {
        constructor: {
            value: a,
            enumerable: !1,
            writable: !0,
            configurable: !0
        }
    }), b && (Object.setPrototypeOf ? Object.setPrototypeOf(a, b) : a.__proto__ = b)
}

function _classCallCheck(a, b) {
    if (!(a instanceof b)) throw new TypeError("Cannot call a class as a function")
}

function LoadRichMarker() {
    function a(a) {
        var c = a || {};
        this.ready_ = !1, this.dragging_ = !1, void 0 == a.visible && (a.visible = !0), void 0 == a.shadow && (a.shadow = "7px -3px 5px rgba(88,88,88,0.7)"), void 0 == a.anchor && (a.anchor = b.BOTTOM), this.setValues(c)
    }
    a.prototype = new google.maps.OverlayView, window.RichMarker = a, a.prototype.getVisible = function() {
        return this.get("visible")
    }, a.prototype.getVisible = a.prototype.getVisible, a.prototype.setVisible = function(a) {
        this.set("visible", a)
    }, a.prototype.setVisible = a.prototype.setVisible, a.prototype.visible_changed = function() {
        this.ready_ && (this.markerWrapper_.style.display = this.getVisible() ? "" : "none", this.draw())
    }, a.prototype.visible_changed = a.prototype.visible_changed, a.prototype.setFlat = function(a) {
        this.set("flat", !!a)
    }, a.prototype.setFlat = a.prototype.setFlat, a.prototype.getFlat = function() {
        return this.get("flat")
    }, a.prototype.getFlat = a.prototype.getFlat, a.prototype.getWidth = function() {
        return this.get("width")
    }, a.prototype.getWidth = a.prototype.getWidth, a.prototype.getHeight = function() {
        return this.get("height")
    }, a.prototype.getHeight = a.prototype.getHeight, a.prototype.setShadow = function(a) {
        this.set("shadow", a), this.flat_changed()
    }, a.prototype.setShadow = a.prototype.setShadow, a.prototype.getShadow = function() {
        return this.get("shadow")
    }, a.prototype.getShadow = a.prototype.getShadow, a.prototype.flat_changed = function() {
        this.ready_ && (this.markerWrapper_.style.boxShadow = this.markerWrapper_.style.webkitBoxShadow = this.markerWrapper_.style.MozBoxShadow = this.getFlat() ? "" : this.getShadow())
    }, a.prototype.flat_changed = a.prototype.flat_changed, a.prototype.setZIndex = function(a) {
        this.set("zIndex", a)
    }, a.prototype.setZIndex = a.prototype.setZIndex, a.prototype.getZIndex = function() {
        return this.get("zIndex")
    }, a.prototype.getZIndex = a.prototype.getZIndex, a.prototype.zIndex_changed = function() {
        this.getZIndex() && this.ready_ && (this.markerWrapper_.style.zIndex = this.getZIndex())
    }, a.prototype.zIndex_changed = a.prototype.zIndex_changed, a.prototype.getDraggable = function() {
        return this.get("draggable")
    }, a.prototype.getDraggable = a.prototype.getDraggable, a.prototype.setDraggable = function(a) {
        this.set("draggable", !!a)
    }, a.prototype.setDraggable = a.prototype.setDraggable, a.prototype.draggable_changed = function() {
        this.ready_ && (this.getDraggable() ? this.addDragging_(this.markerWrapper_) : this.removeDragListeners_())
    }, a.prototype.draggable_changed = a.prototype.draggable_changed, a.prototype.getPosition = function() {
        return this.get("position")
    }, a.prototype.getPosition = a.prototype.getPosition, a.prototype.setPosition = function(a) {
        this.set("position", a)
    }, a.prototype.setPosition = a.prototype.setPosition, a.prototype.position_changed = function() {
        this.draw()
    }, a.prototype.position_changed = a.prototype.position_changed, a.prototype.getAnchor = function() {
        return this.get("anchor")
    }, a.prototype.getAnchor = a.prototype.getAnchor, a.prototype.setAnchor = function(a) {
        this.set("anchor", a)
    }, a.prototype.setAnchor = a.prototype.setAnchor, a.prototype.anchor_changed = function() {
        this.draw()
    }, a.prototype.anchor_changed = a.prototype.anchor_changed, a.prototype.htmlToDocumentFragment_ = function(a) {
        var b = document.createElement("DIV");
        if (b.innerHTML = a, 1 == b.childNodes.length) return b.removeChild(b.firstChild);
        for (var c = document.createDocumentFragment(); b.firstChild;) c.appendChild(b.firstChild);
        return c
    }, a.prototype.removeChildren_ = function(a) {
        if (a)
            for (var b; b = a.firstChild;) a.removeChild(b)
    }, a.prototype.setContent = function(a) {
        this.set("content", a)
    }, a.prototype.setContent = a.prototype.setContent, a.prototype.getContent = function() {
        return this.get("content")
    }, a.prototype.getContent = a.prototype.getContent, a.prototype.content_changed = function() {
        if (this.markerContent_) {
            this.removeChildren_(this.markerContent_);
            var a = this.getContent();
            if (a) {
                "string" == typeof a && (a = a.replace(/^\s*([\S\s]*)\b\s*$/, "$1"), a = this.htmlToDocumentFragment_(a)), this.markerContent_.appendChild(a);
                for (var b, c = this, d = this.markerContent_.getElementsByTagName("IMG"), e = 0; b = d[e]; e++) google.maps.event.addDomListener(b, "mousedown", function(a) {
                    c.getDraggable() && (a.preventDefault && a.preventDefault(), a.returnValue = !1)
                }), google.maps.event.addDomListener(b, "load", function() {
                    c.draw()
                });
                google.maps.event.trigger(this, "domready")
            }
            this.ready_ && this.draw()
        }
    }, a.prototype.content_changed = a.prototype.content_changed, a.prototype.setCursor_ = function(a) {
        if (this.ready_) {
            var b = ""; - 1 !== navigator.userAgent.indexOf("Gecko/") ? ("dragging" == a && (b = "-moz-grabbing"), "dragready" == a && (b = "-moz-grab"), "draggable" == a && (b = "pointer")) : (("dragging" == a || "dragready" == a) && (b = "move"), "draggable" == a && (b = "pointer")), this.markerWrapper_.style.cursor != b && (this.markerWrapper_.style.cursor = b)
        }
    }, a.prototype.startDrag = function(a) {
        if (this.getDraggable() && !this.dragging_) {
            this.dragging_ = !0;
            var b = this.getMap();
            this.mapDraggable_ = b.get("draggable"), b.set("draggable", !1), this.mouseX_ = a.clientX, this.mouseY_ = a.clientY, this.setCursor_("dragready"), this.markerWrapper_.style.MozUserSelect = "none", this.markerWrapper_.style.KhtmlUserSelect = "none", this.markerWrapper_.style.WebkitUserSelect = "none", this.markerWrapper_.unselectable = "on", this.markerWrapper_.onselectstart = function() {
                return !1
            }, this.addDraggingListeners_(), google.maps.event.trigger(this, "dragstart")
        }
    }, a.prototype.stopDrag = function() {
        this.getDraggable() && this.dragging_ && (this.dragging_ = !1, this.getMap().set("draggable", this.mapDraggable_), this.mouseX_ = this.mouseY_ = this.mapDraggable_ = null, this.markerWrapper_.style.MozUserSelect = "", this.markerWrapper_.style.KhtmlUserSelect = "", this.markerWrapper_.style.WebkitUserSelect = "", this.markerWrapper_.unselectable = "off", this.markerWrapper_.onselectstart = function() {}, this.removeDraggingListeners_(), this.setCursor_("draggable"), google.maps.event.trigger(this, "dragend"), this.draw())
    }, a.prototype.drag = function(a) {
        if (!this.getDraggable() || !this.dragging_) return void this.stopDrag();
        var b = this.mouseX_ - a.clientX,
            c = this.mouseY_ - a.clientY;
        this.mouseX_ = a.clientX, this.mouseY_ = a.clientY;
        var d = parseInt(this.markerWrapper_.style.left, 10) - b,
            e = parseInt(this.markerWrapper_.style.top, 10) - c;
        this.markerWrapper_.style.left = d + "px", this.markerWrapper_.style.top = e + "px";
        var f = this.getOffset_(),
            g = new google.maps.Point(d - f.width, e - f.height),
            h = this.getProjection();
        this.setPosition(h.fromDivPixelToLatLng(g)), this.setCursor_("dragging"), google.maps.event.trigger(this, "drag")
    }, a.prototype.removeDragListeners_ = function() {
        this.draggableListener_ && (google.maps.event.removeListener(this.draggableListener_), delete this.draggableListener_), this.setCursor_("")
    }, a.prototype.addDragging_ = function(a) {
        if (a) {
            var b = this;
            this.draggableListener_ = google.maps.event.addDomListener(a, "mousedown", function(a) {
                b.startDrag(a)
            }), this.setCursor_("draggable")
        }
    }, a.prototype.addDraggingListeners_ = function() {
        var a = this;
        this.markerWrapper_.setCapture ? (this.markerWrapper_.setCapture(!0), this.draggingListeners_ = [google.maps.event.addDomListener(this.markerWrapper_, "mousemove", function(b) {
            a.drag(b)
        }, !0), google.maps.event.addDomListener(this.markerWrapper_, "mouseup", function() {
            a.stopDrag(), a.markerWrapper_.releaseCapture()
        }, !0)]) : this.draggingListeners_ = [google.maps.event.addDomListener(window, "mousemove", function(b) {
            a.drag(b)
        }, !0), google.maps.event.addDomListener(window, "mouseup", function() {
            a.stopDrag()
        }, !0)]
    }, a.prototype.removeDraggingListeners_ = function() {
        if (this.draggingListeners_) {
            for (var a, b = 0; a = this.draggingListeners_[b]; b++) google.maps.event.removeListener(a);
            this.draggingListeners_.length = 0
        }
    }, a.prototype.getOffset_ = function() {
        var a = this.getAnchor();
        if ("object" == ("undefined" == typeof a ? "undefined" : _typeof(a))) return a;
        var c = new google.maps.Size(0, 0);
        if (!this.markerContent_) return c;
        var d = this.markerContent_.offsetWidth,
            e = this.markerContent_.offsetHeight;
        switch (a) {
            case b.TOP_LEFT:
                break;
            case b.TOP:
                c.width = -d / 2;
                break;
            case b.TOP_RIGHT:
                c.width = -d;
                break;
            case b.LEFT:
                c.height = -e / 2;
                break;
            case b.MIDDLE:
                c.width = -d / 2, c.height = -e / 2;
                break;
            case b.RIGHT:
                c.width = -d, c.height = -e / 2;
                break;
            case b.BOTTOM_LEFT:
                c.height = -e;
                break;
            case b.BOTTOM:
                c.width = -d / 2, c.height = -e;
                break;
            case b.BOTTOM_RIGHT:
                c.width = -d, c.height = -e
        }
        return c
    }, a.prototype.onAdd = function() {
        if (this.markerWrapper_ || (this.markerWrapper_ = document.createElement("DIV"), this.markerWrapper_.style.position = "absolute"), this.getZIndex() && (this.markerWrapper_.style.zIndex = this.getZIndex()), this.markerWrapper_.style.display = this.getVisible() ? "" : "none", !this.markerContent_) {
            this.markerContent_ = document.createElement("DIV"), this.markerWrapper_.appendChild(this.markerContent_);
            var a = this;
            google.maps.event.addDomListener(this.markerContent_, "click", function(b) {
                google.maps.event.trigger(a, "click")
            }), google.maps.event.addDomListener(this.markerContent_, "mouseover", function(b) {
                google.maps.event.trigger(a, "mouseover")
            }), google.maps.event.addDomListener(this.markerContent_, "mouseout", function(b) {
                google.maps.event.trigger(a, "mouseout")
            })
        }
        this.ready_ = !0, this.content_changed(), this.flat_changed(), this.draggable_changed();
        var b = this.getPanes();
        b && b.overlayMouseTarget.appendChild(this.markerWrapper_), google.maps.event.trigger(this, "ready")
    }, a.prototype.onAdd = a.prototype.onAdd, a.prototype.draw = function() {
        if (this.ready_ && !this.dragging_) {
            var a = this.getProjection();
            if (a) {
                var b = this.get("position"),
                    c = a.fromLatLngToDivPixel(b),
                    d = this.getOffset_();
                this.markerWrapper_.style.top = c.y + d.height + "px", this.markerWrapper_.style.left = c.x + d.width + "px";
                var e = this.markerContent_.offsetHeight,
                    f = this.markerContent_.offsetWidth;
                f != this.get("width") && this.set("width", f), e != this.get("height") && this.set("height", e)
            }
        }
    }, a.prototype.draw = a.prototype.draw, a.prototype.onRemove = function() {
        this.markerWrapper_ && this.markerWrapper_.parentNode && this.markerWrapper_.parentNode.removeChild(this.markerWrapper_), this.removeDragListeners_()
    }, a.prototype.onRemove = a.prototype.onRemove;
    var b = {
        TOP_LEFT: 1,
        TOP: 2,
        TOP_RIGHT: 3,
        LEFT: 4,
        MIDDLE: 5,
        RIGHT: 6,
        BOTTOM_LEFT: 7,
        BOTTOM: 8,
        BOTTOM_RIGHT: 9
    };
    window.RichMarkerPosition = b
}

function _isLast(a, b) {
    return a === b.length - 1
}

function _isInteger(a) {
    return /^\d+$/.test(a)
}

function _toString(a) {
    return "string" == typeof a.__default ? a.__default : "ResourceBundle " + JSON.stringify(a)
}

function _message(a, b) {
    for (var c = arguments.length, d = Array(c > 2 ? c - 2 : 0), e = 2; c > e; e++) d[e - 2] = arguments[e];
    var f = b.split(".").reduce(function(a, b) {
        return a ? a[b] : a
    }, a);
    "object" === ("undefined" == typeof f ? "undefined" : _typeof(f)) && f.hasOwnProperty("__default") && (f = f.__default);
    var g = "object" === ("undefined" == typeof f ? "undefined" : _typeof(f)) ? void 0 : f;
    if ("string" == typeof g)
        for (var h = function(a) {
                g = g.replace(new RegExp("\\{" + a + "\\}", "g"), function() {
                    return d[a]
                }), g = g.replace(new RegExp("\\$\\$" + a + "\\$\\$", "g"), function() {
                    return d[a]
                })
            }, i = 0; i < d.length; i++) h(i);
    return g
}

function _createArray(a) {
    var b = [];
    return b.message = function(a) {
        for (var c = arguments.length, d = Array(c > 1 ? c - 1 : 0), e = 1; c > e; e++) d[e - 1] = arguments[e];
        return _message(b, a, d)
    }, b.toString = function() {
        return _toString(b)
    }, "undefined" != typeof a && (b.__default = a), b
}

function _createObjectOrArray(a, b, c) {
    return _isInteger(a[b + 1]) ? _createArray(c) : new ResourceBundle("undefined" == typeof c ? {} : {
        __default: c
    })
}
var _get = function a(b, c, d) {
        null === b && (b = Function.prototype);
        var e = Object.getOwnPropertyDescriptor(b, c);
        if (void 0 === e) {
            var f = Object.getPrototypeOf(b);
            return null === f ? void 0 : a(f, c, d)
        }
        if ("value" in e) return e.value;
        var g = e.get;
        return void 0 === g ? void 0 : g.call(d)
    },
    _slicedToArray = function() {
        function a(a, b) {
            var c = [],
                d = !0,
                e = !1,
                f = void 0;
            try {
                for (var g, h = a[Symbol.iterator](); !(d = (g = h.next()).done) && (c.push(g.value), !b || c.length !== b); d = !0);
            } catch (i) {
                e = !0, f = i
            } finally {
                try {
                    !d && h["return"] && h["return"]()
                } finally {
                    if (e) throw f
                }
            }
            return c
        }
        return function(b, c) {
            if (Array.isArray(b)) return b;
            if (Symbol.iterator in Object(b)) return a(b, c);
            throw new TypeError("Invalid attempt to destructure non-iterable instance")
        }
    }(),
    _createClass = function() {
        function a(a, b) {
            for (var c = 0; c < b.length; c++) {
                var d = b[c];
                d.enumerable = d.enumerable || !1, d.configurable = !0, "value" in d && (d.writable = !0), Object.defineProperty(a, d.key, d)
            }
        }
        return function(b, c, d) {
            return c && a(b.prototype, c), d && a(b, d), b
        }
    }(),
    _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(a) {
        return typeof a
    } : function(a) {
        return a && "function" == typeof Symbol && a.constructor === Symbol && a !== Symbol.prototype ? "symbol" : typeof a
    };
! function(a, b, c, d) {
    a.createComponent = function(c, e, f) {
        function g(a) {
            return "object" !== ("undefined" == typeof a ? "undefined" : _typeof(a)) || "Object" !== Object.prototype.toString.call(a).slice(8, -1)
        }

        function h(b, c, d) {
            var e = void 0,
                f = "";
            if (-1 !== c.indexOf(".")) f = ".";
            else {
                if (-1 === c.indexOf("#")) return;
                f = "#"
            }
            e = c.split(f), a(f + e[1], b.$element).off().on(e[0], function(a) {
                a.preventDefault(), b[d](a)
            }), b.registerEvent = h
        }

        function i(b) {
            b.uiElements = {}, b.ui = function(c) {
                return "undefined" != typeof b.uiElements[c] ? b.uiElements[c] : "undefined" != typeof b.uiSelectors[c] ? b.uiElements[c] = a(b.uiSelectors[c], b.$element) : null
            }
        }

        function j() {
            var c = this.options.parentComponent ? this.$parentComponent : this.$element;
            a(b).load(k.bind(this, c)), a(b).on("throttledScroll", k.bind(this, c))
        }

        function k(a) {
            var b = this.inViewport;
            this.inViewport = site.utils.elementInViewport(a, this.options.trackadjust, this.options.trackWindowInnerHeight) ? !0 : !1, this._onEnterViewport && b !== this.inViewport && this.inViewport ? this._onEnterViewport() : this._onExitViewport && b !== this.inViewport && !this.inViewport && this._onExitViewport()
        }

        function l(c, d) {
            var e = c.find("span[data-picture][data-background-image]").not("[data-picture-ignore]"),
                f = -(a(b).height() / 2),
                g = site.utils.elementInViewport(c, f, !1) ? !0 : !1;
            this.removeOnScroll = function() {
                d && d.removeOnScroll()
            };
            var h = this;
            0 === e.length && this.removeOnScroll(), g && 0 !== e.length && a.each(e, function(d, e) {
                var f = a(e),
                    i = [],
                    j = null;
                if ("true" === f.attr("data-filterby-orientation")) {
                    var k = "landscape";
                    f.height() > f.width() && (k = "portrait"), j = a('> span[data-orientation="' + k + '"]', f)
                } else j = a("> span", f);
                if (a.each(j, function(c, d) {
                        var e = a(d),
                            f = e.attr("data-media");
                        (!f || b.matchMedia && b.matchMedia(f).matches) && i.push(e)
                    }), g) {
                    var l = i.pop(),
                        m = l.data("src"),
                        n = l.parent(),
                        o = n.css("background-image"),
                        p = 'url("' + m + '")',
                        q = f.data("align");
                    "undefined" !== q && f.css("background-position", q), n.addClass("image backgroundImage"), -1 === o.indexOf(m) && (n.css({
                        "background-image": p
                    }), h.removeOnScroll()), c.trigger("lazyloading:complete")
                }
            })
        }
        if ("string" != typeof c || !c) return void console.log("Error: you must specify a valid plugin name on the first parameter of the method.", c);
        if (e === d || !e || g(e)) return void console.log("Error: you must specify a valid plugin implementation on the second parameter of the method.", e);
        if ("function" == typeof a.fn[c]) return void console.log("Error: there's already a jQuery plugin defined with this name.", c, a.fn[c].constructor);
        "function" != typeof Object.create && (Object.create = function(a) {
            function b() {}
            return b.prototype = a, new b
        });
        var m = {
            _name: "",
            _defaults: {
                trackadjust: 0,
                trackWindowInnerHeight: !1
            },
            _init: function(c, d, e) {
                var g = this,
                    k = this;
                if (this.ok = !1, this._name = c, this.element = d, this.$element = a(d), this.options = f ? a.extend(!0, {}, this._defaults, e) : a.extend({}, this._defaults, e), this.inViewport = !1, this.uid = this.getUID(), this.events && a.each(this.events, function(a, b) {
                        h(k, a, b)
                    }), !this.$element.is("body, #content")) {
                    var m = site.utils.throttle(l, 500, this);
                    a(b).on("scroll." + this.uid, function() {
                        m(g.$element)
                    }), a(b).on("lazyload", function() {
                        l(g.$element, g)
                    }), a(b).smartresize(function() {
                        l(g.$element, g)
                    }), l(this.$element, this)
                }
                this.uiSelectors && i(k), this.options.trackInViewport && j.apply(this), site.rtl === !0 && "function" == typeof this.init_rtl && this.init_rtl(), "function" == typeof this.init && this.init()
            },
            removeOnScroll: function() {
                a(b).off("scroll." + this.uid)
            },
            getUID: function() {
                return "id-" + Math.random().toString(36).substr(2, 16)
            }
        };
        a.fn[c] = function(b) {
            var f, g = Array.prototype.slice.call(arguments, 1);
            return this.each(function() {
                var d = this,
                    h = (a(d), "component_" + c),
                    i = a.data(d, h);
                if (!i) {
                    var j = a.extend({}, m, e);
                    i = a.data(d, h, Object.create(j)), i && "function" == typeof i._init && i._init.apply(i, [c, d, b])
                }
                if (i && "string" == typeof b && "_" !== b[0] && "init" !== b) {
                    var k = "destroy" === b ? "_destroy" : b;
                    "function" == typeof i[k] && (f = i[k].apply(i, g)), "destroy" === b && a.data(d, h, null)
                }
            }), f !== d ? f : this
        }
    }
}(window.jQuery, window, document);
var MapFilters = function() {
        function a(b, c, d) {
            _classCallCheck(this, a), this.multiselection = d, this.classPrefix = c, this.element = b, this.filters = [], this.selectToggle = !1;
            var e = this.element.querySelector("." + this.classPrefix + "filters__container");
            if (null !== e && (this.elements = {
                    filtersContainer: this.element.querySelector("." + this.classPrefix + "filters__container"),
                    selectUnselectAll: this.element.querySelector("." + this.classPrefix + "filters__selectUnselectAll"),
                    applyFilters: this.element.querySelector("." + this.classPrefix + "filters__apply")
                }, this._addEvents(), this.elements.filtersContainer.classList.add("hide")), !d) {
                var f = this;
                document.addEventListener("click", function(a) {
                    var b = a.target;
                    do {
                        if (b === f.element) return;
                        b = b.parentNode
                    } while (b);
                    f.close()
                })
            }
            return {
                elements: this.elements,
                hide: this.hide.bind(this),
                show: this.show.bind(this),
                toggle: this.toggle.bind(this),
                close: this.close.bind(this),
                buildMenu: this.buildMenu.bind(this),
                getSelected: this.getSelected.bind(this),
                setSelected: this.setSelected.bind(this),
                enableItem: this.enableItem.bind(this),
                disableItem: this.disableItem.bind(this)
            }
        }
        return _createClass(a, [{
            key: "hide",
            value: function() {
                this.element.classList.add("hide")
            }
        }, {
            key: "show",
            value: function() {
                this.element.classList.remove("hide")
            }
        }, {
            key: "buildMenu",
            value: function(a, b) {
                var c = this;
                if (void 0 !== this.elements) {
                    for (var d = this, e = this.elements.filtersContainer.querySelector("ul li"), f = this.elements.filtersContainer.querySelector("ul"); f.firstChild;) f.removeChild(f.firstChild);
                    a.forEach(function(a) {
                        var g = e.cloneNode(!0),
                            h = "off",
                            i = !1;
                        if (g.querySelector("span").textContent = a.label, g.setAttribute("data-filter", a.filter), b) {
                            var j = !0,
                                k = !1,
                                l = void 0;
                            try {
                                for (var m, n = b[Symbol.iterator](); !(j = (m = n.next()).done); j = !0) {
                                    var o = m.value;
                                    a.filter === o && (i = !0)
                                }
                            } catch (p) {
                                k = !0, l = p
                            } finally {
                                try {
                                    !j && n["return"] && n["return"]()
                                } finally {
                                    if (k) throw l
                                }
                            }
                        }
                        i === !0 ? (g.classList.add(c.classPrefix + "filter--on"), h = "on", c.multiselection || (c.element.querySelector(".current-filter").textContent = a.label)) : g.classList.add(c.classPrefix + "filter--off"), a.active || c.multiselection || g.classList.add(c.classPrefix + "filter--disabled"), f.appendChild(g), c.filters.push({
                            filterValue: a.filter,
                            filterState: h,
                            filterItem: g
                        }), g.onclick = function() {
                            if (d.multiselection) {
                                if (g.classList.contains(c.classPrefix + "filter--on")) {
                                    g.classList.remove(c.classPrefix + "filter--on"), g.classList.add(c.classPrefix + "filter--off");
                                    var b = !0,
                                        e = !1,
                                        f = void 0;
                                    try {
                                        for (var h, i = c.filters[Symbol.iterator](); !(b = (h = i.next()).done); b = !0) {
                                            var j = h.value;
                                            a.filter === j.filterValue && (j.filterState = "off")
                                        }
                                    } catch (k) {
                                        e = !0, f = k
                                    } finally {
                                        try {
                                            !b && i["return"] && i["return"]()
                                        } finally {
                                            if (e) throw f
                                        }
                                    }
                                } else {
                                    g.classList.remove(c.classPrefix + "filter--off"), g.classList.add(c.classPrefix + "filter--on");
                                    var l = !0,
                                        m = !1,
                                        n = void 0;
                                    try {
                                        for (var o, p = c.filters[Symbol.iterator](); !(l = (o = p.next()).done); l = !0) {
                                            var q = o.value;
                                            a.filter === q.filterValue && (q.filterState = "on")
                                        }
                                    } catch (k) {
                                        m = !0, n = k
                                    } finally {
                                        try {
                                            !l && p["return"] && p["return"]()
                                        } finally {
                                            if (m) throw n
                                        }
                                    }
                                }
                                null !== c.elements.selectUnselectAll && c._setSelectUnselectState()
                            } else {
                                if (g.classList.contains(c.classPrefix + "filter--disabled")) return;
                                d.checkRadioButton(g, a.filter)
                            }
                        }
                    })
                }
            }
        }, {
            key: "getSelected",
            value: function() {
                var a = this,
                    b = [];
                return this.filters.forEach(function(c) {
                    c.filterItem.classList.contains(a.classPrefix + "filter--on") && b.push(c.filterValue)
                }), b
            }
        }, {
            key: "setSelected",
            value: function(a) {
                var b = this;
                this.filters.forEach(function(c) {
                    c.filterValue === a && b.checkRadioButton(c.filterItem, a)
                })
            }
        }, {
            key: "disableItem",
            value: function(a) {
                var b = this;
                this.filters.forEach(function(c) {
                    c.filterValue === a && c.filterItem.classList.add(b.classPrefix + "filter--disabled")
                })
            }
        }, {
            key: "enableItem",
            value: function(a) {
                var b = this;
                this.filters.forEach(function(c) {
                    c.filterValue === a && c.filterItem.classList.remove(b.classPrefix + "filter--disabled")
                })
            }
        }, {
            key: "checkRadioButton",
            value: function(a, b) {
                var c = this,
                    d = this.getSelected();
                this.filters.forEach(function(a) {
                    a.filterItem.classList.remove(c.classPrefix + "filter--on"), a.filterItem.classList.add(c.classPrefix + "filter--off")
                }), a.classList.remove(this.classPrefix + "filter--off"), a.classList.add(this.classPrefix + "filter--on"), d.indexOf(b) < 0 && this.element.dispatchEvent(new CustomEvent("filterClicked", {
                    bubbles: !0,
                    detail: {
                        filters: this.filters
                    }
                })), this.element.querySelector(".current-filter").textContent = a.querySelector("span").textContent
            }
        }, {
            key: "close",
            value: function() {
                this.element.classList.remove("active"), this.element.classList.add("inactive"), this.elements.filtersContainer.classList.add("hide")
            }
        }, {
            key: "toggle",
            value: function() {
                this.elements.filtersContainer.classList.contains("hide") ? (this.element.classList.remove("inactive"), this.element.classList.add("active"), this.elements.filtersContainer.classList.remove("hide")) : (this.element.classList.remove("active"), this.element.classList.add("inactive"), this.elements.filtersContainer.classList.add("hide"))
            }
        }, {
            key: "_addEvents",
            value: function() {
                var a = this;
                this.element.onclick = function(b) {
                    (b.target === a.element || b.target === a.element.querySelector("span")) && a.toggle()
                }, null !== this.elements.applyFilters && this.element.addEventListener("click", function(b) {
                    var c = a.elements.applyFilters.querySelector("span");
                    (b.target === a.elements.applyFilters || b.target === c) && (a.elements.applyFilters.classList.contains("inactive") || (a.elements.filtersContainer.classList.add("hide"), a.element.classList.remove("active"), a.element.classList.add("inactive"), a.element.dispatchEvent(new CustomEvent("filterClicked", {
                        bubbles: !0,
                        detail: {
                            filters: a.filters
                        }
                    }))))
                }), null !== this.elements.selectUnselectAll && this.elements.selectUnselectAll.addEventListener("click", function() {
                    a._toggleFilters(!a.selectToggle), a._setSelectUnselectState()
                })
            }
        }, {
            key: "_setSelectUnselectState",
            value: function() {
                var a = !0,
                    b = !0,
                    c = !0,
                    d = !1,
                    e = void 0;
                try {
                    for (var f, g = this.filters[Symbol.iterator](); !(c = (f = g.next()).done); c = !0) {
                        var h = f.value;
                        "on" === h.filterState && (b = !1), "off" === h.filterState && (a = !1)
                    }
                } catch (i) {
                    d = !0, e = i
                } finally {
                    try {
                        !c && g["return"] && g["return"]()
                    } finally {
                        if (d) throw e
                    }
                }
                a && (this.selectToggle = !0, this.elements.selectUnselectAll.classList.remove("active"), this.elements.selectUnselectAll.classList.add("inactive"), this.elements.selectUnselectAll.querySelector("span").textContent = "UNSELECT ALL"), b ? (this.selectToggle = !1, this.elements.selectUnselectAll.classList.remove("inactive"), this.elements.selectUnselectAll.classList.add("active"), this.elements.selectUnselectAll.querySelector("span").textContent = "SELECT ALL", this.elements.applyFilters.classList.add("inactive")) : this.elements.applyFilters.classList.remove("inactive")
            }
        }, {
            key: "_toggleFilters",
            value: function(a) {
                var b = !0,
                    c = !1,
                    d = void 0;
                try {
                    for (var e, f = this.filters[Symbol.iterator](); !(b = (e = f.next()).done); b = !0) {
                        var g = e.value;
                        g.filterState = a === !0 ? "on" : "off"
                    }
                } catch (h) {
                    c = !0, d = h
                } finally {
                    try {
                        !b && f["return"] && f["return"]()
                    } finally {
                        if (c) throw d
                    }
                }
                var i = !0,
                    j = !1,
                    k = void 0;
                try {
                    for (var l, m = this.elements.filtersContainer.querySelector("ul").children[Symbol.iterator](); !(i = (l = m.next()).done); i = !0) {
                        var n = l.value;
                        a ? (n.classList.remove(this.classPrefix + "filter--off"), n.classList.add(this.classPrefix + "filter--on")) : (n.classList.remove(this.classPrefix + "filter--on"), n.classList.add(this.classPrefix + "filter--off"))
                    }
                } catch (h) {
                    j = !0, k = h
                } finally {
                    try {
                        !i && m["return"] && m["return"]()
                    } finally {
                        if (j) throw k
                    }
                }
            }
        }]), a
    }(),
    MapLocation2Base = function() {
        function a(b, c) {
            _classCallCheck(this, a), this.cp = b, this.className = c, this.map = $("#map"), this.markers = [], this.userMarker = null, this.country = {}, this.isMobileNav = !1, this.isTouchDevice = !1, this.resize = !0, this.repositionMap = !0, this.apiReady = !1, this.disambiguationSearch = !1, this.mapDraggable = !0, this.bounds = [], this.inputSearch = !1, this.mapStyles = site.utils.googleMapStyles, this._mapDisabled = !1, this.directionMarkers = {
                start: !1,
                end: !1,
                icon: !1
            }, this.zeroResultsHeading = $(".zeroResultsHeading").text(), this.multipleResultsHeading = $(".multiLocationHeading").text(), this._directionsService = null, this._directionsRenderer = null, this._usersLocation = null, this._geocoder = null, this._directionsPanel = null, this._usersLocationText = null, this._eventLocationText = null, this._currentMarker = !1, this._currentRoute = !1, this._directionsTranslation = !1, this._language = null, this._market = null, this.$locations = null, this.$search = null, this.$searchInput = null, this._isJaguar = !1, this._clusterer = null, this._listViewText = null, this._mapViewText = null, this._userLocationId = null, this._userLocationComponent = null, this._oldMarkerId = null, this._currentMarkerId = null, this._bottomPanelShown = !1, this.hasDistances = !1, this.markerSelected = !1, this.disableDate = !1
        }
        return _createClass(a, [{
            key: "init",
            value: function() {
                this.$element = this.cp.$element;
                var a = $(".map-page-container", this.$element);
                this.$searchInput = $(".searchInput", this.$element), this.$search = $(".MapLocationSearchContainer", this.$element), this.$locations = $(".MapLocationCards", this.$element).find(".card");
                this.imageEls = $(".FullWidthCards").find(".width-2of3");
                var b = document.documentElement.lang; - 1 !== b.indexOf("-") && (this._language = b.split("-")[0], this._market = b.split("-")[1].toLowerCase()), 0 !== $("#jaguar").length && (this._isJaguar = !0), this._isArtOfPerformance = this.cp._isArtOfPerformance, this._isRideAndDrive = this.cp._isRideAndDrive, this._isItineraryMap = this.cp._isItineraryMap, this._hasSidePanel = $(".SideBarCards").length ? !0 : !1, this._searchOnTop = $(".MapLocationSearchFormContainerTop").length, this._directionsTranslation = this.$element.find(".MapLocationMap").attr("directions-txt"), this._directionsPanel = $(".directions-panel", this.$element), this._mapDisabled = this.$element.data("map-enabled") === !1, this._screenSize(), this._mapDisabled ? a.hide() : (this._mapHeight(), this._loadGoogleMaps()), this._hasSidePanel && (this._listViewText = $(".MapLocationTextKeys .listViewText").text(), this._mapViewText = $(".MapLocationTextKeys .mapViewText").text(), $(".map-mobile-menu__view").text(this._listViewText), $(".map-mobile-menu__view").addClass("icon-filter"), this._setSlidePanelButtonVisibility(), this.filtersElement = this.cp.element.querySelector(".filters"), this.sortersElement = this.cp.element.querySelector(".sorters"), this.filters = new MapFilters(this.filtersElement, ""), this.sorters = new MapFilters(this.sortersElement, ""), this.numberDisplayedPins = 0, this.$element.find(".MapLocationCard__cta-wrapper a").addClass("primaryLinkWithStyle")), this._setUpEvents()
            }
        }, {
            key: "_setSlidePanelButtonVisibility",
            value: function() {
                site.utils.isMobileDevice() ? $(".slide-panel-close").css("visibility", "visible") : $(".slide-panel-close").css("visibility", "hidden"), site.utils.isBreakpointSmall() && $(".slide-panel-close").css("visibility", "hidden")
            }
        }, {
            key: "_setUpEvents",
            value: function() {
                var a = this,
                    b = this;
                this._hasSidePanel && ($(".slide-panel-close").click(function(b) {
                    b.preventDefault(), a._toggleSidePanel()
                }), b._setUpCardEvents(), $(".bottom-panel__eventLocation").click(function(a) {
                    a.preventDefault();
                    var c = null !== b._userLocationId ? "&origin=" + encodeURI(b._userLocationId) : "";
                    window.open("https://www.google.com/maps/dir/?api=1" + c + "&destination=" + encodeURI($(this).attr("data-city")))
                }), $(".viewMapContainer").on("click tap", function(a) {
                    a.preventDefault(), "none" !== $(".map-mobile-menu").css("display") && b._toggleMapListView()
                }), $(".panelShare .share").on("click tap", function(a) {
                    a.stopPropagation()
                }), $(".map-mobile-menu__view").on("click tap", function(a) {
                    b._toggleMapListView(), b._toggleMapKey(!1), $("html, body").animate({
                        scrollTop: $(".map-page-container").offset().top
                    }, {
                        duration: 300,
                        progress: function() {
                            $(window).scroll()
                        }
                    })
                }), $(".map-mobile-menu__new-search").on("click tap", function(a) {
                    $(".slide-panel").hasClass("visible") && b._toggleMapListView(), b._toggleMapKey(!1), $("html, body").animate({
                        scrollTop: 0
                    }, 800)
                }), $(".map-mobile-menu__key").on("click", function(a) {
                    $(".slide-panel").hasClass("visible") && b._toggleMapListView(), b._toggleMapKey(), $("html, body").animate({
                        scrollTop: $(".map-page-container").offset().top
                    }, {
                        duration: 300,
                        progress: function() {
                            $(window).scroll()
                        }
                    })
                }), $(".bottom-panel__close").on("click", function(a) {
                    b._bottomPanelShown = !1, $(".map-mobile-menu_bottom-panel").css({
                        bottom: -200
                    }), b._unselectAllMarkers(), b._unselectAllCard(), b._unselectAllMarkersIconsFromCard(), setTimeout(function() {}, 300)
                }), $(".bottom-panel__container .primaryLinkWithStyle").on("click", function(a) {
                    a.preventDefault(), b._toggleMapListView()
                })), $(".searchAgainCTA, .searchAgainBtn", this.$element).on("click tap", function() {
                    a.$searchInput.val(""), $("html, body").animate({
                        scrollTop: a.$search.offset().top - $(".utility").height()
                    }, 800, function() {
                        b.$searchInput.focus()
                    })
                }), $(window).smartresize(function() {
                    a._mapDisabled || a._mapHeight(), a._screenSize(), a._alignErrorMessage()
                }), this._mapDisabled || (this._mapHeight(), this.resize && this.apiReady && this._centreMapOnCountry()), $(window).on("api:ready", function() {
                    a._alignErrorMessage(), a._mapDisabled || (a.apiReady = !0, a.infoBox = window.loadInfoBox(), a._setupDirections(), a._initMap()), $(".MapLocationSearch").on("submit", function(b) {
                        b.preventDefault(), a._removeError(), a.disambiguationSearch || !a._hasSidePanel ? a._geocodeInput() : a._autocompleteInput()
                    })
                }), $(window).scroll(function() {
                    $("#map-view").offset().top + $("#map-view").height() - ($(this).scrollTop() + $(this).height()) < 0 ? $(".map-mobile-menu_bottom-panel").css("position", "absolute") : $(".map-mobile-menu_bottom-panel").css("position", "fixed")
                })
            }
        }, {
            key: "_setUpCardEvents",
            value: function() {
                var a = this,
                    b = this;
                $(".card").click(function(b) {
                    a._findMarkerToHighlight($(b.currentTarget).parent().attr("id")), a._scrollToSlidePanelCard($(b.currentTarget).parent().attr("id"), null, !0)
                }), $(".card .eventInfo__location").click(function(a) {
                    a.preventDefault();
                    var c = null !== b._userLocationId ? "&origin=" + encodeURI(b._userLocationId) : "";
                    window.open("https://www.google.com/maps/dir/?api=1" + c + "&destination=" + encodeURI($(this).closest(".card").attr("data-city")))
                }), $(".eventContent .cta-primary").on("click", function(a) {
                    a.stopPropagation()
                })
            }
        }, {
            key: "_toggleMapKey",
            value: function(a) {
                switch (a) {
                    case !0:
                        $(".map-key").css("display", "block"), $(".map-mobile-menu__key").addClass("visible");
                        break;
                    case !1:
                        $(".map-key").css("display", "none"), $(".map-mobile-menu__key").removeClass("visible");
                        break;
                    default:
                        var b = $(".map-key").css("display");
                        $(".map-key").css("display", "none" === b ? "block" : "none"), $(".map-mobile-menu__key").hasClass("visible") ? $(".map-mobile-menu__key").removeClass("visible") : $(".map-mobile-menu__key").addClass("visible")
                }
            }
        }, {
            key: "_toggleMapListView",
            value: function() {
                $(".slide-panel").hasClass("visible") ? ($(".map-mobile-menu__view").removeClass("icon-map-pin-jaguar").addClass("icon-filter"), $(".map-mobile-menu__view").text(this._listViewText)) : ($(".map-mobile-menu__view").removeClass("icon-filter").addClass("icon-map-pin-jaguar"), $(".map-mobile-menu__view").text(this._mapViewText)), this._toggleSidePanel()
            }
        }, {
            key: "_getCardContainer",
            value: function(a) {
                return a.closest(".cardContainer")
            }
        }, {
            key: "_removeError",
            value: function() {
                $(".searchForm-error-container").css("display", "none"), $(".searchInput").removeClass("searchInput-error")
            }
        }, {
            key: "_loadGoogleMaps",
            value: function() {
                $(window).trigger("gmapsReady")
            }
        }, {
            key: "_initMap",
            value: function() {
                var a = this;
                this.directionMarkers.icon = new google.maps.MarkerImage("/resources/public/images/pin-red.png", new google.maps.Size(35, 45), new google.maps.Point(0, 0), new google.maps.Point(17, 45));
                var b = $("#map-controls", this.$element).find(".locate"),
                    c = this.$element.find(".card"),
                    d = c.attr("data-lat"),
                    e = c.attr("data-lng");
                if (site.utils.isMobileDevice() && (this.isTouchDevice = !0, this.mapDraggable = !1), this.latlng = new google.maps.LatLng(d, e), this.mapOptions = {
                        zoom: 12,
                        center: this.latlng,
                        disableDefaultUI: !0,
                        gestureHandling: "cooperative"
                    }, this.googleMap = new google.maps.Map(document.getElementById("map"), this.mapOptions), this._showZoomIcons(), this._centreMapOnCountry(), this.googleMap.setOptions({
                        styles: this.mapStyles
                    }), this._setupZoom(), this._toggleMapLock(), this.bounds = new google.maps.LatLngBounds, this._hasSidePanel) {
                    var f = this.$element.find(".slide-panel-holder");
                    this.dataFilters = JSON.parse(f.attr("data-filters")), this.dataSorters = JSON.parse(f.attr("data-sorters")), this.disableDate = f.attr("data-disable-date");
                    var g = [];
                    this.dataFilters.forEach(function(a) {
                        a.selected && g.push(a.key)
                    });
                    var h = [];
                    this.dataSorters.forEach(function(a) {
                        a.selected && h.push(a.key)
                    }), this.filters.buildMenu(this.dataFilters, g), "true" === this.disableDate && (this.dataSorters = this.dataSorters.filter(function(a) {
                        return "date" !== a.filter
                    })), this.sorters.buildMenu(this.dataSorters, h);
                    var i = this;
                    this.sortersElement.addEventListener("click", function(a) {
                        i.hasDistances ? i.sorters.enableItem("distance") : i.sorters.disableItem("distance")
                    }), null !== this.filtersElement && this.filtersElement.addEventListener("filterClicked", function(b) {
                        a._resetAllEventMarker(), a._addPins(), a._createMarkersClusterer(), a._usersLocation ? (a._nearestLocations(a._usersLocation), a._injectDistanceFromUserLocationInCards()) : a._centreMapOnCountry(), a._sort(), a.filters.close()
                    }), null !== this.sortersElement && this.sortersElement.addEventListener("filterClicked", function(b) {
                        a._usersLocation ? (a._nearestLocations(a._usersLocation), a._injectDistanceFromUserLocationInCards()) : a._centreMapOnCountry(), a._sort(), a.sorters.close()
                    })
                }
                this._addPins(), "false" === $(".MapLocation2").attr("disablegeolocation") ? (this._geolocation(), b.on("click", function() {
                    a._geolocation()
                })) : b.hide(), this._isItineraryMap && this._drawLines(), this._directionsRenderer && this._directionsRenderer.setMap(null), $(window).on("orientationchange", function() {
                    setTimeout(function() {
                        a._currentMarker && (a.googleMap.setCenter(a._currentMarker.getPosition()), $(window).height() < 350 ? a.googleMap.panBy(0, -5) : window.innerWidth <= 330 ? a.googleMap.panBy(0, -125) : a.googleMap.panBy(0, -200)), a._currentRoute && a.googleMap.fitBounds(a._currentRoute), a._setSlidePanelButtonVisibility()
                    }, 500)
                }), this._hasSidePanel && this._createMarkersClusterer()
            }
        }, {
            key: "_addPins",
            value: function() {
                var a = this;
                this.markerSelected = !1;
                var b = [],
                    c = this;
                this._resetAllEventMarker();
                var d = $(".MapLocationCards", this.$element).find(".card"),
                    e = !1,
                    f = $(".map-page-container").attr("pinnumbering"),
                    g = null !== this.filters && void 0 !== this.filters ? this.filters.getSelected() : null,
                    h = -1;
                d.each(function(a) {
                    var d = $(this).data("lat"),
                        i = $(this).data("lng"),
                        j = d + ", " + i,
                        k = new google.maps.LatLng(d, i),
                        l = $(this).closest(".cardContainer"),
                        m = l.attr("data-event-state");
                    if (null != g && g.indexOf(m) < 0) return void l.hide();
                    h++, (c._hasSidePanel || !l.hasClass("past")) && l.show();
                    var n = l.attr("id");
                    b.push(k), c.bounds.extend(k);
                    var o = $(this).data("image"),
                        p = $(this).data("image-alt"),
                        q = $(this).find(".eventName"),
                        r = $(this).find(".eventInfo"),
                        s = $(this).find(".coordinates"),
                        t = $(this).data("short-desc") ? $(this).data("short-desc") : "",
                        u = void 0;
                    $(this).parents(".MapLocationCards").hasClass("FullWidthCards") || c._isItineraryMap ? (u = $(this).find(".MapLocationCard__cta-wrapper").find(".FindOutMore").parent().clone(), u.find(".GalleryLink").remove(), u.find("a").attr("href", "#" + n), e = !0) : $(this).find(".cta-primary").text().length > 0 && (u = $(this).find(".cta-primary").parent().clone());
                    var v = l.hasClass("past") && ($(this).parents(".MapLocationCards").hasClass("GridCards") || $(this).parents(".MapLocationCards").hasClass("SideBarCards")) ? "past" : "future";
                    c._hasSidePanel || ("past" === v ? $(".pastEvent", this.$element).css({
                        display: "block"
                    }) : $(".futureEvent", this.$element).css({
                        display: "block"
                    }));
                    var w = new google.maps.Size(28, 38),
                        x = $(this).data("pin");
                    x.indexOf("Star") > -1 && (x = "/resources/public/images/TAOPT/TOAPT_pin_red_lineIn.png"), x = x.replace("svg", "png");
                    var y = {
                            text: (h + 1).toString(),
                            color: "white"
                        },
                        z = new google.maps.Point(14, 15);
                    if (site.utils.isLandRover() || c._hasSidePanel) {
                        var A = "white";
                        "past" === v ? (x = "/resources/public/images/ExperienceDriveMapAndLocator/map-pin-factory.png", A = "black") : x = "/resources/public/images/ExperienceDriveMapAndLocator/map-pin-experiences.png", y = site.utils.isLandRover() ? {
                            text: "" + (9 > h ? "0" : "") + (h + 1).toString(),
                            color: A,
                            fontFamily: "AvenirNext",
                            fontSize: "14px"
                        } : {
                            text: "" + (9 > h ? "0" : "") + (h + 1).toString(),
                            color: A,
                            fontWeight: "500",
                            fontFamily: "JLR Proxima Nova",
                            fontSize: "14px"
                        }, w = new google.maps.Size(54, 54), z = new google.maps.Point(27, 20)
                    }
                    y = "true" === f ? y : "";
                    var B = new google.maps.Marker({
                        position: k,
                        map: c.googleMap,
                        label: y,
                        id: n,
                        name: q,
                        eventStatus: v,
                        icon: {
                            url: x,
                            labelOrigin: z,
                            scaledSize: w
                        },
                        zIndex: parseInt(h + 1)
                    });
                    c._createInfoBox(B, x, v, o, p, q, r, t, s, u, j);
                    c.markers.push(B), google.maps.event.addListener(B, "click", function(a) {
                        return function() {
                            c._markerOnClick(this, a)
                        }
                    }(B))
                }), this.numberDisplayedPins = h + 1, this._setupFilterResultLabel(), this._setUpGlobalMapEvents(), this._addDir(b), this.repositionMap && $(window).on("geocodingComplete", function() {
                    a.googleMap.fitBounds(a.bounds), a._isItineraryMap && a.googleMap.setZoom(a.googleMap.zoom - 1)
                }), this._hasSidePanel && this._sort()
            }
        }, {
            key: "_sort",
            value: function() {
                this._sortCards(), this._sortPinNumbers()
            }
        }, {
            key: "_setupFilterResultLabel",
            value: function() {
                if (this._hasSidePanel) {
                    var a = this,
                        b = !0,
                        c = $(".MapLocationCards", this.$element).find(".filter_counter_label"),
                        d = "data-global-template",
                        e = c.attr("data-global-location-name") ? c.attr("data-global-location-name") : "United Kingdom";
                    null !== this._userLocationComponent && (e = this._generateFilterResultLocationLabel(), d = "data-area-template", b = !1);
                    var f = c.attr(d),
                        g = f.replace("%nb_tours%", this.numberDisplayedPins);
                    $(c).html(g.replace("%location%", "<a href='#' class='cta-primary'>" + e + "</a>")), $(c).find(".cta-primary").click(function(c) {
                        c.preventDefault(), b ? a._centreMapOnCountry() : a._nearestLocations(a._usersLocation)
                    })
                }
            }
        }, {
            key: "_generateFilterResultLocationLabel",
            value: function() {
                var a = [],
                    b = !1;
                return this._userLocationComponent.forEach(function(c) {
                    c.types.indexOf("postal_code") > -1 ? (b = !0, a = [], a.push(c.long_name)) : !b && (c.types.indexOf("route") > -1 || c.types.indexOf("postal_town") > -1) && a.push(c.long_name)
                }), a.join(", ")
            }
        }, {
            key: "_sortAlphabetically",
            value: function(a, b) {
                return b > a ? -1 : a > b ? 1 : 0
            }
        }, {
            key: "_sortCards",
            value: function() {
                var a = this,
                    b = null !== this.sorters && void 0 !== this.sorters ? this.sorters.getSelected()[0] : null,
                    c = $(".MapLocationCards", this.$element).find(".cardContainer"),
                    d = $(".cardList");
                switch (b) {
                    case "date":
                        c.sort(function(a, b) {
                            var c = new Date($(a).attr("data-event-date")),
                                d = new Date($(b).attr("data-event-date"));
                            return c.getTime() - d.getTime()
                        });
                        break;
                    case "alphabetical":
                        c.sort(function(b, c) {
                            var d = $(b).attr("data-event-name").toLowerCase(),
                                e = $(c).attr("data-event-name").toLowerCase();
                            return a._sortAlphabetically(d, e)
                        });
                        break;
                    case "alphabeticalreverse":
                        c.sort(function(b, c) {
                            var d = $(b).attr("data-event-name").toLowerCase(),
                                e = $(c).attr("data-event-name").toLowerCase();
                            return a._sortAlphabetically(d, e)
                        }), c.reverse();
                        break;
                    case "distance":
                        if (!this.hasDistances) return "true" === this.disableDate ? this.sorters.setSelected("alphabetical") : this.sorters.setSelected("date"), void this._sortCards();
                        c.sort(function(a, b) {
                            return parseFloat($(a).attr("data-event-distance")) - parseFloat($(b).attr("data-event-distance"))
                        })
                }
                c.detach().appendTo(d)
            }
        }, {
            key: "_sortPinNumbers",
            value: function() {
                if (!(this.markers.length < 1)) {
                    var a = this.markers.reduce(function(a, b) {
                            return a[b.id] = b, a
                        }, {}),
                        b = $(".MapLocationCards", this.$element).find(".cardContainer"),
                        c = 0;
                    b.each(function(b, d) {
                        if ("none" !== $(d).css("display")) {
                            c++;
                            var e = a[$(d).attr("id")].getLabel();
                            e.text = "" + (10 > c ? "0" : "") + c.toString(), a[$(d).attr("id")].setLabel(e);
                            var f = $(d).find(".eventNameIcon");
                            $(f).text("" + (10 > c ? "0" : "") + c.toString())
                        }
                    })
                }
            }
        }, {
            key: "_setMapKeysState",
            value: function() {
                var a = $(".filters__container .filter--on").attr("data-filter"),
                    b = a === $(".map-key #pastEventContainer").attr("data-event-key"),
                    c = a === $(".map-key #futureEventContainer").attr("data-event-key");
                b ? ($(".pastEvent").addClass("active"), this.markerSelected && $(".pastEventSelected").addClass("active"), $(".pastEventSelected").css("display", "block")) : ($(".pastEvent, .pastEventSelected").removeClass("active"), $(".pastEventSelected").css("display", "none")), c ? ($(".futureEvent").addClass("active"), this.markerSelected && $(".futureEventSelected").addClass("active"), $(".futureEventSelected").css("display", "block")) : ($(".futureEvent, .futureEventSelected").removeClass("active"), $(".futureEventSelected").css("display", "none")), null !== this._userLocationId ? $(".userLocation").addClass("active") : $(".userLocation").removeClass("active"), b && $("#futureEventContainer").before($("#pastEventContainer")), c && $("#pastEventContainer").before($("#futureEventContainer")), setTimeout(function() {
                    $(".map.GoogleMap div[style*='m1.png']").length > 0 ? $(".clusterEvent").addClass("active") : $(".clusterEvent").removeClass("active")
                }, 100)
            }
        }, {
            key: "_markerOnClick",
            value: function(a, b) {
                this.markerSelected = !0, this._setMapKeysState(), site.utils.isBreakpointSmall() || $(".slide-panel-close").css("visibility", "visible"), this._hasSidePanel && ("none" === $(".map-mobile-menu").css("display") && this._toggleSidePanel(!0), this._highlightMarker(b), this._scrollToSlidePanelCard(b.id, b))
            }
        }, {
            key: "_unselectAllCard",
            value: function() {
                $(".cardContainer").each(function() {
                    $(this).find(".card").removeClass("card-selected")
                })
            }
        }, {
            key: "_highlightCard",
            value: function(a, b) {
                var c = a.find(".eventNameIcon"),
                    d = void 0;
                this._unselectAllCard(), a.addClass("card-selected"), (c.hasClass("upcoming-tour-default") || c.hasClass("upcoming-tour-selected")) && (c.addClass("upcoming-tour-selected"), d = "upcoming-tour-selected"), (c.hasClass("past-tour-default") || c.hasClass("past-tour-selected")) && (c.addClass("past-tour-selected"), d = "past-tour-selected"), c.removeClass("upcoming-tour-default past-tour-default"), this._updateBottomPanel(a, d, b)
            }
        }, {
            key: "_updateBottomPanel",
            value: function(a, b, c) {
                $(".bottom-panel__container h3").html(a.find(".eventContent h3").html()), $(".bottom-panel__eventLocation .field-value").html(a.find(".eventInfo__location .field-value").html()), $(".bottom-panel__eventLocation").attr("data-city", a.attr("data-city")), $(".bottom-panel__container .eventNameIcon").removeClass("upcoming-tour-default upcoming-tour-selected past-tour-default past-tour-selected"), $(".bottom-panel__container .eventNameIcon").addClass(b), "none" !== $(".map-mobile-menu").css("display") && (this._oldMarkerId === this._currentMarkerId && this._bottomPanelShown === !0 && c !== !0 ? (this._bottomPanelShown = !1, $(".map-mobile-menu_bottom-panel").css({
                    bottom: -200
                }), this._unselectAllMarkers(), this._unselectAllCard(), this._unselectAllMarkersIconsFromCard()) : (this._bottomPanelShown = !0, $(".map-mobile-menu_bottom-panel").css({
                    bottom: 0
                }))), this._oldMarkerId = this._currentMarkerId
            }
        }, {
            key: "_unselectAllMarkers",
            value: function() {
                var a = new google.maps.Size(54, 54),
                    b = new google.maps.Point(27, 20),
                    c = void 0;
                this.markers.forEach(function(d) {
                    c = {
                        url: "past" === d.eventStatus ? "/resources/public/images/ExperienceDriveMapAndLocator/map-pin-factory.png" : "/resources/public/images/ExperienceDriveMapAndLocator/map-pin-experiences.png",
                        scaledSize: a,
                        labelOrigin: b
                    }, d.setIcon(c)
                })
            }
        }, {
            key: "_highlightMarker",
            value: function(a) {
                var b = new google.maps.Size(54, 54),
                    c = new google.maps.Point(27, 20),
                    d = void 0;
                this._currentMarkerId = a.id, this._unselectAllMarkers(), d = {
                    url: "past" === a.eventStatus ? "/resources/public/images/DynamicMaps/%brand%-Pin-Outline-Active-Shadow.png" : "/resources/public/images/DynamicMaps/%brand%-Pin-Active-Shadow.png",
                    scaledSize: b,
                    labelOrigin: c
                }, d.url = d.url.replace("%brand%", document.body.id), a.setIcon(d);
                var e = a.getPosition();
                this.googleMap.panTo(e), this.googleMap.setZoom(16);
                var f = $(".map-mobile-menu_bottom-panel");
                this.googleMap.panBy(0, "none" !== f.css("display") ? f.height() / 2 : 0)
            }
        }, {
            key: "_unselectAllMarkersIconsFromCard",
            value: function() {
                $(".cardContainer").each(function() {
                    var a = $(this).hasClass("past") ? "past" : "future",
                        b = $(this).find(".eventNameIcon");
                    b.removeClass("upcoming-tour-default upcoming-tour-selected past-tour-default past-tour-selected"), "future" === a && b.addClass("upcoming-tour-default"), "past" === a && b.addClass("past-tour-default")
                })
            }
        }, {
            key: "_scrollToSlidePanelCard",
            value: function(a, b, c) {
                var d = $(".SideBarCards").find("#" + a),
                    e = d.find(".card"),
                    f = ($(".bottom-panel__eventName"), void 0);
                if (this._unselectAllMarkersIconsFromCard(d), null !== b) {
                    switch (b.eventStatus) {
                        case "future":
                            f = "upcoming-tour-selected";
                            break;
                        case "past":
                            f = "past-tour-selected"
                    }
                    e.find(".eventNameIcon").removeClass("upcoming-tour-default past-tour-default").addClass(f)
                }
                this._highlightCard(e, c), $(".slide-panel-holder").stop(), $(".slide-panel-holder").animate({
                    scrollTop: d.position().top
                }, 600)
            }
        }, {
            key: "_findMarkerToHighlight",
            value: function(a) {
                var b = this;
                this.markers.forEach(function(c) {
                    c.id === a && b._highlightMarker(c)
                })
            }
        }, {
            key: "_createInfoBox",
            value: function() {}
        }, {
            key: "_setUpGlobalMapEvents",
            value: function() {
                var a = this;
                google.maps.event.addListenerOnce(this.googleMap, "idle", function() {
                    a.googleMap.fitBounds(a.bounds), a.googleMap.panBy(0, -1), a.googleMap.panBy(0, 1)
                }), google.maps.event.addListener(this.googleMap, "idle", function() {
                    a._setMapKeysState()
                }), google.maps.event.addListener(this.googleMap, "click", function() {
                    var b = !0,
                        c = !1,
                        d = void 0;
                    try {
                        for (var e, f = a.markers[Symbol.iterator](); !(b = (e = f.next()).done); b = !0) {
                            var g = e.value;
                            a._hasSidePanel || g.infobox.close()
                        }
                    } catch (h) {
                        c = !0, d = h
                    } finally {
                        try {
                            !b && f["return"] && f["return"]()
                        } finally {
                            if (c) throw d
                        }
                    }
                })
            }
        }, {
            key: "_addDir",
            value: function(a) {
                var b = this;
                $(".MapLocationMap").hasClass("EnableRoutes") && a.map(function(c, d, e) {
                    var f = new google.maps.DirectionsService,
                        g = new google.maps.DirectionsRenderer({
                            suppressMarkers: !0
                        });
                    if (d < a.length - 1) {
                        var h = e[d],
                            i = e[d + 1],
                            j = {
                                origin: h,
                                destination: i,
                                travelMode: google.maps.TravelMode.DRIVING
                            };
                        f.route(j, function(a, c) {
                            c === google.maps.DirectionsStatus.OK && (g.setDirections(a), g.setMap(b.googleMap))
                        })
                    }
                })
            }
        }, {
            key: "_mapHeight",
            value: function() {
                var a = $(window),
                    b = $(".otherCountries", this.$element),
                    c = $(".map-key", this.$element),
                    d = site.utils.getStickyNavHeight(),
                    e = void 0;
                e = a.width() <= 740 || a.height() <= 640 ? "100vh" : $(window).height() - b.innerHeight() - c.innerHeight() - d, this.map.css("height", e)
            }
        }, {
            key: "_toggleMapLock",
            value: function() {
                var a = this,
                    b = $(".control.drag", this.$element);
                b.click(function() {
                    a.mapDraggable ? (a.googleMap.set("draggable", !1), a.googleMap.set("disableDoubleClickZoom", !0), $(this).removeClass("active"), a.mapDraggable = !1) : (a.googleMap.set("draggable", !0), a.googleMap.set("disableDoubleClickZoom", !1), $(this).addClass("active"), a.mapDraggable = !0, a.resize = !1)
                })
            }
        }, {
            key: "_setupZoom",
            value: function() {
                var a = this,
                    b = $("#map-controls", this.$element),
                    c = b.find(".plus"),
                    d = b.find(".minus"),
                    e = function() {
                        a.googleMap.getZoom() === a.maxZoom ? c.addClass("disabled") : c.removeClass("disabled")
                    },
                    f = function() {
                        0 === a.googleMap.getZoom() ? d.addClass("disabled") : d.removeClass("disabled")
                    };
                this.googleMap.addListener("zoom_changed", function() {
                    e(), f()
                }), c.click(function() {
                    a.googleMap.getZoom() < a.maxZoom && (a.googleMap.setZoom(a.googleMap.zoom + 1), a.resize = !1)
                }), d.click(function() {
                    a.googleMap.getZoom() > 0 && (a.googleMap.setZoom(a.googleMap.zoom - 1), a.resize = !1)
                })
            }
        }, {
            key: "_showZoomIcons",
            value: function() {
                var a = $("#map-controls", this.$element),
                    b = a.find(".plus"),
                    c = a.find(".minus");
                this.isTouchDevice || (b.show(), c.show())
            }
        }, {
            key: "_screenSize",
            value: function() {
                site.utils.isMobileDevice() && (this.isMobileNav = !0)
            }
        }, {
            key: "_centreMapOnCountry",
            value: function() {
                var a = this,
                    b = this.repositionMap,
                    c = this.googleMap;
                if (b) {
                    var d = $(".MapLocationMap", this.$element).data("country"),
                        e = $(".MapLocationMap", this.$element).data("country-code"),
                        f = {
                            country: e || d
                        },
                        g = new google.maps.Geocoder;
                    g.geocode({
                        componentRestrictions: f
                    }, function(b, d) {
                        var e = _slicedToArray(b, 1),
                            f = e[0];
                        f = void 0 === f ? {} : f;
                        var g = f.geometry;
                        g = void 0 === g ? {} : g;
                        var h = g.location,
                            i = g.viewport;
                        d === google.maps.GeocoderStatus.OK && (c.setCenter(h), c.fitBounds(i), a.maxZoom = a.mapOptions.zoom, $(window).trigger("geocodingComplete"))
                    })
                }
            }
        }, {
            key: "_setupDirections",
            value: function() {
                var a = new google.maps.Polyline({
                    strokeColor: "#00b3fd",
                    strokeOpacity: .7,
                    strokeWeight: 4
                });
                this._directionsService = new google.maps.DirectionsService, this._directionsRenderer = new google.maps.DirectionsRenderer({
                    polylineOptions: a,
                    panel: document.getElementsByClassName("directions-container")[0],
                    suppressInfoWindows: !0,
                    preserveViewport: !0,
                    draggable: !1,
                    suppressMarkers: !0
                }), this._geocoder = new google.maps.Geocoder, this._usersLocationText = $("#users_location"), this._eventLocationText = $("#event_location")
            }
        }, {
            key: "_getDirections",
            value: function(a) {
                var b = this._eventLocationText.val();
                a && (b = a);
                var c = {
                    origin: this._usersLocationText.val(),
                    destination: b,
                    travelMode: "DRIVING",
                    unitSystem: google.maps.UnitSystem.METRIC
                };
                "miles" === $(".MapLocationCards").attr("data-distance-format") && (c.unitSystem = google.maps.UnitSystem.IMPERIAL), this._directionsService.route(c, function(a, b) {
                    "OK" === b && (this._currentMarker = !1, this._currentRoute = a.routes[0].bounds, setTimeout(function() {
                        google.maps.event.trigger(this.googleMap, "resize"), this._directionsRenderer.setMap(this.googleMap), this._directionsRenderer.setDirections(a), this.markers.forEach(function(a, b) {
                            a.setMap(null)
                        });
                        var b = a.routes[0].legs[0].start_location,
                            c = a.routes[0].legs[0].end_location;
                        this.directionMarkers.start && this.directionMarkers.end ? (this.directionMarkers.start.setPosition(b), this.directionMarkers.end.setPosition(c), this.directionMarkers.start.setMap(this.googleMap), this.directionMarkers.end.setMap(this.googleMap)) : (this.directionMarkers.start = new google.maps.Marker({
                            position: b,
                            map: this.googleMap,
                            draggable: !1,
                            flat: !0,
                            content: '<div class="marker"><img src="data:image/svg+xml;charset=US-ASCII,%3Csvg%20id%3D%22Layer_2%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%224%20-12%2043%2060%22%3E%3Cstyle%3E.st0%7Bfill%3Aurl%28%23XMLID_5_%29%3B%7D%20.st1%7Bfill%3A%239E1B32%3B%7D%20.st2%7Bopacity%3A0.3%3B%7D%3C%2Fstyle%3E%3CradialGradient%20id%3D%22XMLID_5_%22%20cx%3D%2225.535%22%20cy%3D%2222%22%20r%3D%2212.179%22%20gradientTransform%3D%22matrix%281%200%200%20-.3%200%2048.6%29%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%3Cstop%20offset%3D%220%22%20stop-opacity%3D%22.4%22%2F%3E%3Cstop%20offset%3D%221%22%20stop-opacity%3D%220%22%2F%3E%3C%2FradialGradient%3E%3Cpath%20id%3D%22XMLID_4_%22%20class%3D%22st0%22%20d%3D%22M42.2%2041.5c0%203.2-8.6%204.7-16.7%204.7S8.8%2044.7%208.8%2041.5s8.6-3.7%2016.7-3.7%2016.7.5%2016.7%203.7z%22%2F%3E%3Cg%20id%3D%22XMLID_1_%22%3E%3Cpath%20class%3D%22st1%22%20d%3D%22M47%209.5C47%2026.3%2033.9%2031.7%2025.5%2042%2017%2031.7%204%2026.1%204%209.5%204-2.4%2013.6-12%2025.5-12S47-2.4%2047%209.5z%22%2F%3E%3Cpath%20d%3D%22M25.5-11C36.8-11%2046-1.8%2046%209.5c0%2011.6-6.5%2017.6-13.4%2023.9-2.4%202.2-4.9%204.5-7.1%207.1-2.2-2.5-4.6-4.8-7-7C11.5%2027.1%205%2021.1%205%209.5%205-1.8%2014.2-11%2025.5-11m0-1C13.6-12%204-2.4%204%209.5%204%2026.1%2017%2031.7%2025.5%2042%2033.9%2031.7%2047%2026.3%2047%209.5%2047-2.4%2037.4-12%2025.5-12z%22%20class%3D%22st2%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E" /><span>A</span></div>'
                        }), this.directionMarkers.end = new google.maps.Marker({
                            position: c,
                            map: this.googleMap,
                            draggable: !1,
                            flat: !0,
                            content: '<div class="marker"><img src="data:image/svg+xml;charset=US-ASCII,%3Csvg%20id%3D%22Layer_2%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20viewBox%3D%224%20-12%2043%2060%22%3E%3Cstyle%3E.st0%7Bfill%3Aurl%28%23XMLID_5_%29%3B%7D%20.st1%7Bfill%3A%239E1B32%3B%7D%20.st2%7Bopacity%3A0.3%3B%7D%3C%2Fstyle%3E%3CradialGradient%20id%3D%22XMLID_5_%22%20cx%3D%2225.535%22%20cy%3D%2222%22%20r%3D%2212.179%22%20gradientTransform%3D%22matrix%281%200%200%20-.3%200%2048.6%29%22%20gradientUnits%3D%22userSpaceOnUse%22%3E%3Cstop%20offset%3D%220%22%20stop-opacity%3D%22.4%22%2F%3E%3Cstop%20offset%3D%221%22%20stop-opacity%3D%220%22%2F%3E%3C%2FradialGradient%3E%3Cpath%20id%3D%22XMLID_4_%22%20class%3D%22st0%22%20d%3D%22M42.2%2041.5c0%203.2-8.6%204.7-16.7%204.7S8.8%2044.7%208.8%2041.5s8.6-3.7%2016.7-3.7%2016.7.5%2016.7%203.7z%22%2F%3E%3Cg%20id%3D%22XMLID_1_%22%3E%3Cpath%20class%3D%22st1%22%20d%3D%22M47%209.5C47%2026.3%2033.9%2031.7%2025.5%2042%2017%2031.7%204%2026.1%204%209.5%204-2.4%2013.6-12%2025.5-12S47-2.4%2047%209.5z%22%2F%3E%3Cpath%20d%3D%22M25.5-11C36.8-11%2046-1.8%2046%209.5c0%2011.6-6.5%2017.6-13.4%2023.9-2.4%202.2-4.9%204.5-7.1%207.1-2.2-2.5-4.6-4.8-7-7C11.5%2027.1%205%2021.1%205%209.5%205-1.8%2014.2-11%2025.5-11m0-1C13.6-12%204-2.4%204%209.5%204%2026.1%2017%2031.7%2025.5%2042%2033.9%2031.7%2047%2026.3%2047%209.5%2047-2.4%2037.4-12%2025.5-12z%22%20class%3D%22st2%22%2F%3E%3C%2Fg%3E%3C%2Fsvg%3E" /><span>B</span></div>'
                        })), $(".getDirectionsButton").addClass("reset"), setTimeout(function() {
                            this.googleMap.fitBounds(a.routes[0].bounds)
                        }.bind(this), 100)
                    }.bind(this), 500))
                }.bind(this))
            }
        }, {
            key: "_nearestLocations",
            value: function(a) {
                for (var b = 0; b < this.markers.length; b++) {
                    var c = google.maps.geometry.spherical.computeDistanceBetween(a, this.markers[b].position);
                    c /= 1e3, c = .621371 * c, c = Math.round(c), this.markers[b].distanceFromUser = c
                }
                this.markers.sort(function(a, b) {
                    return parseFloat(a.distanceFromUser) - parseFloat(b.distanceFromUser)
                });
                var d = this.markers.length >= 3 ? 2 : this.markers.length - 1,
                    e = new google.maps.Circle;
                e.setRadius(1609 * this.markers[d].distanceFromUser), e.setCenter(a), this.googleMap.fitBounds(e.getBounds())
            }
        }, {
            key: "_geolocation",
            value: function() {
                var a = $("#map-controls", this.$element).find(".locate"),
                    b = this;
                navigator.geolocation && !this._isItineraryMap && (a.show(), navigator.geolocation.getCurrentPosition(function(a) {
                    var c = new google.maps.LatLng(a.coords.latitude, a.coords.longitude);
                    this.googleMap.panTo(c), this.bounds.extend(c), this._addUserMarker(c), this._nearestLocations(c), this._usersLocation = c;
                    var d = c.toString().replace("(", ""),
                        e = d.replace(")", ""),
                        f = {
                            address: e
                        };
                    this._geocoder.geocode(f, function(a, c) {
                        c === google.maps.GeocoderStatus.OK && ($("#users_location").val(a[0].formatted_address), b._userLocationId = a[0].formatted_address, b._userLocationComponent = a[0].address_components, b._hasSidePanel && (b._injectDistanceFromUserLocationInCards(), b.sorters.setSelected("distance"), b._sort()))
                    })
                }.bind(this), function() {
                    a.hide()
                }))
            }
        }, {
            key: "_autocompleteInput",
            value: function() {
                var a, b = this,
                    c = this,
                    d = $(".searchInput", this.$element).val(),
                    e = $(".MapLocationSearchError", this.$element),
                    f = e.find(".searchDisambiguation"),
                    g = e.find(".searchAgainDealer"),
                    h = ($(".utility"), f.find("ol")),
                    i = (new google.maps.Geocoder, ""),
                    j = $(".zeroResultsHeading", this.$element),
                    k = $(".multiLocationHeading", this.$element),
                    l = "",
                    m = $(".MapLocationSearch", this.$element),
                    n = $(".MapLocationCards", this.$element),
                    o = $(".MapLocationCardsHeader", this.$element),
                    p = $(".TAOPT_title", this.$element);
                a = c._getStickyNavHeight();
                var q = new google.maps.places.AutocompleteService;
                q.getPlacePredictions({
                    input: d,
                    types: ["(regions)"],
                    componentRestrictions: {
                        country: this._market
                    }
                }, function(c, q) {
                    "OK" === q ? c.length > 1 ? b._geoCodeInputOnMultipleResult({
                        $search: m,
                        searchAgainHeader: o,
                        title: p,
                        cardsContainer: n,
                        offsetHeight: a,
                        $multipleResultsList: h,
                        input: d,
                        multiResults: k,
                        $noResults: g,
                        container: e,
                        $multipleResults: f,
                        results: c,
                        resultsHeading: l,
                        resultsList: i
                    }) : (b.disambiguationSearch = !0, m.find(".searchInput").val(c[0].description), m.submit()) : "ZERO_RESULTS" === q && b._geoCodeInputOnZeroResult({
                        zeroResults: j,
                        $noResults: g,
                        container: e,
                        $multipleResults: f,
                        offsetHeight: a,
                        resultsHeading: l
                    })
                })
            }
        }, {
            key: "_geocodeInput",
            value: function() {
                var a, b = this,
                    c = $(".searchInput", this.$element).val(),
                    d = $(".MapLocationSearchError", this.$element),
                    e = d.find(".searchDisambiguation"),
                    f = d.find(".searchAgainDealer"),
                    g = $(".utility"),
                    h = e.find("ol"),
                    i = new google.maps.Geocoder,
                    j = "",
                    k = $(".zeroResultsHeading", this.$element),
                    l = $(".multiLocationHeading", this.$element),
                    m = "",
                    n = $(".MapLocationSearch", this.$element),
                    o = $(".MapLocationCards", this.$element),
                    p = $(".MapLocationCardsHeader", this.$element),
                    q = $(".TAOPT_title", this.$element),
                    r = {
                        address: c,
                        region: this._market,
                        componentRestrictions: {
                            country: this._market
                        }
                    };
                a = b.isMobileNav ? 0 : g.height(), i.geocode(r, function(g, i) {
                    i === google.maps.GeocoderStatus.OK && (1 === g.length && g[0].address_components.length < 2 ? b._geoCodeInputOnZeroResult({
                        zeroResults: k,
                        $noResults: f,
                        container: d,
                        $multipleResults: e,
                        offsetHeight: a,
                        resultsHeading: m
                    }) : 1 === g.length || b.disambiguationSearch ? b._geoCodeInputOnSingleResult({
                        $noResults: f,
                        container: d,
                        $multipleResults: e,
                        results: g
                    }) : g.length > 1 && b._geoCodeInputOnMultipleResult({
                        $search: n,
                        searchAgainHeader: p,
                        title: q,
                        cardsContainer: o,
                        offsetHeight: a,
                        $multipleResultsList: h,
                        input: c,
                        multiResults: l,
                        $noResults: f,
                        container: d,
                        $multipleResults: e,
                        results: g,
                        resultsHeading: m,
                        resultsList: j
                    }))
                })
            }
        }, {
            key: "_geoCodeInputOnZeroResult",
            value: function(a) {
                if (this._hasSidePanel) $(".searchForm-error-container").css("display", "block"), $(".searchForm-error-message").text("The location you are looking for can't be found"), $(".searchInput").addClass("searchInput-error");
                else {
                    this.disambiguationSearch = !1, this._userLocationId = "", this._userLocationComponent = "";
                    var b = this;
                    a.$noResults.show(), a.container.slideDown(), a.$multipleResults.hide(), $("html, body").animate({
                        scrollTop: a.$noResults.offset().top - a.offsetHeight
                    }, 800, function() {
                        b._hasSidePanel || b._calculateSearchWayPoints()
                    }), a.resultsHeading = this.zeroResultsHeading.substring(0, this.zeroResultsHeading.length - 2), a.resultsHeading += "'" + a.input + "'", a.zeroResults.text(a.resultsHeading)
                }
            }
        }, {
            key: "_injectDistanceFromUserLocationInCards",
            value: function() {
                this.hasDistances = !0;
                var a = $(".MapLocationCards").attr("data-distance-format"),
                    b = !0,
                    c = !1,
                    d = void 0;
                try {
                    for (var e, f = this.markers[Symbol.iterator](); !(b = (e = f.next()).done); b = !0) {
                        var g = e.value;
                        $(".SideBarCards").find("#" + g.id).find(".eventName .distance-from-user").remove(), $(".SideBarCards").find("#" + g.id).attr("data-event-distance", 0), $(".SideBarCards").find("#" + g.id).find(".eventName").append('<span class="distance-from-user">(' + g.distanceFromUser + " " + a + ")</span>"), $(".SideBarCards").find("#" + g.id).attr("data-event-distance", g.distanceFromUser)
                    }
                } catch (h) {
                    c = !0, d = h
                } finally {
                    try {
                        !b && f["return"] && f["return"]()
                    } finally {
                        if (c) throw d
                    }
                }
            }
        }, {
            key: "_geoCodeInputOnSingleResult",
            value: function(a) {
                var b = a.results[0].geometry.location;
                this._userLocationId = a.results[0].formatted_address, this._userLocationComponent = a.results[0].address_components, this._usersLocation = b, this._setupFilterResultLabel(), this._addUserMarker(b), this._nearestLocations(b), this._hasSidePanel && (this._injectDistanceFromUserLocationInCards(), this._sort()), this._searchOnTop && (this.disambiguationSearch === !0 && "none" !== a.$multipleResults.css("display") ? a.$multipleResults.animate({
                    height: "toggle"
                }, {
                    duration: 500,
                    progress: function() {
                        $(window).scroll()
                    },
                    complete: function() {
                        $("html, body").animate({
                            scrollTop: $(".map-page-container").offset().top
                        }, {
                            duration: 300,
                            progress: function() {
                                $(window).scroll()
                            }
                        })
                    }
                }) : $("html, body").animate({
                    scrollTop: $(".map-page-container").offset().top
                }, {
                    duration: 800,
                    progress: function() {
                        $(window).scroll()
                    }
                })), this.disambiguationSearch = !1
            }
        }, {
            key: "_geoCodeInputOnMultipleResult",
            value: function(a) {
                var b = this;
                this._userLocationId = "", this._userLocationComponent = [], this._setupFilterResultLabel(), a.$multipleResults.show(), a.container.slideDown(), a.$noResults.hide(), a.resultsHeading = this.multipleResultsHeading.substring(0, this.multipleResultsHeading.length - 2), a.resultsHeading += "<span>'" + a.input + "'</span>", a.multiResults.html(a.resultsHeading);
                for (var c = 0; c < a.results.length; c++) this._hasSidePanel && (a.results[c].formatted_address = a.results[c].description), a.resultsList += '<li><a href="#">' + a.results[c].formatted_address + "</a></li>";
                a.$multipleResultsList.html(a.resultsList), $("html, body").animate({
                    scrollTop: this._searchOnTop === !1 ? a.$multipleResults.offset().top - a.offsetHeight : a.$multipleResults.offset().top - a.offsetHeight
                }, 800, function() {}).promise().then(function() {
                    b._hasSidePanel || b._calculateSearchWayPoints(), $(".multipleResults").find("a").on("click", function(c) {
                        a.cardsContainer.addClass("userSearch"), a.title.hide(), a.searchAgainHeader.show(), c.preventDefault(), b.disambiguationSearch = !0, a.$search.find(".searchInput").val($(this).text()), a.$search.submit()
                    })
                }), this._hasSidePanel && $(".searchAgainDis").hide()
            }
        }, {
            key: "_getStickyNavHeight",
            value: function() {
                var a = $(".dxnav__breadcrumbs-container");
                return a.height()
            }
        }, {
            key: "_drawLines",
            value: function() {
                var a = this.$element.data("geojson").split(",");
                if ("undefined" != typeof a) {
                    var b = !0,
                        c = !1,
                        d = void 0;
                    try {
                        for (var e, f = a[Symbol.iterator](); !(b = (e = f.next()).done); b = !0) {
                            var g = e.value;
                            this.googleMap.data.loadGeoJson(g)
                        }
                    } catch (h) {
                        c = !0, d = h
                    } finally {
                        try {
                            !b && f["return"] && f["return"]()
                        } finally {
                            if (c) throw d
                        }
                    }
                    this.googleMap.data.setStyle({
                        strokeColor: "#005a2b",
                        strokeWeight: 6
                    })
                }
            }
        }, {
            key: "_addUserMarker",
            value: function(a) {
                this._resetUserMarker(), $(".userLocation", this.$element).css({
                    display: "block"
                });
                var b = "/resources/public/images/TAOPT/%brand%-circle-active.svg",
                    c = b.replace("%brand%", document.body.id);
                c = new google.maps.MarkerImage(c, null, null, null, new google.maps.Size(50, 50)), this.userMarker = new google.maps.Marker({
                    position: a,
                    map: this.googleMap,
                    icon: c,
                    zIndex: 0
                }), this._usersLocation = a
            }
        }, {
            key: "_resetUserMarker",
            value: function() {
                null != this.userMarker && (this.userMarker.setMap(null), this.userMarker = null)
            }
        }, {
            key: "_resetAllEventMarker",
            value: function() {
                null != this.markers && (this.markers.forEach(function(a) {
                    a.setMap(null)
                }), this.markers = [], this.numberDisplayedPins = 0, this.bounds = new google.maps.LatLngBounds, this._usersLocation && this.bounds.extend(this._usersLocation), null !== this._clusterer && this._clusterer.clearMarkers())
            }
        }, {
            key: "_createRouteHTML",
            value: function(a) {
                var b = "";
                $.each(a, function(a, c) {
                    $.each(c.steps, function(a, c) {
                        b += '<div class="instruction">' + c.instructions + "</div>"
                    })
                }), $(".directions-container").empty().append(b)
            }
        }, {
            key: "_toggleSidePanel",
            value: function(a, b) {
                var c = $(".slide-panel").hasClass("visible");
                a && c || (c ? ($(".slide-panel").removeClass("visible"), this.$element.removeClass("slide-panel-open"), $(".map-mobile-menu_bottom-panel").css({
                    display: "block"
                })) : ($(".slide-panel").addClass("visible"), this.$element.addClass("slide-panel-open"), $(".map-mobile-menu_bottom-panel").css({
                    display: "none"
                })))
            }
        }, {
            key: "_scrollToMap",
            value: function() {
                var a = $(".dxnav-header"),
                    b = 0,
                    c = $("#header");
                a.length && (c = a.hasClass("dxnav-hasBreadcrumbs") ? $(".dxnav__breadcrumbs") : a);
                var d = c.height(),
                    e = d - b;
                site.utils.scrollToElement($(this.cp.element), {
                    adjustment: e
                })
            }
        }, {
            key: "_alignErrorMessage",
            value: function() {
                $(".searchForm-error").width($(".searchForm-container").width())
            }
        }, {
            key: "_calculateSearchWayPoints",
            value: function() {
                var a = $(".MapLocationCards", this.$element);
                this.cardTop = a.offset().top, this.cardBottom = a.offset().top + a.innerHeight()
            }
        }, {
            key: "_createMarkersClusterer",
            value: function() {
                var a = [{
                        textColor: "white",
                        url: "/resources/public/images/ExperienceDriveMapAndLocator/m1.png",
                        backgroundPosition: "center",
                        height: 36,
                        width: 36
                    }, {
                        textColor: "white",
                        url: "/resources/public/images/ExperienceDriveMapAndLocator/m1.png",
                        backgroundPosition: "center",
                        height: 36,
                        width: 36
                    }, {
                        textColor: "white",
                        url: "/resources/public/images/ExperienceDriveMapAndLocator/m1.png",
                        backgroundPosition: "center",
                        height: 36,
                        width: 36
                    }],
                    b = {
                        imagePath: "/resources/public/images/ExperienceDriveMapAndLocator/m",
                        styles: a,
                        maxZoom: 15
                    };
                null !== this._clusterer && this._clusterer.clearMarkers(), this._clusterer = new MarkerClustererV3(this.googleMap, this.markers, b);
                var c = !0,
                    d = !1,
                    e = void 0;
                try {
                    for (var f, g = this.markers[Symbol.iterator](); !(c = (f = g.next()).done); c = !0) {
                        var h = f.value;
                        h.visible || this._clusterer.removeMarker(h)
                    }
                } catch (i) {
                    d = !0, e = i
                } finally {
                    try {
                        !c && g["return"] && g["return"]()
                    } finally {
                        if (d) throw e
                    }
                }
            }
        }]), a
    }(),
    ArtOfPerformance = function(a) {
        function b(a, c) {
            _classCallCheck(this, b);
            var d = _possibleConstructorReturn(this, (b.__proto__ || Object.getPrototypeOf(b)).call(this, a, c));
            return d._setMapKeysState(), d.hiddenCards = [], d.cardTop = 0, d.cardBottom = 0, d.headerOffset = "", d._isArtOfPerformance = !1, d._isRideAndDrive = !1, d._isItineraryMap = !1, d
        }
        return _inherits(b, a), _createClass(b, [{
            key: "init",
            value: function() {
                _get(b.prototype.__proto__ || Object.getPrototypeOf(b.prototype), "init", this).call(this), this.$locations.length <= 3 && (this.repositionMap = !1);
            }
        }, {
            key: "_setMapKeysState",
            value: function() {
                $(".map-key").css("display", "block"), $(".futureEvent", this.$element).css({
                    opacity: "1"
                }), $(".pastEvent", this.$element).css({
                    opacity: "1"
                }), $(".clusterEvent", this.$element).css("display", "none"), $(".pastEventSelected", this.$element).css("display", "none"), $(".futureEventSelected", this.$element).css("display", "none"), $(".userLocation", this.$element).css("display", "none"), $(".map-mobile-menu", this.$element).css("display", "none")
            }
        }, {
            key: "_setUpEvents",
            value: function() {
                var a = this;
                _get(b.prototype.__proto__ || Object.getPrototypeOf(b.prototype), "_setUpEvents", this).call(this), $(window).smartresize(function() {
                    $(window).width() > 740 && a._equalHeightCards(), a._hideCards(), a.inputSearch && ($cards = $(".MapLocationCards"), a._calculateSearchWayPoints(), a._fixHeader()), $(".directions-container").height($(".directions-panel").outerHeight() - $(".directions-form").outerHeight() - 20), a._setImageSize()
                }), $(window).on("load", function() {
                    $(window).width() > 740 && a._equalHeightCards(), a._hideCards(), a._displayCards()
                }), $(window).on("api:ready", function() {}), $(window).scroll(function() {
                    a.inputSearch && !a.disambiguationSearch && a._fixHeader()
                }), $(window).on("pinMobileNavHeader", function() {
                    a.disambiguationSearch || (a.headerOffset = "translate(0px, 65px)", a._fixHeader())
                }), $(window).on("unpinMobileNavHeader", function() {
                    a.disambiguationSearch || (a.headerOffset = "translate(0px, 0px)", a._fixHeader())
                }), $(window).on("cookieNoticeClosed", function() {
                    a.inputSearch && setTimeout(function() {
                        $cards = $(".MapLocationCards"), a.cardTop = $cards.offset().top, a.cardBottom = $cards.offset().top + $cards.innerHeight(), a._fixHeader()
                    }, 1e3)
                }), $(".map-directions-toggle .map-toggle").click(function(b) {
                    b.preventDefault(), $(".directions-panel").removeClass("visible"), a.$element.removeClass("directions").addClass("map")
                }), $(".map-directions-toggle .directions-toggle").click(function(b) {
                    b.preventDefault(), $(".directions-panel").addClass("visible"), a.$element.removeClass("map").addClass("directions")
                }), $(".map-directions-toggle .directions-close").click(function(b) {
                    b.preventDefault(), setTimeout(function() {
                        a.$element.removeClass("directions-open map")
                    }, 600), $(".map-directions-toggle").removeClass("visible"), $(".directions-panel").removeClass("visible"), a._directionsRenderer.setMap(null), a.directionMarkers.end && (a.directionMarkers.start.setMap(null), a.directionMarkers.end.setMap(null)), a._currentRoute = !1, a.markers.forEach(function(b) {
                        b.setMap(a.googleMap)
                    }), setTimeout(function() {
                        google.maps.event.trigger(a.googleMap, "resize")
                    }, 1150)
                }), $("#users_location").on("keydown", function() {
                    $(".getDirectionsButton").removeClass("reset")
                }), $(".getDirectionsButton", this.$element).click(function(b) {
                    b.preventDefault(), $(b.target).hasClass("reset") ? ($(b.target).removeClass("reset"), $("#users_location").val("")) : a._getDirections()
                })
            }
        }, {
            key: "_setImageSize",
            value: function() {
                window.innerWidth < 901 ? this.imageEls.height(window.innerWidth / 1.77777) : this.imageEls.height("100%")
            }
        }, {
            key: "_initMap",
            value: function() {
                _get(b.prototype.__proto__ || Object.getPrototypeOf(b.prototype), "_initMap", this).call(this), this._setImageSize()
            }
        }, {
            key: "_markerOnClick",
            value: function(a, b) {
                this._currentMarker = b;
                for (var c = 0; c < this.markers.length; c++) this.markers[c].infobox.close();
                this.googleMap.panTo(b.getPosition());
                var d = -175;
                this._isItineraryMap ? window.innerWidth <= 359 ? d = -235 : window.innerWidth <= 420 ? d = -250 : window.innerHeight < 450 ? d = -150 : window.innerHeight < 900 && (d = -240) : window.innerWidth <= 420 && (d = -75), this.googleMap.panBy(0, d), b.infobox.open(this.googleMap, a), this._scrollToMap()
            }
        }, {
            key: "_createInfoBox",
            value: function(a, b, c, d, e, f, g, h, i, j, k) {
                var l = this,
                    m = void 0,
                    n = void 0,
                    o = void 0;
                m = new google.maps.Size(10, 10), this._isJaguar ? ($(window).width() < 740 ? (o = "280px", n = new google.maps.Size(-140, -25)) : (o = "350px", n = new google.maps.Size(-175, -35)), window.innerHeight <= 350 && (o = "350px", n = new google.maps.Size(-175, -25))) : ($(window).width() < 740 ? (o = "280px", n = new google.maps.Size(-140, -40)) : (o = "350px", n = new google.maps.Size(-175, -47)), window.innerHeight <= 350 && (o = "350px", n = new google.maps.Size(-175, -35))), window.innerWidth >= 330 && window.innerWidth <= 375 && (m = !1), a.origIcon = b;
                var p = "<div>";
                p += '<div class="event-infobox ' + c + '">', p += '<span class="infoboxImage" style="background-image:url(\'' + d + "')\"></span>", p += '<span class="infoboxClose"></span>', p += '<div class="infoContainer">', p += '<h3 class="infoboxName fonth3">' + f.html() + "</h3>", g.length && (p += '<div class="infoboxInfo">' + g.html() + "</div>"), "" !== h && (p += '<p class="fontBodyCopy">' + h + "</p>"), i.length && (p += '<p class="coordinates">' + i.html() + "</p>"), "undefined" != typeof j && (p += "<div>" + j.html() + "</div>"), p += this._createCta(c, k), p += "</div>", p += "</div>", p += "</div>";
                var q = $(p);
                $(".infoboxImage", q).attr("aria-label", e);
                var r = {
                    content: q.html(),
                    disableAutoPan: !0,
                    maxWidth: 0,
                    pixelOffset: n,
                    zIndex: null,
                    boxStyle: {
                        background: "transparent",
                        width: o
                    },
                    closeBoxURL: "",
                    infoBoxClearance: m,
                    isHidden: !1,
                    pane: "floatPane",
                    alignBottom: !0,
                    enableEventPropagation: !1
                };
                a.infobox = new l.infoBox(r), a.infobox.addListener("domready", function() {
                    l.closeCTA = $(".infoboxClose"), l.closeCTA.on("click", function() {
                        $(this).closest(".infoBox").addClass("closing"), this._currentMarker = !1, setTimeout(function() {
                            $(".infoBox").hide()
                        }, 500)
                    }), $(".event-infobox a.FindOutMore").on("click", function(a) {
                        a.preventDefault();
                        var b = $("#" + $(a.currentTarget).attr("href").split("#")[1]);
                        site.utils.scrollTo(b)
                    }.bind(this)), $(".get-directions").on("click", function(a) {
                        a.preventDefault(), $(".directions-panel").addClass("visible"), $(".map-directions-toggle").addClass("visible"), this.$element.addClass("directions-open"), this.$element.addClass("directions");
                        var b = {
                            address: $(a.currentTarget).data("latlng")
                        };
                        this._geocoder.geocode(b, function(a, b) {
                            b === google.maps.GeocoderStatus.OK && $("#event_location").val(a[0].formatted_address)
                        }), this._getDirections($(a.currentTarget).data("latlng")), $(a.currentTarget).closest(".infoBox").addClass("closing"), this._currentMarker = !1, setTimeout(function() {
                            $(".infoBox").hide()
                        }, 500)
                    }.bind(l))
                }.bind(this)), $(".event-infobox").append(j)
            }
        }, {
            key: "_createCta",
            value: function(a, b) {
                var c = "";
                return this.$element.hasClass("noDirections") || "past" !== a && (c = '<div><a href="#" class="cta-secondary cta--arrow secondaryLinkWithStyle left get-directions" data-latlng="' + b + '"><span>' + this._directionsTranslation + "</span></a></div>"), c
            }
        }, {
            key: "_equalHeightCards",
            value: function() {
                var a = $(".GridCards", this.$element).find(".card");
                a.css("height", "");
                var b = 0;
                a.each(function() {
                    b = b > $(this).height() ? b : $(this).height()
                }), a.height(b)
            }
        }, {
            key: "_hideCards",
            value: function() {
                var a = $(".MapLocationCards");
                if (this.hiddenCards !== !1 && !a.hasClass("FullWidthCards") && !this._isItineraryMap) {
                    var b = $(".future", this.$element);
                    this.hiddenCards = {};
                    var c = $(window).width() < 988 ? 2 : 3,
                        d = b.slice(0, c);
                    d.show();
                    var e = b.slice(c);
                    this.hiddenCards = e, e.hide();
                    var f = $(".load-more-cta", this.$element);
                    this.hiddenCards.length > 0 && (f.css("display", "inline-flex"), $(".MapLocationCards", this.$element).find(".ctaContainer").show())
                }
            }
        }, {
            key: "_displayCards",
            value: function() {
                var a = this,
                    b = $(".load-more-cta", this.$element);
                b.on("click", function(c) {
                    c.preventDefault(), a.hiddenCards.show(), a.hiddenCards.each(function(a, b) {
                        $(b).css({
                            opacity: 0,
                            y: 80
                        }).transition({
                            opacity: 1,
                            y: 0,
                            delay: 200 * a
                        })
                    }), b.fadeOut(), b.parent().fadeOut(400, function() {
                        a._calculateSearchWayPoints()
                    }), a.hiddenCards = !1
                })
            }
        }, {
            key: "_geoCodeInputOnZeroResult",
            value: function(a) {
                _get(b.prototype.__proto__ || Object.getPrototypeOf(b.prototype), "_geoCodeInputOnZeroResult", this).call(this, a)
            }
        }, {
            key: "_geoCodeInputOnSingleResult",
            value: function(a) {
                var b = this;
                a.container.slideUp(400, function() {
                    a.$multipleResults.hide(), a.$noResults.hide(), b._calculateSearchWayPoints(), b._sortCards(a.results[0].geometry.location)
                }), this.disambiguationSearch = !1
            }
        }, {
            key: "_geoCodeInputOnMultipleResult",
            value: function(a) {
                _get(b.prototype.__proto__ || Object.getPrototypeOf(b.prototype), "_geoCodeInputOnMultipleResult", this).call(this, a)
            }
        }, {
            key: "_sortCards",
            value: function(a) {
                var b, c, d, e, f, g, h = $(".cardContainer.future", this.$element),
                    i = $(".MapLocationCardsHeader", this.$element),
                    j = $(".TAOPT_title", this.$element),
                    k = $(".MapLocationCards", this.$element),
                    l = $(".utility");
                this.isMobileNav && (l = $(".navMobile-menu")), k.addClass("userSearch"), j.hide(), i.show(), h.each(function() {
                    c = $(this).find(".card").data("lat"), d = $(this).find(".card").data("lng"), f = $(this).find(".eventLocation"), g = $(this).find(".card").data("city"), b = new google.maps.LatLng(c, d), e = google.maps.geometry.spherical.computeDistanceBetween(a, b), e /= 1e3, "km" !== k.data("distance-format") && (e = .621371 * e), $(this).data("distance", e), g = g + " (" + Math.ceil(e) + " " + k.data("distance-format") + ")", f.text(g)
                }), h.detach(), h.sort(function(a, b) {
                    return parseFloat($(a).data("distance")) - parseFloat($(b).data("distance"))
                }), $(".MapLocationCards > .row", this.$element).append(h), this.hiddenCards !== !1 && (h.show(), this._hideCards()), $("html, body").animate({
                    scrollTop: k.offset().top - l.height()
                }, 800), this.inputSearch = !0
            }
        }, {
            key: "_fixHeader",
            value: function() {
                var a = $(".MapLocationCardsHeader", this.$element),
                    b = $(".MapLocationCards", this.$element),
                    c = $(window).scrollTop(),
                    d = $(".utility").height();
                this.isMobileNav && (d = 0), c + $(window).height() > this.cardBottom && b.innerHeight() < $(window).height() ? (a.removeClass("headerFixed").css({
                    left: "",
                    top: "",
                    transform: ""
                }), b.removeClass("searchResults")) : c + $(window).height() > this.cardBottom ? (a.removeClass("headerFixed").addClass("headerStop").css({
                    left: "",
                    top: b.innerHeight() - $(window).height() + d,
                    transform: ""
                }), b.addClass("searchResults")) : c >= this.cardTop - d ? (a.addClass("headerFixed").removeClass("headerStop").css({
                    left: b.offset().left,
                    top: d
                }), this.isMobileNav && a.css("transform", this.headerOffset), b.addClass("searchResults")) : (a.removeClass("headerFixed headerStop").css({
                    left: "",
                    top: "",
                    transform: ""
                }), b.removeClass("searchResults"))
            }
        }]), b
    }(MapLocation2Base),
    ItinaryMap = function(a) {
        function b(a, c) {
            _classCallCheck(this, b);
            var d = _possibleConstructorReturn(this, (b.__proto__ || Object.getPrototypeOf(b)).call(this, a, c));
            return d._setMapKeysState(), d
        }
        return _inherits(b, a), _createClass(b, [{
            key: "_setUpEvents",
            value: function() {
                var a = this;
                $(".searchAgainCTA, .searchAgainBtn", this.$element).on("click tap", function() {
                    a.$searchInput.val(""), $("html, body").animate({
                        scrollTop: a.$search.offset().top - $(".utility").height()
                    }, 800, function() {
                        this.$searchInput.focus()
                    })
                }), $(window).smartresize(function() {
                    a._screenSize()
                }), this._mapDisabled || (this._mapHeight(), this.resize && this.apiReady && this._centreMapOnCountry()), $(window).on("api:ready", function() {
                    a._initMap()
                })
            }
        }, {
            key: "_setMapKeysState",
            value: function() {
                $(".map-key").css("display", "block"), $(".futureEvent", this.$element).css({
                    opacity: "1"
                }), $(".clusterEvent", this.$element).css("display", "none"), $(".pastEvent", this.$element).css("display", "none"), $(".pastEventSelected", this.$element).css("display", "none"), $(".futureEventSelected", this.$element).css("display", "none"), $(".userLocation", this.$element).css("display", "none")
            }
        }]), b
    }(MapLocation2Base),
    RideAndDrive = function(a) {
        function b(a, c) {
            _classCallCheck(this, b);
            var d = _possibleConstructorReturn(this, (b.__proto__ || Object.getPrototypeOf(b)).call(this, a, c));
            return d._setMapKeysState(), d
        }
        return _inherits(b, a), _createClass(b, [{
            key: "_createCta",
            value: function(a, b) {
                var c = "";
                return this.$element.hasClass("noDirections") || this.$element.hasClass("noDirections") || (c = '<div><a href="#" class="cta-secondary cta--arrow secondaryLinkWithStyle left get-directions" data-latlng="' + b + '"><span>' + this._directionsTranslation + "</span></a></div>"), c
            }
        }, {
            key: "_setMapKeysState",
            value: function() {
                $(".map-key").css("display", "block"), $(".futureEvent", this.$element).css({
                    opacity: "1"
                }), $(".clusterEvent", this.$element).css("display", "none"), $(".pastEvent", this.$element).css("display", "none"), $(".pastEventSelected", this.$element).css("display", "none"), $(".futureEventSelected", this.$element).css("display", "none"), $(".userLocation", this.$element).css("display", "none"), $(".map-mobile-menu", this.$element).css("display", "none")
            }
        }]), b
    }(ArtOfPerformance);
! function(a, b, c) {
    var d = {
        uiSelectors: {
            groups: ".accordion-group",
            toggleIcons: ".accordion-toggle-icon",
            toggleButton: "a.toggle",
            toggleAllButton: "a.accordion-toggle-all",
            openText: "a.toggle .open",
            closeText: "a.toggle .close",
            fixedHeader: ".accordion-fixed-header",
            header: ".accordion-group-title",
            content: ".accordion-group-content",
            title: ".accordion-group-title-inner",
            icon: ".accordion-toggle-icon",
            innerContent: ".accordion-group-content .accordion-group-content-inner"
        },
        _classes: {
            fixedVariant: "Accordion--fix-header",
            fixed: "fixed",
            transitioning: "transitioning"
        },
        events: {
            "click .accordion-group-title": "_toggleSection"
        },
        _status: {},
        _pageHeader: null,
        _pageHeaderHeight: null,
        _stuck: !1,
        init_rtl: function() {},
        init: function() {
            var d = this,
                e = this.$element.hasClass(this._classes.fixedVariant);
            this._pageHeader = a("#header"), this.ui("toggleIcons").hasClass("closed") ? this.calculateNewHeight() : (this.ui("toggleIcons").addClass("open"), this.ui("groups").addClass("open")), this.ui("groups").not(":first").each(function(b, c) {
                d._toggleSection({
                    currentTarget: a(c).find(".accordion-group-title")
                })
            }), this.ui("toggleButton").click(function(c) {
                c.preventDefault(), a(b).trigger("lazyload"), d._toggleAll()
            }), this.ui("groups").on("click", ".accordion-fixed-header .accordion-group-title", function(b) {
                b.preventDefault();
                var c = a(b.currentTarget).parent().siblings(".accordion-group-title");
                e && site.utils.scrollTo(c, 0), d._toggleSection({
                    currentTarget: c[0]
                }), d._unstick()
            }), e && a(c).scroll(this._setStickyHeader.bind(this))
        },
        externalClose: function() {
            var b = this;
            this.ui("toggleIcons").addClass("open").removeClass("closed"), this.ui("groups").addClass("open").removeClass("closed"), this.ui("groups").each(function(c, d) {
                b._toggleSection({
                    currentTarget: a(d).find(".accordion-group-title")
                })
            })
        },
        externalOpen: function() {
            var b = this;
            this.ui("toggleIcons").addClass("closed").removeClass("open"), this.ui("groups").addClass("closed").removeClass("open"), this.ui("groups").each(function(c, d) {
                b._toggleSection({
                    currentTarget: a(d).find(".accordion-group-title")
                })
            })
        },
        getStatus: function() {
            return this._status
        },
        _toggleAll: function() {
            var b = this;
            this._status.open !== this._status.total ? (this.ui("toggleIcons").addClass("closed").removeClass("open"), this.ui("groups").addClass("closed").removeClass("open")) : (this.ui("toggleIcons").addClass("open").removeClass("closed"), this.ui("groups").addClass("open").removeClass("closed")), this.ui("groups").each(function(c, d) {
                b._toggleSection({
                    currentTarget: a(d).find(".accordion-group-title")
                })
            })
        },
        calculateNewHeight: function() {
            var b = 0;
            this.$element.find("> div").each(function(c, d) {
                if (a(d).hasClass("header-row") && (b += a(d).outerHeight()), a(d).hasClass("accordion-group")) {
                    var e = a(d).find(".accordion-group-title");
                    e && null !== e.outerHeight() && (b += e.outerHeight());
                    var f = a(d).find(".accordion-group-content"),
                        g = f && (f.parent().hasClass("open") || f.parent().hasClass("always-open"));
                    if (g) {
                        var h = f.find("table").length ? f.find("table") : f.find(".accordion-group-content-inner"),
                            i = function(b) {
                                var c = a(".TabbedContainer", b),
                                    d = c.length && a(".DxTabs__tab", b).length > 1,
                                    e = a(".snippet", b);
                                return d && !e.hasClass("snippet--force-mobile") ? parseFloat(c.css("margin-top")) : 0
                            },
                            j = h.outerHeight() + i(h);
                        f.height(j), b += j
                    }
                }
            }), this.$element.hasClass("data-container") && (b += 120);
            var c = this.$element.hasClass("Accordion--mobile-only") ? b : b + 2;
            this.$element.height(c), this.$element.trigger("height-change", [c]), this._checkStatus()
        },
        _resetStatus: function() {
            this._status = {
                total: 0,
                open: 0,
                closed: 0
            }
        },
        _checkStatus: function() {
            var b = this;
            this._resetStatus(), this.ui("groups").each(function(c, d) {
                a(d).hasClass("always-open") || (a(d).hasClass("open") ? b._status.open += 1 : b._status.closed += 1, b._status.total += 1)
            }), this._renderStatusText()
        },
        _renderStatusText: function() {
            this.ui("openText").hide(), this.ui("closeText").hide(), 0 === this._status.open ? this.ui("openText").show() : 0 === this._status.closed ? this.ui("closeText").show() : this.ui("openText").show()
        },
        _toggleSection: function(b) {
            var c = a(b.currentTarget),
                d = c.find(".accordion-toggle-icon"),
                e = c.siblings(".accordion-group-content"),
                f = e.find("table").length ? e.find("table") : e.find(".accordion-group-content-inner"),
                g = f.outerHeight();
            d.hasClass("open") ? (d.removeClass("open").addClass("closed"), c.parent().removeClass("open").addClass("closed"), e.height(0)) : (d.removeClass("closed").addClass("open"), c.parent().removeClass("closed").addClass("open"), e.height(g)), this.calculateNewHeight(), this.$element.trigger("Accordion:toggled")
        },
        _setStickyHeader: function() {
            var c = this,
                d = a(".headerWrapper"),
                e = d.outerHeight(),
                f = a(b).scrollTop(),
                g = a(this.ui("header")).offset().top - e,
                h = this.$element.offset().top - e + this.$element.height();
            if (f >= g && h >= f)
                if (this._stuck)
                    if (Math.abs(f - h) <= this.ui("header").outerHeight()) {
                        var i = Math.abs(f - h);
                        i > e && (i = e), b.requestAnimationFrame(function() {
                            c.ui("fixedHeader").css({
                                top: i
                            }).addClass(c._classes.transitioning).find(c.uiSelectors.title)
                        })
                    } else parseInt(this.ui("fixedHeader").css("top"), 10) !== e + 5 && b.requestAnimationFrame(function() {
                        c.ui("fixedHeader").css({
                            top: d.outerHeight()
                        }).removeClass(c._classes.transitioning).find(c.uiSelectors.title)
                    });
            else this._stick();
            else this._unstick()
        },
        _stick: function() {
            this._stuck || (this._stuck = !0, this.ui("fixedHeader").html(this.ui("header").clone()), this.ui("fixedHeader").addClass(this._classes.fixed), this.ui("fixedHeader").css("top", this._pageHeaderHeight))
        },
        _unstick: function() {
            this._stuck && (this._stuck = !1, this.ui("fixedHeader").empty().removeClass(this._classes.fixed))
        }
    };
    jQuery.createComponent("Accordion", d)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        uiSelectors: {
            components: "> *"
        },
        _attributes: {
            metaTag: 'head [name="accordionOnMobile"]',
            group: "data-accordion-group",
            title: "data-accordion-title"
        },
        _classes: {
            accordion: "Accordion",
            mobileAccordion: "Accordion--mobile-only",
            accordionTitle: "accordion-group-title",
            hideMobile: "Accordion--mobile-hide"
        },
        _componentsData: [{
            componentTitle: "Snippet",
            headerContainer: "headingCentre",
            titleContent: "headingTextMain"
        }, {
            componentTitle: "SameSizeCarousel",
            headerContainer: "headerBlock",
            titleContent: "headingTextMain"
        }, {
            componentTitle: "ModelSelector",
            headerContainer: "inPageModelSelectorHeader",
            titleContent: "headingTextMain"
        }],
        _foundIndex: !1,
        _groupIndex: 1,
        _group: [],
        _groups: [],
        _safetyArray: [],
        _isMobile: null,
        _components: null,
        _accordions: null,
        _groupComponents: function(b, c) {
            var d = this;
            if (c = a(c), c.attr(d._attributes.group)) d._foundIndex = !0, d._buildGroups(c);
            else if (d._foundIndex) {
                var e = a(this._components[b + 1]),
                    f = parseInt(e.attr(d._attributes.group), 10);
                d._safetyArray.push(c), f && f === d._groupIndex ? (a.merge(d._group, d._safetyArray), d._safetyArray = []) : f && f !== d._groupIndex && (d._safetyArray = [])
            }
            b === this._components.length - 1 && d._pushGroup()
        },
        _pushGroup: function() {
            this._groups.push(this._group), this._group = [], this._groupIndex++
        },
        _buildGroups: function(a) {
            var b = parseInt(a.attr(this._attributes.group), 10);
            b !== this._groupIndex && a.attr(this._attributes.group) && this._pushGroup(), this._group.push(a)
        },
        _buildMarkup: function(b, c) {
            var d = a(),
                e = this._getTitle(c),
                f = b > 0 ? " closed" : "",
                g = a('<div class="Accordion Accordion--mobile-only Accordion--fix-header"><div class="accordion-group' + f + '"><div class="accordion-group-content"><div class="accordion-group-content-inner"></div></div></div></div>'),
                h = a('<div class="accordion-fixed-header"></div><div class="accordion-group-title"><div class="accordion-toggle-icon' + f + '"></div><div class="accordion-group-title-inner">' + e + "</div></div>");
            a.each(c, function(a, b) {
                d = d.add(b)
            }), d.wrapAll(g).parents(".accordion-group").prepend(h)
        },
        _getTitle: function(b) {
            var c = this,
                d = "",
                e = "",
                f = a(b[0]),
                g = 0;
            for (a.each(b, function(a, b) {
                    return d = b.attr(c._attributes.title), d ? !1 : void 0
                }), g; g < this._componentsData.length; g++) {
                var h = this._componentsData[g];
                f.hasClass("snippet") && !f.hasClass("snippet--force-mobile") && (f.addClass(c._classes.hideMobile), e = f.find("." + h.titleContent).text()), f.hasClass(h.componentTitle) && !f.hasClass(h.componentTitle + "--force-mobile") && (f.find("." + h.headerContainer).addClass(c._classes.hideMobile), e = f.find("." + h.titleContent).text())
            }
            return d = d ? d : e
        },
        _setHeights: function() {
            var b = this;
            setTimeout(function() {
                if (b._accordions.find("." + b._classes.accordionTitle).is(":visible")) b._isMobile = !0, b._accordions.each(function(b, c) {
                    a(c).Accordion("calculateNewHeight")
                });
                else {
                    if (b._isMobile === !1) return !1;
                    b._isMobile = !1, b._accordions.each(function(b, c) {
                        a(c).css("height", ""), a(c).find(".accordion-group-content").css("height", "")
                    })
                }
            }, 600)
        },
        _setupComponentSpecific: function() {
            var b = this;
            a(".TabbedContainer .tab-link").on("click", function() {
                b._setHeights()
            }), a(".primaryLinkWithStyle, .secondaryLinkWithStyle", "." + this._classes.accordion).click(function(b) {
                site.utils.checkDeepLink(a(this).attr("href"))
            }), a(".Interior360").on("click", ".load-button, .pano-reset-control", function(a) {
                b._setHeights()
            }), a(".DualFrameCarousel .carouselNavigation .prev, .DualFrameCarousel .carouselNavigation .next").on("click", function(b) {
                var c = a(this);
                setTimeout(function() {
                    c.closest(".Accordion--mobile-only").Accordion("calculateNewHeight")
                }, 800)
            }), a(".DxTabs").on("DxTabs:fadein", function(c) {
                b._accordions.each(function(b, c) {
                    a(c).Accordion("calculateNewHeight")
                })
            })
        },
        init: function() {
            var c = this;
            this._components = this.ui("components");
            var d = a(this._attributes.metaTag);
            d.length < 1 || (a.each(this._components, function(a, b) {
                c._groupComponents(a, b)
            }), a.each(this._groups, function(a, b) {
                c._buildMarkup(a, b)
            }), this._accordions = a("." + this._classes.mobileAccordion), this._setHeights(), a(b).smartresize(c._setHeights.bind(c)), this._setupComponentSpecific())
        }
    };
    jQuery.createComponent("AccordionContainer", e)
}(jQuery, window, document),
function(a) {
    var b = {
        _mainContainer: null,
        _vehiclesContainer: null,
        _api: null,
        _apiCount: null,
        _preloadCounter: 0,
        _maxCards: 9,
        _minCards: null,
        _numCards: null,
        _vehicles: [],
        _swiper: null,
        _paginationKeyPressed: !1,
        init: function() {
            var b = this;
            this._mainContainer = a(".ApprovedUsedVehicle__container", this.$element), this._vehiclesContainer = a(".ApprovedUsedVehicle__swiper-wrapper", this.$element), this._viewstock1 = a(".ApprovedUsedVehicle__viewstock-copy1", this.$element), this._viewstock2 = a(".ApprovedUsedVehicle__viewstock-copy2", this.$element), this._viewstockCTA = a(".ApprovedUsedVehicle__viewstock .primaryLinkWithStyle", this.$element), this._notifications = a(".ApprovedUsedVehicle__notifications", this.$element), this._pagination = a(".ApprovedUsedVehicle__swiper-pagination", this.$element), this._swiperContainer = a(".ApprovedUsedVehicle__swiper-container", this.$element), this._notification = this.$element.data("notification-new"), this._api = this.$element.data("api"), this._translations = a(".ApprovedUsedVehicle__translations", this.$element), this._apiCount = this.$element.data("api-count");
            var c = site.utils.aria.KeyCode.SPACE;
            a(document).on("keydown", function(b) {
                b.keyCode === c && a(":focus").hasClass("ApprovedUsedVehicle__pagination-bullet") && (b.preventDefault(), a(":focus").trigger("click"))
            }), this._getVehicles(), this._positionPagination(), this._checkDeviceType(), a(window).smartresize(function() {
                b._positionPagination(), b._setTabbableSlides(), b._checkDeviceType()
            })
        },
        _checkDeviceType: function() {
            site.utils.isMobileDevice() ? this.$element.addClass("isMobile") : this.$element.removeClass("isMobile")
        },
        _positionPagination: function() {
            site.utils.isBreakpointSmall(!1) ? this._pagination.insertBefore(this._swiperContainer) : this._pagination.insertAfter(this._swiperContainer)
        },
        _getVehicles: function() {
            var b = this,
                c = a(".ApprovedUsedVehicle__card");
            this._vehiclesContainer.empty(), a.ajax({
                url: this._api,
                method: "GET",
                dataType: "xml"
            }).done(function(d) {
                b._setViewAllURL(a(d).find("avlDeepLink").text());
                var e = a(d).find("image");
                b._minCards = b._isDesktop() ? 3 : 2, e.length < b._minCards || (e.slice(0, b._maxCards).each(function(d, e) {
                    var f = a(e),
                        g = c.clone(),
                        h = f.find("series").text(),
                        i = f.find("variant").text(),
                        j = f.find("model").text(),
                        k = f.find("fullImage").text(),
                        l = f.find("price").text(),
                        m = f.find("mileage").text(),
                        n = f.find("transmission").text(),
                        o = f.find("fuel").text(),
                        p = f.find("regDate").text(),
                        q = f.find("url").text();
                    if (b._isEmpty(h) || b._isEmpty(m) || b._isEmpty(n) || b._isEmpty(p) || b._isEmpty(q) || b._isEmpty(k)) return !0;
                    var r = h + " " + i,
                        s = "" + j;
                    g.find(".ApprovedUsedVehicle__card-header", g).text(r), g.find(".ApprovedUsedVehicle__card-subheader", g).text(s), g.find(".ApprovedUsedVehicle__card-image", g).attr("alt", r), g.find("img").attr("src", k), g.find(".ApprovedUsedVehicle__card-image-link").attr("href", q), g.find(".ApprovedUsedVehicle__card-price", g).text(new Intl.NumberFormat("en-GB", {
                        style: "currency",
                        minimumFractionDigits: 0,
                        currency: "GBP"
                    }).format(l)), g.find(".ApprovedUsedVehicle__card-mileage-value", g).text(new Intl.NumberFormat("en-GB").format(m) + " " + b._translations.find(".mileage-abbreviation").text()), g.find(".ApprovedUsedVehicle__card-transmission-value", g).text(n), g.find(".ApprovedUsedVehicle__card-fuel-value", g).text(o), g.find(".ApprovedUsedVehicle__card-registration-value", g).text(p), g.find(".ApprovedUsedVehicle__card-viewDetails", g).attr("href", q), g.appendTo(b._vehiclesContainer), b._numCards = d
                }), b._getVehiclesCount(), b._initSwiper())
            })
        },
        _setViewAllURL: function(a) {
            this._isEmpty(a) || this._viewstockCTA.attr("href", a)
        },
        _isEmpty: function(a) {
            return null === a || void 0 === a || "" === a.trim()
        },
        _shouldShowSwiper: function() {
            return this._isDesktop() === !0 && this._numCards > 2 || this._isDesktop() === !1 && this._numCards > 1
        },
        _isDesktop: function() {
            return !site.utils.isBreakpointSmall(!1) && !site.utils.isBreakpointMedium(!1)
        },
        _initSwiper: function() {
            var b = this,
                c = this._shouldShowSwiper();
            this._pagination.css("display", c ? "inline-block" : "none"), this._swiper = new Swiper(".ApprovedUsedVehicle__swiper-container", {
                grabCursor: !0,
                slidesPerView: 3,
                spaceBetween: 30,
                keyboard: {
                    enabled: !0,
                    onlyInViewport: !0
                },
                allowTouchMove: c,
                slidesPerGroup: 3,
                breakpoints: {
                    900: {
                        slidesPerView: 2,
                        spaceBetween: 20,
                        slidesPerGroup: 2
                    }
                },
                a11y: {
                    enabled: !0
                },
                pagination: {
                    el: ".ApprovedUsedVehicle__swiper-pagination",
                    clickable: !0,
                    renderBullet: function(a, b) {
                        return '<span class="' + b + '"></span>'
                    },
                    bulletClass: "ApprovedUsedVehicle__pagination-bullet",
                    bulletActiveClass: "ApprovedUsedVehicle__pagination-bullet--active"
                }
            }), this._swiper.on("imagesReady", function() {
                b._adjustHeadersHeight()
            }), this._swiper.on("resize", function() {
                b._minCards = b._isDesktop() ? 3 : 2, c = b._shouldShowSwiper(), b._pagination.css("display", c ? "inline-block" : "none"), b._swiper.allowTouchMove = c, a(".ApprovedUsedVehicle__card-content").css("height", "auto"), b._adjustHeadersHeight(), b._adjustBlankSlides()
            }), this._swiper.on("slideChangeTransitionStart", function() {
                a(".swiper-slide").css("visibility", "visible")
            }), this._swiper.on("slideChangeTransitionEnd", function() {
                b._setTabbableSlides();
                var c = a(".swiper-slide").filter(function(b, c) {
                    return "visible" === a(c).css("visibility")
                });
                a(".ApprovedUsedVehicle__pagination-bullet").is(":focus") && (a("body").hasClass("focusStylesOn") || site.utils.isMobileDevice()) && c.eq(0).find(".ApprovedUsedVehicle__card-image-link").focus()
            }), this._adjustBlankSlides(), this._setTabbableSlides()
        },
        _adjustHeadersHeight: function() {
            var b = 0;
            a(".ApprovedUsedVehicle__card-content").each(function(c, d) {
                a(d).height() > b && (b = a(d).height())
            }), a(".ApprovedUsedVehicle__card-content").height(b)
        },
        _setTabbableSlides: function() {
            var b = this,
                c = this.$element.offset().left;
            this.$element.find(".swiper-slide").each(function(d, e) {
                var f = Math.ceil(a(e).offset().left - c),
                    g = b._swiperContainer.offset().left - c,
                    h = b._swiperContainer.outerWidth();
                g > f || f > h ? a(e).css("visibility", "hidden") : a(e).css("visibility", "visible")
            })
        },
        _adjustBlankSlides: function() {
            for (a(".swiper-blank").remove(), this._swiper.update(); this._swiper.slides.length % this._minCards !== 0;) this._swiper.addSlide(this._swiper.slides.length, '<div tabindex="-1" class="swiper-slide swiper-blank"></div>');
            this._swiper.update()
        },
        _getVehiclesCount: function() {
            var b = this;
            a.ajax({
                url: this._apiCount,
                method: "GET",
                dataType: "xml"
            }).done(function(c) {
                var d = a(c).find("vehiclecount").text(),
                    e = b._viewstock2.html(),
                    f = e.replace("{{retailer.auv.vehicle.count}}", '<strong class="ApprovedUsedVehicle__viewstock-stock">' + d + "</strong>");
                b.$element.addClass("ApprovedUsedVehicle--loaded"), setTimeout(function() {
                    b._viewstock2.html(f).css("display", "block"), b._viewstock1.css("display", "none"), b.$element.addClass("noTransition"), b._notifications.text(b._notification)
                }, 1e3)
            })
        }
    };
    jQuery.createComponent("ApprovedUsedVehicle", b)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {},
        uiSelectors: {
            items: ".items",
            header: ".items .heading"
        },
        _isInTwoColumnContainer: !1,
        _totalItems: 0,
        init: function() {
            var a = this;
            a._isInTwoColumnContainer = a.$element.parents(".TwoColumnContainer").length, a._totalItems = a.ui("items").data("total"), a._resizeTextInit(), site.utils.isMobileDevice() && site.utils.isBreakpointSmall() && a._setupMobileTel()
        },
        _resizeTextInit: function() {
            var c = this,
                d = a(b);
            d.smartresize(function() {
                b.setTimeout(function() {
                    c._resizeText()
                }, 1e3)
            }), c._resizeText()
        },
        _setupMobileTel: function() {
            var b = this,
                c = b.ui("items").find(".el");
            c.each(function() {
                var b = a(this).find("span"),
                    c = b.data("tel");
                c && b.wrap('<a href="tel:' + c + '"></a>')
            })
        },
        _multipleEqualHeights: function(a, b) {
            for (var c = this.ui("header").length, d = Math.ceil(c / a), e = 0, f = function(b, c) {
                    var d = e,
                        f = e + (a - 1);
                    return b >= d && f >= b
                }, g = 0; d > g; g++) this.ui("header").filter(f).equalHeights(), e += a
        },
        _resizeText: function() {
            var c = this;
            c.ui("header").removeAttr("style"), c._isInTwoColumnContainer ? a(b).width() > site.breakpoints.wider ? c._multipleEqualHeights(2, c.ui("header")) : ("large" === site.breakpoints.current || "medium" === site.breakpoints.current) && c._multipleEqualHeights(4, c.ui("header")) : "large" === site.breakpoints.current ? 4 === c._totalItems || 7 === c._totalItems || 8 === c._totalItems ? c._multipleEqualHeights(4, c.ui("header")) : 5 === c._totalItems || 6 === c._totalItems ? c._multipleEqualHeights(3, c.ui("header")) : c.ui("header").equalHeights() : "medium" === site.breakpoints.current && c._multipleEqualHeights(2, c.ui("header"))
        }
    };
    jQuery.createComponent("AtAGlance", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {
            localData: null,
            dataURL: null,
            wrapper: !0,
            autoSubmit: !1,
            keyMatchTitle: "",
            youSearchedTitle: "",
            appendAfter: ""
        },
        _results: [],
        _menuClass: "",
        _keypressTimer: null,
        _minCharactersForAutocomplete: 2,
        _searchMenu: !0,
        _dataKey: "query",
        init: function() {
            this._menuClass = "acm-" + this._guid(), "undefined" != typeof this.options.minCharacters && (this._minCharactersForAutocomplete = this.options.minCharacters), "undefined" != typeof this.options.searchMenu && (this._searchMenu = this.options.searchMenu), "undefined" != typeof this.options.dataKey && (this._dataKey = this.options.dataKey), (this.options.localData || this.options.localAndRemote || !this._searchMenu) && this.$element.wrap("<div class='autoCompleteContainer'></div>");
            var b;
            b = "" === this.options.appendAfter ? this.$element : a(this.options.appendAfter), b.after("<div class='autoCompleteMenu " + this._menuClass + "'></div>"), this._addEvents(), this._addKeyboardNavigation()
        },
        _populateData: function() {
            var a, b = this.options.dataURL,
                c = this.options.localAndRemote,
                d = this.options.validateRequestRegex,
                e = this.options.persistData,
                f = this.options.autoPopulateSingleResult;
            clearTimeout(this._keypressTimer), this._keypressTimer = setTimeout(function() {
                if (this._results = [], c || b) {
                    var g = site.utils.removeHTMLTags(this.$element.val().trim()),
                        h = {};
                    h[this._dataKey] = g, a = function(a) {
                        c && (this._results = this._handleLocalData(this._results)), this._results = this._handleRemoteData(this._results, a), e && (this._storedResults = a), f && 1 === a.length ? this._selectMenuOption(this._results[0]) : this._searchMenu ? this._createSearchMenu() : this._createMenu()
                    }.bind(this), !d || d && new RegExp(d).test(g) ? this._requestData(b, h, a) : a(this._storedResults || [])
                } else this._results = this._handleLocalData(this._results), this._createMenu()
            }.bind(this), 300)
        },
        _requestData: function(b, c, d) {
            a.ajax({
                url: b,
                dataType: "json",
                data: c,
                beforeSend: function() {
                    this.$element.trigger("requesting-data")
                }.bind(this),
                success: d,
                complete: function() {
                    this.$element.trigger("request-complete")
                }.bind(this)
            })
        },
        _handleLocalData: function(a) {
            for (var b = this.options.localData || [], c = 0; c < b.length; c++) b[c].toLowerCase().indexOf(this.$element.val().toLowerCase()) > -1 && a.push(b[c]);
            return a
        },
        _handleRemoteData: function(a, b) {
            var c = this.options.processResponse;
            return a = Array.isArray(b) ? c ? a.concat(c(b)) : a.concat(b) : b
        },
        _createMenu: function(b) {
            for (var c = this, d = a("." + this._menuClass), e = "", f = 0; f < this._results.length; f++) e += "<div class='autoCompleteItem' tabindex='-1'>" + this._results[f] + "</div>";
            d.html(e).show(), a(".autoCompleteItem").on("click tap", function(b) {
                b.stopPropagation(), c._selectMenuOption(a(this).text())
            })
        },
        _selectMenuOption: function(b) {
            var c = a("." + this._menuClass),
                d = this.options.processSelect;
            d ? d(b) : this.$element.val(b), c.empty(), this.options.autoSubmit && this.$element.parents("form").submit()
        },
        _createSearchMenu: function(b) {
            var c = this,
                d = a("." + c._menuClass),
                e = c.options.youSearchedTitle,
                f = "";
            f += "<a class='autoCompleteTitle' href='#'>" + e.replace("##searchTerm##", "'" + site.utils.removeHTMLTags(c.$element.val()) + "'") + "</a>";
            for (var g = c._results.keyMatches, h = 0; h < g.length; h++) f += "<a href='" + g[h].url + "' class='autoCompleteItem promoted'>" + g[h].title + "</a>";
            for (var i = c._results.suggestions, j = 0; j < i.length; j++) f += "<a href='" + i[j].url + "' class='autoCompleteItem'>" + i[j].title + "</a>";
            d.html(f), a(".autoCompleteTitle").on("click tap", function(a) {
                a.stopPropagation(), c.$element.parents("form").submit()
            })
        },
        _hideAutoComplete: function() {
            a("." + this._menuClass).hide()
        },
        _addEvents: function(b) {
            var c = a("." + this._menuClass),
                d = "";
            d = this._inputSupport() ? "input" : "keyup", this.$element.on(d, function() {
                this._results = [], this.$element.val().length > this._minCharactersForAutocomplete ? this._populateData() : (this.options.persistData && (this._storedResults = []), c.empty())
            }.bind(this)), this.options.persistOptions ? (this.$element.on("focus", function(a) {
                a.stopPropagation(), c.show()
            }.bind(this)), a("html").on("click tap", function(b) {
                a(b.originalEvent.target).is(this.$element) || this._hideAutoComplete()
            }.bind(this))) : a("html").on("click tap", function() {
                c.empty()
            })
        },
        _inputSupport: function() {
            var a = c.createElement("input"),
                b = "oninput" in a && !0;
            return b || (a.setAttribute("oninput", "return;"), b = "function" == typeof a.oninput && !0), b
        },
        _guid: function() {
            function a() {
                return Math.floor(65536 * (1 + Math.random())).toString(16).substring(1)
            }
            return a() + a() + "-" + a() + "-" + a()
        },
        _addKeyboardNavigation: function() {
            var b = this,
                c = b.$element,
                d = a("." + b._menuClass);
            c.keydown(function(a) {
                return 40 === a.keyCode ? (b._searchMenu && b.options.dataURL ? d.find("a:first").focus() : d.find("> div:first").focus(), !1) : void 0
            }), d.keydown(function(d) {
                var e, f;
                return b._searchMenu && b.options.dataURL ? (e = a(this).find("a:first"), f = a(this).find("a:focus")) : (e = a(this).find("div:first"), f = a(this).find("div:focus")), 40 === d.keyCode ? (b._searchMenu && b.options.dataURL ? f.next("a").focus() : f.next("div").focus(), !1) : 38 === d.keyCode ? (f.is(e) ? c.focus() : b._searchMenu && b.options.dataURL ? f.prev("a").focus() : f.prev("div").focus(), !1) : void(b.options.selectWithEnterKey && 13 === d.keyCode && b._selectMenuOption(f.text()))
            })
        }
    };
    jQuery.createComponent("AutoComplete", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        init: function() {
            a("h1[itemprop='name']").hide()
        }
    };
    jQuery.createComponent("BazaarVoiceNameplateRating", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        init: function() {
            var a = this.$element.parent().data("bazaar-url");
            site.utils.addScriptForBazaarVoice(a)
        }
    };
    jQuery.createComponent("BazaarVoiceRating", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _postCodes: null,
        _URL: null,
        _linkBehaviour: null,
        init: function() {
            this._postCodes = this.$element.data("catchment-post-codes").split(","), this.bindEvents()
        },
        bindEvents: function() {
            var a = this;
            this.$element.find(".BookATestDrivePostcodeLookupInput").on("keyup", function(b) {
                13 === b.keyCode && a.passPostcode()
            }), this.$element.find(".BookATestDrivePostcodeLookupContinueButton").on("click tap", function(b) {
                a.passPostcode()
            })
        },
        validate_postcode_prefix: function(a) {
            a = a.replace(/\s/g, "");
            var b = /(([A-Z][0-9][0-9]?)|(([A-Z][A-Z][0-9][0-9]?)|(([A-Z][0-9][A-Z])|([A-Z][A-Z][0-9][A-Z]))))/i;
            return b.test(a)
        },
        validate_postcode: function(a) {
            a = a.replace(/\s/g, "");
            var b = /((([A-Z][0-9][0-9]?)|(([A-Z][A-Z][0-9][0-9]?)|(([A-Z][0-9][A-Z])|([A-Z][A-Z][0-9][A-Z]))))[0-9][A-Z]{2})/i;
            return b.test(a)
        },
        setURL: function() {
            var a = this._URL,
                d = this._linkBehaviour;
            if ("small" !== site.breakpoints.current && "medium" !== site.breakpoints.current || "overlay" !== d.toLowerCase())
                if ("current" === d.toLowerCase()) {
                    var e = c.createElement("script");
                    e.src = a, this.$element.find(".BookATestDriveWidget").append(e)
                } else this.$element.find(".BookATestDriveLink").attr("href", a), this.$element.find(".BookATestDriveLink").attr("data-target", d), this.$element.find(".BookATestDriveLink").trigger("click");
            else {
                var f = (new Date).getUTCMilliseconds();
                b.open(a, "BookATestDrive" + f)
            }
        },
        passPostcode: function() {
            var b = this,
                c = this.$element.find(".BookATestDrivePostcodeLookupInput")[0].value,
                d = !0;
            c.length < 5 ? this.validate_postcode_prefix(c) !== !0 && (d = !1) : this.validate_postcode(c) !== !0 && (d = !1), d === !1 ? (this.$element.find(".BookATestDrivePostcodeLookupError").css("display", "block"), this.$element.find(".BookATestDriveWidget").css("display", "none")) : (-1 !== a.inArray(c.substring(0, 2).toUpperCase(), b._postCodes) || -1 !== a.inArray(c.substring(0, 3).toUpperCase(), b._postCodes) || -1 !== a.inArray(c.substring(0, 4).toUpperCase(), b._postCodes) ? (this._URL = this.$element.data("service-centre-link"), this._linkBehaviour = this.$element.data("service-centre-behaviour")) : (this._URL = this.$element.data("test-drive-link"), this._linkBehaviour = this.$element.data("test-drive-behaviour")), this.$element.find(".BookATestDrivePostcodeLookupError").css("display", "none"), this.$element.find(".BookATestDriveWidget").css("display", "block"), this.setURL())
        }
    };
    jQuery.createComponent("BookATestDriveRedirect", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        ui: {
            nav: ".ChargeQualifier .screen .nav",
            header: ".ChargeQualifier .screen .header",
            headerDescription: ".ChargeQualifier .screen .header p",
            screen: ".ChargeQualifier .screen",
            loading: ".ChargeQualifier #loading",
            items: ".ChargeQualifier .screen .items",
            t_items: ".ChargeQualifier .screen .t_items",
            itemLeft: ".ChargeQualifier #left",
            item_t_Left: ".ChargeQualifier #t_left",
            itemLeftImg: ".ChargeQualifier #left img",
            itemLeftImgContainer: ".ChargeQualifier #left .item-icon div",
            itemLeftTitle: ".ChargeQualifier #left .item-title",
            itemLeftDescription: ".ChargeQualifier #left .item-description",
            itemLeftLink: ".ChargeQualifier #left .item-link",
            itemMiddle: ".ChargeQualifier #middle",
            item_t_Middle: ".ChargeQualifier #t_middle",
            itemMiddleImg: ".ChargeQualifier #middle img",
            itemMiddleContainer: ".ChargeQualifier #middle .item-icon",
            itemMiddleLink: ".ChargeQualifier #middle .item-link",
            itemLeftContainer: ".ChargeQualifier #left .item-icon",
            itemRightContainer: ".ChargeQualifier #right .item-icon",
            itemMiddleImgContainer: ".ChargeQualifier #middle .item-icon div",
            itemMiddleTitle: ".ChargeQualifier #middle .item-title",
            itemMiddleDescription: ".ChargeQualifier #middle .item-description",
            itemRight: ".ChargeQualifier #right",
            item_t_Right: ".ChargeQualifier #t_right",
            itemRightImg: ".ChargeQualifier #right img",
            itemRightImgContainer: ".ChargeQualifier #right .item-icon div",
            itemRightTitle: ".ChargeQualifier #right .item-title",
            itemRightDescription: ".ChargeQualifier #right .item-description",
            itemRightLink: ".ChargeQualifier #right .item-link",
            navStartNext: ".ChargeQualifier .nav .nav-start-next",
            navBackArrow: ".ChargeQualifier .nav .nav-back-arrow",
            navBack: ".ChargeQualifier .nav .nav-back",
            pagination: ".ChargeQualifier .nav #carousel-pagination"
        },
        _currentSlideId: null,
        _previousSlideId: null,
        _currentSlide: null,
        _parentData: null,
        _history: [],
        _count: 0,
        _tmpLeft: null,
        _tmpRight: null,
        _tmpMiddle: null,
        _clickType: null,
        _imgToLoad: 0,
        _imgLoaded: 0,
        _leftIconIsSame: !1,
        _rightIconIsSame: !1,
        _imgs: [],
        _hasCarousel: !1,
        _loaded: !1,
        _highestSummary: 0,
        _mySwiper: null,
        _imgSizes: {
            large: {
                width: 264,
                height: 230,
                introductionIcon: {
                    width: 264,
                    height: 230
                }
            },
            medium: {
                width: 264,
                height: 230,
                introductionIcon: {
                    width: 264,
                    height: 230
                }
            },
            small: {
                width: 140,
                height: 122,
                introductionIcon: {
                    width: 200,
                    height: 174
                }
            },
            xsmall: {
                width: 140,
                height: 122,
                introductionIcon: {
                    width: 175,
                    height: 152
                }
            }
        },
        init: function() {
            var c = this;
            b.Promise = function(b) {
                var c = a.Deferred();
                return b(c.resolve, c.reject), c.promise()
            }, a.fx.interval = 5, Object.keys(this.ui).map(function(b) {
                c.ui[b] = a(c.ui[b])
            }), this._getData(), this._preloadImages(), a(b).on("orientationchange", function() {
                c._loaded && c._createSlide()
            }), Modernizr.touch || a(".cq-button").addClass("cq-hover"), a(".recommendation-ctas a").removeClass("left");
            var d = function() {
                var a = {};
                return function(b, c, d) {
                    d || (d = "Don't call this twice without a uniqueId"), a[d] && clearTimeout(a[d]), a[d] = setTimeout(b, c)
                }
            }();
            a(b).resize(function() {
                d(function() {
                    c._loaded && null !== c._currentSlide && c._createSlide()
                }, 500, "some unique string")
            })
        },
        _getViewportWidth: function() {
            var c = a(b).width();
            return c > 900 ? "large" : 900 >= c && c >= 740 ? "medium" : 740 > c && c >= 320 ? "small" : 320 > c ? "xsmall" : void 0
        },
        _preloadImages: function() {
            var b = this;
            a.each(this._data.screens, function(c, d) {
                d.hasOwnProperty("introductionIcon") && b._imgToLoad++, d.hasOwnProperty("pairedIcon") && b._imgToLoad++, d.hasOwnProperty("options") && a.each(d.options, function(a, c) {
                    c.hasOwnProperty("icon") && b._imgToLoad++
                })
            }), a.each(this._data.screens, function(c, d) {
                if (d.hasOwnProperty("introductionIcon")) {
                    var e = new Image;
                    e.onload = function() {
                        b._imgs.push(e), b._checkPreloading()
                    }, e.src = d.introductionIcon
                }
                d.hasOwnProperty("options") && a.each(d.options, function(a, c) {
                    var d = void 0;
                    c.hasOwnProperty("icon") && (d = new Image, d.onload = function() {
                        b._imgs.push(d), b._checkPreloading()
                    }, d.src = c.icon), c.hasOwnProperty("pairedIcon") && (d = new Image, d.onload = function() {
                        b._imgs.push(d), b._checkPreloading()
                    }, d.src = c.pairedIcon)
                })
            })
        },
        _calculateMaxHeaderHeight: function() {
            var b = this;
            a.each(this._data.screens, function(a, c) {
                b.ui.headerDescription.html(c.summary), b.ui.headerDescription.height() > b._highestSummary && ("large" === b._getViewportWidth() ? b._highestSummary = b.ui.headerDescription.height() : -1 === c.id.indexOf("recommendation") && (b._highestSummary = b.ui.headerDescription.height()))
            }), this.ui.headerDescription.html("")
        },
        _checkPreloading: function() {
            this._imgLoaded++, this._imgLoaded === this._imgToLoad && (this._loaded = !0, a("#loading").css({
                display: "none"
            }), this._calculateMaxHeaderHeight(), this._goHome())
        },
        _getImage: function(b) {
            a.each(this._imgs, function(a, c) {
                return c.src === b ? c.src : void 0
            })
        },
        _getData: function() {
            this._data = this.$element.data("screens")
        },
        _goHome: function() {
            this._goForward("welcome-screen")
        },
        _goBack: function() {
            var a = this;
            this.ui.navBack.off(), this.ui.navBackArrow.off(), this._clickType = "back", this.ui.header.stop(), this._createExitSlideAnimations("back").then(function() {
                a._history.length > 1 && (a._history.splice(a._history.length - 1, 1), a._setSlideId(a._history[a._history.length - 1]), a._createSlide())
            })
        },
        _goForward: function(a) {
            var b = this;
            this._log("_goForward --> " + a), this.ui.navStartNext.off(), this._clickType = "forward", this.ui.header.stop(), setTimeout(function() {
                b._createExitSlideAnimations().then(function() {
                    b._log("_goForward then--> exit animation done for " + b._history[b._history.length - 1]), b._setSlideId(a), b._history.push(a), b._createSlide()
                })
            }, 300)
        },
        _getSlide: function(a) {
            for (var b = 0; b < this._data.screens.length; b++)
                if (a === d) {
                    if (this._data.screens[b].id === this._currentSlideId) return this._data.screens[b]
                } else if (this._data.screens[b].id === a) return this._data.screens[b];
            return null
        },
        _setSlideId: function(a) {
            this._previousSlideId = this._currentSlideId, this._currentSlideId = a
        },
        _createWelcomeScreen: function() {
            if (this._hasCarousel === !0 && this._toggleCarousel(!1), "small" === this._getViewportWidth() || "xsmall" === this._getViewportWidth()) {
                var c = a("#items");
                a(b).width() > 320 && a(b).width() < 740 ? c.css({
                    height: "358px"
                }) : c.css({
                    height: "330px"
                }), this.ui.itemMiddle.css({
                    marginTop: "63px"
                })
            }
            this.ui.itemLeftImgContainer.css({
                left: 0
            }), this.ui.itemMiddleImgContainer.css({
                left: 0
            }), this.ui.itemRightImgContainer.css({
                left: 0
            }), this.ui.t_items.css({
                display: "block"
            }), this.ui.item_t_Right.css({
                display: "inline-block",
                width: "33%"
            }), this.ui.item_t_Left.css({
                display: "inline-block",
                width: "33%"
            }), this.ui.item_t_Middle.css({
                display: "inline-block",
                width: "33%"
            }), this._log("_createWelcomeScreen"), this._toggleNavStartNextHover(!0), this._setSlideTextData(), this.ui.itemMiddleContainer.css("opacity", "1"), this.ui.items.find(".item").css("width", "100%"), this._setItemsVisibility(["#middle"]), this.ui.itemMiddleImg.attr({
                src: this._currentSlide.introductionIcon
            })
        },
        _createChooseParentScreen: function() {
            this._rightIconIsSame = !1, this._leftIconIsSame = !1, this.ui.itemLeft.css({
                cursor: "pointer"
            }), this.ui.itemMiddle.css({
                cursor: "default"
            }), this.ui.itemRight.css({
                cursor: "pointer"
            }), this._setButtonRole(this.ui.itemLeft), this._setButtonRole(this.ui.itemMiddle, !1), this._setButtonRole(this.ui.itemRight), this._log("_createWelcomeScreen"), this._hasCarousel === !0 && this._toggleCarousel(!1);
            var a = this._currentSlide.options;
            "large" === this._getViewportWidth() && (this.ui.items.find(".item").css({
                width: "33%",
                display: "inline-block"
            }), this._setItemsVisibility(["#left", "#middle", "#right"])), "medium" === this._getViewportWidth() && (this.ui.items.find(".item").css({
                width: "49%",
                display: "inline-block"
            }), this._setItemsVisibility(["#left", "#right"])), ("small" === this._getViewportWidth() || "xsmall" === this._getViewportWidth()) && (this.ui.items.find(".item").css({
                width: "100%",
                display: "block"
            }), this._setItemsVisibility(["#left", "#right"])), this.ui.itemMiddleContainer.css("opacity", "1"), this.ui.itemLeftImg.attr({
                src: a[0].icon
            }), this.ui.itemMiddleImg.attr({
                src: this._data.screens[0].introductionIcon
            }), this.ui.itemRightImg.attr({
                src: a[1].icon
            }), this._setSlideTextData([this.ui.itemLeftTitle, this.ui.itemLeftDescription], a[0]), this._setSlideTextData([this.ui.itemRightTitle, this.ui.itemRightDescription], a[1]), this.ui.itemLeft.data("choice", a[0]), this.ui.itemRight.data("choice", a[1])
        },
        _createIntermediateScreen: function() {
            this._log("_createIntermediateScreen"), this._hasCarousel === !0 && this._toggleCarousel(!1), this.ui.itemLeftImgContainer.css({
                left: 0
            }), this.ui.itemRightImgContainer.css({
                left: 0
            }), this.ui.itemLeftTitle.css({
                opacity: 1
            }), this.ui.itemRightTitle.css({
                opacity: 1
            });
            var a = this._currentSlide.options;
            "large" === this._getViewportWidth() && (this.ui.items.find(".item").css({
                width: "33%",
                display: "inline-block"
            }), this._setItemsVisibility(["#left", "#middle", "#right"])), "medium" === this._getViewportWidth() && (this.ui.items.find(".item").css({
                width: "49%",
                display: "inline-block"
            }), this._setItemsVisibility(["#left", "#right"])), ("small" === this._getViewportWidth() || "xsmall" === this._getViewportWidth()) && (this.ui.items.find(".item").css({
                width: "100%",
                display: "inline-block"
            }), this._setItemsVisibility(["#left", "#right"])), 2 === this._currentSlide.options.length && (this.ui.itemLeft.css({
                cursor: "pointer"
            }), this.ui.itemMiddle.css({
                cursor: "default"
            }), this.ui.itemRight.css({
                cursor: "pointer"
            }), this._setButtonRole(this.ui.itemLeft), this._setButtonRole(this.ui.itemMiddle, !1), this._setButtonRole(this.ui.itemRight), this.ui.itemMiddle.css("opacity", "1"), this.ui.itemMiddleContainer.css("opacity", "1"), this.ui.itemLeftImg.attr({
                src: a[0].icon
            }), this.ui.itemMiddleImg.attr({
                src: this._parentData
            }), this.ui.itemRightImg.attr({
                src: a[1].icon
            }), this._setSlideTextData([this.ui.itemLeftTitle], a[0]), this._setSlideTextData([this.ui.itemRightTitle], a[1]), this.ui.itemLeft.data("choice", a[0]), this.ui.itemRight.data("choice", a[1])), 3 === this._currentSlide.options.length && (this.ui.itemLeft.css({
                cursor: "pointer"
            }), this.ui.itemMiddle.css({
                cursor: "pointer"
            }), this.ui.itemRight.css({
                cursor: "pointer"
            }), this._setButtonRole(this.ui.itemLeft), this._setButtonRole(this.ui.itemMiddle), this._setButtonRole(this.ui.itemRight), this.ui.itemMiddleContainer.css("opacity", "0.3"), this.ui.itemLeftImg.attr({
                src: a[0].icon
            }), this.ui.itemMiddleImg.attr({
                src: a[1].icon
            }), this.ui.itemRightImg.attr({
                src: a[2].icon
            }), this._setSlideTextData([this.ui.itemLeftTitle], a[0]), this._setSlideTextData([this.ui.itemMiddleTitle], a[1]), this._setSlideTextData([this.ui.itemRightTitle], a[2]), this.ui.itemLeft.data("choice", a[0]), this.ui.itemMiddle.data("choice", a[1]), this.ui.itemRight.data("choice", a[2]), "small" === this._getViewportWidth() || "xsmall" === this._getViewportWidth() || "medium" === this._getViewportWidth() && "portrait" === site.utils.getDeviceOrientation() ? (this.ui.itemMiddle.css({
                display: "inline-block"
            }), this._toggleCarousel(!0)) : (this.ui.items.find(".item").css({
                width: "33%",
                display: "inline-block"
            }), this._setItemsVisibility(["#left", "#middle", "#right"])))
        },
        _toggleCarousel: function(b) {
            if (this.ui.pagination.css({
                    display: b ? "block" : "none"
                }), b) {
                ("small" === this._getViewportWidth() || "xsmall" === this._getViewportWidth()) && (this.ui.itemLeftImg.css({
                    width: "184px"
                }), this.ui.itemLeftContainer.css({
                    width: this.ui.itemLeftImg.width(),
                    height: this.ui.itemLeftImg.height()
                }), this.ui.itemMiddleImg.css({
                    width: "184px"
                }), this.ui.itemMiddleContainer.css({
                    width: this.ui.itemMiddleImg.width(),
                    height: this.ui.itemMiddleImg.height()
                }), this.ui.itemRightImg.css({
                    width: "184px"
                }), this.ui.itemRightContainer.css({
                    width: this.ui.itemRightImg.width(),
                    height: this.ui.itemRightImg.height()
                })), this._hasCarousel = !0;
                var d = a("#items .item:visible").detach();
                a(".swiper-container .swiper-wrapper").append(d), d.addClass("swiper-slide");
                this._mySwiper = new Swiper(".swiper-container", {
                    direction: "horizontal",
                    speed: 500,
                    initialSlide: 1,
                    loop: !1,
                    pagination: {
                        el: "#carousel-pagination",
                        clickable: !0,
                        renderBullet: function(a, b) {
                            return '<span class="' + b + '"></span>'
                        },
                        bulletClass: "carousel-pagination-bullet",
                        bulletActiveClass: "carousel-pagination-bullet-active"
                    },
                    on: {
                        init: function() {
                            var a = c.querySelector(".swiper-container").swiper;
                            setTimeout(function() {
                                a.slideTo(0, 500, !1, !0)
                            }, 500)
                        }
                    }
                })
            } else {
                this._mySwiper.destroy(!0, !0), this._hasCarousel = !1;
                var e = a(".swiper-container .swiper-wrapper .item").detach();
                e.removeClass("swiper-slide swiper-slide-prev swiper-slide-next swiper-slide-active"), a(".swiper-wrapper").removeAttr("style"), a("#items").append(e)
            }
        },
        _setSlideTextData: function(a, b) {
            if (a && (b && b.hasOwnProperty("title") && a[0] && a[0].html("<h2>" + b.title.toUpperCase() + "</h2>"), a[0].parent().attr("aria-label", null), b && b.hasOwnProperty("titleAccessibleText") && a[0] && a[0].parent().attr("aria-label", b.titleAccessibleText), b && b.hasOwnProperty("description") && a[1] && a[1].html(b.description), b && b.hasOwnProperty("linkId") && a[2])) {
                var c = this.ui.screen.find(".recommendation-ctas ." + b.linkId).clone();
                c.addClass("cq-button cq-button-transparent cq-hover"), a[2].append(c)
            }
        },
        _createRecommendationScreen: function() {
            this._hasCarousel === !0 && this._toggleCarousel(!1), this.ui.itemLeftImgContainer.css({
                left: 0
            }), this.ui.itemMiddleImgContainer.css({
                left: 0
            }), this.ui.itemRightImgContainer.css({
                left: 0
            }), this.ui.itemLeftTitle.css({
                opacity: 1
            }), this.ui.itemRightTitle.css({
                opacity: 1
            }), this.ui.itemLeftContainer.css({
                opacity: 1
            }), this.ui.itemRightContainer.css({
                opacity: 1
            }), this.ui.itemMiddleContainer.css({
                opacity: 1
            });
            var b = this._currentSlide.options;
            this.ui.itemLeft.css({
                cursor: "default"
            }), this.ui.itemMiddle.css({
                cursor: "default"
            }), this.ui.itemRight.css({
                cursor: "default"
            }), this._setButtonRole(this.ui.itemLeft, !1), this._setButtonRole(this.ui.itemMiddle, !1), this._setButtonRole(this.ui.itemRight, !1), "large" === this._getViewportWidth() && ("child" === this._getSelectedItem().data("choice").type && 1 === this._currentSlide.options.length ? this.ui.items.find(".item").css({
                width: "49%",
                display: "inline-block"
            }) : this.ui.items.find(".item").css({
                width: "33%",
                display: "inline-block"
            }), this._setItemsVisibility(["#left", "#middle", "#right"])), "medium" === this._getViewportWidth() && (this.ui.items.find(".item").css({
                width: "landscape" === site.utils.getDeviceOrientation() ? "49%" : "100%",
                display: "inline-block"
            }), this._setItemsVisibility(["#left", "#right"]), "portrait" === site.utils.getDeviceOrientation() && (this.ui.itemRight.css({
                width: "49%"
            }), this.ui.itemLeft.css({
                width: "49%"
            }))), ("small" === this._getViewportWidth() || "xsmall" === this._getViewportWidth() || "medium" === this._getViewportWidth()) && (this.ui.items.find(".item").css({
                width: "100%",
                display: "block"
            }), this._setItemsVisibility(["#left", "#right"]), this.ui.headerDescription.css({
                minHeight: 0
            }));
            var c = this.ui.itemLeft.find(".item-link"),
                e = this.ui.itemMiddle.find(".item-link"),
                f = this.ui.itemRight.find(".item-link"),
                g = [];
            a.each(b, function(a, b) {
                b.type === d && g.push(b)
            }), this.ui.itemLeft.data("selected") === !0 && (this._getSelectedItem().data("choice").type === d && (1 === this._currentSlide.options.length && (this.ui.itemMiddleImg.css({
                width: Math.floor(this._getImagesSize().width / ("large" === this._getViewportWidth() || "medium" === this._getViewportWidth() ? 1.2 : 1))
            }), this.ui.itemMiddleImg.attr({
                src: g[0].icon
            }), this._setSlideTextData([this.ui.itemMiddleTitle, this.ui.itemMiddleDescription, e], g[0])), 2 === this._currentSlide.options.length && (this.ui.itemLeftImg.css({
                width: Math.floor(this._getImagesSize().width / ("large" === this._getViewportWidth() || "medium" === this._getViewportWidth() ? 1.2 : 1))
            }), this.ui.itemLeftContainer.css({
                width: this._getImagesSize().width,
                height: this._getImagesSize().height
            }), this.ui.itemLeftImg.attr({
                src: g[0].icon
            }), this._setSlideTextData([this.ui.itemLeftTitle, this.ui.itemLeftDescription, c], g[0]), this.ui.itemRightImg.css({
                width: this._getImagesSize().width
            }), this.ui.itemRightContainer.css({
                width: this.ui.itemRightImg.width(),
                height: this.ui.itemRightImg.height()
            }), this.ui.itemRightImg.attr({
                src: g[1].icon
            }), this._setSlideTextData([this.ui.itemRightTitle, this.ui.itemRightDescription, f], g[1]), ("small" === this._getViewportWidth() || "xsmall" === this._getViewportWidth()) && this._toggleCarousel(!0))), "child" === this._getSelectedItem().data("choice").type && ("medium" === this._getViewportWidth() && "portrait" === site.utils.getDeviceOrientation() && (this.ui.itemMiddle.css({
                display: "inline-block",
                width: "100%"
            }), this.ui.itemLeft.css({
                display: "inline-block",
                width: "49%"
            }), this.ui.itemRight.css({
                display: "inline-block",
                width: "49%"
            }), this.ui.itemLeft.before(this.ui.itemMiddle), this.ui.itemMiddleDescription.css({
                display: "none"
            })), this._getSelectedItem().data("choice").pairedIcon !== d && (this.ui.itemMiddleImg.css("visibility", "hidden"), this.ui.itemMiddleImg.attr({
                src: this._getSelectedItem().data("choice").pairedIcon
            }), "large" === this._getViewportWidth() && this.ui.itemMiddleContainer.css({
                width: 1.5 * this._getImagesSize().width,
                height: this._getImagesSize().height
            }), this.ui.itemMiddleImg.css("visibility", "visible"), this.ui.itemMiddleTitle.html("<h2>" + this._getSelectedItem().data("choice").pairedTitle.toUpperCase() + "</h2>")), 1 === this._currentSlide.options.length && ("medium" === this._getViewportWidth() && "landscape" === site.utils.getDeviceOrientation() && (this.ui.itemLeft.css({
                display: "inline-block",
                width: "49%"
            }), this.ui.itemMiddle.css({
                display: "inline-block",
                width: "49%"
            }), this.ui.itemMiddleContainer.css({
                width: 1.4 * this._getImagesSize().width,
                height: this._getImagesSize().height
            })), this.ui.itemLeftImg.css({
                width: Math.floor(this._getImagesSize().width / ("large" === this._getViewportWidth() || "medium" === this._getViewportWidth() ? 1.2 : 1))
            }), "medium" === this._getViewportWidth() && "portrait" === site.utils.getDeviceOrientation() && (this.ui.itemLeft.css({
                display: "block",
                width: "100%"
            }), this.ui.itemLeftImg.css({
                width: Math.floor(this._getImagesSize().width / 1.27)
            }), this.ui.itemLeftContainer.css({
                width: this.ui.itemLeftImg.width(),
                height: this.ui.itemLeftImg.height()
            }), this.ui.itemMiddleContainer.css({
                width: 1.06 * this._getImagesSize().width,
                height: this._getImagesSize().height
            }), this.ui.itemMiddleDescription.css({
                display: "none"
            })), this.ui.itemLeftImg.attr({
                src: g[0].icon
            }), this._setSlideTextData([this.ui.itemLeftTitle, this.ui.itemLeftDescription, c], g[0])), 2 === this._currentSlide.options.length && (this.ui.itemLeftImg.css({
                width: Math.floor(this._getImagesSize().width / ("large" === this._getViewportWidth() || "medium" === this._getViewportWidth() ? 1.2 : 1))
            }), this.ui.itemLeftImg.attr({
                src: g[0].icon
            }), this._setSlideTextData([this.ui.itemLeftTitle, this.ui.itemLeftDescription, c], g[0]), this.ui.itemRightImg.css({
                width: Math.floor(this._getImagesSize().width / ("large" === this._getViewportWidth() || "medium" === this._getViewportWidth() ? 1.2 : 1))
            }), this.ui.itemRightImg.attr({
                src: g[1].icon
            }), "medium" === this._getViewportWidth() && (this.ui.itemRight.css({
                display: "inline-block",
                width: "49%"
            }), this.ui.itemMiddle.css({
                display: "block",
                width: "100%"
            }), this.ui.itemLeft.css({
                display: "inline-block",
                width: "49%"
            }), this.ui.itemLeft.before(this.ui.itemMiddle), this.ui.itemMiddleDescription.css({
                display: "none"
            }), this.ui.itemLeftImg.css({
                width: Math.floor(this._getImagesSize().width / 1.27)
            }), this.ui.itemLeftContainer.css({
                width: this.ui.itemLeftImg.width(),
                height: this.ui.itemLeftImg.height()
            }), this.ui.itemRightImg.css({
                width: Math.floor(this._getImagesSize().width / 1.27)
            }), this.ui.itemRightContainer.css({
                width: this.ui.itemRightImg.width(),
                height: this.ui.itemRightImg.height()
            }), this.ui.itemMiddleContainer.css({
                width: 1.06 * this._getImagesSize().width,
                height: this._getImagesSize().height
            })), this._setSlideTextData([this.ui.itemRightTitle, this.ui.itemRightDescription, f], g[1]), ("small" === this._getViewportWidth() || "xsmall" === this._getViewportWidth()) && (this.ui.itemMiddle.css({
                display: "none"
            }), this._toggleCarousel(!0)))), "orphan" === this._getSelectedItem().data("choice").type && (1 === this._currentSlide.options.length && (this.ui.itemRightImg.css({
                width: Math.floor(this._getImagesSize().width / ("large" === this._getViewportWidth() || "medium" === this._getViewportWidth() ? 1.2 : 1))
            }), "medium" === this._getViewportWidth() && "portrait" === site.utils.getDeviceOrientation() && this.ui.itemRightContainer.css({
                width: this.ui.itemRightImg.width(),
                height: this.ui.itemRightImg.height()
            }), this.ui.itemRightImg.attr({
                src: g[0].icon
            }), this._setSlideTextData([this.ui.itemRightTitle, this.ui.itemRightDescription, f], g[0]), this.ui.itemLeftTitle.html("<h2>" + this._getSelectedItem().data("choice").title.toUpperCase() + "</h2>")), 2 === this._currentSlide.options.length && (this.ui.itemRightImg.css({
                width: Math.floor(this._getImagesSize().width / ("large" === this._getViewportWidth() || "medium" === this._getViewportWidth() ? 1.2 : 1))
            }), this.ui.itemRightContainer.css({
                width: this.ui.itemRightImg.width(),
                height: this.ui.itemRightImg.height()
            }), this.ui.itemRightImg.attr({
                src: g[0].icon
            }), this._setSlideTextData([this.ui.itemRightTitle, this.ui.itemRightDescription, f], g[0]), this.ui.itemMiddleImg.css({
                width: Math.floor(this._getImagesSize().width / 1.2)
            }), this.ui.itemMiddleContainer.css({
                width: this.ui.itemMiddleImg.width(),
                height: this.ui.itemMiddleImg.height()
            }), this.ui.itemMiddleImg.attr({
                src: g[1].icon
            }), this._setSlideTextData([this.ui.itemRightTitle, this.ui.itemRightDescription, f], g[0])))), this.ui.itemRight.data("selected") === !0 && (this._getSelectedItem().data("choice").type === d && (1 === this._currentSlide.options.length && (this.ui.itemMiddleImg.css({
                width: Math.floor(this._getImagesSize().width / 1.2)
            }), this.ui.itemMiddleImg.attr({
                src: g[0].icon
            }), this._setSlideTextData([this.ui.itemMiddleTitle, this.ui.itemMiddleDescription, e], g[0])), 2 === this._currentSlide.options.length && (g[0].icon.indexOf("flat-pairing") > -1 && this.ui.itemLeftContainer.css({
                width: this._getImagesSize().width * ("large" === this._getViewportWidth() ? 1.5 : 1.14),
                height: this._getImagesSize().height
            }), g[1].icon.indexOf("flat-pairing") > -1 && this.ui.itemRightContainer.css({
                width: this._getImagesSize().width * ("large" === this._getViewportWidth() ? 1.5 : 1.14),
                height: this._getImagesSize().height
            }), this.ui.itemLeftImg.css({
                width: Math.floor(this._getImagesSize().width / ("large" === this._getViewportWidth() || "medium" === this._getViewportWidth() ? 1.2 : 1))
            }), "medium" === this._getViewportWidth() && "portrait" === site.utils.getDeviceOrientation() && this.ui.itemLeftContainer.css({
                width: this.ui.itemLeftImg.width(),
                height: this.ui.itemLeftImg.height()
            }), -1 === g[1].icon.indexOf("flat-pairing"), this.ui.itemLeftImg.attr({
                src: g[0].icon
            }), this._setSlideTextData([this.ui.itemLeftTitle, this.ui.itemLeftDescription, c], g[0]), this.ui.itemRightImg.attr({
                src: g[1].icon
            }), this._setSlideTextData([this.ui.itemRightTitle, this.ui.itemRightDescription, f], g[1]), ("small" === this._getViewportWidth() || "xsmall" === this._getViewportWidth()) && this._toggleCarousel(!0))), "child" === this._getSelectedItem().data("choice").type && ("medium" === this._getViewportWidth() && "portrait" === site.utils.getDeviceOrientation() && (this.ui.itemMiddle.css({
                display: "inline-block",
                width: "100%"
            }), this.ui.itemLeft.css({
                display: "inline-block",
                width: "49%"
            }), this.ui.itemRight.css({
                display: "inline-block",
                width: "49%"
            }), this.ui.itemRight.before(this.ui.itemMiddle), this.ui.itemMiddleDescription.css({
                display: "none"
            })), "medium" === this._getViewportWidth() && "landscape" === site.utils.getDeviceOrientation() && this.ui.itemMiddle.css({
                display: "",
                width: "33%"
            }), this._getSelectedItem().data("choice").pairedIcon !== d && (this.ui.itemMiddleImg.css("visibility", "hidden"), this.ui.itemMiddleImg.attr({
                src: this._getSelectedItem().data("choice").pairedIcon
            }), "large" === this._getViewportWidth() && this.ui.itemMiddleContainer.css({
                width: 1.5 * this._getImagesSize().width,
                height: this._getImagesSize().height
            }), this.ui.itemMiddleImg.css("visibility", "visible"), this.ui.itemMiddleTitle.html("<h2>" + this._getSelectedItem().data("choice").pairedTitle.toUpperCase() + "</h2>")), 1 === this._currentSlide.options.length && ("medium" === this._getViewportWidth() && "landscape" === site.utils.getDeviceOrientation() && (this.ui.itemMiddle.css({
                display: "inline-block",
                width: "49%"
            }), this.ui.itemMiddleContainer.css({
                width: 1.4 * this._getImagesSize().width,
                height: this._getImagesSize().height
            }), this.ui.itemMiddle.before(this.ui.itemRight)), this.ui.itemRightImg.css({
                width: Math.floor(this._getImagesSize().width / ("large" === this._getViewportWidth() || "medium" === this._getViewportWidth() ? 1.2 : 1))
            }), "medium" === this._getViewportWidth() && "portrait" === site.utils.getDeviceOrientation() && (this.ui.itemRight.css({
                display: "block",
                width: "100%"
            }), this.ui.itemRightImg.css({
                width: Math.floor(this._getImagesSize().width / 1.27)
            }), this.ui.itemRightContainer.css({
                width: this.ui.itemRightImg.width(),
                height: this.ui.itemRightImg.height()
            }), this.ui.itemMiddleContainer.css({
                width: 1.06 * this._getImagesSize().width,
                height: this._getImagesSize().height
            }), this.ui.itemMiddleDescription.css({
                display: "none"
            })), this.ui.itemRightImg.attr({
                src: g[0].icon
            }), this._setSlideTextData([this.ui.itemRightTitle, this.ui.itemRightDescription, f], g[0])), 2 === this._currentSlide.options.length && (this.ui.itemLeftImg.css({
                width: Math.floor(this._getImagesSize().width / ("large" === this._getViewportWidth() || "medium" === this._getViewportWidth() ? 1.2 : 1))
            }), this.ui.itemLeftImg.attr({
                src: g[0].icon
            }), this._setSlideTextData([this.ui.itemLeftTitle, this.ui.itemLeftDescription, c], g[0]), this.ui.itemRightImg.css({
                width: Math.floor(this._getImagesSize().width / ("large" === this._getViewportWidth() || "medium" === this._getViewportWidth() ? 1.2 : 1))
            }), this.ui.itemRightImg.attr({
                src: g[1].icon
            }), "medium" === this._getViewportWidth() && (this.ui.itemLeft.css({
                display: "inline-block",
                width: "49%"
            }), this.ui.itemMiddle.css({
                display: "block",
                width: "100%"
            }), this.ui.itemRight.css({
                display: "inline-block",
                width: "49%"
            }), this.ui.itemLeft.before(this.ui.itemMiddle), this.ui.itemMiddleDescription.css({
                display: "none"
            }), this.ui.itemLeftImg.css({
                width: Math.floor(this._getImagesSize().width / 1.27)
            }), this.ui.itemLeftContainer.css({
                width: this.ui.itemLeftImg.width(),
                height: this.ui.itemLeftImg.height()
            }), this.ui.itemRightImg.css({
                width: Math.floor(this._getImagesSize().width / 1.27)
            }), this.ui.itemRightContainer.css({
                width: this.ui.itemRightImg.width(),
                height: this.ui.itemRightImg.height()
            }), this.ui.itemMiddleContainer.css({
                width: 1.06 * this._getImagesSize().width,
                height: this._getImagesSize().height
            })), this._setSlideTextData([this.ui.itemRightTitle, this.ui.itemRightDescription, f], g[1]), ("small" === this._getViewportWidth() || "xsmall" === this._getViewportWidth()) && (this.ui.itemMiddle.css({
                display: "none"
            }), this._toggleCarousel(!0)))), "orphan" === this._getSelectedItem().data("choice").type && (1 === this._currentSlide.options.length && ("" !== this._getSelectedItem().data("choice").pairedIcon && (this.ui.itemRightImg.attr({
                src: this._getSelectedItem().data("choice").pairedIcon
            }), this.ui.itemRightImg.css({
                width: this._getImagesSize().width * ("large" === this._getViewportWidth() ? 1.5 : 1.14),
                height: this._getImagesSize().height
            }), this.ui.itemRightContainer.css({
                width: this._getImagesSize().width * ("large" === this._getViewportWidth() ? 1.5 : 1.14),
                height: this._getImagesSize().height
            })), this.ui.itemLeftImg.css({
                width: Math.floor(this._getImagesSize().width / ("large" === this._getViewportWidth() || "medium" === this._getViewportWidth() ? 1.2 : 1))
            }), "medium" === this._getViewportWidth() && "portrait" === site.utils.getDeviceOrientation() && (this.ui.itemLeftContainer.css({
                width: this.ui.itemLeftImg.width(),
                height: this.ui.itemLeftImg.height()
            }), this.ui.itemRightDescription.css({
                display: "none"
            })), this.ui.itemLeftImg.attr({
                src: g[0].icon
            }), this._setSlideTextData([this.ui.itemLeftTitle, this.ui.itemLeftDescription, c], g[0]), this.ui.itemRightTitle.html("<h2>" + this._getSelectedItem().data("choice").title.toUpperCase() + "</h2>")), 2 === this._currentSlide.options && (this.ui.itemLeftImg.css({
                width: Math.floor(this._getImagesSize().width / ("large" === this._getViewportWidth() || "medium" === this._getViewportWidth() ? 1.2 : 1))
            }), this.ui.itemLeftContainer.css({
                width: this.ui.itemLeftImg.width(),
                height: this.ui.itemLeftImg.height()
            }), this.ui.itemLeftImg.attr({
                src: g[0].icon
            }), this._setSlideTextData([this.ui.itemLeftTitle, this.ui.itemLeftDescription, c], g[0]), this.ui.itemMiddleImg.css({
                width: Math.floor(this._getImagesSize().width / 1.2)
            }), this.ui.itemMiddleContainer.css({
                width: this.ui.itemMiddleImg.width(),
                height: this.ui.itemMiddleImg.height()
            }), this.ui.itemMiddleImg.attr({
                src: g[1].icon
            }), this._setSlideTextData([this.ui.itemRightTitle, this.ui.itemRightDescription, f], g[0])))), this._equalizeElementHeight("item-title"), this._equalizeElementHeight("item-description")
        },
        _equalizeElementHeight: function(b) {
            var c = 0,
                d = a("." + b);
            d.css("min-height", "auto"), d.each(function(b, d) {
                var e = a(this).outerHeight();
                e > c && (c = e)
            }), c > 0 && d.css("min-height", c)
        },
        _setResetButton: function(a) {
            var b = this,
                c = this.ui.screen.find(".nav-start-next").clone();
            c.length || (this.ui.navStartNext.css("display", "none"), c.off(), c.css("opacity", "1"), c.on("click", function(a) {
                b._log("--------------------------- CLICK 5 ---------------------------"), a.preventDefault(), b._goHome(), c.animate({
                    opacity: 0
                }, 600, function() {
                    c.remove()
                })
            }), a.append(c), a.find(".nav-start-next").css({
                display: "inline-block"
            }))
        },
        _createEnterSlideAnimations: function() {
            var a = this,
                b = -1 === this._currentSlideId.indexOf("recommendation") ? .3 : 1;
            return this.ui.header.css({
                opacity: 0
            }), this.ui.header.stop().animate({
                opacity: 1
            }, 600, function() {
                a._log("_createEnterSlideAnimations for " + a._currentSlideId + " DONE")
            }), this.ui.navBack.css("display") === this.ui.navStartNext.css("display") && (this.ui.navBack.css("left", "10px"), this.ui.navStartNext.css("right", "10px")), this.ui.nav.css({
                opacity: 0
            }), this._animateProp(this.ui.nav, {
                opacity: 1
            }, 600), this._animateProp(this.ui.navBack, {
                left: 0
            }, 300), this._animateProp(this.ui.navStartNext, {
                right: 0
            }, 300), "welcome-screen" === this._currentSlideId ? void("back" !== this._clickType && (this.ui.itemMiddle.css({
                opacity: 0
            }), this._animateProp(this.ui.itemMiddle, {
                opacity: 1
            }, 600))) : "choose-parent" === this._currentSlideId ? ("back" === this._clickType && (this.ui.itemMiddle.css({
                opacity: 0
            }), this._animateProp(this.ui.itemMiddle, {
                opacity: 1
            }, 600)), this.ui.itemLeftImgContainer.css({
                left: "100px"
            }), this._animateProp(this.ui.itemLeftImgContainer, {
                left: "0px"
            }, 600), this.ui.itemLeft.css({
                opacity: 0
            }), this._animateProp(this.ui.itemLeft, {
                opacity: 1
            }, 600), this._animateProp(this.ui.itemLeftContainer, {
                opacity: b
            }, 600), this.ui.itemRightImgContainer.css({
                left: "-100px"
            }), this._animateProp(this.ui.itemRightImgContainer, {
                left: "0px"
            }, 600), this.ui.itemRight.css({
                opacity: 0
            }), this._animateProp(this.ui.itemRight, {
                opacity: 1
            }, 600), void this._animateProp(this.ui.itemRightContainer, {
                opacity: b
            }, 600)) : this._currentSlideId.indexOf("intermediate") > -1 && "choose-parent" !== this._history[this._history.length - 2] ? ("back" === this._clickType && (2 === this._currentSlide.options.length && (this.ui.itemRight.css({
                opacity: 0
            }), this._animateProp(this.ui.itemRight, {
                opacity: 1
            }, 600), this._animateProp(this.ui.itemRightContainer, {
                opacity: b
            }, 600), this.ui.itemLeft.css({
                opacity: 0
            }), this._animateProp(this.ui.itemLeft, {
                opacity: 1
            }, 600), this._animateProp(this.ui.itemLeftContainer, {
                opacity: b
            }, 600), this._leftIconIsSame === !1 && (this.ui.itemLeftImgContainer.css({
                left: "-200px"
            }), this._animateProp(this.ui.itemLeftImgContainer, {
                left: "0px"
            }, 600)), this._rightIconIsSame === !1 && (this.ui.itemRightImgContainer.css({
                left: "200px"
            }), this._animateProp(this.ui.itemRightImgContainer, {
                left: "0px"
            }, 600))), 3 === this._currentSlide.options.length && (this.ui.itemRight.css({
                opacity: 0
            }), this._animateProp(this.ui.itemRight, {
                opacity: 1
            }, 600), this._animateProp(this.ui.itemRightContainer, {
                opacity: b
            }, 600), this.ui.itemMiddle.css({
                opacity: 0
            }), this._animateProp(this.ui.itemMiddle, {
                opacity: 1
            }, 600), this._animateProp(this.ui.itemMiddleContainer, {
                opacity: b
            }, 600), this.ui.itemLeftContainer.css({
                opacity: 0
            }), this._animateProp(this.ui.itemLeft, {
                opacity: 1
            }, 600), this._animateProp(this.ui.itemLeftContainer, {
                opacity: b
            }, 600))), this.ui.itemLeft.data("selected") === !0 && 2 === this._currentSlide.options.length && (this.ui.itemRight.css({
                opacity: 0
            }), this.ui.itemRightContainer.css({
                opacity: this._rightIconIsSame === !1 ? 0 : 1
            }), this._animateProp(this.ui.itemRight, {
                opacity: 1
            }, 600), this._animateProp(this.ui.itemRightContainer, {
                opacity: b
            }, 600), this.ui.itemLeft.css({
                opacity: this._leftIconIsSame === !1 ? 0 : 1
            }), this.ui.itemLeftContainer.css({
                opacity: this._leftIconIsSame === !1 ? 0 : 1
            }), this._animateProp(this.ui.itemLeft, {
                opacity: 1
            }, 600), this._animateProp(this.ui.itemLeftContainer, {
                opacity: b
            }, 600), this._leftIconIsSame === !1 && (this.ui.itemLeftImgContainer.css({
                left: "-200px"
            }), this._animateProp(this.ui.itemLeftImgContainer, {
                left: "0px"
            }, 600)), this._rightIconIsSame === !1 && (this.ui.itemRightImgContainer.css({
                left: "200px"
            }), this._animateProp(this.ui.itemRightImgContainer, {
                left: "0px"
            }, 600)), 2 === this._getSlide(this._history[this._history.length - 2]).options.length && (this.ui.itemRightImgContainer.css({
                left: "200px"
            }), this._animateProp(this.ui.itemRightImgContainer, {
                left: "0px"
            }, 600)), 3 === this._getSlide(this._history[this._history.length - 2]).options.length && (this.ui.itemMiddle.css({
                opacity: 0
            }), this._animateProp(this.ui.itemMiddle, {
                opacity: 1
            }, 600))), this.ui.itemMiddle.data("selected") === !0 && (2 === this._currentSlide.options.length && (this.ui.itemRight.css({
                opacity: 0
            }), this._animateProp(this.ui.itemRight, {
                opacity: 1
            }, 600), this._animateProp(this.ui.itemRightContainer, {
                opacity: b
            }, 600), this.ui.itemMiddle.css({
                opacity: 0
            }), this._animateProp(this.ui.itemMiddle, {
                opacity: 1
            }, 600), this.ui.itemLeft.css({
                opacity: 0
            }), this._animateProp(this.ui.itemLeft, {
                opacity: 1
            }, 600), this._animateProp(this.ui.itemLeftContainer, {
                opacity: b
            }, 600), this._leftIconIsSame === !1 && (this.ui.itemLeftImgContainer.css({
                left: "-200px"
            }), this._animateProp(this.ui.itemLeftImgContainer, {
                left: "0px"
            }, 600)), this._rightIconIsSame === !1 && (this.ui.itemRightImgContainer.css({
                left: "200px"
            }), this._animateProp(this.ui.itemRightImgContainer, {
                left: "0px"
            }, 600))), 3 === this._currentSlide.options.length && (this.ui.itemRight.css({
                opacity: 0
            }), this._animateProp(this.ui.itemRight, {
                opacity: 1
            }, 600), this._animateProp(this.ui.itemRightContainer, {
                opacity: b
            }, 600), this.ui.itemMiddle.css({
                opacity: 0
            }), this._animateProp(this.ui.itemMiddle, {
                opacity: 1
            }, 600), this._animateProp(this.ui.itemMiddleContainer, {
                opacity: b
            }, 600), this.ui.itemLeftContainer.css({
                opacity: 0
            }), this._animateProp(this.ui.itemLeft, {
                opacity: 1
            }, 600), this._animateProp(this.ui.itemLeftContainer, {
                opacity: b
            }, 600))), void(this.ui.itemRight.data("selected") === !0 && (this.ui.itemLeft.css({
                opacity: 0
            }), this._animateProp(this.ui.itemLeft, {
                opacity: 1
            }, 600), this._animateProp(this.ui.itemLeftContainer, {
                opacity: b
            }, 600), this.ui.itemRight.css({
                opacity: this._rightIconIsSame === !1 ? 0 : 1
            }), this.ui.itemRightContainer.css({
                opacity: this._rightIconIsSame === !1 ? 0 : 1
            }), this._animateProp(this.ui.itemRight, {
                opacity: 1
            }, 600), this._animateProp(this.ui.itemRightContainer, {
                opacity: b
            }, 600), this._leftIconIsSame === !1 && (this.ui.itemLeftImgContainer.css({
                left: "-200px"
            }), this._animateProp(this.ui.itemLeftImgContainer, {
                left: "0px"
            }, 600)), this._rightIconIsSame === !1 && (this.ui.itemRightImgContainer.css({
                left: "200px"
            }), this._animateProp(this.ui.itemRightImgContainer, {
                left: "0px"
            }, 600)), this._rightIconIsSame === !1 && (this.ui.itemRightImgContainer.css({
                left: "200px"
            }), this._animateProp(this.ui.itemRightImgContainer, {
                left: "0px"
            }, 600)), 2 === this._getSlide(this._history[this._history.length - 2]).options.length && (this.ui.itemLeftImgContainer.css({
                left: "-200px"
            }), this._animateProp(this.ui.itemLeftImgContainer, {
                left: "0px"
            }, 600)), 3 === this._getSlide(this._history[this._history.length - 2]).options.length && (this.ui.itemMiddle.css({
                opacity: 0
            }), this._animateProp(this.ui.itemMiddle, {
                opacity: 1
            }, 600))))) : this._currentSlideId.indexOf("recommendation") > -1 ? (this.ui.t_items.css({
                display: "none"
            }), this.ui.itemLeft.data("selected") === !0 && (this._getSelectedItem().data("choice").type === d && (1 === this._currentSlide.options.length && ("large" !== this._getViewportWidth() && (this.ui.itemMiddle.css({
                display: "inline-block",
                width: "100%"
            }), this.ui.itemLeft.css({
                display: "none"
            }), this.ui.itemRight.css({
                display: "none"
            })), this.ui.itemMiddle.css({
                opacity: 0
            }), this._animateProp(this.ui.itemMiddle, {
                opacity: 1
            }, 600), this._setResetButton(this.ui.itemMiddleLink), this.ui.itemMiddleLink.css({
                opacity: 0
            }), this._animateProp(this.ui.itemMiddleLink, {
                opacity: 1
            }, 600)), 2 === this._currentSlide.options.length && (this.ui.itemLeft.css({
                opacity: 0
            }), this._animateProp(this.ui.itemLeft, {
                opacity: 1
            }, 600), this.ui.itemMiddle.css({
                display: "none"
            }), this.ui.itemRight.css({
                opacity: 0
            }), this._animateProp(this.ui.itemRight, {
                opacity: 1
            }, 600), !this._currentSlide.options[0].hasOwnProperty("linkId") && this._currentSlide.options[1].hasOwnProperty("linkId") ? this._setResetButton(this.ui.itemLeftLink) : this._currentSlide.options[0].hasOwnProperty("linkId") && !this._currentSlide.options[1].hasOwnProperty("linkId") ? this._setResetButton(this.ui.itemRightLink) : this.ui.navStartNext.css("display", "inline-block"))), "child" === this._getSelectedItem().data("choice").type && (this.ui.itemRight.css({
                opacity: 0
            }), this.ui.itemLeft.css({
                opacity: 0
            }), 1 === this._currentSlide.options.length && (this._animateProp(this.ui.itemLeft, {
                opacity: 1
            }, 600), this.ui.itemRight.css({
                display: "none"
            }), ("medium" === this._getViewportWidth() && "portrait" === site.utils.getDeviceOrientation() || "small" === this._getViewportWidth() || "xsmall" === this._getViewportWidth()) && (this._setResetButton(this.ui.itemLeftLink), this.ui.itemLeftLink.css({
                opacity: 0
            }), this._animateProp(this.ui.itemLeftLink, {
                opacity: 1
            }, 600)), "medium" === this._getViewportWidth() && "landscape" === site.utils.getDeviceOrientation() && (this._currentSlide.options[0].hasOwnProperty("linkId") ? this._setResetButton(this.ui.itemMiddleLink) : this.ui.navStartNext.css("display", "inline-block"), this.ui.itemMiddleLink.css({
                opacity: 0
            }), this._animateProp(this.ui.itemMiddleLink, {
                opacity: 1
            }, 600)), "large" === this._getViewportWidth() && (this._currentSlide.options[0].hasOwnProperty("linkId") ? this._setResetButton(this.ui.itemMiddleLink) : this.ui.navStartNext.css("display", "inline-block"), this.ui.itemMiddleLink.css({
                opacity: 0
            }), this._animateProp(this.ui.itemMiddleLink, {
                opacity: 1
            }, 600))), 2 === this._currentSlide.options.length && (setTimeout(function() {
                a.ui.itemRight.css({
                    opacity: 0
                }), a._animateProp(a.ui.itemLeft, {
                    opacity: 1,
                    left: "0"
                }, 600), a._animateProp(a.ui.itemRight, {
                    opacity: 1,
                    right: "0"
                }, 600)
            }, 100), "large" === this._getViewportWidth() && (this._setResetButton(this.ui.itemMiddleLink), this.ui.itemMiddleLink.css({
                opacity: 0
            }), this._animateProp(this.ui.itemMiddleLink, {
                opacity: 1
            }, 600)), "medium" === this._getViewportWidth() && "landscape" === site.utils.getDeviceOrientation() && (this.ui.navStartNext.css("display", "inline-block"), this.ui.itemMiddleLink.css({
                opacity: 0
            }), this._animateProp(this.ui.itemMiddleLink, {
                opacity: 1
            }, 600)), "medium" === this._getViewportWidth() && "portrait" === site.utils.getDeviceOrientation())), "orphan" === this._getSelectedItem().data("choice").type && (this.ui.itemLeft.css({
                opacity: 0
            }), this._animateProp(this.ui.itemLeft, {
                opacity: 1
            }, 600), this.ui.itemRight.css({
                opacity: 0
            }), this._animateProp(this.ui.itemRight, {
                opacity: 1
            }, 600), this.ui.itemMiddle.css({
                display: "none"
            }), ("large" === this._getViewportWidth() || "medium" === this._getViewportWidth() && "landscape" === site.utils.getDeviceOrientation()) && (this._setResetButton(this.ui.itemLeftLink), this.ui.itemLeftLink.css({
                opacity: 0
            }), this._animateProp(this.ui.itemLeftLink, {
                opacity: 1
            }, 600)), "medium" === this._getViewportWidth() && "portrait" === site.utils.getDeviceOrientation() && this._setResetButton(this.ui.itemRightLink), ("small" === this._getViewportWidth() || "xsmall" === this._getViewportWidth()) && (this._setResetButton(this.ui.itemRightLink), this.ui.itemLeft.css({
                display: "none"
            }))), "none" === this.ui.navStartNext.css("display") && "none" === this.ui.navBack.css("display") && this.ui.nav.css({
                display: "none"
            })), this.ui.itemRight.data("selected") === !0 && (this._getSelectedItem().data("choice").type === d && (1 === this._currentSlide.options.length && (this.ui.itemMiddle.css({
                opacity: 0
            }), this._animateProp(this.ui.itemMiddle, {
                opacity: 1
            }, 600), ("medium" === this._getViewportWidth() && "portrait" === site.utils.getDeviceOrientation() || "small" === this._getViewportWidth() || "xsmall" === this._getViewportWidth()) && (this._setResetButton(this.ui.itemRightLink), this.ui.itemRightLink.css({
                opacity: 0
            }), this._animateProp(this.ui.itemRightLink, {
                opacity: 1
            }, 600)), "medium" === this._getViewportWidth() && "landscape" === site.utils.getDeviceOrientation() && (this._setResetButton(this.ui.itemMiddleLink), this.ui.itemMiddleLink.css({
                opacity: 0
            }), this._animateProp(this.ui.itemMiddleLink, {
                opacity: 1
            }, 600)), "large" === this._getViewportWidth() && (this._setResetButton(this.ui.itemMiddleLink), this.ui.itemMiddleLink.css({
                opacity: 0
            }), this._animateProp(this.ui.itemMiddleLink, {
                opacity: 1
            }, 600))), 2 === this._currentSlide.options.length && (this.ui.itemLeft.css({
                opacity: 0
            }), this._animateProp(this.ui.itemLeft, {
                opacity: 1
            }, 600), this.ui.itemRight.css({
                opacity: 0
            }), this._animateProp(this.ui.itemRight, {
                opacity: 1
            }, 600), !this._currentSlide.options[1].hasOwnProperty("linkId") && this._currentSlide.options[0].hasOwnProperty("linkId") ? this._setResetButton(this.ui.itemRightLink) : this._currentSlide.options[1].hasOwnProperty("linkId") && !this._currentSlide.options[0].hasOwnProperty("linkId") ? this._setResetButton(this.ui.itemLeftLink) : this.ui.navStartNext.css("display", "inline-block"), this._currentSlide.options[1].icon.indexOf("flat-pairing") > -1 && (("small" === this._getViewportWidth() || "xsmall" === this._getViewportWidth()) && (this._setResetButton(this.ui.itemLeftLink), this.ui.itemLeftLink.css({
                opacity: 0
            }), this._animateProp(this.ui.itemLeftLink, {
                opacity: 1
            }, 600), this.ui.itemRight.css({
                display: "none"
            })), ("large" === this._getViewportWidth() || "medium" === this._getViewportWidth() && "landscape" === site.utils.getDeviceOrientation()) && (this._setResetButton(this.ui.itemRightLink), this.ui.itemRightLink.css({
                opacity: 0
            }), this._animateProp(this.ui.itemRightLink, {
                opacity: 1
            }, 600)), "medium" === this._getViewportWidth() && "portrait" === site.utils.getDeviceOrientation() && (this._setResetButton(this.ui.itemLeftLink), this.ui.itemRight.css({
                display: "block",
                width: "100%"
            }), this.ui.itemLeft.css({
                display: "block",
                width: "100%"
            }), this.ui.itemLeft.before(this.ui.itemRight))), this.ui.itemMiddle.css({
                display: "none"
            }))), "child" === this._getSelectedItem().data("choice").type && (this.ui.itemRight.css({
                opacity: 0
            }), this.ui.itemLeft.css({
                opacity: 0
            }), 1 === this._currentSlide.options.length && (this._animateProp(this.ui.itemRight, {
                opacity: 1
            }, 600), this.ui.itemLeft.css({
                display: "none"
            }), ("medium" === this._getViewportWidth() && "portrait" === site.utils.getDeviceOrientation() || "small" === this._getViewportWidth() || "xsmall" === this._getViewportWidth()) && (this._setResetButton(this.ui.itemRightLink), this.ui.itemRightLink.css({
                opacity: 0
            }), this._animateProp(this.ui.itemRightLink, {
                opacity: 1
            }, 600)), "medium" === this._getViewportWidth() && "landscape" === site.utils.getDeviceOrientation() && (this._setResetButton(this.ui.itemMiddleLink), this.ui.itemMiddleLink.css({
                opacity: 0
            }), this._animateProp(this.ui.itemMiddleLink, {
                opacity: 1
            }, 600)), "large" === this._getViewportWidth() && (this._setResetButton(this.ui.itemMiddleLink), this.ui.itemMiddleLink.css({
                opacity: 0
            }), this._animateProp(this.ui.itemMiddleLink, {
                opacity: 1
            }, 600))), 2 === this._currentSlide.options.length && (setTimeout(function() {
                a.ui.itemRight.css({
                    opacity: 0
                }), a._animateProp(a.ui.itemLeft, {
                    opacity: 1,
                    left: "0"
                }, 600), a._animateProp(a.ui.itemRight, {
                    opacity: 1,
                    right: "0"
                }, 600)
            }, 100), "large" === this._getViewportWidth() && (this._setResetButton(this.ui.itemMiddleLink), this.ui.itemMiddleLink.css({
                opacity: 0
            }), this._animateProp(this.ui.itemMiddleLink, {
                opacity: 1
            }, 600)), "medium" === this._getViewportWidth() && "landscape" === site.utils.getDeviceOrientation(), "medium" === this._getViewportWidth() && "portrait" === site.utils.getDeviceOrientation())), "orphan" === this._getSelectedItem().data("choice").type && (this.ui.itemRight.css({
                opacity: 0
            }), this._animateProp(this.ui.itemRight, {
                opacity: 1
            }, 600), this.ui.itemLeft.css({
                opacity: 0
            }), this._animateProp(this.ui.itemLeft, {
                opacity: 1
            }, 600), this.ui.itemMiddle.css({
                display: "none"
            }), ("large" === this._getViewportWidth() || "medium" === this._getViewportWidth() && "landscape" === site.utils.getDeviceOrientation()) && (this._currentSlide.options[0].hasOwnProperty("linkId") ? this._setResetButton(this.ui.itemMiddleLink) : this.ui.navStartNext.css("display", "inline-block"), this.ui.itemRightLink.css({
                opacity: 0
            }), this._animateProp(this.ui.itemRightLink, {
                opacity: 1
            }, 600)), "medium" === this._getViewportWidth() && "portrait" === site.utils.getDeviceOrientation() && (this._setResetButton(this.ui.itemLeftLink), this.ui.itemLeft.before(this.ui.itemRight)), ("small" === this._getViewportWidth() || "xsmall" === this._getViewportWidth()) && (this._setResetButton(this.ui.itemLeftLink), this.ui.itemRight.css({
                display: "none"
            })))), void("none" === this.ui.navStartNext.css("display") && "none" === this.ui.navBack.css("display") && this.ui.nav.css({
                display: "none"
            }))) : (3 === this._currentSlide.options.length && (this.ui.itemMiddle.css({
                opacity: 0
            }), this._animateProp(this.ui.itemMiddle, {
                opacity: 1
            }, 600), this._animateProp(this.ui.itemMiddleContainer, {
                opacity: b
            }, 600)), this._leftIconIsSame === !1 && 2 === this._currentSlide.options.length && (this.ui.itemLeftImgContainer.css({
                left: "-200px"
            }), this._animateProp(this.ui.itemLeftImgContainer, {
                left: "0px"
            }, 600)), this._rightIconIsSame === !1 && 2 === this._currentSlide.options.length && (this.ui.itemRightImgContainer.css({
                left: "200px"
            }), this._animateProp(this.ui.itemRightImgContainer, {
                left: "0px"
            }, 600)), this.ui.itemLeft.css({
                opacity: this._leftIconIsSame === !1 ? 0 : 1
            }), this._animateProp(this.ui.itemLeft, {
                opacity: 1
            }, 600), this.ui.itemRight.css({
                opacity: this._rightIconIsSame === !1 ? 0 : 1
            }), this._animateProp(this.ui.itemRight, {
                opacity: 1
            }, 600), this.ui.itemLeftContainer.css({
                opacity: this._leftIconIsSame === !1 ? 0 : b
            }), this.ui.itemRightContainer.css({
                opacity: this._rightIconIsSame === !1 ? 0 : b
            }), this._animateProp(this.ui.itemRightContainer, {
                opacity: b
            }, 600), this._animateProp(this.ui.itemLeftContainer, {
                opacity: b
            }, 600), void("none" === this.ui.navStartNext.css("display") && "none" === this.ui.navBack.css("display") && this.ui.nav.css({
                display: "none"
            })))
        },
        _animateProp: function(a, b, c, e, f) {
            f === d && (f = "easeOutCubic"), a.stop().animate(b, c, f, function() {
                e !== d && setTimeout(function() {
                    e()
                }, 20)
            })
        },
        _shouldResolve: function() {
            return "choose-parent" === this._currentSlideId ? !1 : this._currentSlideId.indexOf("intermediate") > -1 && "forward" === this._clickType && this._getSelectedItem().data("choice").nextScreen.indexOf("recommendation") > -1 ? !1 : !0
        },
        _createExitSlideAnimations: function() {
            var b;
            return new Promise(function(c) {
                var e = this;
                if (null === this._currentSlideId) return this._log("_createExitSlideAnimations --> resolve --> null"), void c();
                if (this.ui.header.stop().animate({
                        opacity: 0
                    }, 600, function() {
                        e._log("_createExitSlideAnimations --> resolve --> done for " + e._currentSlideId), e._shouldResolve() === !0 && c()
                    }), this._animateProp(this.ui.nav, {
                        opacity: 0
                    }, 600), "choose-parent" === this._currentSlideId && ("back" === this._clickType && (this._animateProp(this.ui.itemLeft, {
                        opacity: 0
                    }, 600), this._animateProp(this.ui.itemLeftImgContainer, {
                        left: "100px"
                    }, 600), this.ui.itemLeftTitle.html(""), this._animateProp(this.ui.itemRight, {
                        opacity: 0
                    }, 600), this._animateProp(this.ui.itemRightImgContainer, {
                        left: "-100px"
                    }, 600, c), this.ui.itemRightTitle.html("")), "forward" === this._clickType)) {
                    if (2 === this._getSlide(this._getSelectedItem().data("choice").nextScreen).options.length) {
                        var f;
                        b = function() {
                            this.ui.itemLeft.data("selected") === !0 && (f = a("#middle").offset().left - a("#left").offset().left, this._animateProp(this.ui.itemLeftImgContainer, {
                                left: f
                            }, 600, c, "easeOutQuad"), this._animateProp(this.ui.itemRight, {
                                opacity: 0
                            }, 600)), this.ui.itemRight.data("selected") === !0 && (f = -(a("#right").offset().left - a("#middle").offset().left), this._animateProp(this.ui.itemRightImgContainer, {
                                left: f
                            }, 800, c), this._animateProp(this.ui.itemLeft, {
                                opacity: 0
                            }, 600))
                        }.bind(this), "large" === this._getViewportWidth() ? this._animateProp(this.ui.itemMiddle, {
                            opacity: 0
                        }, 600, b) : (this._animateProp(this.ui.itemRight, {
                            opacity: 0
                        }, 600), this._animateProp(this.ui.itemLeft, {
                            opacity: 0
                        }, 600, c)), this.ui.itemRight.data("selected") === !0 && this._animateProp(this.ui.itemRightTitle, {
                            opacity: 0
                        }, 600), this.ui.itemLeft.data("selected") === !0 && this._animateProp(this.ui.itemLeftTitle, {
                            opacity: 0
                        }, 600)
                    }
                    3 === this._getSlide(this._getSelectedItem().data("choice").nextScreen).options.length && (b = function() {}.bind(this), this._animateProp(this.ui.itemLeft, {
                        opacity: 0
                    }, 600), this._animateProp(this.ui.itemMiddle, {
                        opacity: 0
                    }, 600), this._animateProp(this.ui.itemRight, {
                        opacity: 0
                    }, 600, c))
                }
                if (this._currentSlideId.indexOf("intermediate") > -1 && "choose-parent" === this._history[this._history.length - 2] && "back" === this._clickType) return this._animateProp(this.ui.itemMiddle, {
                    opacity: 0
                }, 600), 2 === this._currentSlide.options.length ? (this._animateProp(this.ui.itemLeftImgContainer, {
                    left: "-200px"
                }, 600), this._animateProp(this.ui.itemRightImgContainer, {
                    left: "200px"
                }, 600)) : (this._rightIconIsSame = !1, this._leftIconIsSame = !1), this._animateProp(this.ui.itemLeft, {
                    opacity: 0
                }, 600), void this._animateProp(this.ui.itemRight, {
                    opacity: 0
                }, 600);
                if (this._currentSlideId.indexOf("intermediate") > -1 && "back" === this._clickType) return 2 === this._currentSlide.options.length && (3 === this._getSlide(this._history[this._history.length - 2]).options.length && this._animateProp(this.ui.itemMiddle, {
                    opacity: 0
                }, 600), this._leftIconIsSame === !1 && 2 === this._currentSlide.options.length ? (this._animateProp(this.ui.itemLeftImgContainer, {
                    left: "-200px"
                }, 600), this._animateProp(this.ui.itemLeft, {
                    opacity: 0
                }, 600)) : this._animateProp(this.ui.itemLeftContainer, {
                    opacity: .3
                }, 600), this._rightIconIsSame === !1 && 2 === this._currentSlide.options.length ? (this._animateProp(this.ui.itemRightImgContainer, {
                    left: "200px"
                }, 600), this._animateProp(this.ui.itemRight, {
                    opacity: 0
                }, 600)) : this._animateProp(this.ui.itemRightContainer, {
                    opacity: .3
                }, 600)), void(3 === this._currentSlide.options.length && (this._leftIconIsSame === !1 ? this._animateProp(this.ui.itemLeft, {
                    opacity: 0
                }, 600) : this._animateProp(this.ui.itemLeftContainer, {
                    opacity: .3
                }, 600), this._animateProp(this.ui.itemMiddle, {
                    opacity: 0
                }, 600), this._rightIconIsSame === !1 ? this._animateProp(this.ui.itemRight, {
                    opacity: 0
                }, 600) : this._animateProp(this.ui.itemRightContainer, {
                    opacity: .3
                }, 600)));
                if (this._currentSlideId.indexOf("intermediate") > -1 && "forward" === this._clickType && (-1 === this._getSelectedItem().data("choice").nextScreen.indexOf("recommendation") && (this.ui.itemLeft.data("selected") === !0 && (2 === this._currentSlide.options.length && (this._getSlide(this._getSelectedItem().data("choice").nextScreen).options[0].icon !== this._getSelectedItem().data("choice").icon ? (this._leftIconIsSame = !1, this._animateProp(this.ui.itemLeftImgContainer, {
                        left: "-200px"
                    }, 600), this._animateProp(this.ui.itemLeft, {
                        opacity: 0
                    }, 600)) : this._leftIconIsSame = !0, this._animateProp(this.ui.itemRightImgContainer, {
                        left: "200px"
                    }, 600), this._animateProp(this.ui.itemRight, {
                        opacity: 0
                    }, 600)), 3 === this._currentSlide.options.length && (this._getSlide(this._getSelectedItem().data("choice").nextScreen).options[0].icon !== this._getSelectedItem().data("choice").icon ? (this._leftIconIsSame = !1, this._animateProp(this.ui.itemLeft, {
                        opacity: 0
                    }, 600)) : this._leftIconIsSame = !0, this._animateProp(this.ui.itemMiddle, {
                        opacity: 0
                    }, 600), this._getSlide(this._getSelectedItem().data("choice").nextScreen).options[1].icon !== this._getSelectedItem().data("choice").icon ? (this._rightIconIsSame = !1, this._animateProp(this.ui.itemRight, {
                        opacity: 0
                    }, 600)) : this._rightIconIsSame = !0, this._animateProp(this.ui.itemRight, {
                        opacity: 0
                    }, 600))), this.ui.itemMiddle.data("selected") === !0 && (this._animateProp(this.ui.itemLeft, {
                        opacity: 0
                    }, 600), this._animateProp(this.ui.itemMiddle, {
                        opacity: 0
                    }, 600), this._animateProp(this.ui.itemRight, {
                        opacity: 0
                    }, 600)), this.ui.itemRight.data("selected") === !0 && (2 === this._currentSlide.options.length && (this._getSlide(this._getSelectedItem().data("choice").nextScreen).options[1].icon !== this._getSelectedItem().data("choice").icon ? (this._rightIconIsSame = !1, this._animateProp(this.ui.itemRightImgContainer, {
                        left: "200px"
                    }, 600), this._animateProp(this.ui.itemRight, {
                        opacity: 0
                    }, 600)) : this._rightIconIsSame = !0, this._animateProp(this.ui.itemLeftImgContainer, {
                        left: "-200px"
                    }, 600), this._animateProp(this.ui.itemLeft, {
                        opacity: 0
                    }, 600)), 3 === this._currentSlide.options.length && (this._getSlide(this._getSelectedItem().data("choice").nextScreen).options[0].icon !== this._getSelectedItem().data("choice").icon ? (this._leftIconIsSame = !1, this._animateProp(this.ui.itemLeft, {
                        opacity: 0
                    }, 600)) : this._leftIconIsSame = !0, this._animateProp(this.ui.itemMiddle, {
                        opacity: 0
                    }, 600), this._getSlide(this._getSelectedItem().data("choice").nextScreen).options[1].icon !== this._getSelectedItem().data("choice").icon ? (this._rightIconIsSame = !1, this._animateProp(this.ui.itemRight, {
                        opacity: 0
                    }, 600)) : this._rightIconIsSame = !0))), this._getSelectedItem().data("choice").nextScreen.indexOf("recommendation") > -1)) {
                    if (this._getSelectedItem().data("choice").type === d && (this._animateProp(this.ui.itemRight, {
                            opacity: 0
                        }, 600, c), this._animateProp(this.ui.itemMiddle, {
                            opacity: 0
                        }, 600), this._animateProp(this.ui.itemLeft, {
                            opacity: 0
                        }, 600)), "child" === this._getSelectedItem().data("choice").type) {
                        var g, h, i, j, k = 1.5 * this._getImagesSize().width - this._getImagesSize().width;
                        return this.ui.itemLeft.data("selected") === !0 && ("large" === this._getViewportWidth() ? (this._animateProp(this.ui.itemRight, {
                            opacity: 0
                        }, 600), this._animateProp(this.ui.itemLeftTitle, {
                            opacity: 0
                        }, 600), 1 === this._getSlide(this._getSelectedItem().data("choice").nextScreen).options.length ? (this.ui.item_t_Right.css({
                            display: "none"
                        }), this.ui.item_t_Middle.css({
                            width: "49%"
                        }), this.ui.item_t_Left.css({
                            width: "49%"
                        }), this.ui.item_t_Middle.find("div").width(1.5 * this._getImagesSize().width), this.ui.item_t_Middle.find("div").css({
                            height: "20px",
                            margin: "auto"
                        }), j = this.ui.item_t_Middle.find("div").offset().left, g = j - this.ui.itemLeftContainer.offset().left, h = j - this.ui.itemMiddleContainer.offset().left + k) : (g = a("#middle").offset().left - this.ui.itemLeftContainer.offset().left, h = k / 2), this.ui.itemLeftImgContainer.css("z-index", "10"), this._animateProp(this.ui.itemLeftImgContainer, {
                            left: g
                        }, 1e3, c), this._animateProp(this.ui.itemMiddleImgContainer, {
                            left: h
                        }, 1e3)) : (this._animateProp(this.ui.itemLeft, {
                            opacity: 0
                        }, 600), this._animateProp(this.ui.itemRight, {
                            opacity: 0
                        }, 600), this._animateProp(this.ui.itemLeftTitle, {
                            opacity: 0
                        }, 600, c))), void(this.ui.itemRight.data("selected") === !0 && ("large" === this._getViewportWidth() ? (this._animateProp(this.ui.itemLeft, {
                            opacity: 0
                        }, 600), this._animateProp(this.ui.itemRightTitle, {
                            opacity: 0
                        }, 600), 1 === this._getSlide(this._getSelectedItem().data("choice").nextScreen).options.length ? (this.ui.item_t_Left.css({
                            display: "none"
                        }), this.ui.item_t_Middle.css({
                            width: "49%"
                        }), this.ui.item_t_Right.css({
                            width: "49%"
                        }), this.ui.item_t_Middle.find("div").width(1.5 * this._getImagesSize().width), this.ui.item_t_Middle.find("div").css({
                            height: "20px",
                            margin: "auto"
                        }), j = this.ui.item_t_Middle.find("div").offset().left, i = -(this.ui.itemRightContainer.offset().left - j) + k, h = j - this.ui.itemMiddleContainer.offset().left) : (i = -(this.ui.itemRightContainer.offset().left - a("#middle").offset().left) + k, h = -k / 2), this.ui.itemLeftImgContainer.css("z-index", "10"), this._animateProp(this.ui.itemRightImgContainer, {
                            left: i
                        }, 1e3, c), this._animateProp(this.ui.itemMiddleImgContainer, {
                            left: h
                        }, 1e3)) : (this._animateProp(this.ui.itemRight, {
                            opacity: 0
                        }, 600), this._animateProp(this.ui.itemLeft, {
                            opacity: 0
                        }, 600), this._animateProp(this.ui.itemRightTitle, {
                            opacity: 0
                        }, 600, c))))
                    }
                    return void("orphan" === this._getSelectedItem().data("choice").type && (this.ui.itemLeft.data("selected") === !0 && (this._animateProp(this.ui.itemLeft, {
                        opacity: 0
                    }, 600, c), this._animateProp(this.ui.itemMiddle, {
                        opacity: 0
                    }, 600), this._animateProp(this.ui.itemRight, {
                        opacity: 0
                    }, 600)), this.ui.itemRight.data("selected") === !0 && (this._animateProp(this.ui.itemRight, {
                        opacity: 0
                    }, 600, c), this._animateProp(this.ui.itemMiddle, {
                        opacity: 0
                    }, 600), this._animateProp(this.ui.itemLeft, {
                        opacity: 0
                    }, 600))))
                }
                this._currentSlideId.indexOf("recommendation") > -1 && (this._animateProp(this.ui.itemRight, {
                    opacity: 0
                }, 600), this._animateProp(this.ui.itemMiddle, {
                    opacity: 0
                }, 600), this._animateProp(this.ui.itemLeft, {
                    opacity: 0
                }, 600))
            }.bind(this))
        },
        _checkImgLoaded: function() {
            this._imgLoaded++, 3 === this._imgLoaded && (this._log("_checkImgLoaded --> calling _createEnterSlideAnimations"), this._createEnterSlideAnimations())
        },
        _getImagesSize: function() {
            return this._imgSizes[this._getViewportWidth()]
        },
        _createSlide: function() {
            this._log("_createSlide"), a("#items").css({
                height: "auto"
            }), this.ui.itemMiddle.css({
                marginTop: "0px"
            }), a(b).width() <= 1200 ? this._imgSizes.large = {
                width: Math.floor(a(b).width() / 5.12),
                height: Math.floor(a(b).width() / 5.88),
                introductionIcon: {
                    width: Math.floor(a(b).width() / 5.12),
                    height: Math.floor(a(b).width() / 5.88)
                }
            } : this._imgSizes.large = {
                width: 264,
                height: 230,
                introductionIcon: {
                    width: 264,
                    height: 230
                }
            }, a(".item-link a").remove(), this.ui.pagination.css({
                display: "none"
            }), a(".item-description").css({
                display: "block",
                height: "auto",
                minHeight: "auto"
            }), this.ui.itemLeft.after(this.ui.itemRight), this.ui.itemLeft.after(this.ui.itemMiddle), "welcome-screen" === this._currentSlideId ? this.ui.itemMiddleContainer.css({
                width: this._getImagesSize().introductionIcon.width,
                height: this._getImagesSize().introductionIcon.height
            }) : this.ui.itemMiddleContainer.css({
                width: this._getImagesSize().width,
                height: this._getImagesSize().height
            }), this.ui.itemLeftImg.css({
                width: this._getImagesSize().width,
                marginTop: 0
            }), this.ui.itemMiddleImg.css({
                width: "100%",
                marginTop: 0
            }), this.ui.itemRightImg.css({
                width: this._getImagesSize().width,
                marginTop: 0
            }), this.ui.itemLeftContainer.css({
                width: this._getImagesSize().width,
                height: this._getImagesSize().height
            }), this.ui.itemRightContainer.css({
                width: this._getImagesSize().width,
                height: this._getImagesSize().height
            }), this._unbindSlideEvents(), this._imgLoaded = 0, this.ui.itemLeftTitle.html(""), this.ui.itemRightTitle.html(""), this.ui.itemMiddleTitle.html(""), this.ui.itemLeftDescription.html(""), this.ui.itemRightDescription.html(""), this.ui.itemMiddleDescription.html(""), this._currentSlide = this._getSlide(), this._toggleNavStartNextHover(!1), this.ui.nav.css({
                display: "block"
            }), this.ui.navStartNext.trigger("mouseleave"), this.ui.headerDescription.css({
                minHeight: this._highestSummary
            }), this._currentSlide.hasOwnProperty("title") && this.ui.header.find(".ChargeQualifier__title").html(this._currentSlide.title.toUpperCase()), this._currentSlide.hasOwnProperty("summary") && this.ui.header.find("p").html(this._currentSlide.summary), "welcome-screen" === this._currentSlideId && this._createWelcomeScreen(), "choose-parent" === this._currentSlideId && this._createChooseParentScreen(), this._currentSlideId.indexOf("intermediate") > -1 && this._createIntermediateScreen(), this._currentSlideId.indexOf("recommendation") > -1 && this._createRecommendationScreen(), this._createSlideNav(), this._createSlideEvents(), this._createEnterSlideAnimations()
        },
        _unbindSlideEvents: function() {
            this._log("_unbindSlideEvents"), this.ui.itemLeft.off(), this.ui.itemMiddle.off(), this.ui.itemRight.off(), this.ui.navStartNext.off(), this.ui.navBack.off(), this.ui.navBackArrow.off()
        },
        _createHoverEvent: function(b) {
            b.hover(function() {
                a(this).find(".item-icon").stop().animate({
                    opacity: .7
                }, "fast")
            }, function() {
                a(this).find(".item-icon").stop().animate({
                    opacity: .3
                }, "fast")
            })
        },
        _getSelectedItem: function() {
            return this.ui.itemLeft.data("selected") === !0 ? this.ui.itemLeft : this.ui.itemRight.data("selected") === !0 ? this.ui.itemRight : this.ui.itemMiddle.data("selected") === !0 ? this.ui.itemMiddle : void 0
        },
        _createSlideEvents: function() {
            var b = this;
            this._log("_createSlideEvents");
            var c = !1;
            if (this.ui.navBack.on("click", function(a) {
                    a.preventDefault(), this._goBack()
                }.bind(this)), this.ui.navBackArrow.on("click", function(a) {
                    a.preventDefault(), this._goBack()
                }.bind(this)), -1 === this._currentSlideId.indexOf("recommendation") && "welcome-screen" !== this._currentSlideId) {
                a(".nav-start-next.cq-button").removeClass("cq-hover"), this.ui.itemLeftContainer.css("opacity", "0.3"), this.ui.itemRightContainer.css("opacity", "0.3"), this._createHoverEvent(this.ui.itemLeft), this._createHoverEvent(this.ui.itemRight), this._currentSlide.options !== d && 3 === this._currentSlide.options.length && this._createHoverEvent(this.ui.itemMiddle);
                var e = function(a) {
                        b._toggleNavStartNextHover(!0), b.ui.itemLeft.data("selected", !0), b.ui.itemMiddle.data("selected", !1), b.ui.itemRight.data("selected", !1), a.preventDefault(), b.ui.itemLeft.off("mouseenter mouseleave"), b._animateProp(b.ui.itemLeftContainer, {
                            opacity: 1
                        }, 600), b._animateProp(b.ui.itemRightContainer, {
                            opacity: .3
                        }, 600), b._currentSlide.options !== d && 3 === b._currentSlide.options.length && (b.ui.itemMiddleContainer.css("opacity", "0.3"), b._createHoverEvent(b.ui.itemMiddle)), b._createHoverEvent(b.ui.itemRight), "choose-parent" === b._currentSlideId && (b._parentData = b.ui.itemLeft.data("choice").icon), c === !1 && (c = !0, b._animateProp(b.ui.navStartNext, {
                            opacity: 1
                        }, 600), b.ui.navStartNext.css("cursor", "pointer"), b._setButtonRole(b.ui.navStartNext), b.ui.navStartNext.on("click", function() {
                            this._log("--------------------------- CLICK 1 ---------------------------"), a.preventDefault(), this._goForward(this._getSelectedItem().data("choice").nextScreen)
                        }.bind(b))), setTimeout(function() {
                            this.ui.navStartNext.trigger("click"), this.ui.navBack.off()
                        }.bind(b), 0)
                    },
                    f = function(a) {
                        b._toggleNavStartNextHover(!0), b.ui.itemLeft.data("selected", !1), b.ui.itemMiddle.data("selected", !1), b.ui.itemRight.data("selected", !0), a.preventDefault(), b.ui.itemRight.off("mouseenter mouseleave"), b._animateProp(b.ui.itemRightContainer, {
                            opacity: 1
                        }, 600), b._animateProp(b.ui.itemLeftContainer, {
                            opacity: .3
                        }, 600), b._currentSlide.options !== d && 3 === b._currentSlide.options.length && (b.ui.itemMiddleContainer.css("opacity", "0.3"), b._createHoverEvent(b.ui.itemMiddle)), b._createHoverEvent(b.ui.itemLeft), "choose-parent" === b._currentSlideId && (b._parentData = b.ui.itemRight.data("choice").icon), c === !1 && (c = !0, b.ui.navStartNext.css("cursor", "pointer"), b._setButtonRole(b.ui.navStartNext), b._animateProp(b.ui.navStartNext, {
                            opacity: 1
                        }, 600), b.ui.navStartNext.on("click", function(b) {
                            this._log("--------------------------- CLICK 2 ---------------------------"), a.preventDefault(), this._goForward(this._getSelectedItem().data("choice").nextScreen)
                        }.bind(b))), setTimeout(function() {
                            this.ui.navStartNext.trigger("click"), this.ui.navBack.off()
                        }.bind(b), 0)
                    };
                this.ui.itemLeft.on("click", function(a) {
                    e(a)
                }), this.ui.itemLeft.on("keydown", function(a) {
                    (32 === a.keyCode || 13 === a.keyCode) && (a.preventDefault(), e(a))
                }), this.ui.itemRight.on("click", function(a) {
                    f(a)
                }), this.ui.itemRight.on("keydown", function(a) {
                    (32 === a.keyCode || 13 === a.keyCode) && (a.preventDefault(), f(a))
                }), this._currentSlide.options !== d && 3 === this._currentSlide.options.length && this.ui.itemMiddle.on("click", function(a) {
                    this._toggleNavStartNextHover(!0), this.ui.itemLeft.data("selected", !1), this.ui.itemMiddle.data("selected", !0), this.ui.itemRight.data("selected", !1), a.preventDefault(), this.ui.itemMiddle.off("mouseenter mouseleave"), this._animateProp(this.ui.itemMiddleContainer, {
                        opacity: 1
                    }, 600), this._animateProp(this.ui.itemLeftContainer, {
                        opacity: .3
                    }, 600), this._animateProp(this.ui.itemRightContainer, {
                        opacity: .3
                    }, 600), this._createHoverEvent(this.ui.itemLeft), this._createHoverEvent(this.ui.itemRight), c === !1 && (c = !0, this.ui.navStartNext.css("cursor", "pointer"), this._setButtonRole(this.ui.navStartNext), this._animateProp(this.ui.navStartNext, {
                        opacity: 1
                    }, 600), this.ui.navStartNext.on("click", function(a) {
                        this._log("--------------------------- CLICK 3 ---------------------------"), a.preventDefault(), this._goForward(this._getSelectedItem().data("choice").nextScreen)
                    }.bind(this))), setTimeout(function() {
                        this.ui.navStartNext.trigger("click"), this.ui.navBack.off()
                    }.bind(this), 0)
                }.bind(this))
            }
            "welcome-screen" === this._currentSlideId ? (this._animateProp(this.ui.navStartNext, {
                opacity: 1
            }, 0), this.ui.navStartNext.on("click", function(a) {
                this._log("--------------------------- CLICK 4 ---------------------------"), a.preventDefault(), this._goForward("choose-parent")
            }.bind(this))) : this._currentSlideId.indexOf("recommendation") > -1 ? (this._animateProp(this.ui.navStartNext, {
                opacity: 1
            }, 600), this.ui.navStartNext.on("click", function(a) {
                this._log("--------------------------- CLICK 5 ---------------------------"), a.preventDefault(), this._goHome()
            }.bind(this))) : (this.ui.navStartNext.off("click"), this.ui.navStartNext.css("cursor", "default"), this.ui.navStartNext.css("opacity", "0.3"), this._setButtonRole(this.ui.navStartNext, !1))
        },
        _toggleNavStartNextHover: function(b) {
            Modernizr.touch || a(".nav-start-next.cq-button").removeClass("cq-hover").addClass("cq-hover")
        },
        _createSlideNav: function() {
            this._log("_createSlideNav"), "welcome-screen" === this._currentSlideId && (this.ui.navStartNext.html(this._data.nav.letsBegin), this.ui.navStartNext.attr("aria-label", this._data.nav.letsBeginAccessibleText), this.ui.navStartNext.css("display", "inline-block"), this.ui.navBackArrow.css("display", "none"), this.ui.navBack.css("display", "none"), this.ui.navStartNext.css("cursor", "pointer"), this._setButtonRole(this.ui.navStartNext)), (this._currentSlideId.indexOf("intermediate") > -1 || "choose-parent" === this._currentSlideId) && (this.ui.navStartNext.html(this._data.nav.nextStep), this.ui.navStartNext.attr("aria-label", this._data.nav.nextStepAccessibleText), this.ui.navBack.html(this._data.nav.backAStep), this.ui.navBack.attr("aria-label", this._data.nav.backAStepAccessibleText), this.ui.navBack.css("display", "large" === this._getViewportWidth() || "medium" === this._getViewportWidth() ? "inline-block" : "none"), this.ui.navBack.css("display", "inline-block"), this.ui.navStartNext.css("cursor", "pointer"), this._setButtonRole(this.ui.navStartNext), this.ui.navStartNext.css("display", "none"), this.ui.navBack.css("cursor", "pointer"), this._setButtonRole(this.ui.navBack)), this._currentSlideId.indexOf("recommendation") > -1 && (this.ui.navStartNext.html(this._data.nav.backToStart), this.ui.navStartNext.attr("aria-label", this._data.nav.backtoStartAccessibleText), this.ui.navBackArrow.css("display", "none"), this.ui.navBack.css("display", "none"), this.ui.navStartNext.css("display", "inline-block"), this.ui.navStartNext.css("cursor", "pointer"), this._setButtonRole(this.ui.navStartNext))
        },
        _setItemsVisibility: function(b) {
            a(".ChargeQualifier .screen .items .item").css("display", "none"), b.forEach(function(b) {
                a(".ChargeQualifier .screen .items " + b).css("display", "inline-block")
            })
        },
        _setButtonRole: function(a) {
            var b = arguments.length > 1 && arguments[1] !== d ? arguments[1] : !0;
            a && b && a.attr("role", "button"), a && !b && a.attr("role", null)
        },
        _log: function(a) {}
    };
    jQuery.createComponent("ChargeQualifier", e)
}(jQuery, window, document),
function(a) {
    a.fn.removeStyle = function(b) {
        var c = new RegExp(b + "[^;]+;?", "g");
        return this.each(function() {
            a(this).attr("style", function(a, b) {
                return b.replace(c, "")
            })
        })
    }
}(jQuery),
function(a, b, c, d) {
    var e = {
        _models: [],
        _modelSelectorHeight: 0,
        _vehicleSelected: null,
        uiSelectors: {
            selectVehicle: ".vehicle-selector",
            selectModel: ".model-selector",
            total: ".total-selected",
            compareButtonContainer: ".button-container",
            dataContainer: ".data-container",
            vehicles: ".vehicle-selector .select-option",
            models: ".model-selector .select-option"
        },
        events: {
            "click .remove-icon": "_removeModel",
            "click .compare-button": "_getCompareData"
        },
        init_rtl: function() {},
        init: function() {
            this._updateSelectedTotal(), this.ui("selectModel").find(".Selectable").Selectable("initSlider"), this._modelSelectorHeight = this.ui("selectModel").outerHeight(), this.ui("selectModel").height(0).hide(), this.ui("selectVehicle").find(".Selectable").Selectable("initSlider"), this.ui("selectVehicle").on("option-selected", function(b, c, d) {
                this.ui("vehicles").removeClass("selected");
                var e = a(c.currentTarget);
                e.addClass("selected"), this._vehicleSelected = this.ui("vehicles").index(e), this._showModels()
            }.bind(this)), this.ui("selectModel").on("option-selected", function(a, b, c) {
                this._selectModel(b)
            }.bind(this))
        },
        _demoFn: function() {
            this.ui("models").removeClass("selected");
            for (var a = 0, b = this._models.length; b > a; a++) this._models[a].v === this._vehicleSelected && this.ui("models").eq(this._models[a].m).addClass("selected")
        },
        _showModels: function() {
            this.ui("selectModel").is(":visible") ? this.ui("selectModel").transition({
                opacity: 0,
                height: 0
            }, 250, function() {
                this._demoFn(), this.ui("selectModel").transition({
                    opacity: 1,
                    height: this._modelSelectorHeight
                }, 500), site.utils.scrollTo(a(".option-details:first()", this.$element), 500)
            }.bind(this)) : (this.ui("selectModel").show(), this.ui("selectModel").find(".Selectable").Selectable("updateSliderSize"), this.ui("selectModel").transition({
                opacity: 1,
                height: this._modelSelectorHeight
            }, 500), site.utils.scrollTo(a(".option-details:first()", this.$element), 500))
        },
        _selectModel: function(b) {
            var c = a(b.currentTarget);
            c.hasClass("selected") ? (c.removeClass("selected"), this._models = this._models.filter(function(a) {
                return !(a.v === this._vehicleSelected && a.m === this.ui("models").index(c))
            }.bind(this))) : this._models.length < 3 && (c.addClass("selected"), this._models.push({
                v: this._vehicleSelected,
                m: this.ui("models").index(c)
            })), this._updateVehicleSelectedCount(), this._updateSelectedTotal(), this._models.length > 1 ? this.ui("compareButtonContainer").show() : this.ui("compareButtonContainer").hide()
        },
        _updateVehicleSelectedCount: function() {
            var a = this.ui("vehicles").eq(this._vehicleSelected),
                b = this._models.filter(function(a) {
                    return a.v === this._vehicleSelected
                }.bind(this)).length;
            0 === b ? (a.removeClass("model-selected"), a.find(".selected-icon").text("")) : (a.addClass("model-selected"), a.find(".selected-icon").text(b))
        },
        _updateSelectedTotal: function() {
            this.ui("total").text(this._models.length)
        },
        _getCompareData: function() {
            this.ui("dataContainer").show(), site.utils.scrollTo(this.ui("dataContainer"), 300)
        }
    };
    jQuery.createComponent("CompareTwo", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        uiSelectors: {
            comparisonWrapper: ".comparisonWrapper",
            carouselNavigation: ".carouselNavigation"
        },
        $sliderSet: a(".sliderSet", this.$element),
        $activeSet: null,
        $activeSlides: null,
        _$html: a("html"),
        $initSlider: !1,
        $componentHeight: null,
        $visibleTab: a(".visibleTab", this.$element),
        $tabFilterContainer: a(".tabFilterContainer", this.$element),
        $tabFilter: a(".TabFilter", this.$element),
        $headerBlock: null,
        $totalTabs: [],
        $carousel: !1,
        activatedSliderItems: [],
        activeSlideItem: !1,
        _comparisonSlideDefaults: {
            $element: !1,
            dragControl: !1,
            dragPosition: 0,
            $dragBindElememt: !1,
            overlayActive: !1
        },
        toggleSnapFlag: !0,
        loadDelayMs: 4e3,
        dragsliderDelayMs: 1200,
        dragsliderElementRef: ".sliderControls",
        dragsliderProgressRef: ".sliderProgress",
        dragsliderObject: !1,
        dragsliderPosition: .5,
        dragTimeout: !1,
        fadeInComplete: !1,
        ieHoverLoop: !1,
        _carouselDirection: "slideFromRight",
        $hotspotOverlay: !1,
        _fallbackAnimationOffset: -230,
        breakpointSize: "large",
        activeHotspot: {
            $element: !1,
            dragControl: !1,
            dragPosition: .5,
            $dragBindElememt: !1
        },
        init_rtl: function() {
            this._carouselDirection = "slideFromLeft"
        },
        init: function() {
            var c = this;
            this.$element.addClass("loading"), this.$element.append(a('<div class="loaderOverlay"></div>')), this._setActiveSet(), this._setPadding(), this.$element.scrollfire({
                onBottomIn: function(a, d) {
                    c.$element.hasClass("loaded") === !1 && (c.$activeSlides.length > 1 ? c._initRoyalSlider() : (c.$element.hasClass("loading") && c.loaderEffect(c.loadDelayMs), c.ui("carouselNavigation").fadeOut(), c.$activeSet.find(".comparisonSliderCarousel").removeClass("royalSlider")), c._allTabsToArray(), c._initActiveSlide(c.$activeSlides.first(), !0), b.richsponsiveImage())
                }
            }), c._initEvents(), c._initEnquire()
        },
        _setActiveSet: function() {
            this.$activeSet = this.$sliderSet.filter(".active"), this.$activeSlides = a(".comparisonSliderItem", this.$activeSet), this.$headerBlock = a(".headerBlock", this.$activeSet)
        },
        _initActiveSlide: function(b, c) {
            var d = this;
            this.activeframeSliderItem = !1;
            var e = this.$activeSlides.index(b),
                f = null,
                g = null;
            if (this.$activeSlides.removeClass("active"), e in this.activatedSliderItems) {
                this.activeSlideItem = this.activatedSliderItems[e];
                var h = this.activeSlideItem.dragControl.getValue(),
                    i = 2;
                h[0] >= .75 ? i = 3 : h[0] <= .25 && (i = 1), this.activeSlideItem.dragControl.setStep(i, 1, !0), this.activeSlideItem.dragControl.reflow()
            } else this.activeSlideItem = a.extend(!0, {}, d._comparisonSlideDefaults), this.activeSlideItem.$element = b, this.activatedSliderItems[e] = this.activeSlideItem, f = this.activeSlideItem.$element.find(".sliderContainer"), g = this.activeSlideItem.$element.find(".comparisonWrapper"), 0 === e && c ? (this.activeSlideItem.dragPosition = .5, this.activeSlideItem.dragControl = this._initDragDealer(!0, f, g)) : (this.dragsliderPosition = site.rtl ? 1 : 0, this.activeSlideItem.dragControl = this._initDragDealer(!1, f, g));
            this.$element.hasClass("loading") && this.loaderEffect(d.loadDelayMs), this._initHotSpot(), this.activeSlideItem.$element.addClass("active")
        },
        _uninitDragAnimation: function(a) {
            clearTimeout(this.activeSlideItem.dragControl.activePauseTimout)
        },
        _initEnquire: function() {
            var a = this;
            enquire.register("screen and (min-width: " + b.site.breakpoints.wider + "px)", {
                match: function() {
                    a.breakpointSize = "large"
                }
            }), enquire.register("screen and (min-width: " + (b.site.breakpoints.small + 1) + "px) and (max-width: " + (b.site.breakpoints.wider - 1) + "px)", {
                match: function() {
                    a.breakpointSize = "medium"
                }
            }), enquire.register("screen and (max-width: " + b.site.breakpoints.small + "px)", {
                match: function() {
                    a.breakpointSize = "small"
                }
            }), enquire.register("screen and (max-width: 400px)", {
                match: function() {
                    a.breakpointSize = "extra-small"
                }
            })
        },
        _initHotSpot: function(a) {
            var b = this,
                c = 1300,
                d = 600,
                e = 1e3;
            this.$activeSlides.removeClass("activeHotspot"), this.activeSlideItem.$element.addClass("activeHotspot");
            var f = this.activeSlideItem.$element.find("div.hotspot"),
                g = f.find(".hotspotIcon"),
                h = f.find(".hotspotLine"),
                i = f.find(".hotspotPoint");
            g.css("opacity", 0).removeClass("pulse"), h.hide(), i.removeAttr("style"), b.fadeInComplete === !1 && (c = 3e3, d = 2600, e = 3e3, h.css({
                "-webkit-animation-delay": "2s",
                "animation-delay": "2s"
            })), b._hotspotResize(), i.delay(d).animate({
                opacity: 1
            }, 800), h.show(), g.delay(c).animate({
                opacity: 1
            }, 800, function() {
                g.addClass("pulse"), h.css({
                    "-webkit-animation-delay": "0s",
                    "animation-delay": "0s"
                })
            }), b.fadeInComplete = !0, this._$html.hasClass("no-smil") && setTimeout(function() {
                b._fallbackAnimation("forward")
            }, e), this._$html.hasClass("no-cssvhunit") && site.utils.getAndroidVersion() <= 4.2 && (this._hotspotReset(), this.$element.addClass("disableAnimation"))
        },
        _hotspotHideLines: function() {
            var b = this,
                c = a(".comparisonSliderItem.activeHotspot", this.$element),
                d = c.find(".hotspotPoint");
            d.fadeOut(300, function() {
                b._$html.hasClass("no-smil") && b._fallbackAnimation("reverse")
            });
            var e = c.find(".hotspot .inner");
            e.addClass("hidden")
        },
        _hotspotShowLines: function() {
            var b = this,
                c = a(".comparisonSliderItem.activeHotspot", this.$element),
                d = c.find(".hotspotPoint");
            d.delay(500).fadeIn(1e3), b._$html.hasClass("no-smil") && b._fallbackAnimation("forward");
            var e = c.find(".hotspot .inner");
            e.removeClass("hidden")
        },
        _hotspotResize: function() {
            var b, c, d = this,
                e = a(".hotspotWrapper", this.$activeSet),
                f = a(".comparisonWrapper", this.$element);
            e.find(".hotspot").each(function() {
                if (a(this).removeClass("flipV").removeClass("flipH"), "extra-small" === d.breakpointSize) {
                    var g = e.width() / 330;
                    b = a(this).data("mobile-y") * g, c = a(this).data("mobile-x") * g
                } else "small" === d.breakpointSize ? (b = a(this).data("mobile-y"), c = a(this).data("mobile-x")) : "medium" === d.breakpointSize ? (b = a(this).data("tablet-y"), c = a(this).data("tablet-x")) : (b = a(this).data("desktop-y"), c = a(this).data("desktop-x"));
                if (b >= f.outerHeight() / 2.5 && a(this).addClass("flipV"), c >= f.outerWidth() / 2 && a(this).addClass("flipH"), "medium" === d.breakpointSize || "large" === d.breakpointSize) {
                    var h = 50;
                    (h > c || c > f.outerWidth() - h) && a(this).toggleClass("flipH")
                }
                a(this).css({
                    display: "inherit",
                    top: b,
                    left: c
                })
            })
        },
        _hotSpotOpen: function(c) {
            c.preventDefault();
            var d = c.data.that,
                e = a(c.target),
                f = e.offset();
            site.utils.disableScroll();
            var g = e.parents(".hotspot"),
                h = g.find(".hotspotContent > .hotspotContent__heading").text(),
                i = g.find(".hotspotContent > .hotspotContent__text").text(),
                j = g.find(".hotspotContent .comparisonWrapperOverlay");
            a("html").addClass("hotSpotActive"), d.activeHotspot.$element = e, d.$hotspotOverlay === !1 && d._addOverlay(), d.dragsliderPosition = .5, f.top = f.top - a(b).scrollTop(), d.$hotspotOverlay.css({
                top: f.top,
                left: f.left
            }).addClass("hotspotOpen");
            var k = {
                height: 40,
                width: 40
            };
            d.$hotspotOverlay.stop().animate({
                width: 2.5 * a(b).width(),
                height: 2.5 * a(b).width()
            }, {
                duration: 420,
                step: function(a, b) {
                    var c = 0,
                        e = 0;
                    "width" === b.prop && (c = f.left - (a - k.width) / 2, d.$hotspotOverlay.css("left", c), f.left = c, k.width = a), "height" === b.prop && (e = f.top - (a - k.height) / 2, d.$hotspotOverlay.css("top", e), f.top = e, k.height = a)
                },
                complete: function() {
                    d.$hotspotOverlay.addClass("hotspotActive Fullscreen").removeAttr("style"), d.$hotspotOverlay.find(".hotspotOverlayContent").prepend(j), d.$hotspotOverlay.find(".Fullscreen__information-heading").text(h), d.$hotspotOverlay.find(".Fullscreen__information-text").text(i), d.$hotspotOverlay.find(".Fullscreen__footer-heading").text(h), d.$hotspotOverlay.find(".Fullscreen__footer-text").text(i), d.activeSlideItem.overlayActive = !0, b.richsponsiveImage(), d._uninitDragAnimation(a(d.activeSlideItem.$element)), d.activeHotspot.dragControl = d._initDragDealer(!1, d.$hotspotOverlay.find(".overlaidSlider"), d.$hotspotOverlay.find(".comparisonWrapperOverlay"))
                }
            })
        },
        _hotSpotClose: function(b) {
            b.preventDefault();
            var c = b.data.that;
            site.utils.enableScroll(), c.$hotspotOverlay = a(".hotspotOverlay", c.$element), c.$hotspotOverlay.removeClass("hotspotOpen Fullscreen");
            var d = c.activeHotspot.$element.parents(".hotspot");
            d.find(".hotspotContent").append(a(".comparisonWrapperOverlay", c.$hotspotOverlay)), c.$hotspotOverlay.removeClass("hotspotActive"), a("html").removeClass("hotSpotActive").removeAttr("style"), c.activeSlideItem.overlayActive = !1, c._uninitDragAnimation(a(c.activeSlideItem.$element)), c._initActiveSlide(c.activeSlideItem.$element)
        },
        _addOverlay: function() {
            this.$hotspotOverlay = a(".hotspotOverlay", this.$element)
        },
        _allTabsToArray: function(b) {
            var c = this;
            a(".sliderSet").each(function(b, d) {
                c.$totalTabs.push(a(this).data("tabid"))
            })
        },
        _toggleTab: function(c) {
            var d, e, f = this;
            f.$initSlider === !1 ? f.$initSlider = !0 : (a.each(f.$totalTabs, function(b, c) {
                if (e = a("." + c), e.hasClass("visibleTab")) {
                    e.removeClass("active");
                    var g = e.find(".comparisonSliderBg").css("background-image");
                    f._slideToComponentBackground(g)
                } else d = b, e.addClass("active toggling")
            }), this._tabFilterFade(0, 100), this.dragsliderPosition = .5, b.richsponsiveImage(), this.activatedSliderItems = [], this.activeSlideItem = !1, this._fallbackAnimationOffset = -230, this.$element.find(".hotspotLine").removeAttr("style"), this._setActiveSet(), f.$activeSlides.length > 1 ? f._initRoyalSlider() : f.$activeSet.find(".comparisonSliderCarousel").removeClass("royalSlider"), setTimeout(function() {
                var b = a(f.$activeSet.find(".active.comparisonSliderItem"));
                0 === b.length && (b = f.$activeSlides.first()), f._initActiveSlide(b, f.toggleSnapFlag), f.$activeSet.removeClass("toggling"), f.activeSlideItem.dragControl.reflow(), f.toggleSnapFlag = !1, f.$activeSlides.length > 1 && f.ui("carouselNavigation").fadeIn()
            }, 1200))
        },
        _slideToComponentBackground: function(a) {
            a.replace(/.*\s?url\([\'\"]?/, "").replace(/[\'\"]?\).*/, ""), this.$element.css("background-image", a)
        },
        _initRoyalSlider: function() {
            var c = this,
                d = 0,
                e = a(".royalSlider", this.$activeSet).royalSlider({
                    arrowsNav: !0,
                    loop: !0,
                    keyboardNavEnabled: !1,
                    controlsInside: !1,
                    imageScaleMode: "none",
                    arrowsNavAutoHide: !1,
                    autoHeight: !0,
                    autoScaleSlider: !1,
                    slidesSpacing: 0,
                    imgWidth: "100%",
                    imgHeight: "100%",
                    sliderDrag: !0,
                    sliderTouch: !0,
                    controlNavigation: "none",
                    thumbsFitInViewport: !1,
                    navigateByClick: !1,
                    startSlideId: d,
                    autoPlay: {
                        enabled: !1
                    },
                    numImagesToPreload: 1,
                    transitionType: "move"
                });
            e = a(".royalSlider", this.$activeSet).data("royalSlider"), c.$carousel = e, e.ev.on("rsBeforeAnimStart", function() {
                var b = this.currSlide.content;
                b.find(".hotspotLine").removeAttr("style").hide(), b.find(".hotspotIcon").removeAttr("style"), c._fallbackAnimationOffset = -230, c._updatePagination(), c._uninitDragAnimation(a(this.currSlide.content))
            }), e.ev.on("rsAfterSlideChange", function() {
                b.richsponsiveImage(), c._initActiveSlide(a(this.currSlide.content));
                var d = this.currSlide.content;
                d.find(".hotspotIcon").removeAttr("style"), c._resize()
            }), this._updatePagination(), b.richsponsiveImage(), this.$element.hasClass("loading") && this.loaderEffect(c.loadDelayMs), a(b).trigger("resize")
        },
        _initDragDealer: function(c, d, e) {
            var f = this;
            this.activeSlideItem.overlayActive ? this.activeHotspot.$dragBindElememt = e : this.activeSlideItem.$dragBindElememt = e;
            var g = d.find(this.dragsliderElementRef).get(0),
                h = d.find(this.dragsliderProgressRef),
                i = new b.Dragdealer(g, {
                    steps: 3,
                    x: this.dragsliderPosition,
                    xPrecision: e.outerWidth(),
                    dragStartCallback: function(b, c) {
                        a(this.handle).addClass("active"), f._hotspotHideLines()
                    },
                    dragStopCallback: function(b, c) {
                        a(this.handle).removeClass("active").data("position", 100 * b), f._hotspotShowLines()
                    },
                    animationCallback: function(b, c) {
                        a(this.handle).data("position", 100 * b), f.activeSlideItem.overlayActive !== !0 && (f.activeSlideItem.dragPosition = b), f.comparisonClipping(b, e), site.rtl ? h.width(100 - 100 * b + "%") : h.width(100 * b + "%")
                    }
                });
            if (a(g).on("mousedown touchstart pointerdown MSPointerDown", function(a) {
                    a.stopPropagation()
                }), c) {
                var j = site.rtl ? 1 : 0;
                this.dragTimeout = setTimeout(function() {
                    i.setValue(j, 1)
                }, f.loadDelayMs)
            }
            return i
        },
        _updatePagination: function() {
            var b = this,
                c = b.$carousel.currSlideId + 1;
            a(".carouselNavigation");
            return "slideFromLeft" === b._carouselDirection ? void a(".numbers", b.$element).html('<span class="number">' + b.$carousel.numSlides + '</span><span class="divide">/</span><span class="number">' + c + "</span>") : void a(".numbers", b.$element).html('<span class="number">' + c + '</span><span class="divide">/</span><span class="number">' + b.$carousel.numSlides + "</span>")
        },
        comparisonClipping: function(a, b) {
            if (this.activeSlideItem !== !1 && b !== !1) {
                var c = b.find(".beforeImage"),
                    d = b.find(".afterImage"),
                    e = c.width(),
                    f = c.height(),
                    g = 0;
                g = Math.round(e * a), c.css("clip", "rect(0," + e + "px," + f + "px," + g + "px)"), d.css("clip", "rect(0," + g + "px," + f + "px,0)")
            }
        },
        _initEvents: function() {
            var c = this;
            a(b).smartresize(function() {
                c._resize()
            }), 1 === c.$tabFilter.length && (c.$tabFilter.on("changeTabs", function(a) {
                c._toggleTab(c.$activeSet.data("tabid")), c.ui("carouselNavigation").fadeOut()
            }), c.$tabFilter.on("tabAnimationComplete", function() {
                a(".headingLinear", c.$activeSet).Headings("linearLines"), c._tabFilterFade(1, 800), c._setPadding()
            })), this.$element.find(".hotspot .hotspotIcon").on("click", {
                that: this
            }, this._hotSpotOpen), this.$element.find(".hotspotOverlayClose").on("click", {
                that: this
            }, this._hotSpotClose), c._initControls()
        },
        _resize: function() {
            var b = this,
                c = {
                    x: 0,
                    y: 0
                };
            b._setPadding(), b._hotspotResize(), b._resizeOverlayHeader(), b.activeSlideItem.dragControl !== d && a(b.activeSlideItem.dragControl.handle).hasClass("active") === !1 && (c = b.activeSlideItem.dragControl.getValue(), b.comparisonClipping(c[0], b.activeSlideItem.$dragBindElememt), b.activeSlideItem.dragControl.reflow()), b.activeHotspot.$element !== !1 && a(b.activeHotspot.dragControl.handle).hasClass("active") === !1 && b.activeSlideItem.dragControl !== d && (c = b.activeHotspot.dragControl.getValue(), b.comparisonClipping(c[0], b.activeHotspot.$dragBindElememt), b.activeSlideItem.dragControl.reflow()), b.$carousel !== !1 && b.$carousel.updateSliderSize()
        },
        _initControls: function() {
            var b = a(".carouselNavigation", this.element);
            a(".prev", b).on("click", {
                that: this
            }, this._onPrev), a(".next", b).on("click", {
                that: this
            }, this._onNext)
        },
        _onPrev: function(a) {
            a.preventDefault();
            var b = a.data.that;
            return site.rtl ? void b.$carousel.next() : void b.$carousel.prev()
        },
        _onNext: function(a) {
            a.preventDefault();
            var b = a.data.that;
            return site.rtl ? void b.$carousel.prev() : void b.$carousel.next()
        },
        _tabFilterFade: function(a, b) {
            var c = this;
            c.$tabFilter.stop().animate({
                opacity: a
            }, b)
        },
        _setPadding: function() {
            var a = this;
            a.$activeSlides.removeAttr("style");
            var b = a.$headerBlock.outerHeight(),
                c = parseInt(a.$activeSlides.css("paddingTop"), 0) + parseInt(b, 0) + a.$tabFilter.outerHeight();
            a.$activeSlides.css("paddingTop", c), a.$tabFilterContainer.css("top", b)
        },
        _setInlineHeight: function() {
            var b = a(".rsOverflow", this.$activeSet),
                c = a(".royalSlider", this.$activeSet);
            if (0 !== b.length) {
                var d = b.attr("style");
                if (d) {
                    var e, f = d.split("; ");
                    a.each(f, function(a, b) {
                        if (e = b.split(": "), "height" === e[0]) {
                            var d = e[1].replace(";", "");
                            "0px" !== d && c.css("min-height", d)
                        }
                    })
                }
            }
        },
        _comparisonWrapperResize: function() {
            var b = this,
                c = a(".rsOverflow");
            site.utils.isMobileDevice() && c.css("min-height", 0), b._setInlineHeight()
        },
        loaderEffect: function(a) {
            var b = this;
            this.$element.addClass("load-progress"), setTimeout(function() {
                b.$element.addClass("loaded").removeClass("loading load-progress")
            }, a)
        },
        _fallbackAnimation: function(c) {
            var d = a(".hotspotLine", this.activeSlideItem.$element),
                e = this;
            if ("undefined" == typeof b.requestAnimationFrame) return void this._hotspotReset();
            if ("reverse" === c) {
                if (this._fallbackAnimationOffset < -230) return void(this._fallbackAnimationOffset = -230);
                this._fallbackAnimationOffset--
            } else {
                if (this._fallbackAnimationOffset >= 0) return void(this._fallbackAnimationOffset = 0);
                this._fallbackAnimationOffset++
            }
            d.css("strokeDashoffset", this._fallbackAnimationOffset), setTimeout(function() {
                b.requestAnimationFrame(a.proxy(e._fallbackAnimation(c), e))
            }, 2)
        },
        _resizeOverlayHeader: function() {
            if (a("html").hasClass("hotSpotActive")) {
                var c = this.$hotspotOverlay.find(".logo").outerWidth() + this.$hotspotOverlay.find(".mfp-close").outerWidth();
                this.$hotspotOverlay.find(".info").width(a(b).width() - c)
            }
        },
        _hotspotReset: function() {
            var b = a(".hotspotLine", this.$element);
            b.css({
                strokeDashoffset: 0
            })
        }
    };
    jQuery.createComponent("ComparisonSlider", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _isMobile: !1,
        _groupTitlePaddingLeft: 0,
        uiSelectors: {
            tables: "table",
            overflowScrollContainer: ".scroll-x",
            accordion: ".Accordion",
            groupTitles: ".accordion-group-title",
            groupTitleDiv: ".accordion-group-title > div"
        },
        events: {},
        init_rtl: function() {},
        init: function() {
            this._groupTitlePaddingLeft = parseInt(this.ui("groupTitleDiv").first().css("padding-left"), 10), site.utils.isBreakpointSmall() ? (this._trackOverflowScroll(), this._isMobile = !0) : this.ui("tables").addClass("table-grid"), a(b).smartresize(function() {
                site.utils.isBreakpointSmall() ? (this._isMobile || this._trackOverflowScroll(), this._isMobile = !0) : (this.ui("tables").addClass("table-grid"), this._isMobile && this._untrackOverflowScroll(), this._isMobile = !1)
            }.bind(this), 250)
        },
        _equalizeColWidths: function() {
            var b = this.ui("tables").length,
                c = a("table:eq(0) td", this.$element).length,
                d = {};
            this.ui("tables").removeClass("table-grid");
            for (var e = 0; b > e; e++)
                for (var f = 0; c > f; f++) {
                    var g = a("table:eq(" + e + ") td:eq(" + f + ")", this.$element).width();
                    d[f] ? d[f] = g > d[f] ? g : d[f] : d[f] = g
                }
            for (var h = 0; c > h; h++) a("table tr td:nth-child(" + h + "1n)", this.$element).width(d[h]);
            this.ui("tables").addClass("table-grid")
        },
        _trackOverflowScroll: function() {
            this.ui("overflowScrollContainer").on("scroll", function(b) {
                clearTimeout(this.scrollTimeout), this._scrolling || (this.ui("overflowScrollContainer").addClass("scrolling"), this._scrolling = !0), this.scrollTimeout = setTimeout(function() {
                    var c = b.currentTarget,
                        d = (a(c), c.scrollLeft);
                    this.ui("groupTitleDiv").css({
                        paddingLeft: d + this._groupTitlePaddingLeft,
                        width: a(".scroll-x").width() - 80,
                        boxSizing: "content-box"
                    }), a(".header-row a").css({
                        paddingLeft: d + this._groupTitlePaddingLeft,
                        width: a(".scroll-x").width() - 80,
                        boxSizing: "content-box",
                        display: "block"
                    }), this.ui("overflowScrollContainer").removeClass("scrolling"), this.ui("accordion").trigger("padding-set", [d + this._groupTitlePaddingLeft]), this._scrolling = !1
                }.bind(this), 250)
            }.bind(this))
        },
        _untrackOverflowScroll: function() {
            this.ui("groupTitleDiv").css("padding-left", ""), this.ui("overflowScrollContainer").off("scroll")
        },
        _collapseAll: function() {}
    };
    jQuery.createComponent("ComparisonTable", e)
}(jQuery, window, document),
function(a, b, c) {
    var d = {
        _loader: null,
        _isLoaded: !1,
        _rId: null,
        _translations: null,
        _comparisons: [null, null, null],
        _data: null,
        _currentVehicle: 0,
        _currentDerivative: 0,
        _currentBodyStyle: 0,
        _currentlyPopulating: 0,
        _totalComparisons: 3,
        _slidesPerView: 4.2,
        _totalPopulated: 0,
        _enginesPopulated: 0,
        _comparisonEls: a(".model-selector-table .vehicles-row td"),
        _comparisonEngineSelectors: a(".engine-selector-row td"),
        _templates: {},
        _sliders: {},
        _loadedImages: 0,
        _dev: !1,
        _isFixed: !1,
        _stuckAt: 0,
        _maxKF: 0,
        _step: 0,
        _mobileScrollActive: !1,
        _scrollTimeout: null,
        _mode: !1,
        _isXI: !1,
        _freeMode: !1,
        _initialLoadDone: !1,
        _mobileBreakpoint: 740,
        _accordionWidth: 0,
        _sizes: {
            height: 0,
            width: 0
        },
        _randomPCPflag: !1,
        _financeCounter: 0,
        _financeMarketLink: "",
        _financeProductTitle: "",
        _financeConfig: {},
        _financeProductTerms: "",
        uiSelectors: {
            dataContainer: ".data-container",
            vehiclesRow: ".vehicles-row",
            backToVehicles: ".back-to-vehicles",
            bodySelector: ".body-selector",
            closeButtons: ".close-button",
            accordion: ".Accordion",
            modelsTable: ".models-table",
            chooseEngine: ".choose-engine",
            chooseVehicle: ".choose-vehicle",
            chooseDerivative: ".choose-derivative",
            derivateSwiper: ".choose-derivative .Selectable.swiper-wrapper",
            mobileAddVehicle: ".mobile-add-button span"
        },
        _breakpoints: {
            640: {
                slidesPerView: 1.1
            },
            1e3: {
                slidesPerView: 3.1
            },
            1200: {
                slidesPerView: 4.2
            }
        },
        _checkArrows: function(a) {
            var b = void 0,
                c = void 0;
            switch (a) {
                case 1:
                    b = this._data.models.length, c = this.ui("chooseVehicle");
                    break;
                case 2:
                    b = this._data.models[this._currentVehicle].bodyStyles[this._currentBodyStyle].derivatives.length, c = this.ui("chooseDerivative")
            }
            b > this._slidesPerView && c.removeClass("no-arrows")
        },
        _step1: function() {
            this._setStep(1), 3 === this._step && (a(".data-block").css({
                height: 0,
                overflow: "hidden"
            }), a(".slider-container").removeClass("transition")), this.ui("chooseDerivative").removeClass("shown"), this.ui("derivateSwiper").hide(), this.ui("chooseEngine").removeClass("shown"), this._checkArrows(1), this.ui("chooseVehicle").addClass("shown")
        },
        _step2: function() {
            a(".data-block").css({
                height: 0,
                overflow: "hidden"
            }), this.ui("derivateSwiper").show(), a(".slider-container").removeClass("transition"), this.ui("chooseEngine").removeClass("shown"), this._checkArrows(2), this._setStep(2)
        },
        _step3: function() {
            this._setStep(3)
        },
        _check: function(a, b, c) {
            return null !== a && (a && a[0] || c && c[0]) ? a && a[0] ? a[0] : c[0] : null
        },
        _munge: function(a, b, d) {
            var e = a.bodyStyles[0],
                f = e.derivatives[0],
                g = f.engines[b],
                h = f.keyFeatures,
                i = {
                    overview: {
                        overview: {
                            numberOfSeats: this._check(g.numberOfSeats, "numberOfSeats", e.numberOfSeats),
                            combinedConsumption: this._check(g.combinedConsumption, "combinedConsumption"),
                            wltpCombinedFuelConsumption: this._check(g.wltpCombinedFuelConsumption, "wltpCombinedFuelConsumption"),
                            co2: this._check(g.co2, "co2"),
                            wltpCO2CombinedEmissions: this._check(g.wltpCO2CombinedEmissions, "wltpCO2CombinedEmissions"),
                            fuelCapacity: this._check(g.fuelCapacity, "fuelCapacity"),
                            nedcRange: this._check(g.nedcRange, "nedcRange")
                        }
                    },
                    engines: f.engines,
                    keyFeatures: h,
                    additionalInformation: {
                        additionalInformation: {
                            additionalInformation1: this._check(g.additionalInformation1, "additionalInformation1"),
                            additionalInformation2: this._check(g.additionalInformation2, "additionalInformation2"),
                            additionalInformation3: this._check(g.additionalInformation3, "additionalInformation3"),
                            additionalInformation4: this._check(g.additionalInformation4, "additionalInformation4"),
                            additionalInformation5: this._check(g.additionalInformation5, "additionalInformation5"),
                            additionalInformation6: this._check(g.additionalInformation6, "additionalInformation6"),
                            additionalInformation7: this._check(g.additionalInformation7, "additionalInformation7"),
                            additionalInformation8: this._check(g.additionalInformation8, "additionalInformation8"),
                            additionalInformation9: this._check(g.additionalInformation9, "additionalInformation9"),
                            additionalInformation10: this._check(g.additionalInformation10, "additionalInformation10"),
                            additionalInformation11: this._check(g.additionalInformation11, "additionalInformation11"),
                            additionalInformation12: this._check(g.additionalInformation12, "additionalInformation12")
                        }
                    },
                    pricing: {
                        pricing: {
                            price1: this._check(g.price1, "price1"),
                            price2: this._check(g.price2, "price2"),
                            price3: this._check(g.price3, "price3"),
                            price4: this._check(g.price4, "price4"),
                            price5: this._check(g.price5, "price5"),
                            price6: this._check(g.price6, "price6"),
                            price7: this._check(g.price7, "price7"),
                            price8: this._check(g.price8, "price8"),
                            price9: this._check(g.price9, "price9"),
                            price10: this._check(g.price10, "price10"),
                            price11: this._check(g.price11, "price11"),
                            price12: this._check(g.price12, "price12")
                        }
                    },
                    businessPrice: {
                        businessPrice: {
                            businessPrice1: this._check(g.businessPrice1, "businessPrice1"),
                            businessPrice2: this._check(g.businessPrice2, "businessPrice2"),
                            businessPrice3: this._check(g.businessPrice3, "businessPrice3"),
                            businessPrice4: this._check(g.businessPrice4, "businessPrice4"),
                            businessPrice5: this._check(g.businessPrice5, "businessPrice5"),
                            businessPrice6: this._check(g.businessPrice6, "businessPrice6"),
                            businessPrice7: this._check(g.businessPrice7, "businessPrice7"),
                            businessPrice8: this._check(g.businessPrice8, "businessPrice8"),
                            businessPrice9: this._check(g.businessPrice9, "businessPrice9"),
                            businessPrice10: this._check(g.businessPrice10, "businessPrice10"),
                            businessPrice11: this._check(g.businessPrice11, "businessPrice11"),
                            businessPrice12: this._check(g.businessPrice12, "businessPrice12")
                        }
                    },
                    finances: this._setFinanceData(d),
                    performanceAndWeights: {
                        performance: {
                            maximumSpeed: this._check(g.maximumSpeed, "maximumSpeed"),
                            acceleration: this._check(g.acceleration, "acceleration")
                        },
                        fuelConsumption: {
                            urbanConsumption: this._check(g.urbanConsumption, "urbanConsumption"),
                            wltpUrbanConsumption: this._check(g.wltpUrbanConsumption, "wltpUrbanConsumption"),
                            extraUrbanConsumption: this._check(g.extraUrbanConsumption, "extraUrbanConsumption"),
                            wltpExtraUrbanFuelConsumption: this._check(g.wltpExtraUrbanFuelConsumption, "wltpExtraUrbanFuelConsumption"),
                            combinedConsumption: this._check(g.combinedConsumption, "combinedConsumption"),
                            wltpCombinedFuelConsumption: this._check(g.wltpCombinedFuelConsumption, "wltpCombinedFuelConsumption"),
                            nedcConsumption: this._check(g.nedcConsumption, "nedcConsumption"),
                            wltpConsumption: this._check(g.wltpConsumption, "wltpConsumption"),
                            fuelCapacity: this._check(g.fuelCapacity, "fuelCapacity"),
                            nedcRange: this._check(g.nedcRange, "nedcRange"),
                            wltpRange: this._check(g.wltpRange, "wltpRange"),
                            co2: this._check(g.co2, "co2"),
                            wltpCO2CombinedEmissions: this._check(g.wltpCO2CombinedEmissions, "wltpCO2CombinedEmissions")
                        },
                        engine: {
                            battery: this._check(g.battery, "battery"),
                            engineCapacity: this._check(g.engineCapacity, "engineCapacity"),
                            maximumPower: this._check(g.maximumPower, "maximumPower"),
                            engineMaximumPowerRevPerMin: this._check(g.engineMaximumPowerRevPerMin, "engineMaximumPowerRevPerMin"),
                            maximumTorque: this._check(g.maximumTorque, "maximumTorque"),
                            engineMaximumTorqueRevPerMin: this._check(g.engineMaximumTorqueRevPerMin, "engineMaximumTorqueRevPerMin"),
                            driveTrain: this._check(g.driveTrain, "driveTrain"),
                            transmission: this._check(g.transmission, "transmission"),
                            chargingTime: this._check(g.chargingTime, "chargingTime")
                        },
                        weights: {
                            weight: this._check(g.weight, "weight"),
                            weightUnladen: this._check(g.weightUnladen, "weightUnladen"),
                            grossVehicleWeight: this._check(g.grossVehicleWeight, "grossVehicleWeight"),
                            maximumLadenWeight: this._check(g.maximumLadenWeight, "maximumLadenWeight"),
                            maximumMassOnFrontAxle: this._check(g.maximumMassOnFrontAxle, "maximumMassOnFrontAxle"),
                            maximumMassOnRearAxle: this._check(g.maximumMassOnRearAxle, "maximumMassOnRearAxle")
                        }
                    },
                    towingOptions: {
                        "towing.subHeading.Txt": {
                            unbrakedTrailer: this._check(g.unbrakedTrailer, "unbrakedTrailer"),
                            maximumTowing: this._check(g.maximumTowing, "maximumTowing"),
                            maximumCouplingPointWeight: this._check(g.maximumCouplingPointWeight, "maximumCouplingPointWeight"),
                            maximumCombinationWeight: this._check(g.maximumCombinationWeight, "maximumCombinationWeight")
                        },
                        roofCarrying: {
                            maximumRoofLoad: this._check(e.maximumRoofLoad, "maximumRoofLoad")
                        }
                    },
                    dimensions: {
                        turningCircle: {
                            turningRadius: this._check(g.turningCircle, "turningRadius", e.turningRadius),
                            wallToWall: this._check(e.wallToWall, "wallToWall"),
                            turnsLockToLock: this._check(e.turnsLockToLock, "turnsLockToLock")
                        },
                        obstacleClearance: {
                            groundClearance: this._check(g.groundClearance, "groundClearance", e.groundClearance),
                            clearanceFrontAxle: this._check(g.clearanceFrontAxle, "clearanceFrontAxle", e.clearanceFrontAxle),
                            clearanceRearAxle: this._check(g.clearanceRearAxle, "clearanceRearAxle", e.clearanceRearAxle)
                        },
                        "wadingDepth.headingTxt": {
                            wadingDepth: this._check(g.wadingDepth, "wadingDepth", e.wadingDepth)
                        },
                        vehicleLength: {
                            length: this._check(g.length, "length", e.length),
                            wheelbase: this._check(g.wheelbase, "wheelbase", e.wheelbase)
                        },
                        vehicleHeightAndWidths: {
                            height: this._check(e.height, "height"),
                            frontWheelTrack: this._check(g.frontWheelTrack, "frontWheelTrack", e.frontWheelTrack),
                            rearWheelTrack: this._check(g.rearWheelTrack, "rearWheelTrack", e.rearWheelTrack),
                            widthMirrorsOut: this._check(e.widthMirrorsOut, "widthMirrorsOut"),
                            widthMirrorsFolded: this._check(e.widthMirrorsFolded, "widthMirrorsFolded"),
                            bootVolume: this._check(e.bootVolume, "bootVolume")
                        },
                        approachAngle: {
                            approachAngleStandard: this._check(g.approachAngleStandard, "approachAngleStandard", e.approachAngleStandard),
                            approachAngleOffRoad: this._check(g.approachAngleOffRoad, "approachAngleStandard", e.approachAngleOffRoad)
                        },
                        breakOverAngle: {
                            rampBreakOverAngleStandard: this._check(g.rampBreakOverAngleStandard, "rampBreakOverAngleStandard", e.rampBreakOverAngleStandard),
                            rampBreakOverAngleOffRoad: this._check(g.rampBreakOverAngleOffRoad, "breakOverAngleOffRoad", e.rampBreakOverAngleOffRoad)
                        },
                        departureAngle: {
                            departureAngleStandard: this._check(g.departureAngleStandard, "departureAngleStandard", e.departureAngleStandard),
                            departureAngleOffRoad: this._check(g.departureAngleOffRoad, "departureAngleOffRoad", e.departureAngleOffRoad)
                        },
                        loadspaceCapacityRearSeatsUpright: {
                            loadspaceSeatsUprightHeight: this._check(e.loadspaceSeatsUprightHeight, "loadspaceSeatsUprightHeight"),
                            loadspaceSeatsUprightWidth: this._check(e.loadspaceSeatsUprightWidth, "loadspaceSeatsUprightWidth"),
                            loadspaceSeatsUprightVolume: this._check(e.loadspaceSeatsUprightVolume, "loadspaceSeatsUprightVolume"),
                            loadspaceSeatsUprightWidthBetweenArches: this._check(e.loadspaceSeatsUprightWidthBetweenArches, "loadspaceSeatsUprightWidthBetweenArches"),
                            loadspaceSeatsUprightLength: this._check(e.loadspaceSeatsUprightLength, "loadspaceSeatsUprightLength")
                        },
                        loadspaceCapacityRearSeatsForward: {
                            loadspaceSeatsForwardHeight: this._check(e.loadspaceSeatsForwardHeight, "loadspaceSeatsForwardHeight"),
                            loadspaceSeatsForwardWidth: this._check(e.loadspaceSeatsForwardWidth, "loadspaceSeatsForwardWidth"),
                            loadspaceSeatsForwardVolume: this._check(e.loadspaceSeatsForwardVolume, "loadspaceSeatsForwardVolume"),
                            loadspaceSeatsForwardWidthBetweenArches: this._check(e.loadspaceSeatsForwardWidthBetweenArches, "loadspaceSeatsForwardWidthBetweenArches"),
                            loadspaceSeatsForwardLength: this._check(e.loadspaceSeatsForwardLength, "loadspaceSeatsForwardLength")
                        },
                        standardRideHeight: {
                            rideHeightWithRoofRails: this._check(e.rideHeightWithRoofRails, "rideHeightWithRoofRails"),
                            rideHeightWithRoofAntannae: this._check(e.rideHeightWithRoofAntannae, "rideHeightWithRoofAntannae")
                        },
                        headroom: {
                            headroomFront: this._check(e.headroomFront, "headroomFront"),
                            headroomRear: this._check(e.headroomRear, "headroomRear"),
                            headroomFrontWithPanoramicRoof: this._check(e.headroomFrontWithPanoramicRoof, "headroomFrontWithPanoramicRoof"),
                            headroomRearWithPanoramicRoof: this._check(e.headroomRearWithPanoramicRoof, "headroomRearWithPanoramicRoof")
                        }
                    }
                };
            return "en-US" === c.documentElement.lang && (delete i.performanceAndWeights.fuelConsumption.co2, delete i.overview.overview.co2), i
        },
        _setFinanceData: function(a) {
            return null !== this._comparisons[a] && null !== this._comparisons[a].tableData && null !== this._comparisons[a].tableData.finances ? this._comparisons[a].tableData.finances : {
                quote: {}
            }
        },
        _findHighest: function(b) {
            var c = 0;
            return a(b).each(function(b, d) {
                var e = a(d).outerHeight();
                e > c && (c = e)
            }), c
        },
        _setStep: function(c) {
            this._step = c, a(".step-indicator ul").attr("data-step", c), a(".slider-container .faded").removeClass("faded"), this._setText(), 1 === c && a("#finance-disclaimer").hide(), 4 === c ? ("gb" !== this._financeConfig.market && "de" !== this._financeConfig.market || "true" !== this._financeConfig.enabled || a("#finance-disclaimer").show(), a(".close-button").hide()) : b.innerWidth > 640 && (this._initialLoadDone ? site.utils.scrollTo(this.$element) : this._initialLoadDone = !0)
        },
        _bindMobileScroll: function(b) {
            var c = a(".models-table");
            4 === this._step && c.hasClass("is-fixed") && c.animate({
                marginLeft: -b.currentTarget.scrollLeft
            }, 0)
        },
        _mobileScrollOn: function() {
            !this._mobileScrollActive && b.innerWidth < this._mobileBreakpoint && (a(".scroll-x").on("scroll", this._bindMobileScroll.bind(this)), this._mobileScrollActive = !0)
        },
        _mobileScrollOff: function() {
            this._mobileScrollActive && (a(".scroll-x").off("scroll", this._bindMobileScroll.bind(this)), this._mobileScrollActive = !1)
        },
        _updateCanvasSize: function() {
            var b = a(".spinner");
            this.canvas.width = b.width(), this.canvas.height = b.height(), this._loader.x = b.width() / 2, this._loader.y = 100
        },
        _updateSizes: function() {
            this._accordionWidth = this.ui("accordion").width();
            var b = a(".accordion-group-title").css("width");
            4 === this._step && (a(".spinner").css("width", b), a(".engine-selector-table td").css("width", parseInt(b, 10) / this._totalPopulated - 1 + "px")), this._updateCanvasSize(), this._equalizeCellHeight()
        },
        init: function() {
            var d = this;
            "en-XI" === c.documentElement.lang && (this._isXI = !0), this.ui("chooseEngine").hover(function() {
                a(".slider-container").css("overflow", "visible")
            }, function() {
                a(".slider-container").css("overflow", "hidden")
            }), a(".step-indicator li").click(function(b) {
                var c = parseInt(a(b.currentTarget).index(), 10) + 1;
                if (c < d._step) {
                    var e = "_step" + c;
                    d[e]()
                }
            }), this.ui("accordion").on("padding-set", function(b, c) {
                a(".header-row a").css({
                    paddingLeft: c
                })
            }), this.ui("accordion").on("height-change", function(b, c) {
                var e = a(".models-table").outerHeight(),
                    f = a(".engine-selector").outerHeight(),
                    g = 0,
                    h = a(".mobile-add-button");
                "none" !== h.css("display") && (g = h.outerHeight()), d._totalPopulated > 0 && a(".data-block").height(c + e + g + f)
            }), this._translations = this.$element.find(".translations").data("json"), this._setStep(1), ("localhost" === b.location.hostname || "192.168.13.83" === b.location.hostname || "192.168.15.37" === b.location.hostname) && (this._dev = !0), a(".close-button").hide(), this._initLoader(), this._getTemplates(), this._setupSliders(), this._getInitialData(), this._setupEvents(), this._setMobileButtonTranslation(), this.ui("dataContainer").height(0), this.ui("dataContainer").addClass("closed"), b.innerWidth < 1025 && (b.innerWidth > b.innerHeight ? (this._mode = "landscape", this._mobileScrollOff()) : (this._mode = "portrait", this._mobileScrollOn())), a(b).on("orientationchange", function() {
                setTimeout(function() {
                    b.innerWidth < 1025 && (b.innerWidth > b.innerHeight ? d._mode = "landscape" : d._mode = "portrait"), "landscape" === d._mode && (a(".toggle").width("auto"), a(".accordion-group-title > div").width("auto")), 4 !== d._step ? 3 !== d._step && setTimeout(function() {
                        var b = a(a(".select-block")[d._step - 1]).outerHeight();
                        a(".slider-container").height(b)
                    }, 200) : (setTimeout(function() {
                        if ("landscape" === d._mode) {
                            var b = a(".Accordion");
                            a(".models-table, .models-table table, .models-table > div").width(b.width()), a(".models-table").css({
                                position: "relative",
                                top: 0
                            }), b.css({
                                marginTop: 0
                            }), a(".fixed-background").css({
                                height: 0,
                                opacity: 0
                            }), d._mobileScrollOff()
                        } else a(".models-table table, .models-table > div").width(a(".Accordion").width()), a(".models-table").css({
                            width: "100%"
                        }), d._mobileScrollOn()
                    }, 200), d.ui("accordion").Accordion("calculateNewHeight"))
                }, 500)
            }), a(b).resize(this._handleResize.bind(this)), this._handleResize(), this._mobileScrollOn(), a(c).scroll(function() {
                if (d._totalPopulated > 0 && 4 === d._step && "landscape" !== d._mode) {
                    var c = a(".populated img").first(),
                        e = 48,
                        f = c.offset().top + c.height() - e,
                        g = d.ui("accordion").find(".accordion-group:not(.always-open):not(.ignore)").last(),
                        h = g.offset().top + g.outerHeight(),
                        i = d._findHighest(".populated .meta-block"),
                        j = a(b).scrollTop() + i + e,
                        k = d._findHighest(".populated img");
                    if (a(b).scrollTop() > f && !d._isFixed || d._stuckAtBottom && h >= j) {
                        a(".populated").css("box-shadow", "0px 1px 2px rgba(0,0,0,0.1)"), d._isFixed = !0, d._stuckAt = f, d._stuckAtBottom = !1;
                        var l = a(".models-table");
                        d.ui("accordion").css({
                            marginTop: l.height()
                        }), l.css({
                            position: "fixed",
                            top: -k + e,
                            width: d.ui("accordion").width()
                        }).addClass("is-fixed"), b.innerWidth < d._mobileBreakpoint && (l.css({
                            width: "100%",
                            overflow: "visible"
                        }), d._totalPopulated > 1 && (a(".models-table > div").width(a(".models-table table").width() + 20), l.animate({
                            marginLeft: -a(".scroll-x")[0].scrollLeft
                        }, 0)))
                    } else if (d._isFixed && a(b).scrollTop() <= a(".Accordion").offset().top - i - e && !d._stuckAtBottom) {
                        a(".populated").css("box-shadow", "none");
                        var m = a(".models-table");
                        m.css({
                            position: "relative",
                            width: "auto",
                            top: 0,
                            marginLeft: 0
                        }).removeClass("is-fixed"), d.ui("accordion").css({
                            marginTop: 0
                        }), d._isFixed = !1, d._stuckAtBottom = !1, b.innerWidth < d._mobileBreakpoint && (m.css({
                            overflow: "visible"
                        }), a(".models-table > div").css({
                            width: "auto"
                        }))
                    } else if (j > h && !d._stuckAtBottom && d._isFixed) {
                        a(".populated").css("box-shadow", "none"), d._stuckAtBottom = !0;
                        var n = a(".models-table");
                        b.innerWidth <= 740 ? n.css({
                            position: "absolute",
                            top: h - a(".scroll-x").offset().top - n.height(),
                            overflow: "visible"
                        }).removeClass("is-fixed") : n.css({
                            position: "absolute",
                            top: h - n.height() - d.$element.offset().top
                        }).removeClass("is-fixed"), n.css({
                            "margin-left": "0px"
                        })
                    }
                }
            }), this._setupCloseButton()
        },
        _createCanvas: function() {
            this.$element.find("canvas") && this.$element.find("canvas").remove(), this.canvas = c.createElement("canvas"), this.ctx = this.canvas.getContext("2d"), this.ctx.mozImageSmoothingEnabled = this._imageSmoothing, this.ctx.webkitImageSmoothingEnabled = this._imageSmoothing, this.ctx.msImageSmoothingEnabled = this._imageSmoothing, this.ctx.imageSmoothingEnabled = this._imageSmoothing, this.$element.find(".spinner").prepend(this.canvas)
        },
        _draw: function() {
            this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height), this._loader.draw(), this.ctx.save(), this.ctx.fillStyle = "#fc00cf", this.ctx.restore(), this._isLoaded === !1 && (this._rID = requestAnimationFrame(this._draw.bind(this)))
        },
        _initLoader: function() {
            this._createCanvas(), this._loader = new Loader(this.ctx, this.canvas, 0, 0, 27, "#4A4F54", 18), this._loader.hidden = !1, this._loader.alpha = 1, this._loader.arrowAlpha = 1
        },
        _handleResize: function() {
            var c = this;
            1 === this._step && this._setCarouselSize(this._sliders.vehicle), 2 === this._step && this._setCarouselSize(this._sliders.derivative), b.innerWidth < this._mobileBreakpoint ? this._calculateMobileWidth() : (this.ui("accordion").width("100%"), 0 !== this._accordionWidth && (a(".models-table").hasClass("is-fixed") ? a(".models-table, .models-table table, .models-table > div").css("width", this.ui("accordion").width() + "px") : a(".models-table, .models-table table, .models-table > div").width("100%"))), this._updateSizes(), this._equalizeCellHeight(), setTimeout(function() {
                c._alignTabsIcons(), c._alignTooltips()
            }, 10)
        },
        _calculateDataTableHeight: function() {
            var b = 0;
            b += a(".header-row").outerHeight(), b += a(".engine-selector").outerHeight(), a(".accordion-group").each(function(c, d) {
                var e = a(d);
                if (b += e.find(".accordion-group-title").outerHeight(), e.hasClass("open")) {
                    var f = e.find(".accordion-group-content");
                    f.height(e.find("table").outerHeight()), b += e.find(".accordion-group-content table").outerHeight()
                }
            }), a(".Accordion.data-container").height(b)
        },
        _openDataTable: function() {
            this.ui("dataContainer").hasClass("closed") && this.ui("dataContainer").removeClass("closed").addClass("open")
        },
        _setupCloseButton: function() {
            var b = this;
            a(".close-button").click(function() {
                b._openDataBlock(), b._setStep(4)
            })
        },
        _calculateMobileWidth: function() {
            if (b.innerWidth < this._mobileBreakpoint) {
                var c = 100;
                this._totalPopulated > 1 && (c = 75);
                var d = a(".scroll-x").width(),
                    e = d / 100,
                    f = Math.round(e * c),
                    g = f * this._totalPopulated;
                a(".Accordion.data-container, .models-table table").width(g)
            }
        },
        _getTemplates: function() {
            var a = site.utils.template;
            this._templates = {
                comparisonBlock: a("comparison_block_data"),
                comparisonBlockNoData: a("comparison_block_nodata"),
                comparisonEngineSelector: a("comparison_engine_selector"),
                engineSelect: a("engine_select"),
                vehicle: a("vehicle_template"),
                derivative: a("derivative_template"),
                product: a("product_template"),
                bodystyle: a("bodystyle_buttons"),
                link: a("cta_link"),
                stickyNav: a("stickynav_element")
            }
        },
        _setupSliders: function() {
            var a = this,
                c = this._slidesPerView;
            b.innerWidth <= 601 && (c = "landscape" === this._mode ? 2.6 : 1.6);
            var d = {
                vehicles: !1,
                derivatives: !1
            };
            this._freeMode = !site.rtl, b.innerWidth < 1025 && (d.vehicles = ".vehicles-slider .swiper-scrollbar", d.derivatives = ".derivatives-slider .swiper-scrollbar"), this._sliders.vehicle = new Swiper(".vehicles-slider", {
                slidesPerView: c,
                navigation: {
                    nextEl: ".choose-vehicle .slide-controls .next",
                    prevEl: ".choose-vehicle .slide-controls .prev"
                },
                roundLengths: !0,
                freeMode: this._freeMode,
                freeModeSticky: !0,
                freeModeMinimumVelocity: 0,
                freeModeMomentumRatio: 1,
                freeModeMomentumBounce: !1,
                scrollbar: {
                    el: d.vehicles,
                    hide: !1
                }
            }), this._sliders.derivative = new Swiper(".derivatives-slider", {
                slidesPerView: c,
                navigation: {
                    nextEl: ".choose-derivative .slide-controls .next",
                    prevEl: ".choose-derivative .slide-controls .prev"
                },
                roundLengths: !0,
                freeMode: this._freeMode,
                freeModeSticky: !0,
                freeModeMinimumVelocity: 0,
                freeModeMomentumRatio: 1,
                freeModeMomentumBounce: !1,
                scrollbar: {
                    el: d.derivatives,
                    hide: !1
                }
            }), setTimeout(function() {
                a._setCarouselSize(a._sliders.vehicle), a._setCarouselSize(a._sliders.derivative)
            }, 100)
        },
        _setCarouselSize: function(c) {
            b.innerWidth < 1025 && (b.innerWidth > b.innerHeight ? this._mode = "landscape" : this._mode = "portrait");
            var d = c,
                e = this._slidesPerView;
            b.innerWidth > 1200 ? e = 4.2 : b.innerWidth < 1200 && b.innerWidth > 900 ? e = 3.2 : b.innerWidth <= 900 && b.innerWidth > 601 ? e = 2.2 : b.innerWidth <= 601 && (e = "landscape" === this._mode ? 2.6 : 1.6), this._slidesPerView = e;
            var f = 0;
            if (d.slides && (f = d.slides.length), f > 0) {
                var g = a(d.$wrapperEl[0]).parent().parent().width() / e;
                if (0 === g) return;
                var h = 0;
                e > f ? (a(d.$wrapperEl[0]).css({
                    width: g * f
                }), a(d.$el[0]).css({
                    width: g * f
                }), d.params.slidesPerView = f, a(d.$el[0]).parent().addClass("no-arrows"), this._detached = !0, d.detachEvents(), this._resizeSlideDetailsWrapper(d), h = Math.round(g / 16 * 9), a(d.slides).each(function(b, c) {
                    var d = a(c).find(".option-image");
                    a(d).height(h)
                }), d.update()) : (a(d.$el[0]).parent().removeClass("no-arrows"), a(d.$wrapperEl[0]).css({
                    width: Math.round(g * f)
                }), a(d.$el[0]).css({
                    width: "auto"
                }), this._detached && (this._detached = !1, d.attachEvents()), d.params.slidesPerView = e, this._resizeSlideDetailsWrapper(d), h = Math.round(g / 16 * 9), a(d.slides).each(function(b, c) {
                    var d = a(c).find(".option-image");
                    a(d).height(h)
                }), d.update())
            }
        },
        _resizeSlideDetailsWrapper: function(c) {
            if (c) {
                var d = 0;
                a(c.slides).each(function(b, c) {
                    var e = a(c).find(".option-details");
                    e.css("height", "auto");
                    var f = a(e).outerHeight();
                    f > d && (d = f)
                }), a(c.slides).each(function(b, c) {
                    var e = a(c).find(".option-details");
                    e.css("height", d)
                });
                var e = "";
                switch (this._step) {
                    case 1:
                        e = ".choose-vehicle";
                        break;
                    case 2:
                        e = ".choose-derivative";
                        break;
                    case 3:
                        e = ".choose-engine"
                }
                if (this._step < 4) {
                    var f = 40;
                    b.innerWidth < 700 && (f = 100), a(".slider-container").height(a(e).outerHeight() + f)
                }
            }
        },
        _populateSlider: function(b, c) {
            var d = this,
                e = this._templates[b],
                f = this._sliders[b],
                g = [];
            f.removeAllSlides(), c.forEach(function(a, b) {
                g.push(e({
                    data: a,
                    id: b,
                    fromText: d._translations.headings.from,
                    co2: d._translations.co2,
                    combinedConsumption: d._translations.combinedConsumption
                }))
            }), f.appendSlide(g), a(".choose-" + b).waitForImages(function() {
                d._imagesLoaded(b)
            })
        },
        _imagesLoaded: function(b) {
            this._setCarouselSize(this._sliders[b]), setTimeout(function() {
                a(".slider-container").height(a(".choose-" + b).outerHeight())
            }, 50)
        },
        _equalizeCellHeight: function() {
            var b = 0,
                c = a(".meta-block--equal-height");
            c.css("min-height", "auto"), c.each(function(c, d) {
                var e = a(d).outerHeight();
                e > b && (b = e)
            }), b > 0 && c.css("min-height", b)
        },
        _resetSliders: function() {
            3 === this._totalPopulated ? a(".slider-container").height(0) : a(".slider-container").height(a(".choose-vehicle").outerHeight()), 0 === this._totalPopulated && (a(".slider-container").removeClass("transition"), a(".data-block").height(0), this._step1()), a(".slider-container .faded").removeClass("faded"), a(".slider-container .selected").removeClass("selected")
        },
        _getInitialData: function() {
            this._createFinanceConfig(), this._data = this.$element.data("json"), this._populateSlider("vehicle", this._data.models, this._templates.vehicle), this._populateComparisons()
        },
        _removePopulatedEmptyClass: function(a) {
            a.removeClass("populated empty disabled")
        },
        _buildUrlFromConfigCodes: function(b, c) {
            var d = this,
                e = {
                    nameplate: b.modelId[0],
                    nameplateYear: b.modelYear[0],
                    bodyStyle: b.bodyStyles[0].configCode[0],
                    derivative: b.bodyStyles[0].derivatives[0].configCode[0],
                    engine: c
                };
            return new Promise(function(b, f) {
                var g = "";
                a.ajax({
                    url: "" + d._financeConfig.api_url + e.nameplate + "_" + e.nameplateYear + "?callback=?",
                    dataType: "jsonp",
                    timeout: 5e3,
                    success: function(a) {
                        var d = a.vehicleConfig.collections[0].href;
                        d = d.substr(d.search("__") + 2);
                        for (var f = 0;
                            "_" !== d.charAt(f);) g += d.charAt(f), f += 1;
                        var h = e.nameplate + "_" + e.nameplateYear + "__" + g + "__" + c + "_" + e.bodyStyle + "_" + e.derivative + "__/quote";
                        b(h)
                    },
                    error: function(a, b, c) {
                        f(c)
                    }
                })
            })
        },
        _getFinanceProduct: function(b, c) {
            var d = this;
            return new Promise(function(e) {
                a.ajax({
                    url: b + "?callback=?",
                    dataType: "jsonp",
                    success: function(b) {
                        var f = "<p>" + d._translations.headings.disclaimer + "</p>";
                        b.literals.terms && (f += b.literals.terms), a("#finance-disclaimer").html(f), e({
                            index: c,
                            result: b
                        })
                    }
                })
            })
        },
        _setFinanceHeaders: function() {
            var b = this,
                c = [{
                    header: null,
                    apr: null,
                    otrPrice: null
                }, {
                    header: null,
                    apr: null,
                    otrPrice: null
                }, {
                    header: null,
                    apr: null,
                    otrPrice: null
                }];
            a.each(this._comparisons, function(a, d) {
                null !== d && d.noFinance === !0 && (c[a].header = b._financeConfig.finProdErrorHeader), Object.prototype.hasOwnProperty.call(d.tableData.finances.quote, "otrPrice"), null !== d && d.noFinance === !1 && Object.prototype.hasOwnProperty.call(d.tableData.finances.quote, "apr") && Object.prototype.hasOwnProperty.call(d.tableData.finances.quote, "otrPrice") && (c[a].apr = parseFloat(d.tableData.finances.quote.apr), c[a].otrPrice = Number(d.tableData.finances.quote.otrPrice.replace(/[^0-9\.-]+/g, "")))
            });
            var d = function() {
                    a.each(c, function(a, c) {
                        null === c.header && null !== b._comparisons[a] && b._comparisons[a].noFinance === !1 && (c.header = b._translations.headings.financeExample + "-" + b._financeProductTitle)
                    })
                },
                e = function() {
                    for (var a = -1, e = -1, f = 0, g = 0; g < c.length; g += 1) null !== c[g].apr && (a = c[g].apr, a > e && (e = a, f = g));
                    b._comparisons[f].noFinance === !1 && (c[f].header = b._translations.headings.representativeExample + "-" + b._financeProductTitle), d()
                },
                f = function() {
                    for (var a = -1, e = -1, f = 0, g = 0; g < c.length; g += 1) null !== c[g].otrPrice && (a = c[g].otrPrice, -1 === e ? (e = a, f = g) : e > a && (e = a, f = g));
                    b._comparisons[f].noFinance === !1 && (c[f].header = b._translations.headings.representativeExample + " - " + b._financeProductTitle), d()
                },
                g = function(a) {
                    return a.map(function(a) {
                        return a.apr
                    }).some(function(a, b, c) {
                        return c.indexOf(a) !== c.lastIndexOf(a) && null !== a
                    })
                };
            g(c) ? f() : e();
            var h = a(".table.finances").find(".title div");
            h.map(function(b, d) {
                a(d).html(c[b].header)
            })
        },
        _getFinanceData: function(a, b) {
            var c = this,
                d = this._financeConfig.api_url + a,
                e = this._financeConfig.api_url + a.replace("__/quote", "__/bootstrap");
            this._getFinanceProduct(e, b).then(function(a) {
                for (var e = null, f = 0; f < a.result.products.length; f += 1)
                    if (a.result.products[f].id === c._financeConfig.finProdId && a.result.products[f].disabled === !1) {
                        e = a.result.products[f];
                        break
                    } var g = Math.floor(2 * Math.random());
                if (null !== e && (c._randomPCPflag === !1 || c._randomPCPflag === !0 && 1 === g)) {
                    c._financeProductTitle = e.title;
                    var h = c._financeConfig.finProdId;
                    d = d + "?product=" + h + "&deposit=" + c._financeConfig.deposit + "&duration=" + c._financeConfig.duration + "&mileage=" + c._financeConfig.mileage + "&compare=true", "de" === c._financeConfig.market && "true" === c._financeConfig.enabled && (d = d + "&typeOfPayment=" + c._financeConfig.typeOfPayment), c._getFinanceQuote(d, b).then(function(a) {
                        c._comparisons[a.index].tableData.finances = c._formatFinancialData(a), c._comparisons[a.index].noFinance = !1, c._financeCounter += 1, c._financeCounter === c._getComparisonsLength() && c._showFinancialData()
                    })
                } else c._comparisons[a.index].tableData.finances.quote = {
                    noFinanceMessage: "  "
                }, c._translations.noFinance = " ", c._comparisons[a.index].noFinance = !0, c._financeCounter += 1, c._financeCounter === c._getComparisonsLength() && c._showFinancialData()
            })
        },
        _getFinanceQuote: function(b, c) {
            return new Promise(function(d, e) {
                a.ajax({
                    url: b + "&callback=?",
                    dataType: "jsonp",
                    success: function(a) {
                        d({
                            index: c,
                            result: a
                        })
                    },
                    error: function(a) {
                        e(a)
                    }
                })
            })
        },
        _createFinanceConfig: function() {
            var b = a("#finance-config");
            if (b && (this._financeConfig.api_url = b.find(".api-url").text(), this._financeConfig.finance_url = b.find(".finance-url").text(), this._financeConfig.enabled = b.find(".enabled").text(), this._financeConfig.market = b.find(".market").text(), this._financeConfig.mileage = b.find(".mileage").text(), this._financeConfig.duration = b.find(".duration").text(), this._financeConfig.deposit = b.find(".deposit").text(), this._financeConfig.typeOfPayment = b.find(".typeOfPayment").text(), this._financeConfig.finProdId = b.find(".finProdId").text(), this._financeConfig.finProdErrorMessage = b.find(".finProdErrorMessage").html(), this._financeConfig.finProdErrorRedirection = b.find(".finProdErrorRedirection").text(), this._financeConfig.finProdErrorHeader = b.find(".finProdErrorHeader").text(), this._financeConfig.finProdTerms = b.find(".finProdTerms").text()), "gb" !== this._financeConfig.market && "de" !== this._financeConfig.market || "false" === this._financeConfig.enabled) {
                var c = a(".accordion-group");
                c.addClass("ignore"), c.has(".finances").css("display", "none")
            }
        },
        _equalizeFinanceTableData: function() {
            var b = this,
                c = this._getFinanceLargestDataSet(),
                d = 0;
            a.each(this._comparisons, function(a, e) {
                if (null !== e && (d = Object.keys(e.tableData.finances.quote).length, c > d))
                    for (; c > d;) e.noFinance === !1 ? (e.tableData.finances.quote["hasFinanceEmptyCell" + d] = " ", b._translations["hasFinanceEmptyCell" + d] = " ") : e.noFinance === !0 && (e.tableData.finances.quote["noFinanceEmptyCell" + d] = "  ", b._translations["noFinanceEmptyCell" + d] = "  "), d++
            })
        },
        _getFinanceLargestDataSet: function() {
            var b = 0,
                c = 0;
            return a.each(this._comparisons, function(a, d) {
                null !== d && d.noFinance === !1 && (c = Object.keys(d.tableData.finances.quote).length, c > b && (b = c))
            }), b
        },
        _addFinanceTerms: function() {
            var b = this,
                c = !0;
            a.each(this._comparisons, function(a, d) {
                null !== d && "gb" === b._financeConfig.market && d.noFinance === !1 && (d.tableData.finances.quote.finProdTerms = b._financeConfig.finProdTerms, b._translations.finProdTerms = " ", c = !1)
            }), a.each(this._comparisons, function(a, d) {
                null !== d && "gb" === b._financeConfig.market && d.noFinance === !0 && c === !1 && (d.tableData.finances.quote["noFinanceEmptyCell_" + a] = "  ", b._translations["noFinanceEmptyCell_" + a] = "  ")
            })
        },
        _showFinancialData: function() {
            var b = this;
            this._equalizeFinanceTableData(), this._addFinanceTerms(), this._populateTable("finances"), this._setFinanceHeaders(), setTimeout(function() {
                a(".ComparisonTable").removeClass("hidden-td-0 hidden-td-1 hidden-td-2"), b._totalPopulated > 0 && b._openDataBlock(), b._equalizeCellHeight()
            }, 0), this._toggleSpinner(!1), setTimeout(function() {
                b._alignTooltips()
            }, 10)
        },
        _alignTooltips: function() {
            a(".tooltip").each(function(b, c) {
                var d = parseInt(a(c).css("height"), 10),
                    e = a(c).find("div"),
                    f = parseInt(e.css("height"), 10);
                e.css({
                    top: d / 2 - f / 2 + 2
                })
            })
        },
        _formatFinancialData: function(a) {
            var b = {};
            b.quote = {};
            var c = a.quote.quote;
            this._comparisons[a.index].tooltips = [];
            for (var d = 0; d < c.length; d += 1) b.quote[c[d].key] = c[d].value, this._translations[c[d].key] = c[d].label, this._comparisons[a.index].tooltips.push(c[d].tooltip);
            return b
        },
        _getComparisonsLength: function() {
            for (var a = 0, b = 0; b < this._comparisons.length; b += 1) void 0 !== this._comparisons[b] && null !== this._comparisons[b] && (a += 1);
            return a
        },
        _populateLinks: function(b) {
            var c = this;
            if (this._financeCounter = 0, this._totalPopulated > 0) {
                var d = 0,
                    e = "<tr>",
                    f = this,
                    g = function h() {
                        if (d < c._comparisons.length)
                            if (null !== c._comparisons[d]) {
                                var g = c._addLinkAccessibleText(c._comparisons[d]);
                                if ("us" !== c._financeConfig.market && "gb" !== c._financeConfig.market && "de" !== c._financeConfig.market || "true" !== c._financeConfig.enabled) e += '<td class="button-cell" data-id=' + d + ">", e += f._templates.link({
                                    links: g
                                }), e += "</td>", d += 1, h();
                                else {
                                    var i = f._comparisons[d].tableData.engines[f._comparisons[d].selectedEngine].configCode[0];
                                    c._buildUrlFromConfigCodes(c._comparisons[d].data, i).then(function(a) {
                                        var b = 0,
                                            f = c._comparisons[d].links.length;
                                        for (b; f > b; b += 1) c._comparisons[d].links[b].url.indexOf("financecalculator") > -1 && ("" === c._financeMarketLink && (c._financeMarketLink = c._financeConfig.finance_url), c._comparisons[d].links[b].url = c._financeMarketLink + a, c._comparisons[d].ctaLink = c._financeMarketLink + a);
                                        e += '<td class="button-cell" data-id=' + d + ">", e += c._templates.link({
                                            links: g
                                        }), e += "</td>", "gb" !== c._financeConfig.market && "de" !== c._financeConfig.market || "true" !== c._financeConfig.enabled || c._getFinanceData(a, d), d += 1, h()
                                    })["catch"](function(a) {
                                        console.log("there was an error"), console.log(a)
                                    })
                                }
                            } else e += '<td class="button-cell empty">', e += "</td>", d += 1, h();
                        else {
                            e += "</tr>", a("table." + b).html(e);
                            var j = a(".accordion-group-content");
                            j.has(".table.links").css("height", "auto"), j.has(".table.terms").css("height", "auto"), setTimeout(function() {
                                a(".ComparisonTable").removeClass("hidden-td-0 hidden-td-1 hidden-td-2"), c._totalPopulated > 0 && c._openDataBlock(), c._equalizeCellHeight()
                            }, 0)
                        }
                    };
                g()
            }
        },
        _populateImages: function() {
            var b = "<tr>";
            this._totalPopulated > 0 && a.each(this._comparisons, function(c, d) {
                null !== d ? (b += "<td>", d.tableData.images.length > 0 && a.each(d.tableData.images, function(a, c) {
                    var d = c.image,
                        e = c.text,
                        f = c.value;
                    "undefined" !== d && (b += '<div><img src="' + d + '" alt=""><p>' + e + "</p><p>" + f + "</p></div>")
                }), b += "</td>") : b += '<td class="empty"></td>'
            }), b += "</tr>", a("table.images").html(b)
        },
        _populateTable: function(b) {
            var c = [
                [],
                [],
                []
            ];
            if (this._totalPopulated > 0) {
                var d = "";
                a.each(this._comparisons, function(d, e) {
                    null !== e && a.each(e.tableData[b], function(f, g) {
                        if ("keyFeatures" === b) c[d].push({
                            type: "feature",
                            value: g
                        });
                        else {
                            var h = ["overview", "additionalInformation", "pricing", "businessPrice"];
                            if (-1 === h.indexOf(b)) {
                                var i = 0;
                                for (var j in g) null !== g[j] && "" !== g[j] && i++;
                                c[d].push({
                                    label: f,
                                    type: "title",
                                    total: i,
                                    isElectric: e.isElectric
                                })
                            }
                            g && a.each(g, function(a, b) {
                                null !== b && "" !== b && -1 === a.indexOf("noFinanceEmptyCell") && -1 === a.indexOf("noFinanceMessage") && -1 === a.indexOf("hasFinanceEmptyCell") ? c[d].push({
                                    label: a,
                                    type: "data",
                                    value: b
                                }) : null !== b && a.indexOf("hasFinanceEmptyCell") > -1 ? c[d].push({
                                    label: a,
                                    type: "hasFinance",
                                    value: b
                                }) : null !== b && a.indexOf("noFinanceEmptyCell") > -1 ? c[d].push({
                                    label: a,
                                    type: "noFinance",
                                    value: b
                                }) : null !== b && a.indexOf("noFinanceMessage") > -1 ? c[d].push({
                                    label: a,
                                    type: "noFinanceMessage",
                                    value: b
                                }) : c[d].push({
                                    label: !1,
                                    type: "empty",
                                    value: !1
                                })
                            })
                        }
                    })
                });
                for (var e = 0, f = [0, 0, 0]; e < c[0].length;) {
                    if (("undefined" != typeof c[0][e] && "empty" !== c[0][e].type || "undefined" != typeof c[1][e] && "empty" !== c[1][e].type || "undefined" != typeof c[2][e] && "empty" !== c[2][e].type) && ("undefined" != typeof c[0][e] && 0 !== c[0][e].total || "undefined" != typeof c[1][e] && 0 !== c[1][e].total || "undefined" != typeof c[2][e] && 0 !== c[2][e].total)) {
                        d += "<tr>";
                        for (var g = 0; 3 > g;) {
                            var h = "empty-cell";
                            switch (c[g][e] && (h = c[g][e].type), h) {
                                case "feature":
                                    f[g] += 1, d += '<td class="feature"><div>' + c[g][e].value + "</div></td>";
                                    break;
                                case "data":
                                    f[g] += 1, d += "finProdTerms" === c[g][e].label ? '<td><div class="data-content finProdTerms fontSmooth"><strong>' + this._translations[c[g][e].label] + "</strong><br/>" + c[g][e].value + this._createTooltip(b, g, e - 1, this._translations[c[g][e].label]) + "</div></td>" : '<td><div class="data-content "><strong>' + this._translations[c[g][e].label] + "</strong><br/>" + (c[g][e].value + this._createTooltip(b, g, e - 1, this._translations[c[g][e].label])) + "</div></td>";
                                    break;
                                case "noFinance":
                                    f[g] += 1, d += '<td class="financeToDelete">' + this._translations[c[g][e].label] + "</td>";
                                    break;
                                case "hasFinance":
                                    f[g] += 1, d += '<td class="financeNotToDelete">' + this._translations[c[g][e].label] + "</td>";
                                    break;
                                case "noFinanceMessage":
                                    f[g] += 1, d += '<td class="noFinanceMessage">' + this._financeConfig.finProdErrorMessage + " <a href=" + this._comparisons[g].ctaLink + ">" + this._financeConfig.finProdErrorRedirection + "</a></td>";
                                    break;
                                case "title":
                                    f[g] += 1;
                                    var i = this._translations.headings[c[g][e].label];
                                    "fuelConsumption" === c[g][e].label && c[g][e].isElectric && (i = this._translations.headings.rangeconsumption), "engine" === c[g][e].label && c[g][e].isElectric && (i = this._translations.headings.powertrain || "Not Translated"), d += '<td class="title"><div>' + i + "</div></td>";
                                    break;
                                case "empty":
                                    d += '<td class="data"><div></div></td>';
                                    break;
                                case "empty-cell":
                                    d += '<td class="empty-cell"></td>'
                            }
                            g += 1
                        }
                        d += "<tr/>"
                    }
                    e += 1
                }
                "finances" === b && "true" === this._financeConfig.enabled && "de" === this._financeConfig.market && this._hasAtLeastOneFinanceProduct() && (d += '<tr class="data"><td colspan="' + this._getComparisonsLength() + '"><div>' + this._financeConfig.finProdTerms + "</div></td></tr>");
                var j = a("table." + b);
                j.html(d), "finances" === b && (a(".table.finances tr:empty").remove(), a(".table.finances td.financeToDelete").remove(), a(".table.finances td.noFinanceMessage").attr("rowspan", this._getFinanceLargestDataSet())), 0 === f[0] && 0 === f[1] && 0 === f[2] ? (j.parent().parent().hide(), a(j.parent().parent()).addClass("ignore")) : (j.parent().parent().show(), a(j.parent().parent()).removeClass("ignore")), j.parent().parent().hasClass("open") && j.parent().height(j.height())
            }
            a(".tooltip_open").magnificPopup({
                type: "inline",
                midClick: !0,
                mainClass: "mfp-fade"
            })
        },
        _hasAtLeastOneFinanceProduct: function() {
            for (var a = 0; a < this._getComparisonsLength(); a += 1)
                if (null !== this._comparisons[a] && this._comparisons[a].noFinance === !1) return !0;
            return !1
        },
        _createTooltip: function(a, b, c, d) {
            return "finances" !== a || void 0 === this._comparisons[b].tooltips || " " === d ? "" : '<div class="tooltip"><a class="tooltip_open" data-effect="mfp-zoom-in" href="#tooltip_' + b + "_" + c + '"><div></div></a></div><div class ="tooltip_popup mfp-hide" id="tooltip_ ' + b + "_" + c + '"><p>' + d + "</p>" + this._comparisons[b].tooltips[c] + "</div> "
        },
        _openDataBlock: function() {
            var b = !0;
            b && (a(".Accordion").removeClass("closed"), a(".slider-container, .scroll-x").addClass("transition"), this.ui("accordion").Accordion("calculateNewHeight"))
        },
        _closeDataBlock: function() {
            a(".slider-container, .scroll-x").removeClass("transition"), a(".data-block").addClass("has-transition").height(0), setTimeout(function() {
                a(".data-block").removeClass("has-transition")
            }, 510)
        },
        _populateComparisons: function(b) {
            var c = this;
            this._toggleSpinner(!0), a(".data-container").attr("data-engines", this._enginesPopulated), this._comparisons.forEach(function(d, e) {
                var f = a(c._comparisonEls.get(e)),
                    g = a(c._comparisonEngineSelectors.get(e));
                if (d && (d.data.selectedEngine = d.tableData.engines[d.selectedEngine], d.isElectric = Array.isArray(d.data.selectedEngine.typePowerTrain) && d.data.selectedEngine.typePowerTrain.length && "battery" === d.data.selectedEngine.typePowerTrain[0].toLowerCase()), null !== d) {
                    var h = d.data.modelName[0].trim().split(" "),
                        i = d.data.bodyStyles[0].derivatives[0].derivativeName[0].trim().split(" ");
                    f.html(c._templates.comparisonBlock({
                        data: d,
                        id: e,
                        fromText: c._translations.headings.from,
                        co2: c._translations.co2,
                        combinedConsumption: c._translations.combinedConsumption,
                        title: c._createDerivativeTitle(h, i)
                    })), g.html(c._templates.comparisonEngineSelector({
                        data: d,
                        id: e,
                        changeEngine: d.isElectric ? c._translations.headings.changePowertrain : c._translations.headings.changeEngine,
                        selectEngine: d.isElectric ? c._translations.headings["powertrainSelection.txt"] : c._translations.headings["selectEngine.txt"],
                        fromText: c._translations.headings.from,
                        co2: c._translations.co2,
                        combinedConsumption: c._translations.combinedConsumption
                    })), c._removePopulatedEmptyClass(g), c._removePopulatedEmptyClass(f), f.addClass("populated"), g.css("display", "table-cell"), e < c._enginesPopulated && f.addClass("not-populating"), a(g).find(".DropdownSelect").DropdownSelect()
                } else c._removePopulatedEmptyClass(f), f.html(c._templates.comparisonBlockNoData({
                    addVehicleText: c._translations.headings["addVehicle.txt"]
                })), c._enginesPopulated > 0 ? e > c._enginesPopulated ? (f.addClass("empty disabled"), g.css("display", "none")) : (f.addClass("empty"), g.css("display", "none")) : (f.addClass("empty disabled"), g.css("display", "none")), c._updateSizes();
                c._calculateMobileWidth(), 2 === e && (setTimeout(function() {
                    c._populateTable("overview"), c._populateTable("keyFeatures"), c._populateTable("performanceAndWeights"), c._populateTable("towingOptions"), c._populateTable("dimensions"), c._populateTable("additionalInformation"), c._populateTable("pricing"), c._populateTable("businessPrice"), c._populateLinks("links"), setTimeout(function() {
                        a(".ComparisonTable").removeClass("hidden-td-0 hidden-td-1 hidden-td-2"), c._totalPopulated > 0 && c._openDataBlock(), c._equalizeCellHeight()
                    }, 0)
                }, 0), b && setTimeout(function() {
                    a(".scroll-x").animate({
                        scrollLeft: 1e3
                    }, 100)
                }, 600))
            });
            var d = this._comparisons.every(function(a) {
                return null === a
            });
            if (!d) {
                var e = {
                    event: "comparatorComparisonView"
                };
                this._comparisons.map(function(a) {
                    return a ? {
                        nameplate: a.data.modelName[0],
                        series: a.data.bodyStyles[0].derivatives[0].derivativeName[0],
                        bodystyle: a.data.bodyStyles[0].bodyStyleName[0],
                        engine: a.tableData.engines[a.selectedEngine].engineName[0]
                    } : null
                }).forEach(function(a, b) {
                    e["vehicle" + (b + 1)] = a
                }), dataLayer.push(e)
            }
            setTimeout(function() {
                c._alignTabsIcons()
            }, 10)
        },
        _alignTabsIcons: function() {
            a(".accordion-group-title").each(function(b, c) {
                var d = a(c),
                    e = parseInt(d.css("height"), 10),
                    f = d.find(".accordion-toggle-icon"),
                    g = parseInt(f.css("height"), 10);
                f.css({
                    top: e / 2 - g / 2
                })
            })
        },
        _getMaxKeyFeatures: function() {
            this._maxKF = 0;
            for (var a = 0; a < this._comparisons.length;) {
                if (null !== this._comparisons[a]) {
                    var b = this._comparisons[a].tableData.keyFeatures.length;
                    b > this._maxKF && (this._maxKF = b)
                }
                a += 1
            }
            for (var c = 0; c < this._comparisons.length;) {
                if (null !== this._comparisons[c] && this._comparisons[c].data.bodyStyles[0].derivatives[0].keyFeatures.length < this._maxKF) {
                    for (var d = this._maxKF - this._comparisons[c].data.bodyStyles[0].derivatives[0].keyFeatures.length, e = this._comparisons[c].data.bodyStyles[0].derivatives[0].keyFeatures; 0 !== d;) e.push("&nbsp;"), d -= 1;
                    this._comparisons[c].tableData.keyFeatures = e
                }
                c += 1
            }
        },
        _getDerivatives: function() {
            return this._data.models[this._currentVehicle].bodyStyles[this._currentBodyStyle].derivatives
        },
        _bindDropdownEvents: function() {
            var b = this;
            this.ui("chooseEngine").on("change", ".DropdownSelect select", function(c) {
                b._currentEngine = a(c.currentTarget).find("option:selected").index() - 1, b._currentSelectionTrackingData = {
                    event: "comparatorSelectEngine",
                    vehicle: {
                        nameplate: b._data.models[b._currentVehicle].modelName[0],
                        series: b._data.models[b._currentVehicle].bodyStyles[b._currentBodyStyle].derivatives[b._currentDerivative].derivativeName[0],
                        bodystyle: b._data.models[b._currentVehicle].bodyStyles[b._currentBodyStyle].bodyStyleName[0],
                        engine: b._data.models[b._currentVehicle].bodyStyles[b._currentBodyStyle].derivatives[b._currentDerivative].engines[b._currentEngine].engineName[0]
                    }
                }, dataLayer.push(b._currentSelectionTrackingData), a(".slider-container .choose-vehicle, .slider-container .choose-engine, .slider-container .choose-derivative").removeClass("shown"), b._doAjax(), b._getNextToPopulate(), setTimeout(function() {
                    b._resetSliders()
                }, 600), b._enginesPopulated += 1
            }), a(".engine-selector").on("change", ".DropdownSelect select", function(c) {
                b._toggleSpinner(!0);
                var d = a(c.currentTarget).data("magic");
                b._comparisons[d].selectedEngine = a(c.currentTarget).find("option:selected").index() - 1, b._comparisons[d].tableData = b._munge(b._comparisons[d].data, b._comparisons[d].selectedEngine, d), a(".ComparisonTable").addClass("hidden-td-" + d), setTimeout(function() {
                    b._populateComparisons()
                }, 330), b._currentSelectionTrackingData = {
                    event: "comparatorSelectEngine",
                    vehicle: {
                        nameplate: b._comparisons[d].data.modelName[0],
                        series: b._comparisons[d].data.bodyStyles[0].derivatives[0].derivativeName[0],
                        bodystyle: b._comparisons[d].data.bodyStyles[0].bodyStyleName[0],
                        engine: b._comparisons[d].tableData.engines[b._comparisons[d].selectedEngine].engineName[0]
                    }
                }, dataLayer.push(b._currentSelectionTrackingData)
            })
        },
        _setText: function() {
            var b = "",
                c = this._data && Array.isArray(this._data.models[this._currentVehicle].typePowerTrain) && "battery" === this._data.models[this._currentVehicle].typePowerTrain[0].toLowerCase();
            switch (this._step) {
                case 1:
                    b = this._translations.headings["vehicleSelection.txt"];
                    break;
                case 2:
                    var d = this._translations.headings["modelSelection.alternativeHeading.txt"];
                    b = void 0 !== d && d.trim() ? d : this._translations.headings["modelSelection.txt"] + " " + this._data.models[this._currentVehicle].modelName[0];
                    break;
                case 3:
                    b = c ? this._translations.headings["chooseYourPowertrain.txt"] : this._translations.headings["chooseYourEngine.txt"];
                    break;
                case 4:
                    b = this._translations.headings["addUptoThreeModels.txt"]
            }
            a(".choose-vehicle-title").css({
                opacity: 0
            }), setTimeout(function() {
                var c = a(".choose-vehicle-title");
                c.html(b), c.css({
                    opacity: 1
                })
            }, 600)
        },
        _bindVehicleSliderEvents: function() {
            var b = this;
            a(".choose-vehicle").addClass("shown"), a(".vehicles-slider").on("click", ".select-option", function(c) {
                b._currentVehicle = a(c.currentTarget).data("id"), b._currentSelectionTrackingData = {
                    event: "comparatorSelectNameplate",
                    vehicle: {
                        nameplate: b._data.models[b._currentVehicle].modelName[0],
                        series: null,
                        bodystyle: null,
                        engine: null
                    }
                }, dataLayer.push(b._currentSelectionTrackingData), b._step2(), b._currentBodyStyle = 0, b._populateSlider("derivative", b._getDerivatives()), b.ui("chooseVehicle").addClass("faded"), b._data.models[b._currentVehicle].bodyStyles.length > 1 ? (a(".select-block").addClass("has-tabs"), a(".body-selector").show(), b._populateBodyStyles()) : a(".body-selector").hide(), a(".slider-container .selected").removeClass("selected"), a(c.currentTarget).addClass("selected"), b.ui("chooseVehicle").addClass("no-arrows"), a(".choose-derivative").addClass("shown")
            })
        },
        _doAjax: function() {
            var c = this,
                d = {
                    model: this._data.models[this._currentVehicle].modelName[0],
                    bodyStyle: this._data.models[this._currentVehicle].bodyStyles[this._currentBodyStyle].bodyStyleName[0],
                    derivatives: this._data.models[this._currentVehicle].bodyStyles[this._currentBodyStyle].derivatives[this._currentDerivative].derivativeName[0],
                    ajax: !0
                };
            a.ajax({
                url: "",
                data: d,
                method: "GET",
                cache: !1
            }).success(function(d) {
                var e = void 0,
                    f = [];
                e = c._dev ? a(d).find(".Compare").data("json") : a(d).filter(".Compare").data("json"), e.models[0].ctasJson.length > 0 && (f = "false" === c._financeConfig.enabled ? e.models[0].ctasJson.filter(function(a) {
                    return -1 === a.url.indexOf("financecalculator")
                }) : e.models[0].ctasJson), c._comparisons[c._currentlyPopulating] = {
                    tableData: c._munge(e.models[0], c._currentEngine, c._currentlyPopulating),
                    links: f,
                    data: e.models[0],
                    selectedEngine: c._currentEngine
                }, c._getMaxKeyFeatures(), 0 === c._totalPopulated && a(".models-table, .Accordion.data-container").css("opacity", 0), setTimeout(function() {
                    c._getNextToPopulate(), c._populateComparisons(!0), setTimeout(function() {
                        c._calculateMobileWidth(), 1 === c._totalPopulated && a(".models-table, .Accordion.data-container").animate({
                            opacity: 1
                        }, 300), a(".body-selector").hide(), a(".select-block").removeClass("has-tabs"), a(".close-button").hide(), c.ui("accordion").height(0);
                        var d = 30;
                        b.innerWidth > c._mobileBreakpoint && (d = 90);
                        var e = a(".choose-vehicle-title").offset().top - d;
                        b.innerWidth > 640 && site.utils.scrollTo(e), c._setStep(4), c._toggleSpinner(!0)
                    }, 0)
                }, 0)
            })
        },
        _bindDerivativeSliderEvents: function() {
            var b = this;
            a(".derivatives-slider").on("click", ".select-option", function(c) {
                var d = b._data && Array.isArray(b._data.models[b._currentVehicle].typePowerTrain) && "battery" === b._data.models[b._currentVehicle].typePowerTrain[0].toLowerCase();
                b._currentDerivative = a(c.currentTarget).data("id"), b._currentSelectionTrackingData = {
                    event: "comparatorSelectSeries",
                    vehicle: {
                        nameplate: b._data.models[b._currentVehicle].modelName[0],
                        series: b._data.models[b._currentVehicle].bodyStyles[b._currentBodyStyle].derivatives[b._currentDerivative].derivativeName[0],
                        bodystyle: b._data.models[b._currentVehicle].bodyStyles[b._currentBodyStyle].bodyStyleName[0],
                        engine: null
                    }
                }, dataLayer.push(b._currentSelectionTrackingData), a(".derivatives-slider .selected").removeClass("selected"), a(c.currentTarget).addClass("selected"), b.ui("chooseDerivative").addClass("no-arrows faded"), a(".slider-container").height(b.ui("chooseEngine").outerHeight());
                var e = b._data.models[b._currentVehicle].modelName[0].trim().split(" "),
                    f = b._data.models[b._currentVehicle].bodyStyles[b._currentBodyStyle].derivatives[b._currentDerivative].derivativeName[0].trim().split(" ");
                b.ui("chooseEngine").html(b._templates.engineSelect({
                    derivative: b._data.models[b._currentVehicle].bodyStyles[b._currentBodyStyle].derivatives[b._currentDerivative],
                    model: b._data.models[b._currentVehicle],
                    bodyStyle: b._data.models[b._currentVehicle].bodyStyles[b._currentBodyStyle].bodyStyleName[0],
                    changeEngine: b._translations.headings.changeEngine,
                    selectEngine: d ? b._translations.headings["powertrainSelection.txt"] : b._translations.headings["selectEngine.txt"],
                    fromText: b._translations.headings.from,
                    co2: b._translations.co2,
                    combinedConsumption: b._translations.combinedConsumption,
                    title: b._createDerivativeTitle(e, f)
                })), b.ui("chooseEngine").waitForImages(function() {
                    a(".choose-engine .DropdownSelect").DropdownSelect(), b.ui("chooseEngine").addClass("shown"), b._setStep(3);
                    var c = b.ui("chooseEngine").outerHeight(),
                        d = b._data.models[b._currentVehicle].bodyStyles[b._currentBodyStyle].derivatives[b._currentDerivative].engines;
                    d.length > 2 && (c += 45 * (d.length - 2)), a(".slider-container").height(c)
                })
            })
        },
        _bindBodySelectorEvents: function() {
            var b = this;
            this.ui("bodySelector").on("click", "li", function(c) {
                a(c.currentTarget).parent().find(".active").removeClass("active"), a(c.currentTarget).addClass("active"), b._currentBodyStyle = a(c.currentTarget).data("id"), b._currentSelectionTrackingData = {
                    event: "comparatorSelectBodystyle",
                    vehicle: {
                        nameplate: b._data.models[b._currentVehicle].modelName[0],
                        series: null,
                        bodystyle: b._data.models[b._currentVehicle].bodyStyles[b._currentBodyStyle].bodyStyleName[0],
                        engine: null
                    }
                }, dataLayer.push(b._currentSelectionTrackingData), a(".derivatives-slider").css({
                    opacity: 0
                }).addClass("fast-transition"), setTimeout(function() {
                    b._populateSlider("derivative", b._getDerivatives()), setTimeout(function() {
                        a(".derivatives-slider").css({
                            opacity: 1
                        }), setTimeout(function() {
                            a(".derivatives-slider").removeClass("fast-transition")
                        }, 320)
                    }, 50)
                }, 300)
            })
        },
        _toggleSpinner: function(b) {
            if (4 === this._step) {
                this._updateSizes();
                var c = a(".accordion-group-title").has(".financesTitle").outerWidth();
                if (b) {
                    var d = a(".spinner");
                    d.css({
                        width: c
                    }), d.fadeIn(300), a(".accordion-group").has(".open").find(".table.finances").css("visibility", "hidden"), null === this._rID && (this._isLoaded = !1, this._rID = requestAnimationFrame(this._draw.bind(this)))
                } else a(".spinner").fadeOut(300), setTimeout(function() {
                    a(".accordion-group").has(".open").find(".table.finances").css("visibility", "visible")
                }, 300), this._isLoaded = !0, this._rID = null
            }
        },
        _bindRemoveButtonEvents: function() {
            var c = this;
            this.ui("vehiclesRow").on("click", ".remove", function(d) {
                var e = a(d.currentTarget).data("id");
                if (c._totalPopulated === c._enginesPopulated && (c._enginesPopulated -= 1), c._comparisons.splice(e, 1), c._comparisons.push(null), c._getMaxKeyFeatures(), c._getNextToPopulate(), c._populateComparisons(), c._resetSliders(), b.innerWidth <= c._mobileBreakpoint) {
                    var f = a(".models-table > div");
                    c._totalPopulated < 2 ? f.width("auto") : f.width(a(".Accordion").width() + 20)
                }
            })
        },
        _bindMobileAddButtonEvents: function() {
            a(".mobile-add-button").click(this._startNewSelection.bind(this))
        },
        _startNewSelection: function(b) {
            a(b.currentTarget).hasClass("disabled") || (this._setStep(1), this._step1(), a(".close-button").show(), this._closeDataBlock())
        },
        _bindAddNewEvents: function() {
            this.ui("vehiclesRow").on("click", ".empty", this._startNewSelection.bind(this))
        },
        _bindBackToVehiclesEvents: function() {
            var b = this;
            this.ui("backToVehicles").click(function(c) {
                c.preventDefault(), a(".slider-container .selected").removeClass("selected"), a(".choose-derivative").css({
                    transform: "translateY(0px)"
                }), b._currentVehicle = 0, b._currentBodyStyle = 0, b._currentDerivative = 0, a(".slider-container").height(a(".choose-vehicle").outerHeight()), setTimeout(function() {
                    b.ui("bodySelector").hide(), a(".select-block").removeClass("has-tabs")
                }, 500)
            })
        },
        _setupEvents: function() {
            var b = this;
            this._bindDropdownEvents(), this._bindVehicleSliderEvents(), this._bindDerivativeSliderEvents(), this._bindBodySelectorEvents(), this._bindRemoveButtonEvents(), this._bindMobileAddButtonEvents(), this._bindAddNewEvents(), this._bindBackToVehiclesEvents(), a("#addRandomPCP").click(function() {
                b._randomPCPflag = !b._randomPCPflag, a("#addRandomPCP").text("Random PCP " + b._randomPCPflag.toString().toUpperCase())
            })
        },
        _populateBodyStyles: function() {
            this.ui("bodySelector").html(this._templates.bodystyle({
                data: this._data.models[this._currentVehicle].bodyStyles
            })), a(this.ui("bodySelector").find("li").get(0)).addClass("active")
        },
        _getNextToPopulate: function() {
            var b = this;
            this._totalPopulated = 0;
            var c = !1;
            a.each(this._comparisons, function(a, d) {
                null !== d || c ? null !== d && (b._totalPopulated += 1) : (b._currentlyPopulating = a, c = !0)
            }), a(".ComparisonTable").attr("data-total", this._totalPopulated)
        },
        _removeClassesFromSelectBlock: function() {
            a(".select-block").removeClass("choose-vehicle choose-derivative")
        },
        _createDerivativeTitle: function(b, c) {
            var d = b;
            return a.each(b, function(a, b) {
                c.length && (b.toUpperCase() === c[0].toUpperCase() ? c.splice(0, 1) : c[0].toUpperCase().startsWith(b.toUpperCase()) && d.splice(d.indexOf(b), 1))
            }), d.concat(c).join(" ")
        },
        _addLinkAccessibleText: function(a) {
            var b = this,
                c = a.data.modelName[0].trim().split(" "),
                d = a.data.bodyStyles[0].derivatives[0].derivativeName[0].trim().split(" ");
            return a.links.map(function(a) {
                return a.accessibleText = a.accessibleText ? a.accessibleText : b._createDerivativeTitle(c, d) + " " + a.text, a
            })
        },
        _setMobileButtonTranslation: function() {
            "" !== this._translations.headings["addVehicle.txt"] && this.ui("mobileAddVehicle").html(this._translations.headings["addVehicle.txt"])
        }
    };
    jQuery.createComponent("Compare", d)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {},
        uiSelectors: {
            example: ".example"
        },
        _foo: "bar",
        _blue: "blar",
        init: function() {},
        publicMethod: function() {},
        _privateMethod: function() {},
        _destroy: function() {}
    };
    jQuery.createComponent("ComponentName", e)
}(jQuery, window, document),
function(a, b, c) {
    var d = {
        uiSelectors: {
            hideCursor: "a, button, .rsNavItem, .rsNav, .carouselPagination"
        },
        _$cursor: null,
        _cursorHeight: 0,
        _cursorWidth: 0,
        _$window: a(b),
        _supportsCursorAnimateRotate: !1,
        init: function() {
            var a = this;
            site.utils.isMobileDevice() === !1 && (this.recalculatePositionHalf(), this._initCursorAnimateRotate(), this.$element.on("mousemove", function(b) {
                return a._cursorMouseMove(b)
            }))
        },
        _checkSupport: function() {
            var a = c.createElement("x");
            return a.style.cssText = "pointer-events:auto", a.style.cursor = "none", "auto" === a.style.pointerEvents && "none" === a.style.cursor && !site.utils.isIe11()
        },
        _initCursorAnimateRotate: function() {
            var b = this._checkSupport();
            this._supportsCursorAnimateRotate = b, b ? (this.$element.addClass("CursorAnimateRotate"), this._$cursor = a('<div class="cursor"><div class="cursorIcon"></div></div>'), this.$element.append(this._$cursor), this._cursorHeight = this._$cursor.height(), this._cursorWidth = this._$cursor.width(), this._eventHandlers()) : this.$element.addClass("CursorNoAnimateNoRotate")
        },
        _eventHandlers: function() {
            var a = this;
            this.$element.on("mouseenter", function() {
                return a._cursorShow()
            }).on("mouseleave", function() {
                return a._cursorHide()
            }), this.ui("hideCursor").on("mouseenter", function() {
                return a._cursorHide()
            }).on("mouseleave", function() {
                return a._cursorShow()
            })
        },
        _cursorMouseMove: function(a) {
            var b = a.pageX - this._cursorWidth - 5,
                c = a.pageY - this._$window.scrollTop() - 86,
                d = "translate(" + b + "," + c + ");";
            a.pageX <= this._positionHalf ? this.$element.removeClass("cursorRight").addClass("cursorLeft") : this.$element.addClass("cursorRight").removeClass("cursorLeft"), this._supportsCursorAnimateRotate && this._$cursor.css({
                transform: d,
                "-webkit-transform": d,
                "-moz-transform": d,
                "-o-transform": d
            })
        },
        _cursorHide: function() {
            this._$cursor && this._$cursor.removeClass("isVisible")
        },
        _cursorShow: function() {
            this._$cursor && this._$cursor.addClass("isVisible")
        },
        recalculatePositionHalf: function() {
            this._pageWidth = a(b).width(), this._positionHalf = Math.ceil(this._pageWidth / 2)
        },
        refreshSelectors: function() {
            this.uiElements.hideCursor = a(this.uiSelectors.hideCursor, this.$element), this._eventHandlers()
        }
    };
    jQuery.createComponent("CursorAnimateRotate", d)
}(jQuery, window, document),
function(a, b, c, d, e) {
    "use strict";
    var f = {
        uiSelectors: {},
        carousel: null,
        resizeTimeout: null,
        _players: [],
        _player: null,
        _pauseTimeout: null,
        loaded: !1,
        _swiperInit: function(b) {
            1 === b.slides.length && a(".swiper-container .left, .swiper-container .right").hide()
        },
        _swiperSlideChange: function(b) {
            a(".video", this.$element).length > 0 && (site.utils.isMobileDevice() || this._player.pauseVideo())
        },
        _swiperSetSlide: function(b) {
            var c = b.activeIndex + 1,
                d = b.slides.length;
            a(".numbers").html('<span class="number">' + c + '</span><span class="divide">/</span><span class="number">' + d + "</span>")
        },
        getSwiper: function() {
            return this.mySwiper
        },
        destroy: function() {},
        _setupPlayer: function() {
            var c = a(".youtube-player")[0];
            this._player = new b.YT.Player(c, {
                videoId: a(c).data("vid"),
                playerVars: {
                    modestbranding: !0,
                    showinfo: 0,
                    controls: !1
                },
                events: {
                    onStateChange: function(b) {
                        0 === b.data ? (a(".cover-image").css({
                            display: "block"
                        }), a("iframe").css({
                            display: "none"
                        })) : 2 === b.data && site.utils.isMobileDevice() && (a(".cover-image").css({
                            display: "block"
                        }), a("iframe").css({
                            display: "none"
                        }))
                    }
                }
            })
        },
        init: function() {
            b.ytAPIloaded ? this._setupPlayer() : a.getScript("//www.youtube.com/iframe_api");
            var c = this;
            b.onYouTubeIframeAPIReady = function() {
                b.ytAPIloaded = !0, c._setupPlayer()
            }, a(".swiper-slide iframe").hide(), a(".cover-image").show(), b.richsponsiveImage(), site.utils.isMobileDevice() ? this.mySwiper = new b.Swiper(".swiper-container", {
                speed: 200,
                nextButton: ".swiper-container .right",
                prevButton: ".swiper-container .left",
                onSlideChangeStart: function(a) {
                    c._swiperSlideChange(a)
                },
                onInit: function(a) {
                    c._swiperInit(a)
                }
            }) : this.mySwiper = new b.Swiper(".swiper-container", {
                speed: 1e3,
                nextButton: ".swiper-container .right",
                prevButton: ".swiper-container .left",
                onSlideChangeStart: function(a) {
                    c._swiperSlideChange(a)
                },
                onInit: function(a) {
                    c._swiperInit(a)
                }
            }), a(".cover-image, .cover-image .play").click(function(d) {
                var e = a(".swiper-slide iframe").height(),
                    f = a(".swiper-slide iframe").width(),
                    g = e / f;
                if (b.innerWidth > 767) a(".swiper-slide iframe").css({
                    height: 750,
                    width: 750 / g
                });
                else {
                    var h, i = a(".swiper-slide").width() / 16,
                        j = a(".swiper-slide").height(),
                        k = 9 * i;
                    k > j ? (k = j, h = 0) : h = j - 9 * i, a(".swiper-slide iframe").css({
                        height: k,
                        width: a(".swiper-container").width(),
                        marginTop: h / 2
                    })
                }
                a(".cover-image").css({
                    display: "none"
                }), a("iframe").css({
                    display: "block"
                }), site.utils.isMobileDevice() || c._player.playVideo()
            })
        }
    };
    jQuery.createComponent("DefenderJourneyCarousel", f)
}(jQuery, window, document),
function(a, b, c, d, e) {
    "use strict";
    var f = {
        uiSelectors: {
            map: "#map",
            ajaxContainer: ".ajax-container",
            ajaxContainerContent: ".ajax-container .content",
            journeyContainer: ".journey-container",
            filterBar: "#filter-bar",
            locateButton: "#map-controls .locate",
            zoomInButton: "#map-controls .plus",
            zoomOutButton: "#map-controls .minus",
            featuredButton: "#filter-bar .featured",
            modeSwitchButton: ".mode-switch a",
            listView: "#list-view",
            terrainSelection: "#filter-bar .terrains",
            distanceSelection: "#filter-bar .distance",
            viewSelection: "#filter-bar .view",
            modelSelection: "#filter-bar .model",
            yearSelection: "#filter-bar .year",
            backToTopContainer: ".back-to-top",
            backToTop: ".back-to-top a",
            listContainer: "#list-view .list-container",
            listContainerNew: "#list-view .list-container.new",
            listContainerOld: "#list-view .list-container.old",
            mapDraggableButton: ".control.drag"
        },
        currentMode: "map",
        summaryImages: ["http://s28.postimg.org/ibt2mva25/DJ_placeholder_01.jpg", "http://s28.postimg.org/o2j90li25/DJ_placeholder_02.jpg", "http://s28.postimg.org/azs7v2h7x/DJ_placeholder_03.jpg", "http://s28.postimg.org/zdlwoyox9/DJ_placeholder_04.jpg", "http://s28.postimg.org/bqky0ujl9/DJ_placeholder_05.jpg", "http://s28.postimg.org/eqx73n5il/DJ_placeholder_06.jpg", "http://s28.postimg.org/qrn8i42b1/DJ_placeholder_07.jpg", "http://s28.postimg.org/9aj4n01il/DJ_placeholder_08.jpg", "http://s28.postimg.org/buerh3p2l/DJ_placeholder_09.jpg", "http://s28.postimg.org/89ivxvkj1/DJ_placeholder_10.jpg", "http://s28.postimg.org/qsx6bj44t/DJ_placeholder_11.jpg", "http://s28.postimg.org/qu744y5yl/DJ_placeholder_12.jpg", "http://s28.postimg.org/id7lu119p/DJ_placeholder_13.jpg", "http://s28.postimg.org/ly3hd95t9/DJ_placeholder_14.jpg", "http://s28.postimg.org/h0ui5vt7x/DJ_placeholder_15.jpg", "http://s28.postimg.org/jw7lcqx7x/DJ_placeholder_16.jpg", "http://s28.postimg.org/ytg2dragd/DJ_placeholder_17.jpg", "http://s28.postimg.org/wde8zwsdp/DJ_placeholder_18.jpg", "http://s28.postimg.org/q0z3q2pbh/DJ_placeholder_19.jpg", "http://s28.postimg.org/dnm9j5zn1/DJ_placeholder_20.jpg", "http://s28.postimg.org/vrpa3sxbh/DJ_placeholder_21.jpg", "http://s28.postimg.org/nnh5z2awd/DJ_placeholder_22.jpg", "http://s28.postimg.org/egyvbs5nx/DJ_placeholder_23.jpg", "http://s28.postimg.org/w8ahq8l2l/DJ_placeholder_24.jpg"],
        markers: [],
        geolocation: null,
        clusterer: null,
        infoBox: null,
        infoBoxes: [],
        data: {
            map: [],
            list: []
        },
        currentCarousel: null,
        apiURL: "http://defenderjourneys.landrover.dev.gotham.connect-group.com/api/journeys",
        mapStyles: [],
        filters: {
            map: {
                type: null,
                featured: "n",
                lngSW: null,
                latSW: null,
                lngNE: null,
                latNE: null,
                lang: "en",
                market: "us"
            },
            list: {
                type: null,
                featured: "n",
                lang: "en",
                market: "us",
                latNE: 89.57010579397294,
                latSW: -89.90535101833973,
                lngNE: 180.5,
                lngSW: -180.5,
                page: 1
            }
        },
        maxZoom: 1,
        translations: {
            "view-story": null,
            "view-moment": null,
            "back-to-map": null,
            "back-to-list": null,
            "api-url": null,
            "base-url": null,
            "there-are": null,
            journeys: null
        },
        mapDraggable: !0,
        checksums: [],
        hasAjaxed: !1,
        noResultsShown: !1,
        resultsTimeout: null,
        _setupZoom: function() {
            this.ui("zoomInButton").click(function() {
                null !== this.clusterer.getMaxZoom() && this.clusterer.setMaxZoom(null), this.map.setZoom(this.map.zoom + 1)
            }.bind(this)), this.ui("zoomOutButton").click(function() {
                null !== this.clusterer.getMaxZoom() && this.clusterer.setMaxZoom(null), this.map.zoom - 1 >= this.maxZoom && this.map.setZoom(this.map.zoom - 1)
            }.bind(this))
        },
        _getLocationSuccess: function(c, d) {
            var e = new google.maps.LatLng(c.coords.latitude, c.coords.longitude);
            this.map.panTo(e), new b.RichMarker({
                map: this.map,
                position: e,
                content: '<div class="richMarker created"><img src="/resources/public/images/DefenderJourneys/pin_green.png"></div>',
                flat: !0,
                zIndex: 1e3
            }), a(d).removeClass("locating")
        },
        _getLocationError: function(b, c) {
            a(b).removeClass("locating")
        },
        _doLocate: function(a) {
            navigator.geolocation.getCurrentPosition(function(b) {
                this._getLocationSuccess(b, a)
            }.bind(this), function(b) {
                this._getLocationError(a, b)
            }.bind(this))
        },
        _setupLocateButton: function() {
            this.ui("locateButton").click(function(b) {
                b.preventDefault(), a(b.target).addClass("locating"), this._doLocate(b.target)
            }.bind(this))
        },
        _setupClusterer: function() {
            this.clusterer = new b.MarkerClusterer(this.map, this.markers, {
                styles: [{
                    width: 36,
                    height: 36,
                    anchor: [18, 18],
                    url: "/resources/public/images/DefenderJourneys/cluster-marker.png",
                    textColor: "#ffffff"
                }],
                zoomOnClick: !1,
                ignoreHidden: !0
            }), google.maps.event.addListener(this.clusterer, "clusterclick", function(a) {
                var b = this.map.getZoom();
                if (b >= 14 || b >= 12 && site.utils.isBreakpointSmall()) {
                    this.clusterer.setMaxZoom(b - 1), a.updateIcon_();
                    var c = a.getMarkers();
                    if (this._setupMarkerSpread(), c) {
                        for (var d = 0, e = c.length; e > d; d++) this.oms.addMarker(c[d]), c[d].setOptions({
                            map: this.map,
                            visible: !0
                        });
                        this.map.panTo(a.getCenter()), this.oms.spiderListener(c[0])
                    }
                } else this.map.fitBounds(a.getBounds())
            }.bind(this))
        },
        _setupMarkerSpread: function() {
            this.oms && this.oms.clearMarkers(), this.oms = new OverlappingMarkerSpiderfier(this.map, {
                keepSpiderfied: !0,
                circleSpiralSwitchover: 1 / 0,
                legWeight: 0,
                nearbyDistance: 80,
                markersWontMove: !0
            }), this.oms.circleFootSeparation = 40, this.oms.addListener("unspiderfy", function(a) {
                this._closeInfoBox(), this.clusterer.setMaxZoom(null), this.clusterer.repaint()
            }.bind(this))
        },
        _markersInBounds: function() {
            var b = this.map.getBounds(),
                c = !1;
            return a.each(this.markers, function(a, d) {
                b.contains(d.getPosition()) && (c = !0)
            }), c
        },
        _toggleNoResults: function() {
            0 !== this.data.map.length || this._markersInBounds() ? (a(".no-results").removeClass("visible"), a("#map-controls").removeClass("has-no-results"), this.noResultsShown = !1) : (this.noResultsShown = !0, a(".no-results").addClass("visible"), a("#map-controls").addClass("has-no-results"), this._noResultsTimeout())
        },
        _noResultsTimeout: function() {
            clearTimeout(this.noResultsTimeout), this.noResultsTimeout = setTimeout(function() {
                this.noResultsShown && (a(".no-results").removeClass("visible"), a("#map-controls").removeClass("has-no-results"), this.noResultsShown = !1)
            }.bind(this), 2e3)
        },
        _renderMarkers: function() {
            this.checksums = [];
            var b = this;
            if (this._toggleNoResults(), 0 === this.markers.length) a.each(this.data.map, function(a, b) {
                var c = this._renderMarker(a, b);
                this.clusterer.addMarker(c), this.markers.push(c)
            }.bind(this));
            else {
                var c = [];
                a.each(this.markers, function(a, b) {
                    c.push(b.data.id)
                }), a.each(this.data.map, function(a, d) {
                    if (-1 === c.indexOf(d.id)) {
                        var e = b._renderMarker(a, d);
                        this.markers.push(e), this.clusterer.addMarker(e)
                    }
                }.bind(this))
            }
        },
        _waitForImages: function(b, c) {
            var d = b.find("img"),
                e = d.length,
                f = 0;
            0 === e ? c() : a.each(d, function(b, d) {
                a(d).load(function() {
                    f++, f === e && c()
                })
            })
        },
        _closeInfoBox: function() {
            "undefined" != typeof this.infoBoxes[0] && (a(this.infoBoxes[0].div_).addClass("closing"), setTimeout(function() {
                "undefined" != typeof this.infoBoxes[0] && (this.infoBoxes[0].close(), this.infoBoxes = [])
            }.bind(this), 150))
        },
        _closeInfoBoxOnMove: function() {
            google.maps.event.addListenerOnce(this.map, "bounds_changed", function() {
                this._closeInfoBox()
            }.bind(this))
        },
        _openInfoBox: function(b, c) {
            b.open(this.map, c), this.infoBoxes = [], this.infoBoxes.push(b), setTimeout(function() {
                this._closeInfoBoxOnMove()
            }.bind(this), 250), setTimeout(function() {
                a(".map .journey-card .route-view").click(function(b) {
                    b.preventDefault(), a(b.target).addClass("loading"), a(b.target).html(this.translations.loading), this._ajaxContent(a(b.target))
                }.bind(this)), a(".map .journey-card .close").click(function(a) {
                    a.preventDefault(), a.stopPropagation(), this._closeInfoBox()
                }.bind(this))
            }.bind(this), 0)
        },
        _bindMarkerEvents: function(c) {
            c.addListener("click", site.utils.throttle(function(c) {
                this._closeInfoBox(), this.map.panTo(c.getPosition()), b.innerWidth <= 330 ? this.map.panBy(0, -125) : this.map.panBy(0, -200), google.maps.event.addListenerOnce(this.map, "idle", function() {
                    var b = this._createInfoBox(c.data);
                    this._waitForImages(a(b.content_), function() {
                        this._openInfoBox(b, c)
                    }.bind(this))
                }.bind(this))
            }.bind(this, c), 250, this))
        },
        _createInfoBox: function(a) {
            var c = this._generateStoryCard(a),
                d = "350px",
                e = new google.maps.Size(-175, -37),
                f = new google.maps.Size(10, 10);
            return b.innerWidth <= 500 && (d = "300px", e = new google.maps.Size(-150, -37)), b.innerWidth <= 330 && (d = "200px", e = new google.maps.Size(-100, -37)), b.innerWidth >= 330 && b.innerWidth <= 375 && (f = !1), new this.infoBox({
                content: c,
                boxStyle: {
                    backgroundColor: "transparent",
                    width: d
                },
                alignBottom: !0,
                pixelOffset: e,
                infoBoxClearance: f
            })
        },
        _generateMarker: function(a) {
            var c = "pin_black.png";
            return a.data.curatedJourney && (c = "pin_white_star.png"), new b.RichMarker({
                map: this.map,
                position: a.position,
                data: a.data,
                content: '<div class="richMarker created"><img src="/resources/public/images/DefenderJourneys/' + c + '"></div>',
                anchor: a.anchor,
                flat: !0
            })
        },
        _renderMarker: function(a, b) {
            var c, d = b.start.coordinates[0] + "" + b.start.coordinates[1];
            if (c = {
                    lat: b.start.coordinates[0],
                    lng: b.start.coordinates[1]
                }, "number" == typeof this.checksums[d]) {
                this.checksums[d]++;
                this.checksums[d]
            } else this.checksums[c.lat + "" + c.lng] = 0;
            var e = {
                    position: new google.maps.LatLng(c.lat, c.lng),
                    data: b,
                    anchor: new google.maps.Size(-19, -45)
                },
                f = this._generateMarker(e);
            return this._bindMarkerEvents(f), f
        },
        _scrollToMap: function() {
            var c = 900;
            if (!this.scrolling) {
                this.scrolling = !0;
                var d = 0;
                d = b.innerWidth <= c ? a(".DefenderJourneyMap").offset().top - a("#header").height() : a(".DefenderJourneyMap").offset().top - 40, a("body, html").animate({
                    scrollTop: d
                }, 500, function() {
                    this.scrolling = !1
                }.bind(this))
            }
        },
        _showMap: function() {
            a(".journey-container").removeClass("show-map"), a(".on-list").hide(), a(".on-map").show();
            var c = 86;
            site.utils.isMobileDevice() && (c = 25), this.ui("journeyContainer").height(a(b).height() - c), setTimeout(function() {
                google.maps.event.trigger(this.map, "resize")
            }.bind(this), 1e3), this.ui("backToTop").html(this.translations["back-to-map"]), this._scrollToMap()
        },
        _showList: function() {
            var b = this.ui("journeyContainer");
            b.height(a(".list-container").height() + 235), b.addClass("show-map"), a(".on-list").show(), a(".on-map").hide(), this.ui("backToTop").html(this.translations["back-to-list"]), this._scrollToMap()
        },
        _setupModeSwitch: function() {
            this.ui("modeSwitchButton").click(function(b) {
                b.preventDefault(),
                    this.ui("modeSwitchButton").removeClass("active"), a(b.target).addClass("active"), a(b.target).hasClass("map") ? (this.currentMode = "map", this._showMap()) : (this.currentMode = "list", this._showList())
            }.bind(this))
        },
        _getTranslations: function() {
            this.translations = {
                "view-story": a("#translations .view-story").html(),
                "view-moment": a("#translations .view-moment").html(),
                "back-to-map": a("#translations .back-to-map").html(),
                "back-to-list": a("#translations .back-to-list").html(),
                "api-url": a("#translations .api-url").html(),
                "base-url": a("#translations .base-url").html(),
                "no-journeys-line1": a("#translations .no-journeys-line1").html(),
                "no-journeys-line2": a("#translations .no-journeys-line2").html(),
                "there-are": a("#translations .there-are").html(),
                journeys: a("#translations .journeys").html(),
                loading: a("#translations .loading").html()
            }, this.filters.map.market = a("#translations .base-market").html(), this.filters.map.lang = a("#translations .base-lang").html(), this.filters.list.market = a("#translations .base-market").html(), this.filters.list.lang = a("#translations .base-lang").html()
        },
        getTranslations: function() {
            return this.translations = {
                "view-story": a("#translations .view-story").html(),
                "view-moment": a("#translations .view-moment").html(),
                "back-to-map": a("#translations .back-to-map").html(),
                "back-to-list": a("#translations .back-to-list").html(),
                "api-url": a("#translations .api-url").html(),
                "base-url": a("#translations .base-url").html(),
                "no-journeys-line1": a("#translations .no-journeys-line1").html(),
                "no-journeys-line2": a("#translations .no-journeys-line2").html(),
                "there-are": a("#translations .there-are").html(),
                journeys: a("#translations .journeys").html(),
                loading: a("#translations .loading").html()
            }, this.filters.map.market = a("#translations .base-market").html(), this.filters.map.lang = a("#translations .base-lang").html(), this.filters.list.market = a("#translations .base-market").html(), this.filters.list.lang = a("#translations .base-lang").html(), {
                translations: this.translations,
                filters: this.filters
            }
        },
        _bindStickyNav: function() {
            this.ui("backToTop").html(this.translations["back-to-map"]), this.ui("backToTop").click(function(a) {
                a.preventDefault(), this._scrollToMap()
            }.bind(this)), a(".LessButton", ".SubNavigation").on("click tap", function() {
                var a = parseInt(this.ui("backToTopContainer").css("top"), 10);
                this.ui("backToTopContainer").transition({
                    top: a - 40 + "px",
                    duration: 400
                }, "ease", function() {
                    this.ui("backToTopContainer").css("top", a - 40)
                }.bind(this))
            }.bind(this)), a(".MoreButton", ".SubNavigation").on("click tap", function() {
                var a = parseInt(this.ui("backToTopContainer").css("top"), 10);
                this.ui("backToTopContainer").transition({
                    top: a + 40 + "px",
                    duration: 400
                }, "ease", function() {
                    this.ui("backToTopContainer").css("top", a + 40)
                }.bind(this))
            }.bind(this)), a(b).on("scroll", function(c) {
                var d = "#header.stickyNavigation";
                site.utils.isBreakpointMedium() && (d = "#header.withSubNavigation");
                var e = a(b).scrollTop() - (a("#filter-bar").offset().top - 90),
                    f = a(b).scrollTop() - (a("#map-view").offset().top + a("#map-view").height()) + 89,
                    g = a(b).scrollTop() - (this.ui("listView").offset().top + .5 * this.ui("listView").outerHeight());
                e >= 0 && 50 >= e ? a(d).css({
                    top: -e
                }) : 0 > e ? a(d).css({
                    top: 0
                }) : e > 50 && a(d).css({
                    top: -50
                }), a(".SubNavigation").length && "none" === a(".SubNavigation").css("display") && "fixed" === a("#header").css("position") ? this.ui("backToTopContainer").css({
                    top: 50
                }) : a(".SubNavigation").length && "fixed" === a("#header").css("position") ? this.ui("backToTopContainer").css({
                    top: "none" === a(".LessButton", ".SubNavigation").css("display") ? 40 : 80
                }) : site.utils.isBreakpointSmall() || site.utils.isBreakpointMedium() ? this.ui("backToTopContainer").css({
                    top: 50
                }) : this.ui("backToTopContainer").css({
                    top: 0
                }), this.hasAjaxed && (f >= 0 ? this.ui("backToTopContainer").hasClass("shown") || this.ui("backToTopContainer").addClass("shown") : this.ui("backToTopContainer").hasClass("shown") && this.ui("backToTopContainer").removeClass("shown")), site.utils.isBreakpointSmall() && "list" === this.currentMode && this.ui("listContainer").find(".journey-card").length > 4 && (g >= 0 ? this.ui("backToTopContainer").hasClass("shown") || this.ui("backToTopContainer").addClass("shown") : this.ui("backToTopContainer").hasClass("shown") && this.ui("backToTopContainer").removeClass("shown"))
            }.bind(this))
        },
        _setupListView: function() {
            this._createListView(1, !0), a("#list-view").on("click", "a", function(b) {
                b.preventDefault(), a(b.target).data("originalText", a(b.target).html()), a(b.target).addClass("loading"), a(b.target).html(this.translations.loading), this._ajaxContent(a(b.target))
            }.bind(this))
        },
        _bindResizeEvents: function() {
            b.addEventListener("resize", function() {
                a(".ajax-container").height(a(".ajax-container .content").height()), site.utils.isBreakpointSmall() && (a("#header").css("top", 0), this.ui("backToTopContainer").css({
                    top: 50
                }))
            }.bind(this))
        },
        _mapDraggableOn: function() {
            this.mapDraggable = !0, this.map.setOptions({
                draggable: !0
            }), this.ui("mapDraggableButton").addClass("active")
        },
        _mapDraggableOff: function() {
            this.mapDraggable = !1, this.map.setOptions({
                draggable: !1
            }), this.ui("mapDraggableButton").removeClass("active")
        },
        _zoomChanged: function() {
            this.map.getZoom() > 20 && this.map.setZoom(20), 20 === this.map.getZoom() ? this.clusterer.setGridSize(100) : this.map.getZoom() > 18 ? this.clusterer.setGridSize(60) : this.map.getZoom() > 12 ? this.clusterer.setGridSize(60) : this.map.getZoom() >= 4 && site.utils.isMobileDevice() ? this.clusterer.setGridSize(40) : this.clusterer.setGridSize(100)
        },
        _setupMap: function() {
            var c = this;
            b.loadRichMarker(), b.loadOverlappingMarkerSpiderfier(), this.infoBox = b.loadInfoBox(), this.map = this.ui("map").GoogleMap("getMapObject"), this.map.setOptions({
                styles: this.mapStyles
            }), this.map.setZoom(4), this.map.setCenter(new google.maps.LatLng(51.518829, -.107869)), this._setupClusterer(), this._setupFilterBar(), this._setupZoom(), this._setupListView(), site.utils.isMobileDevice() && (this._mapDraggableOff(), this.ui("mapDraggableButton").show(), this.mapDraggable = !1, this.ui("mapDraggableButton").on("tap click", function(b) {
                this.mapDraggable ? (a(b.target).removeClass("draggable"), this._mapDraggableOff()) : (a(b.target).addClass("draggable"), this._mapDraggableOn())
            }.bind(this))), this._setMapSize(), google.maps.event.addListenerOnce(this.map, "idle", function() {
                setTimeout(function() {
                    google.maps.event.trigger(this.map, "resize"), this._changeBounds(), google.maps.event.addListener(this.map, "bounds_changed", site.utils.throttle(function(a) {
                        c._changeBounds()
                    }, 200, this)), google.maps.event.addListener(this.map, "zoom_changed", function() {
                        this._zoomChanged()
                    }.bind(this)), this.map.addListener("mousedown", function() {
                        this.mapDraggable && (this._scrollToMap(), site.utils.isMobileDevice() && this._setMapSize())
                    }.bind(this))
                }.bind(this), 1e3)
            }.bind(this)), this._bindSameSizeCarouselEvents()
        },
        _bindSameSizeCarouselEvents: function() {
            var b = this;
            a(".SameSizeCarousel .linkContainer a").on("click", function(c) {
                c.preventDefault(), b._ajaxContent(a(this))
            })
        },
        _openMobileMenu: function(b) {
            a(b).data("open", !0), a("#filter-bar").animate({
                height: 180
            }, 500, function(b) {
                a("#filter-bar").height("auto")
            })
        },
        _closeMobileMenu: function(b) {
            a(b).data("open", !1), a("#filter-bar").animate({
                height: 45
            }, 500)
        },
        _setMapSize: function() {
            if ("map" === this.currentMode) {
                var c = this.ui("journeyContainer").height(),
                    d = a("#filter-bar").height(),
                    e = a(".SubNavigation").height(),
                    f = a("#header").height(),
                    g = 0;
                g = b.innerWidth <= 900 ? d + f : d + e;
                var h = b.innerHeight - g;
                c !== h && (this.ui("journeyContainer").height(b.innerHeight - g), setTimeout(function() {
                    google.maps.event.trigger(this.map, "resize")
                }, 1e3))
            } else a(".journey-container").height(a(".list-container").height() + 235)
        },
        init: function() {
            var c = this;
            this.mapStyles = site.utils.googleMapStyles, a(".mob-only").on("tap click", function(b) {
                a(this).data("open") ? (a(this).removeClass("open"), c._closeMobileMenu(this)) : (a(this).addClass("open"), c._openMobileMenu(this))
            }), this._getTranslations(), this._bindResizeEvents(), this._bindStickyNav(), a(b).on("resize", function() {
                this._setMapSize()
            }.bind(this)), this.ui("map").on("api:ready", function() {
                this._setupMap(), a(".HeroCarousel .primaryLinkWithStyle").click(function(a) {
                    a.preventDefault(), this._scrollToMap()
                }.bind(this)), 4.4 === site.utils.getAndroidVersion() && a("#filter-bar").css({
                    webkitBoxShadow: "none",
                    boxShadow: "none"
                })
            }.bind(this))
        },
        _changeBounds: function() {
            var a = this.map.getBounds(),
                b = a.getSouthWest(),
                c = a.getNorthEast();
            this.filters.map.latSW = b.lat(), this.filters.map.lngSW = b.lng(), this.filters.map.latNE = c.lat(), this.filters.map.lngNE = c.lng(), this._getData("map").then(function(a) {
                this.data.map = a.journeys, this._renderMarkers()
            }.bind(this))
        },
        _getData: function(b, c) {
            return "map" === b && this.map.getZoom() <= 3 && (this.filters[b].latSW = -89.90535101833973, this.filters[b].lngSW = -180.5, this.filters[b].latNE = 89.57010579397294, this.filters[b].lngNE = 180.5), a.ajax({
                url: this.translations["api-url"],
                data: this.filters[b],
                type: "GET"
            })
        },
        getData: function(b, c) {
            return a.ajax({
                url: this.translations["api-url"],
                data: this.filters[b],
                type: "GET"
            })
        },
        _featuredButtonMobileText: function() {
            this.ui("featuredButton").each(function(b, c) {
                var d = a(c).html().split(" "),
                    e = [];
                a(d).each(function(a, b) {
                    e.push("<span>" + b + "</span>")
                });
                var f = e.join(" ");
                a(c).html(f)
            })
        },
        _featuredButtonClick: function() {
            this.ui("featuredButton").click(function(b) {
                b.preventDefault();
                var c = a(b.currentTarget),
                    d = c.data("for");
                c.toggleClass("active"), c.hasClass("active") ? this.filters[d].featured = "y" : this.filters[d].featured = "n", "map" === d ? this._clearAllMarkers("map") : this._createListView(1, !1, !0)
            }.bind(this))
        },
        _setupFeaturedButton: function() {
            this._featuredButtonMobileText(), this._featuredButtonClick()
        },
        _openDropdown: function(b) {
            a(b).addClass("open"), a(b).data("open", !0), a(b).find("ul").css({
                height: a(b).data("height"),
                opacity: 1
            })
        },
        _closeDropdown: function(b) {
            a(b).removeClass("open"), a(b).data("open", !1), a(b).find("ul").css({
                height: 0,
                opacity: 0
            })
        },
        _dropdown: function(b) {
            var c = b.find(".chevron"),
                d = c.html(),
                e = b.data("attr"),
                f = b.data("for"),
                g = this;
            b.data("height", b.find("ul").height()), b.data("open", !1), b.find("ul").height(0), b.find(".chevron").click(function(a) {
                a.preventDefault(), a.stopPropagation(), b.data("open") ? g._closeDropdown(b) : g._openDropdown(b)
            }), b.find("a").click(function(h) {
                h.preventDefault(), h.stopPropagation(), g._closeDropdown(b), a(this).hasClass("active") ? (a(this).removeClass("active"), c.html(d), "distance" === e ? (g.filters[f].minDist = 0, g.filters[f].maxDist = 1e9) : g.filters[f][e] = null) : (b.find(".active").removeClass("active"), a(this).addClass("active"), c.html(a(this).html()), "distance" === e ? (g.filters[f].minDist = a(this).data("min"), g.filters[f].maxDist = a(this).data("max")) : g.filters[f][e] = a(this).data("value")), "map" === f ? g._clearAllMarkers("map") : g._createListView(1, !1, !0)
            }), b.on("mouseleave", function() {
                g._closeDropdown(b)
            })
        },
        _clearAllMarkers: function(b) {
            this._closeInfoBox(), this.clusterer.clearMarkers(), a.each(this.markers, function(a, b) {
                google.maps.event.clearListeners(b, "click"), b.setMap(null)
            }.bind(this)), this.markers = [], this._getData(b).then(function(a) {
                this.data.map = a.journeys, this._renderMarkers()
            }.bind(this))
        },
        _setupFilterBar: function() {
            this._dropdown(a(".terrains.on-map")), this._dropdown(a(".distance.on-map")), this._dropdown(a(".terrains.on-list")), this._dropdown(a(".distance.on-list")), a(".on-list").hide(), this._setupModeSwitch(), this._setupLocateButton(), this._setupFeaturedButton()
        },
        _generateStoryCard: function(b, c) {
            "undefined" == typeof c && (c = !1);
            var d, e = this.translations["base-url"] + b.id + ".html";
            d = b.curatedJourney ? "" : "hidden";
            var f, g;
            b.defenderMoment ? (f = "/resources/public/images/DefenderJourneys/moment-separator.png", g = this.translations["view-moment"]) : (f = "/resources/public/images/DefenderJourneys/journey-separator.png", g = this.translations["view-story"]);
            var h = '<div class="journey-card"><img src="/resources/public/images/DefenderJourneys/featured.svg" class="featured ' + d + '"/>';
            c || (h += '<div class="close"></div>');
            var i;
            if ("undefined" != typeof b.images && b.images.length > 0) {
                var j = b.images[0],
                    k = 1e4;
                a.each(b.images, function(a, b) {
                    1 === b.sort && b.width < k && (k = b.width, j = b)
                }), i = j.url
            } else i = this.summaryImages[this.rando(0, 23, 0)];
            return h += '<div class="summary-image" style="background: url(' + i + ') no-repeat center center; background-size: cover;" data-background="' + i + '"></div><div class="details"><p class="title">' + b.journeyName + '</p><p class="author">' + b.userDisplayName + '</p><div class="separator"><img src="' + f + '"/></div><a href="' + e + '" class="route-view" data-title="' + b.journeyName + '">' + g + "</a></div></div>"
        },
        _listViewPagination: function() {
            var b = "";
            return 0 === this.data.list.journeys.length ? (a(".pagination").hide(), b += '<li class="wide"><p>' + this.translations["no-journeys-line2"] + "</p></li>") : a(".pagination").show(), b
        },
        _createListView: function(b, c, d) {
            a(".list-container").addClass("loading"), this.filters.list.page = b, this._getData("list").then(function(b) {
                a(".journey-totals").html(this.translations["there-are"] + " " + b.journeyCount + " " + this.translations.journeys), this.data.list = b, (c || d) && this._createPagination();
                var e = a('<div class="list-container new"><ul class="list"></ul></div>'),
                    f = this._listViewPagination();
                a.each(this.data.list.journeys, function(a, b) {
                    f += "<li>" + this._generateStoryCard(b, !0) + "</li>"
                }.bind(this)), a(".list-container.loading").removeClass("loading"), a(e).find("ul").append(f), a("#list-view .pagination-container").before(e), this._waitForImages(a(".list-container.new"), function() {
                    this._listViewTransition(c)
                }.bind(this))
            }.bind(this))
        },
        _listViewTransition: function(b) {
            if (a(".list-container").each(function() {
                    a(this).hasClass("new") || a(this).addClass("old")
                }), !site.utils.isBreakpointSmall()) {
                var c = 0;
                a(".list-container.new .journey-card").each(function(b, d) {
                    a(d).height() > c && (c = a(d).height())
                }), a(".list-container.new .journey-card").height(c)
            }
            b || (a(".journey-container").height(a(".list-container.new").height() + 235), this._scrollToMap()), a(".list-container.new").removeClass("new"), setTimeout(function() {
                a(".list-container.old").remove()
            }, 1e3)
        },
        _createPagination: function() {
            var b = 6;
            this.pagination = a("#pagination").pagination({
                items: this.data.list.journeyCount,
                itemsOnPage: b,
                cssStyle: "light-theme",
                displayedPages: 4,
                prevText: null,
                nextText: null,
                ellipsePageSet: !1,
                onPageClick: function(a, b) {
                    b.preventDefault(), this._createListView(a)
                }.bind(this)
            })
        },
        _setAjaxContainerHeight: function() {
            setTimeout(function() {
                this.ui("ajaxContainer").height(this.ui("ajaxContainerContent").height()), a("body, html").animate({
                    scrollTop: a(".ajax-container").offset().top - 86
                }, 1e3, "swing")
            }.bind(this), 200)
        },
        _ajaxContent: function(c) {
            this.hasAjaxed = !0, a.get(a(c).attr("href") + "?ajax=true").success(function(d) {
                var e = a(d),
                    f = e.filter(".SameSizeCarousel"),
                    g = e.filter(":not(.SameSizeCarousel)");
                a(".SameSizeCarousel.defenderJourney").replaceWith(f), this.ui("ajaxContainerContent").html(g), a(".SameSizeCarousel.defenderJourney").SameSizeCarousel(), b.richsponsiveImage(), this._waitForImages(this.ui("ajaxContainerContent"), function() {
                    a(c).removeClass("loading"), a(c).data("originalText") && a(c).html(a(c).data("originalText")), a(".DefenderJourneyCarousel").DefenderJourneyCarousel(), a(".DefenderJourneyStoryMap").DefenderJourneyStoryMap({
                        ajax: !0
                    }), this.currentCarousel = a(".DefenderJourneyCarousel").DefenderJourneyCarousel("getSwiper"), a(".SameSizeCarousel").SameSizeCarousel(), this._bindSameSizeCarouselEvents(), this._setAjaxContainerHeight(), this._closeInfoBox()
                }.bind(this))
            }.bind(this)).error(function(a) {
                console.log(a)
            })
        },
        rando: function(a, b, c) {
            return 1 * (Math.random() * (b - a) + a).toFixed(c)
        },
        _performanceMonitor: function() {
            if (b.location.href.indexOf("localhost") > -1 || b.location.href.indexOf("davestest") > -1) {
                var a = c.createElement("script");
                a.onload = function() {
                    var a = new b.Stats;
                    a.domElement.style.cssText = "position:fixed;bottom:10px;left: 10px;z-index:10000", c.body.appendChild(a.domElement), b.requestAnimationFrame(function d() {
                        a.update(), b.requestAnimationFrame(d)
                    })
                }, a.src = "//rawgit.com/mrdoob/stats.js/master/build/stats.min.js", c.head.appendChild(a)
            }
        }
    };
    jQuery.createComponent("DefenderJourneyMap", f)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        uiSelectors: {
            exploreMore: ".explore-more"
        },
        _defaults: {
            ajax: !1
        },
        init: function() {
            if (!this.options.ajax) {
                var c = a("#header"),
                    d = this.ui("exploreMore"),
                    e = a(b);
                e.on("scroll", function() {
                    if (site.utils.isMobileDevice() && b.innerWidth < site.breakpoints.medium) e.scrollTop() > this.$element.offset().top - c.height() ? d.css({
                        position: "fixed",
                        top: c.height()
                    }) : d.css({
                        position: "absolute",
                        top: 0
                    });
                    else if (0 === e.scrollTop()) d.css({
                        position: "fixed",
                        top: parseInt(c.css("top"), 10) + c.height()
                    });
                    else {
                        var a = c.height() - e.scrollTop();
                        a > 0 ? d.css({
                            position: "fixed",
                            top: a
                        }) : d.css({
                            position: "fixed",
                            top: 0
                        })
                    }
                }.bind(this)), this.ui("exploreMore").show()
            }
        }
    };
    jQuery.createComponent("DefenderJourneyStoryDetail", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        uiSelectors: {
            map: ".map"
        },
        map: !1,
        mapStyles: [],
        maxZoom: 1,
        routeBounds: null,
        markers: [],
        init: function() {
            this.mapStyles = site.utils.googleMapStyles, "object" === ("undefined" == typeof google ? "undefined" : _typeof(google)) && "object" === _typeof(google.maps) ? this._setupMap() : this.ui("map").on("api:ready", function() {
                this._setupMap()
            }.bind(this))
        },
        _setupMap: function(a) {
            b.loadRichMarker(), this._setupControls(), this.map = this.ui("map").GoogleMap("getMapObject"), this.map.setOptions({
                styles: this.mapStyles
            }), this.path = new google.maps.MVCArray, this.map.setCenter(new google.maps.LatLng(-45, -45)), this.map.setZoom(1), this.line = new google.maps.Polyline({
                path: this.path,
                map: this.map,
                strokeColor: "#ffffff",
                strokeWeight: 5,
                strokeOpacity: 1
            }), this.thickerLine = new google.maps.Polyline({
                path: this.path,
                map: this.map,
                strokeColor: "#005a2b",
                strokeWeight: 3,
                strokeOpacity: 1
            }), site.utils.isMobileDevice() && this.map.setOptions({
                draggable: !1
            }), this._getRoute()
        },
        _setupControls: function() {
            a("#map-controls .plus").click(function(a) {
                a.preventDefault(), this.map.setZoom(this.map.getZoom() + 1)
            }.bind(this)), a("#map-controls .minus").click(function(a) {
                a.preventDefault(), this.map.getZoom() - 1 > this.maxZoom && this.map.setZoom(this.map.getZoom() - 1)
            }.bind(this)), a("#map-controls .recenter").click(function(a) {
                a.preventDefault(), this.map.fitBounds(this.routeBounds)
            }.bind(this))
        },
        _processLine: function(a) {
            a.forEach(function(a, b) {
                this.path.push(a)
            }.bind(this))
        },
        _drawMoment: function(a) {
            this._addMarker(a), this.map.setCenter(a), this.map.setZoom(10)
        },
        _drawRoute: function(a) {
            new google.maps.Polyline({
                path: this.path,
                map: this.map,
                strokeColor: "#ffffff",
                strokeWeight: 5
            }), new google.maps.Polyline({
                path: this.path,
                map: this.map,
                strokeColor: "#005a2b",
                strokeWeight: 3
            });
            for (var b = 0; b < a.length;) this._processLine(google.maps.geometry.encoding.decodePath(a[b].poly)), b++;
            this._addMarker(this.path.getAt(0)), this._addMarker(this.path.getAt(this.path.getLength() - 1)), this._fitToBounds()
        },
        _getRoute: function() {
            if (this.ui("map").data("latlng")) {
                var a = this.ui("map").data("latlng"),
                    b = new google.maps.LatLng(a[0], a[1]);
                this._drawMoment(b)
            } else if (this.ui("map").data("route")) {
                var c = this.ui("map").data("route");
                this._drawRoute(c)
            } else console.log("no map data?")
        },
        _addMarker: function(a) {
            var c = "pin_black.png",
                d = new b.RichMarker({
                    map: this.map,
                    position: a,
                    content: '<div class="richMarker created"><img src="/resources/public/images/DefenderJourneys/' + c + '"></div>',
                    anchor: new google.maps.Size(-19, -45),
                    flat: !0
                });
            return this.markers.push(d), d
        },
        _fitToBounds: function() {
            if (this.path.getLength() > 1) {
                var a = new google.maps.LatLngBounds;
                this.path.forEach(function(b, c) {
                    a.extend(b)
                }), this.routeBounds = a, this.map.fitBounds(a)
            } else this.map.setCenter(this.markers[0].position), this.map.setZoom(15)
        }
    };
    jQuery.createComponent("DefenderJourneyStoryMap", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {
            closeOnTapOutside: !1
        },
        _$toggleButton: null,
        _$dropdownList: null,
        _valueInTitle: !1,
        _height: 0,
        init: function() {
            var b = this;
            this._$toggleButton = a("> span", this.$element), this._$dropdownList = a("ul", this.$element), "undefined" != typeof this.$element.data("dropdownnav-close-on-tap-outside") && this.$element.data("dropdownnav-close-on-tap-outside") === !0 && (this.options.closeOnTapOutside = !0), "undefined" != typeof this.$element.data("dropdownnav-value-in-title") && (this._valueInTitle = !0), "undefined" != typeof this.$element.data("dropdownnav-stay-on-page") && (this._stayOnPage = !0), b._height = b._$dropdownList.height();
            var c = !1;
            if (b.$element.hasClass("active") ? (c = !0, b._$dropdownList.css({
                    opacity: 1,
                    height: "auto",
                    "overflow-y": "hidden",
                    display: "block"
                })) : b._$dropdownList.css({
                    opacity: 0,
                    height: 0,
                    "overflow-y": "hidden",
                    display: "none"
                }), this._valueInTitle === !0) {
                var d = a("li.active span", this._$dropdownList).html();
                "" !== d && a("span", this._$toggleButton).html(d)
            }
            this._stayOnPage === !0 && a("li a, li span", b._$dropdownList).on("click tap", function(c) {
                c.preventDefault(), b.changeSelected(a(this).parent()), b.$element.trigger("selected", a(this).parent())
            }), b.$element.Dropdown({
                timeout: 250,
                closeOnTapOutside: b.options.closeOnTapOutside,
                button: b._$toggleButton,
                buttonWithinMenu: !1,
                openByDefault: c,
                onOpen: function() {
                    setTimeout(function() {
                        if (!b.$element.hasClass("active")) {
                            b.$element.trigger("open").addClass("active animating");
                            var c = a(b.$element).clone().css({
                                position: "absolute",
                                visibility: "hidden",
                                height: "auto",
                                width: b.$element.width()
                            }).addClass("dropdownClone").appendTo(b.$element.parent());
                            a("ul", c).css({
                                opacity: 1,
                                height: "auto",
                                "overflow-y": "hidden"
                            }), b._height = a(".dropdownClone ul").height(), a(".dropdownClone").remove(), b._$dropdownList.show().transition({
                                opacity: 1,
                                height: b._height,
                                duration: 400,
                                easing: "ease"
                            }, function() {
                                b._$dropdownList.css({
                                    height: "auto"
                                }), b.$element.removeClass("animating").trigger("opened")
                            })
                        }
                    }, 50)
                },
                onClose: function() {
                    b.$element.hasClass("active") && (b.$element.hasClass("animating") || (b.$element.trigger("close").addClass("animating"), b._height = b._$dropdownList.height(), b._$dropdownList.css({
                        height: b._height
                    }).show().transition({
                        duration: 400,
                        easing: "ease",
                        height: 0,
                        opacity: 0
                    }, function() {
                        b.$element.removeClass("animating active"), b._$dropdownList.hide(), b.$element.trigger("closed")
                    })))
                }
            }), b._addKeyboardNavigation()
        },
        open: function() {
            this._$toggleButton.trigger("open")
        },
        changeSelected: function(b) {
            if (a("li.active", this._$dropdownList).removeClass("active"), b.addClass("active"), this._valueInTitle === !0) {
                var c = a("li.active span", this._$dropdownList).html();
                "" !== c && a("span", this._$toggleButton).html(c)
            }
            this._$toggleButton.trigger("close")
        },
        _addKeyboardNavigation: function() {
            var b = this,
                c = b.$element,
                d = b._$toggleButton,
                e = a("ul", b.$element);
            b._$toggleButton.attr("tabindex", "0"), d.keydown(function(a) {
                var b = c.hasClass("active");
                if (b) {
                    if (40 === a.keyCode) return e.find("li").not(":hidden").first().find("a").focus(), !1;
                    13 === a.keyCode && d.trigger("close")
                } else if (40 === a.keyCode || 13 === a.keyCode) {
                    d.trigger("open");
                    var f = e.find("li.active > a");
                    return f.focus(), !1
                }
            }), e.find("> li > a").keydown(function(b) {
                return 40 === b.keyCode ? (a(this).parent("li").nextAll("li").not(":hidden").first().find("a").focus(), !1) : 38 === b.keyCode ? (a(this).parent("li").prevAll("li").not(":hidden").first().find("a").focus(), !1) : void 0
            })
        },
        _destroy: function() {
            this.$element.removeAttr("style"), this.$element.off("open close", "**"), a("ul a", this.$element).unbind("keydown").off("click tap"), a.removeData(this._$toggleButton), a.removeData(this.$element)
        }
    };
    jQuery.createComponent("DropdownNav", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {},
        _selectNode: null,
        _dropdownWrapperElement: null,
        _dropdownSelectedElement: null,
        _dropdownListElement: null,
        _hasFlag: !1,
        init: function() {
            this._selectNode = this.$element, this._createComponentElements(), this._populateElementsData(), this._assignSelectEvents(), this._assignListItemEvents(), this._addKeyboardNavigation()
        },
        _createComponentElements: function() {
            var b = this;
            this.$element.on("setFlag", function(a, b, c) {
                this._setFlag(b, c)
            }.bind(this));
            var c = a.grep(b._selectNode.attr("class").split(" "), function(a, b) {
                    return 0 === a.indexOf("DropdownSelectTheme")
                }).join(),
                d = a.grep(b._selectNode.attr("class").split(" "), function(a, b) {
                    return 0 === a.indexOf("DropdownSelectDirection")
                }).join();
            b._selectNode.removeClass("DropdownSelect"), b._selectNode.removeClass(c), b._dropdownWrapperElement = b._selectNode.wrap("<div class='DropdownSelect " + c + " " + d + "'></div>").parent(), b._dropdownWrapperElement.append('<span class="selected" tabindex="0"><span>SELECTED</span></span>'), b._dropdownWrapperElement.append("<ul></ul>"), b._dropdownSelectedElement = a("span.selected", b._dropdownWrapperElement), b._dropdownListElement = a("ul", b._dropdownWrapperElement), site.utils.isIe11() && b._selectNode.hasClass("DropdownSelectNoClickOffInIe11") || b._dropdownWrapperElement.append('<div class="clickOff"></div>'), b._selectNode.hasClass("flagSelect") && (b._selectNode.removeClass("flagSelect"), b._dropdownWrapperElement.addClass("flagSelect"), b._hasFlag = !0)
        },
        _populateElementsData: function() {
            var b = this,
                c = a("option", b._selectNode);
            b._selectNode.attr("disabled") !== d ? b._dropdownWrapperElement.addClass("disabled") : b._dropdownWrapperElement.removeClass("disabled");
            var e = a("option:selected", b._selectNode),
                f = e.attr("data-flag-img"),
                g = b._hasFlag && "undefined" != typeof f ? '<div class="flag ' + f + '"></div><span class="hasFlag">' + e.first().text() + "</span>" : "<span>" + e.first().text() + "</span>";
            b._dropdownSelectedElement.html(g), b._dropdownSelectedElement.attr("data-val", e.first().val()), b._dropdownListElement.children().remove();
            for (var h = 0; h < c.length; h++) {
                var i = a(c[h]),
                    j = i.val(),
                    k = i.text(),
                    l = i.attr("disabled"),
                    m = i.attr("data-flag-img");
                if ("undefined" == typeof l) {
                    var n = b._hasFlag ? '<li data-val="' + j + '" tabindex="0"><span class="hasFlag">' + k + '</span><div class="flag ' + m + '"></div></li>' : '<li data-val="' + j + '" tabindex="0"><span>' + k + "</span></li>";
                    b._dropdownListElement.append(n)
                }
            }
            b._highlightSelected()
        },
        _highlightSelected: function() {
            this._dropdownListElement.children().removeClass("active"), this._dropdownListElement.find('li[data-val="' + this.$element.val() + '"]').addClass("active")
        },
        _emitChangeEvent: function() {
            this.$element.trigger("DropdownSelect:change")
        },
        _assignSelectEvents: function() {
            var b = this;
            b._dropdownSelectedElement.on("click tap", function(a) {
                b._dropdownWrapperElement.hasClass("disabled") || (b._dropdownWrapperElement.hasClass("open") ? (b._dropdownWrapperElement.removeClass("open"), b._dropdownSelectedElement.trigger("blur")) : (b._dropdownWrapperElement.addClass("open"), b._dropdownListElement.scrollTop(0)), b._emitChangeEvent())
            }), b._addSpaceClick(b._dropdownSelectedElement), b._selectNode.on("update", function() {
                b._populateElementsData(), b._assignListItemEvents()
            }), b._selectNode.on("change", function() {
                b._processSelectEvent()
            }), a(".clickOff", b._dropdownWrapperElement).on("click tap", function() {
                b._dropdownWrapperElement.removeClass("open"), b._emitChangeEvent()
            }), b._dropdownListElement.on("DOMMouseScroll mousewheel", function(b) {
                var c = a(this),
                    d = this.scrollTop,
                    e = this.scrollHeight,
                    f = c.height(),
                    g = b.originalEvent.wheelDelta,
                    h = g > 0,
                    i = function() {
                        return b.stopPropagation(), b.preventDefault(), b.returnValue = !1, !1
                    };
                return !h && -g > e - f - d ? (c.scrollTop(e), i()) : h && g > d ? (c.scrollTop(0), i()) : void 0
            })
        },
        _assignListItemEvents: function() {
            var b = this;
            a("li", b._dropdownListElement).off("click tap").on("click tap", function(c) {
                var d = a(this).attr("data-val");
                b._selectNode.val(d).change()
            }), b._addSpaceClick(a("li", b._dropdownListElement))
        },
        _addSpaceClick: function(b) {
            b.keydown(function(b) {
                32 === b.keyCode && (b.preventDefault(), a(this).click())
            })
        },
        _addKeyboardNavigation: function() {
            var b = this,
                c = b._dropdownWrapperElement,
                d = b._dropdownSelectedElement,
                e = b._dropdownListElement,
                f = b._selectNode;
            d.keydown(function(b) {
                var g = e.find("li"),
                    h = f.val();
                h = h ? h.toString() : h;
                var i = g.filter(function() {
                        return a(this).data("val").toString() === h
                    }),
                    j = c.hasClass("open");
                if (40 === b.keyCode) {
                    if (j) g.first().focus();
                    else {
                        var k = null;
                        if (k = i.length > 0 ? i.next("li") : g.first(), k.length > 0) {
                            var l = k.data("val");
                            f.val(l).change(), d.html("<span>" + a("option:selected", f).text() + "</span>")
                        }
                    }
                    return !1
                }
                if (38 === b.keyCode) {
                    if (j === !1) {
                        var m = null;
                        if (i.length > 0 && (m = i.prev("li"), m.length > 0)) {
                            var n = m.data("val");
                            f.val(n).change(), d.html("<span>" + a("option:selected", f).text() + "</span>")
                        }
                    }
                    return !1
                }
                13 === b.keyCode && (c.toggleClass("open"), i.focus())
            }), a(e).on("keydown", "li", function(c) {
                if (40 === c.keyCode) return a(this).next("li").focus(), !1;
                if (38 === c.keyCode) return a(this).prev("li").focus(), !1;
                if (13 === c.keyCode) {
                    var d = a(this).data("val");
                    f.val(d).change(), b._processSelectEvent()
                }
            })
        },
        _processSelectEvent: function() {
            var b = this,
                c = a("option:selected", b._selectNode),
                d = c.attr("data-flag-img"),
                e = b._hasFlag && "undefined" != typeof d ? '<div class="flag ' + d + '"></div><span class="hasFlag">' + c.first().text() + "</span>" : "<span>" + c.first().text() + "</span>";
            b._dropdownSelectedElement.html(e), b._dropdownSelectedElement.attr("data-val", c.val()), b._dropdownWrapperElement.removeClass("open"), b._emitChangeEvent()
        },
        _setFlag: function(a, b) {
            var c = this._hasFlag && "undefined" != typeof a ? '<div class="flag ' + a + '"></div><span class="hasFlag">' + b + "</span>" : "<span>" + b + "</span>";
            this._dropdownSelectedElement.html(c)
        }
    };
    jQuery.createComponent("DropdownSelect", e)
}(jQuery, window, document),
function(a, b) {
    var c = {
        _breakpoints: {
            medium: 900,
            small: 740
        },
        _slider: null,
        _mode: null,
        _dragging: !1,
        _slidePosition: !1,
        _windowWidth: 0,
        _windowHeight: 0,
        _previousSlideHeight: 0,
        _direction: "slideFromRight",
        _breakpointTabletLandscape: 1024,
        _breakpointTabletLandscapeActive: !1,
        init_rtl: function() {
            this._direction = "slideFromLeft"
        },
        init: function() {
            a(".royalSlider > div", this.element).length > 1 ? this._initSlider() : (this.$element.addClass("singleSlide"), a(".royalSlider", this.element).wrapInner('<div class="overflow"><div class="rsContainer"><div class="rsSlide"></div></div></div>'), a(".carouselNavigation", this.element).remove(), b.richsponsiveImage()), a(".TargetLinks", this.$element).each(function(b, c) {
                "video" === a(c).attr("data-type") && a(c).append('<div class="playButton"></div>')
            });
            var c = a(".carouselNavigation > div a.prev", this.element);
            c.on("click.dfc tap", {
                that: this
            }, this._onPrev);
            var d = a(".carouselNavigation > div a.next", this.element);
            d.on("click.dfc tap", {
                that: this
            }, this._onNext), this._initEnquire(), a(b).on("resize", {
                that: this
            }, this._onResize), a(b).trigger("resize"), a(this.element).css({
                visibility: "visible",
                display: "block"
            })
        },
        _initSlider: function() {
            var c = this,
                d = 0;
            "slideFromLeft" === this._direction && (d = a(".royalSlider > div", this.$element).length - 1);
            var e = a(".royalSlider", this.$element).royalSlider({
                arrowsNav: !1,
                controlNavigation: "none",
                loop: !0,
                startSlideId: d,
                keyboardNavEnabled: !1,
                navigateByClick: !1,
                controlsInside: !1,
                imageScaleMode: "none",
                arrowsNavAutoHide: !1,
                thumbsFitInViewport: !1,
                numImagesToPreload: 100,
                slidesSpacing: 0
            });
            this._slider = e.data("royalSlider");
            var f = this._slider;
            a(".rsOverflow", e).width("100%"), setTimeout(function() {
                b.richsponsiveImage()
            }, 50), setTimeout(function() {
                b.richsponsiveImage()
            }, 500), f.ev.on("rsBeforeAnimStart", {
                that: this
            }, this._updatePagination), f.ev.on("rsDragStart", {
                that: this
            }, this._onDragStart), f.ev.on("rsDragRelease", {
                that: this
            }, this._onDragStop), f.ev.on("rsAfterSlideChange", function() {
                b.richsponsiveImage(), c._onResize(), c._updateSlideContent()
            }), this._updatePagination(), this._addKeyboardNavigation()
        },
        _onDragStart: function(b) {
            var c = b ? b.data.that : this,
                d = a(".royalSlider", c.$element);
            a(".rsSlide", d).show(), c._slidePosition = a(".rsContainer", c.$element).position().left
        },
        _onDragStop: function(b) {
            var c = b ? b.data.that : this,
                d = c._slidePosition,
                e = a(".rsContainer", c.$element).position().left;
            d === e ? this._dragging = !1 : this._dragging = !0
        },
        getDragging: function() {
            return this._dragging
        },
        _initEnquire: function() {
            var a = this;
            enquire.register("screen and (min-width: " + this._breakpoints.medium + "px)", {
                match: function() {
                    a._convert("large")
                }
            }), enquire.register("screen and (min-width: " + (this._breakpoints.medium + 1) + "px) and (max-width: " + this._breakpointTabletLandscape + "px)", {
                match: function() {
                    a._breakpointTabletLandscapeActive = !0
                },
                unmatch: function() {
                    a._breakpointTabletLandscapeActive = !1
                }
            }), enquire.register("screen and (min-width: " + (this._breakpoints.small + 1) + "px) and (max-width: " + (this._breakpoints.medium - 1) + "px)", {
                match: function() {
                    a._convert("medium")
                }
            }), enquire.register("screen and (max-width: " + this._breakpoints.small + "px)", {
                match: function() {
                    a._convert("small")
                }
            })
        },
        _convert: function(b) {
            this._mode = b;
            var c = a(".carouselNavigation", this.element),
                d = a(".royalSlider", this.element),
                e = a(".rsSlide .left", d),
                f = a(".rsSlide .right", d),
                g = a(".left > div > div > div", d);
            "large" === b && (c.removeAttr("style"),
                e.removeAttr("style"), g.removeAttr("style"), a(".top", f).removeAttr("style"))
        },
        _onResize: function(c) {
            function d() {
                m.each(function(b, c) {
                    var d = a(c).height();
                    d > r && (r = d)
                })
            }
            var e = c ? c.data.that : this,
                f = a(b).width(),
                g = a(b).height();
            if (f !== e._windowWidth || g !== e._windowHeight || "large" !== e._mode) {
                e._windowWidth = f, e._windowHeight = g;
                var h = a(".carouselNavigation", e.element),
                    i = h.height(),
                    j = a(".royalSlider", e.element),
                    k = a(".left", j),
                    l = a(".right", j),
                    m = a("> div > div > div", k),
                    n = a("> .title", l),
                    o = e._mode,
                    p = .5625,
                    q = 0,
                    r = 0,
                    s = a('head [name="accordionOnMobile"]').length > 0,
                    t = 0,
                    u = j.data("royalSlider");
                if (u) {
                    var v = u.currSlide.content;
                    t = a(".right .title", v).length
                }
                if ("medium" === o || "small" === o) {
                    var w = f * p;
                    a(".top", j).height(w);
                    var x = w;
                    if ("small" === e._mode) s || (1 === t && (x += n.outerHeight()), a(".heading", l).equalHeights()), m.removeAttr("style");
                    else {
                        var y = 500,
                            z = a("html").width(),
                            A = 2 * parseInt(k.css("padding-left"), 10),
                            B = (z - A - y) / 2;
                        m.css("padding", "0 " + B + "px")
                    }
                    d();
                    var C = e.$element.hasClass("singleSlide");
                    r += C ? "small" === e._mode ? 150 : 135 : "small" === e._mode ? 30 : 95, h.css("top", x), q = x + i + r
                } else {
                    d(), r += 264;
                    var D = e._calculateHeaderSize(e.$element.offset().top),
                        E = g - D,
                        F = f / 1.45;
                    E = F > E ? E : F, e._breakpointTabletLandscapeActive && (r -= 35), q = k.height();
                    var G = f / g;
                    G > 2.3 ? (a(".bottomLeft", j).hide(), a(".bottomRight", j).hide(), a(".triple .top", j).css("height", "100%")) : (a(".bottomLeft", j).show(), a(".bottomRight", j).show(), a(".triple .top", j).removeAttr("style")), f > 1 && (q = r > E ? r : E)
                }
                a(".rsOverflow", j).height(q), j.height(q), e._slider || a(".overflow", j).height(q), e._previousSlideHeight = q
            }
        },
        _calculateHeaderSize: function(b) {
            var c = void 0,
                d = a(".dxnav-header"),
                e = a(".InPageNavigation");
            if (c = site.utils.getStickyNavHeight(b), d.length > 0 && e.length <= 0) {
                var f = d.hasClass("dxnav-hasBreadcrumbs");
                f && b > site.stickyNavigationTransitionPoint && (c = 44)
            }
            return c
        },
        _onPrev: function(a) {
            a.preventDefault();
            var b = a.data.that;
            b._slider.prev(), b._updateSlideContent()
        },
        _onNext: function(a) {
            a.preventDefault();
            var b = a.data.that;
            b._slider.next(), b._updateSlideContent()
        },
        _updatePagination: function(b) {
            var c = b ? b.data.that : this,
                d = c._slider,
                e = d.currSlideId + 1;
            "slideFromLeft" === c._direction && (e = d.numSlides - e + 1), a(".numbers", c.$element).html('<span class="number">' + e + '</span><span class="divide">/</span><span class="number"> ' + d.numSlides + "</span>"), a(".TargetLinks", c.$element).TargetLinks("setupListener")
        },
        _addKeyboardNavigation: function() {
            var b = this,
                c = this._slider,
                d = a(".royalSlider", this.$element),
                e = a(".carouselNavigation", this.$element);
            d.attr("tabindex", "0"), d.keydown(function(a) {
                39 === a.keyCode ? (c.next(), d.focus(), b._updateSlideContent()) : 37 === a.keyCode && (c.prev(), d.focus(), b._updateSlideContent())
            }), e.find("a").keydown(function(c) {
                39 === c.keyCode ? a(".next", b.$element).focus() : 37 === c.keyCode && a(".prev", b.$element).focus()
            }), this._updateSlideContent()
        },
        _updateSlideContent: function() {
            var b = this._slider,
                c = a(".royalSlider", this.$element),
                d = a(".rsSlide > div", this.$element),
                e = b.currSlide.content;
            a("a", d).attr("tabindex", "-1"), a("a", e).attr("tabindex", ""), a(".rsSlide", c).show(), void 0 !== this.hideSlidesTimeout && clearTimeout(this.hideSlidesTimeout), this.hideSlidesTimeout = setTimeout(function() {
                a(".rsSlide", c).hide(), a(b.currSlide.content).closest(".rsSlide").show()
            }, 600), a(".ResponsiveLink").ResponsiveLink(), a(".headingLinear", e).Headings("linearLines"), "large" === this._mode && this._convert(this._mode)
        }
    };
    jQuery.createComponent("DualFrameCarousel", c)
}(jQuery, window),
function(a, b) {
    var c = {
        _breakpoints: {
            medium: 901,
            small: 740
        },
        _slider: null,
        _sliderClone: null,
        _mode: null,
        _dragging: !1,
        _slidePosition: !1,
        _windowWidth: 0,
        _windowHeight: 0,
        _previousSlideHeight: 0,
        _direction: "slideFromRight",
        _breakpointTabletLandscape: 1024,
        _breakpointTabletLandscapeActive: !1,
        init_rtl: function() {
            this._direction = "slideFromLeft"
        },
        init: function() {
            this._initSlideClone(), a(".royalSlider > div", this.element).length > 1 ? this._initSlider() : (this.$element.addClass("singleSlide"), a(".royalSlider", this.element).wrapInner('<div class="overflow"><div class="rsContainer"><div class="rsSlide"></div></div></div>'), a(".carouselNavigation", this.element).remove(), b.richsponsiveImage()), a(".TargetLinks", this.$element).each(function(b, c) {
                "video" === a(c).attr("data-type") && a(c).append('<div class="playButton"></div>')
            });
            var c = a(".carouselNavigation > div a.prev", this.element);
            c.on("click.dfc tap", {
                that: this
            }, this._onPrev);
            var d = a(".carouselNavigation > div a.next", this.element);
            d.on("click.dfc tap", {
                that: this
            }, this._onNext), this._initEnquire(), a(this.element).css({
                visibility: "visible",
                display: "block"
            }), a(b).on("resize", {
                that: this
            }, this._onResize), setTimeout(function() {
                a(b).trigger("resize")
            }, 100)
        },
        _initSlider: function() {
            var c = this,
                d = 0;
            "slideFromLeft" === this._direction && (d = a(".royalSlider > div", this.$element).length - 1);
            var e = a(".royalSlider", this.$element).royalSlider({
                arrowsNav: !1,
                controlNavigation: "none",
                loop: !0,
                startSlideId: d,
                keyboardNavEnabled: !1,
                navigateByClick: !1,
                controlsInside: !1,
                imageScaleMode: "none",
                arrowsNavAutoHide: !1,
                thumbsFitInViewport: !1,
                numImagesToPreload: 100,
                slidesSpacing: 0
            });
            this._slider = e.data("royalSlider");
            var f = this._slider;
            a(".rsOverflow", e).width("100%"), setTimeout(function() {
                b.richsponsiveImage()
            }, 50), setTimeout(function() {
                b.richsponsiveImage()
            }, 500), f.ev.on("rsBeforeAnimStart", {
                that: this
            }, this._updatePagination), f.ev.on("rsDragStart", {
                that: this
            }, this._onDragStart), f.ev.on("rsDragRelease", {
                that: this
            }, this._onDragStop), f.ev.on("rsAfterSlideChange", function() {
                b.richsponsiveImage(), c._onResize(), c._updateSlideContent()
            }), this._updatePagination(), this._addKeyboardNavigation()
        },
        _initSlideClone: function() {
            var b = a("<div/>");
            b.attr("class", this.$element.attr("class")), b.addClass("carouselSizer"), a("body").append(b), a.each(this.$element.find(".Slider__left"), function(c, d) {
                var e = a('<div class="Slider__left left" />');
                b.append(e), e.html(a(d).html())
            }), this._sliderClone = b
        },
        _onDragStart: function(b) {
            var c = b ? b.data.that : this;
            c._slidePosition = a(".rsContainer", c.$element).position().left
        },
        _onDragStop: function(b) {
            var c = b ? b.data.that : this,
                d = c._slidePosition,
                e = a(".rsContainer", c.$element).position().left;
            d === e ? c._dragging = !1 : c._dragging = !0
        },
        getDragging: function() {
            return this._dragging
        },
        _initEnquire: function() {
            this._convert()
        },
        _convert: function() {
            var b = this;
            enquire.register("screen and (min-width: " + this._breakpoints.medium + "px)", {
                match: function() {
                    b._mode = "large"
                }
            }), enquire.register("screen and (min-width: " + (this._breakpoints.small + 1) + "px) and (max-width: " + (this._breakpoints.medium - 1) + "px)", {
                match: function() {
                    b._mode = "medium"
                }
            }), enquire.register("screen and (max-width: " + this._breakpoints.small + "px)", {
                match: function() {
                    b._mode = "small"
                }
            });
            var c = a(".carouselNavigation", this.element),
                d = a(".royalSlider", this.element),
                e = a(".rsSlide .left", d),
                f = a(".rsSlide .right", d),
                g = a(".left > div > div > div", d);
            "large" === this._mode && (c.removeAttr("style"), e.removeAttr("style"), g.removeAttr("style"), a(".top", f).removeAttr("style"))
        },
        _onResize: function(c) {
            function d(b) {
                null !== b && null !== e._sliderClone ? e._sliderClone.find(".Slider__left").each(function(b, c) {
                    var d = a(c).outerHeight();
                    q = d > q ? d : q
                }) : q = j.outerHeight()
            }
            var e = c ? c.data.that : this,
                f = a(b).width(),
                g = a(b).height();
            if (e._convert(), f !== e._windowWidth || g !== e._windowHeight || "large" !== e._mode) {
                e._windowWidth = f, e._windowHeight = g;
                var h = a(".carouselNavigation", e.element),
                    i = a(".royalSlider", e.element),
                    j = a(".left", i),
                    k = a(".right", i),
                    l = a("> div > div > div", j),
                    m = a("> .title", k),
                    n = e._mode,
                    o = .5625,
                    p = 0,
                    q = 0,
                    r = a('head [name="accordionOnMobile"]').length > 0,
                    s = i.parent().find(".carouselNavigation").length;
                if ("medium" === n || "small" === n) {
                    var t = f * o;
                    t = Math.ceil(t), a(".top", i).height(t);
                    var u = t;
                    if ("small" === e._mode) s && (u += 32), r || (u += m.outerHeight(), a(".heading", k).equalHeights()), l.removeAttr("style");
                    else {
                        var v = 500,
                            w = a("html").width(),
                            x = 2 * parseInt(j.css("padding-left"), 10),
                            y = (w - x - v) / 2;
                        l.css("padding", "0 " + y + "px")
                    }
                    d(e._slider), h.css("top", u), p = t + q
                } else {
                    d(e._slider), s && (q += 80);
                    var z = e._calculateHeaderSize(e.$element.offset().top),
                        A = g - z,
                        B = f / 1.45;
                    A = B > A ? A : B, e._breakpointTabletLandscapeActive && (q -= 35), p = j.height();
                    var C = f / g;
                    C > 2.3 ? (a(".bottomLeft", i).hide(), a(".bottomRight", i).hide(), a(".triple .top", i).css("height", "100%")) : (a(".bottomLeft", i).show(), a(".bottomRight", i).show(), a(".triple .top", i).removeAttr("style")), f > 1 && (p = q > A ? q : A)
                }
                a(".rsOverflow", i).height(p), i.height(p), e._slider || a(".overflow", i).height(p), e._previousSlideHeight = p
            }
        },
        _calculateHeaderSize: function(b) {
            var c = void 0,
                d = a(".dxnav-header"),
                e = a(".InPageNavigation");
            if (c = site.utils.getStickyNavHeight(b), d.length > 0 && e.length <= 0) {
                var f = d.hasClass("dxnav-hasBreadcrumbs");
                f && b > site.stickyNavigationTransitionPoint && (c = 44)
            }
            return c
        },
        _onPrev: function(a) {
            a.preventDefault();
            var b = a.data.that;
            b._slider.prev(), b._updateSlideContent()
        },
        _onNext: function(a) {
            a.preventDefault();
            var b = a.data.that;
            b._slider.next(), b._updateSlideContent()
        },
        _updatePagination: function(b) {
            var c = b ? b.data.that : this,
                d = c._slider,
                e = d.currSlideId + 1;
            "slideFromLeft" === c._direction && (e = d.numSlides - e + 1), a(".numbers", c.$element).html('<span class="number">' + e + '</span><span class="divide">/</span><span class="number">' + d.numSlides + "</span>"), a(".TargetLinks", c.$element).TargetLinks("setupListener")
        },
        _addKeyboardNavigation: function() {
            var b = this,
                c = this._slider,
                d = a(".royalSlider", this.$element),
                e = a(".carouselNavigation", this.$element);
            d.attr("tabindex", "0"), d.keydown(function(a) {
                39 === a.keyCode ? (c.next(), d.focus(), b._updateSlideContent()) : 37 === a.keyCode && (c.prev(), d.focus(), b._updateSlideContent())
            }), e.find("a").keydown(function(c) {
                39 === c.keyCode ? a(".next", b.$element).focus() : 37 === c.keyCode && a(".prev", b.$element).focus()
            }), this._updateSlideContent()
        },
        _updateSlideContent: function() {
            var b = this._slider,
                c = a(".rsSlide > div", this.$element),
                d = b.currSlide.content;
            a("a", c).attr("tabindex", "-1"), a("a", d).attr("tabindex", ""), a(".ResponsiveLink").ResponsiveLink(), a(".headingLinear", d).Headings("linearLines"), this._convert()
        }
    };
    jQuery.createComponent("DualFrameCarousel2", c)
}(jQuery, window);
var DxTwoColumnContainer = function b(a, c) {
    _classCallCheck(this, b), this.element = a, this.defaults = {}, this.options = Object.assign({}, this.defaults, c)
};
! function(a, b, c, d) {
    var e = {
        _$window: a(b),
        uiSelectors: {
            ec_submit: ".ec_submit",
            ec_form: "form",
            ec_checkBox: ".ec_checkBox",
            ec_custom_checkBox: ".custom_checkbox label",
            ec_email: ".ec_email",
            ec_error: ".ec_error",
            ec_error_container: ".ec_error_container"
        },
        init: function() {
            var a = this;
            a._$window.smartresize(a._onresize.bind(a)).on("stickyNavigationChange", function() {
                b.setTimeout(function() {
                    a._handleBackgroundHeight(0)
                }, 450)
            }), a._handleBackgroundHeight(0), this._initEvents()
        },
        _onresize: function(a) {
            this._handleBackgroundHeight(0)
        },
        _handleBackgroundHeight: function(b, c, d) {
            var e = (site.breakpoints.current, this);
            if (site.utils.isBreakpointSmall()) {
                var f = e._$window.width() / (16 / 9),
                    g = f + a(".EmailCaptureContainer").outerHeight(!0) + b;
                a(".backgroundContainer").css({
                    height: f
                }), a(".EmailCapture").height(g)
            } else site.utils.isBreakpointMedium() ? a(".EmailCapture").height(400) : a(".EmailCapture").height(480), a(".backgroundContainer").css("height", "100%");
            c && c instanceof jQuery && site.utils.scrollIfNotInViewport(c, d)
        },
        _initEvents: function() {
            var b = this;
            this.ui("ec_checkBox").on("click", function() {
                b.ui("ec_custom_checkBox").removeClass("error")
            }), this.ui("ec_email").on("change paste keyup focus", function() {
                b.ui("ec_email").removeClass("error")
            }), this.ui("ec_form").submit(function(c) {
                c.preventDefault();
                var d = "",
                    e = b.ui("ec_checkBox").is(":checked"),
                    f = b._validateEmailAddress(b.ui("ec_email").val());
                e || f ? e ? f || (d = a(".ec_wrong_email").text(), b.ui("ec_email").addClass("error")) : (d = a(".ec_disclaimer_not_ticked").text() + "<br>", b.ui("ec_custom_checkBox").addClass("error")) : (d = a(".ec_disclaimed_not_ticked_wrong_email").text(), b.ui("ec_custom_checkBox").addClass("error"), b.ui("ec_email").addClass("error")), b.ui("ec_error").html(d);
                a(this);
                if ("" === d) b.ui("ec_error_container").hide(function() {
                    b._handleBackgroundHeight(0)
                }), interactLRDX.ryiBatchRequest(b.ui("ec_email").val(), b);
                else {
                    var g = parseInt(a(".ec_error_container").css("margin-top").replace("px", "")) + parseInt(a(".ec_error_container").css("margin-bottom").replace("px", ""));
                    b._handleBackgroundHeight(b.ui("ec_error_container").height() + g), b.ui("ec_error_container").show(function() {
                        b._handleBackgroundHeight(0, a(".ec-bottom-page"), !0)
                    })
                }
            })
        },
        submitCallback: function(b) {
            var c = this;
            b ? a(".EmailCaptureContainer .ec_copy_form").fadeOut("slow", function() {
                a(".ec_feedback_success").fadeIn("slow", function() {}), c._handleBackgroundHeight(0, a(".backgroundContainer"), !1)
            }) : a(".EmailCaptureContainer .ec_copy_form").fadeOut("slow", function() {
                a(".ec_feedback_error_server").fadeIn("slow"), c._handleBackgroundHeight(0, a(".backgroundContainer"), !1)
            })
        },
        _validateEmailAddress: function(a) {
            var b = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
            return b.test(a)
        }
    };
    jQuery.createComponent("EmailCapture", e)
}(jQuery, window, document),
function(a, b) {
    var c = {
        _defaults: {},
        events: {
            "blur .textfield": "_validateField",
            "submit .eu_emissions_form": "_validateForm",
            "click tap .openAll": "_toggleAll",
            "click tap .searchAgainButton": "_scrollToSearch"
        },
        uiSelectors: {
            emissionsForm: ".eu_emissions_form",
            errorFields: ".error-message",
            resultsContainer: ".results",
            noResultsContainer: ".no-results",
            specDetails: ".specDetails",
            specAccordion: ".specDetails ul",
            openAll: ".openAll",
            continueButton: ".continueButton",
            searchAgain: ".searchAgainButton",
            labels: ".eu_emissions_form label",
            noResultsText: ".no-results .errorHeading"
        },
        _map: {
            family: ["test_date_label", "pems_test_family", "ta_code", "manufacturer_code", "emission_type_approval_no", "remarks"],
            technical_criteria: ["test_date_label", "propulsion_type", "fuel_type", "combustion_process", "number_of_cylinder", "configuration_of_cylinder_block", "max_engine_volume", "method_of_fuel_injection", "cooling_system", "aspiration_charger_type_number", "exhaust_aftertreatment", "egr_type"],
            results: {
                em1_heading: ["test_date_label", "em1-mw-nox-d", "em1-mw-co-d", "em1-mw-pn-d", "em1-mw-nox-d-u", "em1-mw-co-d-u", "em1-mw-pn-d-u"],
                em2_heading: ["test_date_label", "em2-mw-nox-d", "em2-mw-co-d", "em2-mpn-d-t", "em2-mw-nox-d-u", "em2-mw-co-d-u", "em2-mw-pn-d-u"]
            },
            test_criteria: ["test_date_label", "each_combination_of_fuels", "highest_lowest_power_to_mass_ratio", "each_transmission_type", "awd_if_included", "each_engine_volume", "each_type_and_sequence_of_after_treatment", "number_n_of_vehicle_emission_types"],
            "50percent": ["test_date_label", "labelResult"],
            justification: ["test_date_label", "fuel", "pmrh", "pmrl", "transm", "xwd", "eng_vol", "exhaust_aftertreatment", "no_of_et", "no_of_tests", "ts_test_share", "deviation_of_max_engine_volume"]
        },
        _fieldLabels: null,
        _validations: null,
        _validationMessages: null,
        _errors: null,
        _allOpen: !1,
        _animatingAll: !1,
        _isComplete: !1,
        _replacements: {
            "Mw,NOx,d": "mw-nox-d",
            "Mw,NOx,d,U": "mw-nox-d-u",
            "Mw,CO,d,U": "mw-co-d-u",
            "Mw,PN,d,U": "mw-pn-d-u",
            "Mw,PN,d": "mw-pn-d",
            "Mw,CO,d": "mw-co-d",
            "MPN,d,t": "mpn-d-t",
            Xwd: "xwd",
            N_number_of_et: "no_of_et",
            Fuel: "fuel",
            Xwd_engine_volume: "eng_vol",
            NT_Number_of_tests: "no_of_tests",
            awd: "awd_if_included",
            "50_percent_tests_to_be_driven_by_tech_service": "labelResult",
            "highest_lowest_power_to_mass_ratio_kW/t": "highest_lowest_power_to_mass_ratio",
            each_type_sequence_of_aftertreatment: "each_type_and_sequence_of_after_treatment",
            transmission: "transm",
            deviation_of_maximum_engine_volume: "deviation_of_max_engine_volume",
            exhaust_aftertreatment_type_sequence: "exhaust_aftertreatment",
            egr_type: "egr-type"
        },
        init: function() {
            var c = this;
            if (this._getFormMetaData(), this._updateOpenAllText(), this._translate(), this._matchLabelHeights(), this.$element.on("click tap", ".specDetails li > a", function(b) {
                    b.preventDefault(), c._toggleHeader(a(b.currentTarget).parent())
                }), this.$element.find(".textfield").on("input", function(a) {
                    return c._validateField(a)
                }), navigator.userAgent.toLowerCase().indexOf("android") > -1) {
                var d = a('input[type="text"]', this.$element);
                d.on("keydown", function(b) {
                    this.value.length >= b.currentTarget.maxLength && a(this).val(a(this).val().substr(0, b.currentTarget.maxLength))
                })
            }
            a(b).smartresize(function() {
                c._matchLabelHeights()
            })
        },
        _matchLabelHeights: function() {
            var b = 0;
            this.ui("labels").each(function(c, d) {
                var e = a(d).height();
                e > b && (b = e)
            }), this.ui("labels").each(function(c, d) {
                var e = a(d).height();
                b > e ? a(d).css({
                    marginTop: b - e
                }) : a(d).css({
                    marginTop: 0
                })
            })
        },
        _translate: function() {
            var b = this;
            this._translations = this.$element.data("translations");
            var c = {
                ".specs-results-header h1 span": {
                    text: "results_title_label"
                },
                ".specs-results-header p": {
                    text: "results_summary_label"
                },
                ".openAll .open": {
                    text: "open_all_label",
                    ariaLabel: "open_all_accessible_label"
                },
                ".openAll .close": {
                    text: "close_all_label",
                    ariaLabel: "close_all_accessible_label"
                },
                ".continueButton": {
                    text: "search_label",
                    ariaLabel: "search_accessible_label"
                },
                ".searchAgainButton": {
                    text: "search_again_label",
                    ariaLabel: "search_again_accessible_label"
                }
            };
            a.each(c, function(c, d) {
                var e = b._translations[d.text].trim(),
                    f = d.ariaLabel ? b._translations[d.ariaLabel].trim() : null;
                "results_summary_label" === d && "" === e ? a(c).remove() : ("INPUT" !== a(c)[0].tagName ? a(c).html(e) : a(c).val(e), null !== f && a(c).attr("aria-label", f))
            })
        },
        _flattenAndParse: function(b) {
            var c = this,
                d = Array.isArray(b) ? b : [b],
                e = [];
            return a.each(d, function(b, d) {
                var f = {};
                a.each(d, function(b, d) {
                    if ("string" == typeof d) "undefined" != typeof c._replacements[b] ? f[c._replacements[b]] = d : f[b] = d;
                    else if (null !== d) {
                        var e = void 0;
                        "evaluation_method_1" === b ? e = "em1" : "evaluation_method_2" === b && (e = "em2"), a.each(d, function(a, b) {
                            f[e + "-" + c._replacements[a]] = b
                        })
                    }
                }), e.push(f)
            }), e
        },
        _getFormMetaData: function() {
            var b = this,
                c = this.ui("emissionsForm").find(":input").not("[type=submit]"),
                d = void 0,
                e = void 0,
                f = void 0;
            this._fieldLabels = {}, this._validations = {}, this._validationMessages = {}, c.each(function(c, g) {
                d = a(g).attr("name"), e = a("label[for=" + d + "]", b.$element).text(), f = a(g).data(), b._fieldLabels[d] = e, b._validations[d] = {
                    required: f.required,
                    format: f.format
                }, b._validationMessages[d] = {
                    required: f.requiredMessage,
                    format: f.formatMessage
                }
            })
        },
        _validateField: function(b) {
            !site.utils.hasPlaceholderSupport() && Placeholders && Placeholders.disable(a(b.currentTarget)[0]);
            var c = a(b.currentTarget).attr("name"),
                d = a(b.currentTarget).val(),
                e = {
                    name: c,
                    value: d
                };
            this._errors ? this._errors = this._errors.filter(function(a) {
                return a.fieldName !== c
            }) : this._errors = [], this._validate(e), this._errors.length ? this._displayErrors() : this._hideErrors(), this._checkFormComplete(), !site.utils.hasPlaceholderSupport() && Placeholders && Placeholders.enable(a(b.currentTarget)[0])
        },
        _validateForm: function(a) {
            var b = this;
            a && a.preventDefault(), this._hideResults();
            var c = this._getFormData();
            this._errors = [], c.forEach(function(a) {
                b._validate(a)
            }), this._errors.length ? this._displayErrors() : this._getData(this._reformatFormData(c))
        },
        _checkFormComplete: function() {
            var b = this;
            this._isComplete = !1, this._errors.length || (this._isComplete = !0, this.$element.find("input[type=text]").each(function(c, d) {
                a(d).val().length || (b._isComplete = !1)
            })), this.ui("continueButton").prop("disabled", !this._isComplete)
        },
        _validate: function(a) {
            if (this._validations[a.name].required && (a.value || this._errors.push({
                    fieldName: a.name,
                    message: this._validationMessages[a.name].required
                })), a.value && this._validations[a.name].format) {
                var b = new RegExp(this._validations[a.name].format);
                b.test(a.value) || this._errors.push({
                    fieldName: a.name,
                    message: this._validationMessages[a.name].format
                })
            }
        },
        _displayErrors: function() {
            var a = this;
            this._hideErrors(), this._errors.forEach(function(b) {
                a.$element.find("[name=" + b.fieldName + "]").addClass("error"), a.ui("errorFields").filter("[data-for=" + b.fieldName + "]").text(b.message).addClass("visible")
            })
        },
        _hideErrors: function() {
            this.$element.find("input[type=text]").removeClass("error").removeClass("valid"), this.ui("errorFields").removeClass("visible")
        },
        _getFormData: function() {
            return this.ui("emissionsForm").serializeArray()
        },
        _reformatFormData: function(a) {
            return a.reduce(function(a, b) {
                var c = a;
                return c[b.name] = b.value, c
            }, {})
        },
        _createTable: function(b) {
            var c = this,
                d = "";
            return "results" !== b ? d += this._getTable(this._map[b]) : a.each(this._map[b], function(a, b) {
                d += '<h2 class="secondaryHeading">' + c._translations[a] + "</h2>", d += c._getTable(b)
            }), d
        },
        _getTable: function(b) {
            var c = this,
                d = "<table><tr>";
            return a.each(b, function(a, b) {
                d += c._getRow(b, c._translations[b])
            }), d += "</tr>", a.each(this._data, function(e, f) {
                d += "<tr>", a.each(b, function(a, b) {
                    d += c._getRow(b, f[b], e + 1)
                }), d += "</tr>"
            }), d += "</table>"
        },
        _getRow: function(a) {
            var b = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "",
                c = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "";
            return "test_date_label" === a ? "<th>" + c + "</th>" : "<td>" + b + "</td>"
        },
        _createAccordion: function(a) {
            return '<li>\n              <a href="#">\n                ' + this._translations.headings[a + "_heading"] + '\n              </a>\n              <div style="overflow-y: hidden; height: 0px;">\n                <div class="EmissionsTable light">\n                  ' + this._createTable(a) + "\n                </div>\n              </div>\n            </li>"
        },
        _getData: function(b) {
            var c = this,
                d = "/euemissions",
                e = a("html").attr("lang").substring(0, 2);
            "en" !== e && (d = "/" + e + d), a.ajax({
                url: d,
                dataType: "json",
                data: b,
                cache: !1,
                success: function(a) {
                    c._data = c._flattenAndParse(a), c._displayResults()
                },
                error: function(a) {
                    if (a && a.responseJSON) c._displayErrorResults(a.responseJSON.message);
                    else if (a && a.responseText) try {
                        var b = JSON.parse(a.responseText);
                        c._displayErrorResults(b.message)
                    } catch (d) {
                        c._displayErrorResults("")
                    } else c._displayErrorResults("")
                }
            })
        },
        _displayResults: function() {
            var b = this;
            if (this._data && this._data.length) {
                var c = "";
                a.each(this._map, function(a) {
                    c += b._createAccordion(a)
                }), this.ui("specAccordion").empty().append(c), this.ui("specAccordion").find("> li > div").css({
                    "overflow-y": "hidden",
                    height: "0"
                }), this.ui("resultsContainer").show(), this._scrollToResults(), this.ui("specAccordion").find(".EmissionsTable > table:not(.nonResponsive)").ResponsiveTable()
            }
            this._allOpen = !1, this._updateOpenAllText()
        },
        _displayErrorResults: function(a) {
            this.ui("noResultsText").text(a), this.ui("noResultsContainer").show(), this._scrollToNoResults(), this._allOpen = !1, this._updateOpenAllText()
        },
        _hideResults: function() {
            this.ui("resultsContainer").hide(), this.ui("noResultsContainer").hide(), this._allOpen = !1, this._updateOpenAllText()
        },
        _scrollToSearch: function(a) {
            a && a.preventDefault(), site.utils.scrollTo(this.$element)
        },
        _scrollToResults: function(a) {
            a && a.preventDefault(), site.utils.scrollTo(this.ui("resultsContainer"))
        },
        _scrollToNoResults: function(a) {
            a && a.preventDefault(), site.utils.scrollTo(this.ui("noResultsContainer"))
        },
        _toggleHeader: function(c) {
            var d = this;
            if (!c.hasClass("animating"))
                if (a(b).width() < site.breakpoints.small && this.ui("specAccordion").find("li.active").each(function(b, d) {
                        a(d).index() !== c.index() && a(d).find("a").trigger("click")
                    }), c.hasClass("active")) c.addClass("animating"), a("> div", c).css({
                    height: a("> div", c).outerHeight()
                }).transition({
                    duration: 400,
                    height: 0,
                    easing: "ease"
                }, function() {
                    c.removeClass("active animating"), d.ui("specAccordion").find("li.active > a").length || (d._allOpen = !1, d._updateOpenAllText())
                });
                else {
                    c.addClass("active animating"), a("> div", c).clone().removeAttr("style").css({
                        position: "absolute",
                        visibility: "hidden",
                        width: this.ui("specDetails").width()
                    }).addClass("slideClone").appendTo(c);
                    var e = a(".slideClone").outerHeight();
                    a(".slideClone").remove(), a("> div", c).transition({
                        duration: 400,
                        height: e,
                        easing: "ease"
                    }, function() {
                        a("> div", c).css({
                            height: "auto"
                        }), c.removeClass("animating"), d.ui("specAccordion").find("li:not(.active) > a").length || (d._allOpen = !0, d._updateOpenAllText()), a(b).width() < site.breakpoints.small && site.utils.scrollTo(c)
                    })
                }
        },
        _toggleAll: function(a) {
            var b = this;
            a.preventDefault(), this._animatingAll || (this._animatingAll = !0, setTimeout(function() {
                b._animatingAll = !1
            }, 500), this._allOpen ? (this._allOpen = !1, this.ui("specAccordion").find("li.active > a").trigger("click")) : (this._allOpen = !0, this.ui("specAccordion").find("li:not(.active) > a").trigger("click")), this._updateOpenAllText())
        },
        _updateOpenAllText: function() {
            this._allOpen ? (this.ui("openAll").find(".open").hide(), this.ui("openAll").find(".close").show()) : (this.ui("openAll").find(".close").hide(), this.ui("openAll").find(".open").show())
        }
    };
    jQuery.createComponent("EUEmissions", c)
}(jQuery, window, document),
function(a, b, c, d) {
    "use strict";
    var e = {
        init: function() {
            var a = this;
            this.elements = {
                disambiguation: this.element.querySelector(".ExperienceDrives__disambiguation"),
                filters: this.element.querySelector(".ExperienceDrives__filters"),
                key: this.element.querySelector(".ExperienceDrives__key"),
                mapContainer: this.element.querySelector(".ExperienceDrives__map-container"),
                map: this.element.querySelector(".ExperienceDrives__map"),
                search: this.element.querySelector(".ExperienceDrives__search"),
                locate: this.element.querySelector(".locate"),
                zoomInButton: this.element.querySelector(".plus"),
                zoomOutButton: this.element.querySelector(".minus")
            }, this.disambiguation = new ExperienceDrivesDisambiguation(this.elements.disambiguation), this.filters = new MapFilters(this.elements.filters, "ExperienceDrives__", !0), this.key = new ExperienceDrivesKey(this.elements.key), this.map = new ExperienceDrivesGoogleMap(this.elements.map), this.search = new ExperienceDrivesSearch(this.elements.search);
            var b = c.getElementsByClassName("ExperienceDrives__search")[0],
                d = b.getAttribute("data-target-map-url");
            if (d) this.search.dumbSearch();
            else {
                var e = site.utils.getUrlParameter("filter"),
                    f = null;
                null !== e && (f = e.split(",")), this.data = JSON.parse(this.$element.attr("data-json")), this.filters.buildMenu(this.data.filters, f), null !== this.elements.filters && this.elements.filters.addEventListener("filterClicked", function(b) {
                    a.onFilterClicked(b)
                })
            }
            this.map.initialiseMap().then(function() {
                a.location = site.utils.getUrlParameter("location");
                var b = site.utils.getUrlParameter("criteria"),
                    c = site.utils.getUrlParameter("filter"),
                    d = null;
                null !== c && (d = c.split(",")), a._attachEvents(), a._checkGeolocation(), a._drawPins(a.data.markers, d), a.search.hideLoading(), a.search.showForm(), b && a.disambiguation.getSearchTerm(), (null !== d || null !== a.location) && (null === a.location && (a.location = a.$element.data("location")), a.map.centerOnLocation(a.location, a.elements.mapContainer, a.key, a.filters, a._scrollToMap))
            })["catch"](function(a) {
                console.log(a)
            })
        },
        onLocationSearch: function(a) {
            var b = this;
            a.preventDefault(),
                function(c) {
                    return c.coordinates ? Promise.resolve(c.coordinates) : b.map.getLocationCoordinates(c.placeId).then(function(b) {
                        return a.target.data.coordinates = b, b
                    })["catch"](function(a) {
                        console.log(a)
                    })
                }(a.target.data).then(function(a) {
                    b.showMap(a), b.disambiguation.hide(), b._scrollToMap()
                })["catch"](function(a) {
                    console.error("Experience Drives - Could not load coordinates for location: " + a)
                })
        },
        showMap: function(a) {
            var b = a.lat,
                c = a.lng;
            this.elements.mapContainer.classList.remove("hide"), this.map.goToLocation(b, c), this.key.show(), this.filters.show()
        },
        searchOneResult: function(a) {
            var b = this;
            this.map.getLocationCoordinates(a.placeId).then(function(a) {
                b.showMap(a)
            })["catch"](function(a) {
                console.error("Experience Drives - Could not load coordinates for location: " + a)
            })
        },
        onSearch: function(b) {
            var c = this;
            b.preventDefault(), this.map.closeAllInfoboxes();
            var d = this.search.elements.input.value;
            d.length && (this.search.hideError(), this.disambiguation.hide(), this.search.showLoading(), this.map.getSearchResults(d).then(function(b) {
                b.length > 1 ? (c.disambiguation.update(d, b), c.disambiguation.show(), site.utils.scrollTo(a(c.elements.disambiguation), 800, null, "easeOutSine")) : c.searchOneResult(b[0])
            })["catch"](function(a) {
                "ZERO_RESULTS" !== a && console.log("Error performing experience drives search: " + a), c.search.showError()
            })["finally"](function() {
                c.search.hideLoading()
            }))
        },
        onFilterClicked: function(a) {
            this.map.filterMarkers(a.detail.filters)
        },
        onMapPinClicked: function(a) {
            console.log(a)
        },
        _checkGeolocation: function() {
            var a = this;
            navigator.geolocation ? navigator.geolocation.getCurrentPosition(function(b) {
                a.key.showYourLocation(), a.map.drawPin(b.coords.latitude, b.coords.longitude, "your-location", -1)
            }, function(b) {
                console.log("Geolocation error: " + b.message), a.key.hideYourLocation()
            }) : (console.log("geolocation not available or disabled"), this.key.hideYourLocation())
        },
        _attachEvents: function() {
            var a = this;
            this.search.elements.submit.addEventListener("click", function(b) {
                return a.onSearch(b)
            }), this.search.elements.form.addEventListener("submit", function(b) {
                return a.onSearch(b)
            }), this.elements.zoomInButton.addEventListener("click", function() {
                return a.map.zoom(1)
            }), this.elements.zoomOutButton.addEventListener("click", function() {
                return a.map.zoom(-1)
            }), this.disambiguation.elements.links.addEventListener("click", function(b) {
                b.target && "A" === b.target.nodeName && a.onLocationSearch(b)
            })
        },
        _drawPins: function(a, b) {
            var c = this,
                e = !0,
                f = !1,
                g = d;
            try {
                for (var h, i = a[Symbol.iterator](); !(e = (h = i.next()).done); e = !0) {
                    var j = h.value,
                        k = j.lat,
                        l = j.lng,
                        m = j.iconType,
                        n = j.filter,
                        o = j.card,
                        p = !0;
                    if (null !== b) {
                        p = !1;
                        var q = !0,
                            r = !1,
                            s = d;
                        try {
                            for (var t, u = n[Symbol.iterator](); !(q = (t = u.next()).done); q = !0) {
                                var v = t.value,
                                    w = !0,
                                    x = !1,
                                    y = d;
                                try {
                                    for (var z, A = b[Symbol.iterator](); !(w = (z = A.next()).done); w = !0) {
                                        var B = z.value;
                                        B === v && (p = !0)
                                    }
                                } catch (C) {
                                    x = !0, y = C
                                } finally {
                                    try {
                                        !w && A["return"] && A["return"]()
                                    } finally {
                                        if (x) throw y
                                    }
                                }
                            }
                        } catch (C) {
                            r = !0, s = C
                        } finally {
                            try {
                                !q && u["return"] && u["return"]()
                            } finally {
                                if (r) throw s
                            }
                        }
                    }
                    this.map.drawPin(k, l, m, n, p, o)
                }
            } catch (C) {
                f = !0, g = C
            } finally {
                try {
                    !e && i["return"] && i["return"]()
                } finally {
                    if (f) throw g
                }
            }
            this.map.createMarkersClusterer(), this.map.closeInfobox(), this.filters.elements.filtersContainer.addEventListener("click", function(a) {
                var b = c.filters.elements.applyFilters.querySelector("span");
                (a.target === c.filters.elements.applyFilters || a.target === b) && c.map.closeAllInfoboxes()
            })
        },
        _scrollToMap: function() {
            var c = a(".dxnav-header"),
                d = a(".ExperienceDrives__top-bar"),
                e = a(".ExperienceDrives__map-container"),
                f = 0,
                g = a("#header");
            d.height() + e.height() > b.innerHeight && (f = 80), c.length && (g = c.hasClass("dxnav-hasBreadcrumbs") ? a(".dxnav__breadcrumbs") : c);
            var h = d.hasClass("block-header-nav") === !0 ? 0 : g.height(),
                i = h - f;
            site.utils.scrollToElement(d, {
                adjustment: i
            })
        }
    };
    jQuery.createComponent("ExperienceDriveMapAndLocator", e)
}(jQuery, window, document);
var ExperienceDrivesDisambiguation = function() {
        function a(b) {
            _classCallCheck(this, a), this.element = b;
            var c = document.querySelector(".ExperienceDrives__disambiguation__title__criteria-placeholder");
            return null !== c && (this.elements = {
                criteriaPlaceholder: this.element.querySelector(".ExperienceDrives__disambiguation__title__criteria-placeholder"),
                links: this.element.querySelector(".ExperienceDrives__disambiguation__links"),
                linkItemClone: this.element.querySelector(".ExperienceDrives__disambiguation__links-item").cloneNode(!0),
                linksToggle: this.element.querySelector(".ExperienceDrives__disambiguation__links-toggle")
            }), {
                elements: this.elements,
                hide: this.hide.bind(this),
                hideExtraLinks: this.hideExtraLinks.bind(this),
                hideLinksToggle: this.hideLinksToggle.bind(this),
                show: this.show.bind(this),
                showExtraLinks: this.showExtraLinks.bind(this),
                showLinksToggle: this.showLinksToggle.bind(this),
                getSearchTerm: this.getSearchTerm.bind(this),
                update: this.update.bind(this)
            }
        }
        return _createClass(a, [{
            key: "getSearchTerm",
            value: function() {
                var a = site.utils.getUrlParameter("criteria"),
                    b = document.getElementsByClassName("ExperienceDrives__search__input")[0];
                setTimeout(function() {
                    document.getElementsByClassName("ExperienceDrives__search__submit")[0].click()
                }, 250), b.value = a
            }
        }, {
            key: "hide",
            value: function() {
                this.element.classList.add("hide")
            }
        }, {
            key: "hideExtraLinks",
            value: function() {
                var a = this.elements.links.querySelectorAll(".extra"),
                    b = !0,
                    c = !1,
                    d = void 0;
                try {
                    for (var e, f = a[Symbol.iterator](); !(b = (e = f.next()).done); b = !0) {
                        var g = e.value;
                        g.classList.add("hide")
                    }
                } catch (h) {
                    c = !0, d = h
                } finally {
                    try {
                        !b && f["return"] && f["return"]()
                    } finally {
                        if (c) throw d
                    }
                }
            }
        }, {
            key: "hideLinksToggle",
            value: function() {
                this.elements.linksToggle.classList.add("hide")
            }
        }, {
            key: "show",
            value: function() {
                this.element.classList.remove("hide")
            }
        }, {
            key: "showExtraLinks",
            value: function() {
                var a = this.elements.links.querySelectorAll(".extra"),
                    b = !0,
                    c = !1,
                    d = void 0;
                try {
                    for (var e, f = a[Symbol.iterator](); !(b = (e = f.next()).done); b = !0) {
                        var g = e.value;
                        g.classList.remove("hide")
                    }
                } catch (h) {
                    c = !0, d = h
                } finally {
                    try {
                        !b && f["return"] && f["return"]()
                    } finally {
                        if (c) throw d
                    }
                }
            }
        }, {
            key: "showLinksToggle",
            value: function() {
                this.elements.linksToggle.classList.remove("hide");
            }
        }, {
            key: "update",
            value: function(a, b) {
                this.elements.criteriaPlaceholder.textContent = "'" + a + "'";
                var c = document.createRange();
                c.selectNodeContents(this.elements.links), c.deleteContents();
                for (var d = 0; d < b.length; d++) {
                    var e = this.elements.linkItemClone.cloneNode(!0),
                        f = e.querySelector(".ExperienceDrives__disambiguation__link"),
                        g = b[d];
                    f.data = g, f.textContent = g.description, d > 5 && e.classList.add("extra", "hide"), this.elements.links.appendChild(e)
                }
                this.hideExtraLinks(), b.length > 5 ? this.showLinksToggle() : this.hideLinksToggle()
            }
        }]), a
    }(),
    ExperienceDrivesGoogleMap = function() {
        function a(b, c) {
            return _classCallCheck(this, a), this.element = b, this.mapInitPromise = null, this.map = null, this.services = {}, this.markers = [], this.clusterer = null, this.options = Object.assign({
                key: site.googleMapsAPIKey,
                disableDefaultUI: !0,
                minZoom: 2,
                filter: null,
                callback: "site.gmapsLoaded",
                libraries: "places,geometry"
            }, this._getOptionsFromAttributes(), c || {}), {
                drawPin: this.drawPin.bind(this),
                drawRoute: this.drawRoute.bind(this),
                getLocationCoordinates: this.getLocationCoordinates.bind(this),
                getSearchResults: this.getSearchResults.bind(this),
                goToLocation: this.goToLocation.bind(this),
                hide: this.hide.bind(this),
                initialiseMap: this.initialiseMap.bind(this),
                show: this.show.bind(this),
                waitForScriptToLoad: this.waitForScriptToLoad.bind(this),
                filterMarkers: this.filterMarkers.bind(this),
                createMarkersClusterer: this.createMarkersClusterer.bind(this),
                zoom: this.zoom.bind(this),
                createContentCards: this.createContentCards.bind(this),
                centerOnLocation: this.centerOnLocation.bind(this),
                closeInfobox: this.closeInfobox.bind(this),
                closeAllInfoboxes: this.closeAllInfoboxes.bind(this)
            }
        }
        return _createClass(a, [{
            key: "closeInfobox",
            value: function() {
                var a = this;
                google.maps.event.addListener(this.map, "click", function() {
                    var b = document.getElementsByClassName("ExperienceDrives__filters__container")[0],
                        c = document.getElementsByClassName("ExperienceDrives__filters")[0];
                    c.classList.contains("active") && (c.classList.remove("active"), c.classList.add("inactive"), b.classList.add("hide"));
                    for (var d = 0; d < a.markers.length; d++) a.markers[d].infobox.close()
                })
            }
        }, {
            key: "closeAllInfoboxes",
            value: function() {
                for (var a = 0; a < this.markers.length; a++) this.markers[a].infobox.close()
            }
        }, {
            key: "drawPin",
            value: function(a, b, c, d, e, f) {
                this.infoBox = window.loadInfoBox();
                var g = "your-location" === c ? new google.maps.Size(22, 22) : new google.maps.Size(54, 54),
                    h = {
                        url: "/resources/public/images/ExperienceDriveMapAndLocator/map-pin-" + c + ".png",
                        scaledSize: g
                    },
                    i = new google.maps.LatLng(a, b),
                    j = new google.maps.Marker({
                        position: i,
                        map: this.map,
                        icon: h,
                        filter: d,
                        card: f
                    });
                if ("your-location" !== h ? j.setVisible(e) : j.setVisible(!0), -1 !== d) {
                    var k = f.title,
                        l = f.location,
                        m = f.desc,
                        n = f.cta,
                        o = f.image,
                        p = f.imageAlt,
                        q = "new" === n.action ? "_blank" : "",
                        r = '<div class="event-infobox">\n                                <span class="infoboxImage" aria-label="' + p + '" style="background-image: url(\'' + o + '\')"></span>\n                                <span class="infoboxClose"></span>\n                                <div class="infoContainer">\n                                <h3 class="infoboxName">' + k + '</h3>\n                                <h4 class="infoboxLocation">' + l + '</h4>\n                                <h5 class="infoboxSubheader">' + m.header + '</h5>\n                                <p class="shortDesc">' + m.text + '</span>\n                                <div class="linkContainer FindOutMore">\n                                <span class="primaryLinkContainer"><a target="' + q + '" href="' + n.url + '" aria-label="' + n.accessibleText + '" class="' + n.style + '"><span>' + n.text + "</span></a></div></div>\n                                </div>\n                              </div>";
                    this.createContentCards(j, r, this.markers), this.markers.push(j)
                }
            }
        }, {
            key: "createContentCards",
            value: function(a, b, c) {
                var d = this,
                    e = void 0,
                    f = void 0,
                    g = void 0;
                g = new google.maps.Size(10, 10), $(window).width() < 740 ? (e = "280px", f = new google.maps.Size(-140, -19)) : (e = "350px", f = new google.maps.Size(-175, -25)), window.innerHeight <= 414 && (e = "350px", f = new google.maps.Size(-175, -19)), window.innerWidth >= 330 && window.innerWidth <= 375 && (g = !1);
                var h = {
                    content: b,
                    disableAutoPan: !0,
                    maxWidth: 0,
                    pixelOffset: f,
                    zIndex: null,
                    boxStyle: {
                        background: "transparent",
                        width: e
                    },
                    closeBoxURL: "",
                    infoBoxClearance: g,
                    isHidden: !1,
                    pane: "floatPane",
                    alignBottom: !0,
                    enableEventPropagation: !1
                };
                a.infobox = new this.infoBox(h), a.infobox.addListener("domready", function() {
                    var a = this;
                    d.closeCTA = $(".infoboxClose"), d.closeCTA.on("click", function() {
                        $(a).closest(".infoBox").addClass("closing"), a._currentMarker = !1, $(".infoBox").hide()
                    })
                }), google.maps.event.addListener(a, "click", function(a) {
                    return function() {
                        for (var b = 0; b < d.markers.length; b++) d.markers[b].infobox.close();
                        d.map.panTo(a.getPosition()), d.map.getZoom() <= 3 && d.map.setZoom(4), window.innerHeight <= 414 ? d.map.panBy(0, -130) : window.innerWidth <= 359 ? d.map.panBy(0, -235) : window.innerWidth <= 420 ? d.map.panBy(0, -250) : window.innerHeight < 900 ? d.map.panBy(0, -240) : d.map.panBy(0, -175);
                        var c = $(".dxnav-header"),
                            e = $(".ExperienceDrives__top-bar"),
                            f = $(".ExperienceDrives__map-container"),
                            g = 0,
                            h = $("#header");
                        e.height() + f.height() > window.innerHeight && (g = 80), c.length && (h = c.hasClass("dxnav-hasBreadcrumbs") ? $(".dxnav__breadcrumbs") : c);
                        var i = e.hasClass("block-header-nav") === !0 ? 0 : h.height(),
                            j = i - g;
                        site.utils.scrollToElement(e, {
                            adjustment: j
                        }), a.infobox.open(d.map, this)
                    }
                }(a))
            }
        }, {
            key: "createMarkersClusterer",
            value: function() {
                var a = [{
                        textColor: "white",
                        url: "/resources/public/images/ExperienceDriveMapAndLocator/m1.png",
                        backgroundPosition: "center",
                        height: 36,
                        width: 36
                    }, {
                        textColor: "white",
                        url: "/resources/public/images/ExperienceDriveMapAndLocator/m1.png",
                        backgroundPosition: "center",
                        height: 36,
                        width: 36
                    }, {
                        textColor: "white",
                        url: "/resources/public/images/ExperienceDriveMapAndLocator/m1.png",
                        backgroundPosition: "center",
                        height: 36,
                        width: 36
                    }],
                    b = {
                        imagePath: "/resources/public/images/ExperienceDriveMapAndLocator/m",
                        styles: a
                    };
                null !== this.clusterer && this.clusterer.clearMarkers(), this.clusterer = new MarkerClustererV3(this.map, this.markers, b);
                var c = !0,
                    d = !1,
                    e = void 0;
                try {
                    for (var f, g = this.markers[Symbol.iterator](); !(c = (f = g.next()).done); c = !0) {
                        var h = f.value;
                        h.visible || this.clusterer.removeMarker(h)
                    }
                } catch (i) {
                    d = !0, e = i
                } finally {
                    try {
                        !c && g["return"] && g["return"]()
                    } finally {
                        if (d) throw e
                    }
                }
            }
        }, {
            key: "filterMarkers",
            value: function(a) {
                var b = !0,
                    c = !0,
                    d = !1,
                    e = void 0;
                try {
                    for (var f, g = a[Symbol.iterator](); !(c = (f = g.next()).done); c = !0) {
                        var h = f.value;
                        "on" === h.filterState && (b = !1)
                    }
                } catch (i) {
                    d = !0, e = i
                } finally {
                    try {
                        !c && g["return"] && g["return"]()
                    } finally {
                        if (d) throw e
                    }
                }
                var j = !0,
                    k = !1,
                    l = void 0;
                try {
                    for (var m, n = this.markers[Symbol.iterator](); !(j = (m = n.next()).done); j = !0) {
                        var o = m.value,
                            p = !1,
                            q = !0,
                            r = !1,
                            s = void 0;
                        try {
                            for (var t, u = a[Symbol.iterator](); !(q = (t = u.next()).done); q = !0) {
                                var v = t.value,
                                    w = !0,
                                    x = !1,
                                    y = void 0;
                                try {
                                    for (var z, A = o.filter[Symbol.iterator](); !(w = (z = A.next()).done); w = !0) {
                                        var B = z.value;
                                        B === v.filterValue && "on" === v.filterState && (p = !0)
                                    }
                                } catch (i) {
                                    x = !0, y = i
                                } finally {
                                    try {
                                        !w && A["return"] && A["return"]()
                                    } finally {
                                        if (x) throw y
                                    }
                                }
                            }
                        } catch (i) {
                            r = !0, s = i
                        } finally {
                            try {
                                !q && u["return"] && u["return"]()
                            } finally {
                                if (r) throw s
                            }
                        }
                        b || p ? (o.setVisible(!0), this.clusterer.addMarker(o)) : (o.setVisible(!1), this.clusterer.removeMarker(o))
                    }
                } catch (i) {
                    k = !0, l = i
                } finally {
                    try {
                        !j && n["return"] && n["return"]()
                    } finally {
                        if (k) throw l
                    }
                }
                this.panToMarkers(), this.createMarkersClusterer()
            }
        }, {
            key: "drawRoute",
            value: function() {}
        }, {
            key: "getLocationCoordinates",
            value: function(a) {
                var b = this;
                return "object" === ("undefined" == typeof a ? "undefined" : _typeof(a)) ? "undefined" != typeof a.place_id ? this.getLocationCoordinates(a.place_id) : Promise.reject("Invalid parameter") : new Promise(function(c, d) {
                    b.services.places || (b.services.places = new google.maps.places.PlacesService(b.map)), b.services.places.getDetails({
                        placeId: a
                    }, function(a, b) {
                        "OK" === b ? c({
                            lat: a.geometry.location.lat(),
                            lng: a.geometry.location.lng()
                        }) : d(b, a)
                    })
                })
            }
        }, {
            key: "getSearchResults",
            value: function(a) {
                var b = this;
                return new Promise(function(c, d) {
                    b.services.autocomplete || (b.services.autocomplete = new google.maps.places.AutocompleteService), b.services.autocomplete.getPlacePredictions({
                        input: a,
                        types: ["(regions)"]
                    }, function(a, b) {
                        "OK" === b ? c(a.map(function(a) {
                            return {
                                description: a.description,
                                placeId: a.place_id
                            }
                        })) : d(b, a)
                    })
                })
            }
        }, {
            key: "goToLocation",
            value: function(a, b) {
                var c = new google.maps.LatLng(a, b),
                    d = this._findClosestMarkerFromLocation(c, 5),
                    e = new google.maps.LatLngBounds,
                    f = !0,
                    g = !1,
                    h = void 0;
                try {
                    for (var i, j = d[Symbol.iterator](); !(f = (i = j.next()).done); f = !0) {
                        var k = i.value;
                        e.extend(k.getPosition())
                    }
                } catch (l) {
                    g = !0, h = l
                } finally {
                    try {
                        !f && j["return"] && j["return"]()
                    } finally {
                        if (g) throw h
                    }
                }
                e.extend(c), this.map.fitBounds(e)
            }
        }, {
            key: "hide",
            value: function() {
                this.element.classList.add("hide")
            }
        }, {
            key: "initialiseMap",
            value: function() {
                var a = this;
                return this.mapInitPromise || (this.mapInitPromise = this.waitForScriptToLoad().then(function() {
                    a.map = new google.maps.Map(a.element, a.options), a.map.setOptions({
                        styles: site.utils.googleMapStyles
                    }), a.infoBox = window.loadInfoBox()
                })["catch"](function(a) {
                    console.log(a)
                })), this.mapInitPromise
            }
        }, {
            key: "centerOnLocation",
            value: function(a, b, c, d, e) {
                var f = this,
                    g = new google.maps.Geocoder;
                g.geocode({
                    address: a
                }, function(a) {
                    void 0 !== a[0].geometry && (f.userLocation = a[0].geometry.location, b.classList.remove("hide"), f.map.setCenter(a[0].geometry.location), f.map.fitBounds(a[0].geometry.viewport), f.goToLocation(a[0].geometry.location.lat(), a[0].geometry.location.lng()), c.show(), d.show(), setTimeout(function() {
                        e()
                    }, 2e3))
                })
            }
        }, {
            key: "panToMarkers",
            value: function() {
                var a = this,
                    b = new google.maps.LatLngBounds;
                this.userLocation || console.error("User Location is not set");
                var c = this.markers.filter(function(b) {
                        var c = b.getVisible();
                        return c === !0 && (b.distanceFromUser = google.maps.geometry.spherical.computeDistanceBetween(a.userLocation, b.position)), c
                    }),
                    d = !0,
                    e = !1,
                    f = void 0;
                try {
                    for (var g, h = c[Symbol.iterator](); !(d = (g = h.next()).done); d = !0) {
                        var i = g.value;
                        b.extend(i.position)
                    }
                } catch (j) {
                    e = !0, f = j
                } finally {
                    try {
                        !d && h["return"] && h["return"]()
                    } finally {
                        if (e) throw f
                    }
                }
                this.map.fitBounds(b), this.map.panToBounds(b), this.map.getZoom() > 10 && this.map.setZoom(10)
            }
        }, {
            key: "panToLocation",
            value: function(a, b, c) {
                b.geocode({
                    address: a
                }, function(a) {
                    c.panTo(a[0].geometry.location)
                })
            }
        }, {
            key: "show",
            value: function() {
                this.element.classList.remove("hide")
            }
        }, {
            key: "waitForScriptToLoad",
            value: function() {
                return this._loadGoogleMapsApiScript(), window.site.googleMapsLoadedPromise
            }
        }, {
            key: "zoom",
            value: function(a) {
                this.map.setZoom(this.map.zoom + a), this.closeAllInfoboxes()
            }
        }, {
            key: "_getOptionsFromAttributes",
            value: function() {
                var a = this,
                    b = ["key", "clientid", "controls", "doubleclickzoom", "libraries", "position", "scrollwheel", "type", "zoom"],
                    c = {};
                return b.forEach(function(b) {
                    null !== a.element && a.element.hasAttribute("data-" + b) && (c[b] = a.element.getAttribute("data-" + b))
                }), c
            }
        }, {
            key: "_objectToUri",
            value: function(a) {
                return Object.keys(a).map(function(b) {
                    return encodeURI(b) + "=" + encodeURI(a[b])
                }).join("&")
            }
        }, {
            key: "_loadGoogleMapsApiScript",
            value: function() {
                if (!(window.google && window.google.maps && window.google.maps.Map || null !== document.getElementById("GoogleMapsApiScript"))) {
                    var a = this.options,
                        b = a.key,
                        c = a.callback,
                        d = a.libraries,
                        e = this._objectToUri({
                            key: b,
                            callback: c,
                            libraries: d
                        }),
                        f = document.createElement("script");
                    f.src = "https://maps.googleapis.com/maps/api/js?" + e, f.type = "text/javascript", f.id = "GoogleMapsApiScript", f.onerror = site.gmapsLoadFailed, document.body.appendChild(f)
                }
            }
        }, {
            key: "_findClosestMarkerFromLocation",
            value: function(a, b) {
                var c = [],
                    d = !0,
                    e = !1,
                    f = void 0;
                try {
                    for (var g, h = this.markers[Symbol.iterator](); !(d = (g = h.next()).done); d = !0) {
                        var i = g.value;
                        i.getVisible() === !0 && (i.distance = google.maps.geometry.spherical.computeDistanceBetween(a, i.getPosition()), c.push(i))
                    }
                } catch (j) {
                    e = !0, f = j
                } finally {
                    try {
                        !d && h["return"] && h["return"]()
                    } finally {
                        if (e) throw f
                    }
                }
                return c.sort(function(a, b) {
                    return a.distance - b.distance
                }), c.splice(0, b)
            }
        }]), a
    }(),
    ExperienceDrivesKey = function() {
        function a(b) {
            _classCallCheck(this, a), this.element = b;
            var c = document.querySelector(".ExperienceDrives__key__list__item.your-location");
            return null !== c && (this.elements = {
                yourLocation: this.element.querySelector(".ExperienceDrives__key__list__item.your-location")
            }), {
                elements: this.elements,
                hide: this.hide.bind(this),
                hideYourLocation: this.hideYourLocation.bind(this),
                show: this.show.bind(this),
                showYourLocation: this.showYourLocation.bind(this)
            }
        }
        return _createClass(a, [{
            key: "hide",
            value: function() {
                this.element.classList.add("hide")
            }
        }, {
            key: "hideYourLocation",
            value: function() {
                this.elements.yourLocation.classList.add("hide")
            }
        }, {
            key: "show",
            value: function() {
                this.element.classList.remove("hide")
            }
        }, {
            key: "showYourLocation",
            value: function() {
                this.elements.yourLocation.classList.remove("hide")
            }
        }]), a
    }(),
    ExperienceDrivesSearch = function() {
        function a(b) {
            return _classCallCheck(this, a), this.element = b, this.elements = {
                error: this.element.querySelector(".ExperienceDrives__search__error-message"),
                form: this.element.querySelector(".ExperienceDrives__search__form"),
                loading: this.element.querySelector(".ExperienceDrives__search__loading-message"),
                input: this.element.querySelector(".ExperienceDrives__search__input"),
                submit: this.element.querySelector(".ExperienceDrives__search__submit")
            }, {
                elements: this.elements,
                disableSubmitButton: this.disableSubmitButton.bind(this),
                enableSubmitButton: this.enableSubmitButton.bind(this),
                hide: this.hide.bind(this),
                hideError: this.hideError.bind(this),
                hideForm: this.hideForm.bind(this),
                hideLoading: this.hideLoading.bind(this),
                show: this.show.bind(this),
                showError: this.showError.bind(this),
                showForm: this.showForm.bind(this),
                dumbSearch: this.dumbSearch.bind(this),
                showLoading: this.showLoading.bind(this)
            }
        }
        return _createClass(a, [{
            key: "disableSubmitButton",
            value: function() {
                this.elements.submit.setAttribute("disabled", "disabled")
            }
        }, {
            key: "enableSubmitButton",
            value: function() {
                this.elements.submit.removeAttribute("disabled")
            }
        }, {
            key: "dumbSearch",
            value: function() {
                var a = this;
                this.showForm(), this.hideLoading();
                var b = document.getElementsByClassName("ExperienceDrives__search")[0];
                b.classList.add("dumb___search");
                var c = b.getAttribute("data-target-map-url"),
                    d = document.getElementsByClassName("ExperienceDrives__search__submit")[0];
                d.addEventListener("click", function(b) {
                    b.preventDefault(), a.submitDumbSearch(c)
                }), b.addEventListener("submit", function(b) {
                    b.preventDefault(), a.submitDumbSearch(c)
                })
            }
        }, {
            key: "submitDumbSearch",
            value: function(a) {
                var b = document.getElementsByClassName("ExperienceDrives__search__input")[0];
                return 0 === b.value.trim().length ? void this.showError() : void(document.location = "" + document.location.origin + a + "?criteria=" + b.value)
            }
        }, {
            key: "hide",
            value: function() {
                this.element.classList.add("hide")
            }
        }, {
            key: "hideError",
            value: function() {
                this.elements.error.classList.add("hide")
            }
        }, {
            key: "hideForm",
            value: function() {
                this.elements.form.classList.add("hide")
            }
        }, {
            key: "hideLoading",
            value: function() {
                this.elements.loading.classList.add("hide")
            }
        }, {
            key: "show",
            value: function() {
                this.element.classList.remove("hide")
            }
        }, {
            key: "showError",
            value: function() {
                this.elements.error.classList.remove("hide")
            }
        }, {
            key: "showForm",
            value: function() {
                this.elements.form.classList.remove("hide")
            }
        }, {
            key: "showLoading",
            value: function() {
                this.elements.loading.classList.remove("hide")
            }
        }]), a
    }();
! function(a, b) {
    var c = {
        delay: 0,
        thankYou: "",
        campaignId: "",
        questions: [],
        dataPushed: !1,
        init: function() {
            this.delay = this.$element.data("show-delay"), this.thankYou = this.$element.data("thankyou"), this.campaignId = this.$element.data("campaignid"), this.questions = this.$element.data("questions"), this.widget = a(".FeedbackWidget__container", this.$element), this.questionsContainer = a(".FeedbackWidget__questions__container", this.$element), this.widgetOverlay = a(".FeedbackWidget__overlay", this.$element), this.widgetHeader = a(".FeedbackWidget__header", this.$element), this.ariaNotifications = a(".aria-live-notifications", this.$element), this.scrollPos = 0, this._hasUserAlreadyInteracted(), this._buildQuestion(this.questions[0]), this._initEvents(), a.easing.def = "easeOutCubic"
        },
        _initEvents: function() {
            var c = this,
                d = function() {
                    c.widgetHeader.off(), a(b).off("scroll.fw"), a(b).on("scroll.fw", function() {
                        a(b).scrollTop() + 200 < c.scrollPos && "small" !== site.utils.getBreakpointSize() && b.matchMedia("(min-width: 600px)").matches ? c.widget.hasClass("FeedbackWidget--opened") && 0 === c.widget.find(":focus").length && c._toggleTooltip() : a(b).scrollTop() > c.scrollPos && (c.scrollPos = a(b).scrollTop())
                    }), c.widgetHeader.on("blur, focusout", function() {
                        c.widget.hasClass("FeedbackWidget--opened") && c.widgetHeader.removeAttr("tabindex")
                    }), c.widgetHeader.on("click tap keydown", function(a) {
                        c.widget.hasClass("FeedbackWidget--opened") || ("keydown" !== a.type || 13 === a.keyCode || 32 === a.keyCode) && c._toggleTooltip()
                    })
                };
            a(".FeedbackWidget__header__close", this.$element).on("click tap", function(b) {
                a("body").off(".fw-body-focus"), c._hideWidget(), b.stopPropagation()
            }), d(), a(b).smartresize(function() {
                d(), c._setQuestionContainerHeight()
            })
        },
        _hideWidget: function() {
            var b = this;
            this.widget.removeClass("FeedbackWidget--opened FeedbackWidget--show"), this.widget.addClass("FeedbackWidget--closed"), site.utils.cookieManager.createCookie("fw_interacted", !0), this.widget.one("transitionend webkitTransitionEnd oTransitionEnd", function() {
                b.widget.css("display", "none")
            }), this.$element.off("touchmove.overlay"), this.widgetOverlay.css("display", "none"), a("html").removeClass("noScroll")
        },
        _toggleTooltip: function() {
            var c = this;
            if (this.widget.hasClass("FeedbackWidget--opened")) {
                var d = this.questionsContainer.outerHeight();
                this.widget.data("questionContainerHeight", d)
            }
            this.widget.toggleClass("FeedbackWidget--opened"), this.widget.toggleClass("FeedbackWidget--minimized"), this.widget.attr("aria-expanded", this.widget.hasClass("FeedbackWidget--opened")), this.widget.hasClass("FeedbackWidget--minimized") ? (this.widgetHeader.attr("role", "button"), this.widgetHeader.attr("tabindex", 0), this.questionsContainer.find(".question").css({
                opacity: 0
            }), this.questionsContainer.css({
                height: 0
            }), setTimeout(function() {
                c.questionsContainer.css({
                    visibility: "hidden"
                })
            }, 300)) : (this.scrollPos = a(b).scrollTop(), this.widgetHeader.removeAttr("role"), this.widgetHeader.removeAttr("tabindex"), "small" === site.utils.getBreakpointSize() && b.matchMedia("(max-width: 599px)").matches && this.widget.find(".FeedbackWidget__header__close").focus(), this.questionsContainer.css({
                visibility: "visible"
            }), this.questionsContainer.find(".question").css({
                opacity: 1
            }), this.questionsContainer.css("height", this.widget.data("questionContainerHeight")), a(b).trigger("resize")), this._setOverlay()
        },
        _setOverlay: function() {
            a(".FeedbackWidget--minimized").length || (this.widgetOverlay.css("display", "block"), a("html").addClass("small" === site.utils.getBreakpointSize() && b.matchMedia("(max-width: 599px)").matches ? "noScroll" : ""), this.$element.on("touchmove.overlay", function(a) {
                a.preventDefault()
            }))
        },
        _setQuestionContainerHeight: function() {
            var a = parseInt(this.questionsContainer.css("padding-top"), 10),
                c = parseInt(this.questionsContainer.css("padding-bottom"), 10);
            this.questionsContainer.find(".question__primary").length || (this.question = this.questionsContainer.find(".question"), this.question.css({
                width: this.widget.width() - (a + c)
            })), void 0 === this.widget.data("questionContainerHeight") && "small" === site.utils.getBreakpointSize() && b.matchMedia("(max-width: 599px)").matches && this.widget.data("questionContainerHeight", this.questionsContainer.find(".question").outerHeight() + 40), this.questionsContainer.css("height", this.questionsContainer.find(".question").outerHeight() + (a + c))
        },
        _animateQuestion: function(b) {
            var c = this;
            b.addClass("no-transition");
            var d = this.questionsContainer.css("padding-left");
            if (b.css({
                    display: "block",
                    opacity: 0
                }).animate({
                    opacity: 1,
                    left: d
                }, {
                    complete: function() {
                        c.questionsContainer.find("label").css("pointer-events", "all")
                    }
                }, 500), site.utils.isMobileDevice()) {
                var e = this.questionsContainer.find(".question__header");
                e.focus(), e.one("blur", function() {
                    e.css("outline", "initial")
                }), a(":focus").css("outline", "none")
            }
        },
        _preventBodyFocus: function(b) {
            var c = this;
            b ? a("body").on("focusin.fw-body-focus focus.fw-body-focus blur.fw-body-focus", function(b) {
                0 === a(document.activeElement).closest(".fw__container").length && (b.preventDefault(), c.widget.find(".FeedbackWidget__header__close").focus())
            }) : a("body").off(".fw-body-focus")
        },
        _buildQuestion: function(b) {
            var c = this,
                d = void 0,
                e = void 0,
                f = void 0,
                g = void 0;
            if (this.questionsContainer.empty(), null === b) return this.questionsContainer.attr("question-type", "thank-you"), g = a(".question__templates .thank-you-message", this.$element).clone().appendTo(".FeedbackWidget__questions__container"), g.find(".question__header").html(this.thankYou), this._setAriaNotifications(this.thankYou), this._setQuestionContainerHeight(), this._animateQuestion(g), void setTimeout(function() {
                c._hideWidget()
            }, 6e3);
            switch (b.answerFormat) {
                case "primary":
                    var h = {};
                    a(".FeedbackWidget__privacy-policy a").addClass("lastFocus"), this.questionsContainer.attr("question-type", "primary"), g = a(".question__templates .question__primary", this.$element).clone().appendTo(".FeedbackWidget__questions__container");
                    var i = g.find(".question__button--yes"),
                        j = g.find(".question__button--no");
                    g.find(".question__header").text(b.feedbackQuestion), h.eventLabel = b.feedbackQuestion, i.text(b.answers[0].answerOption), j.text(b.answers[1].answerOption), i.data("followOn", b.answers[0].followOn), j.data("followOn", b.answers[1].followOn), i.on("click tap", function() {
                        h.eventAction = b.answers[0].answerOption, c._pushToGoogleAnalytics(h), c._buildQuestion(i.data("followOn"))
                    }), j.on("click tap", function() {
                        h.eventAction = b.answers[1].answerOption, c._pushToGoogleAnalytics(h), c._buildQuestion(j.data("followOn"))
                    }), this._setQuestionContainerHeight();
                    break;
                case "single":
                    var k = {};
                    this.questionsContainer.attr("question-type", "single"), g = a(".question__templates .question__single", this.$element).clone().appendTo(".FeedbackWidget__questions__container"), g.find(".question__header").text(b.feedbackQuestion), k.eventLabel = b.feedbackQuestion, this._setAriaNotifications(b.feedbackQuestion), e = g.find("label"), e.css("pointer-events", "none"), g.find("label").remove(), b.answers.map(function(a, b) {
                        var c = e.clone().appendTo(".FeedbackWidget__questions__container .question__container");
                        return c.data("followOn", a.followOn), c.find("input").val(a.answerOption), c.find(".radio__label").text(a.answerOption).attr("id", "fw-rd" + b), c.on("keypress", function(a) {
                            if (13 === a.keyCode || 32 === a.keyCode) {
                                a.preventDefault();
                                var b = c.find("input");
                                b.prop("checked", !b.prop("checked")).trigger("change"), c.attr("aria-checked", b.prop("checked"))
                            }
                        }), !0
                    }), d = a(".FeedbackWidget__questions__container .question__container input", this.$element), d.on("change", function(b) {
                        d.each(function(b, d) {
                            a(d).attr("aria-checked", a(d).prop("checked")), a(d).prop("checked") === !0 && (k.eventAction = a(d).parent().find(".radio__label").text(), c._pushToGoogleAnalytics(k))
                        }), c._buildQuestion(a(b.currentTarget).parent().data("followOn"))
                    }), g.css({
                        display: "none",
                        opacity: 0,
                        left: 60
                    }), this._setQuestionContainerHeight(), setTimeout(function() {
                        c._animateQuestion(g)
                    }, 250);
                    break;
                case "multiple":
                    var l = {};
                    this.questionsContainer.attr("question-type", "multiple"), g = a(".question__templates .question__multiple", this.$element).clone().appendTo(".FeedbackWidget__questions__container"), g.find(".question__header").text(b.feedbackQuestion), l.eventLabel = b.feedbackQuestion, this._setAriaNotifications(b.feedbackQuestion), e = g.find("label"), e.css("pointer-events", "none"), g.find("label").remove(), b.answers.map(function(a, b) {
                        var c = e.clone().appendTo(".FeedbackWidget__questions__container .question__container");
                        return c.data("followOn", a.followOn), c.find("input").val(a.answerOption), c.find(".checkbox__label").text(a.answerOption).attr("id", "fw-cb" + b), c.on("keypress", function(a) {
                            if (13 === a.keyCode || 32 === a.keyCode) {
                                a.preventDefault();
                                var b = c.find("input");
                                b.prop("checked", !b.prop("checked")).trigger("change"), c.attr("aria-checked", b.prop("checked"))
                            }
                        }), !0
                    }), d = a(".FeedbackWidget__questions__container .question__container input", this.$element), f = a(".FeedbackWidget__questions__container .question .submit-feedback", this.$element), f.addClass("disabled");
                    var m = void 0;
                    d.on("change", function() {
                        m = [], f.addClass("disabled"), d.each(function(b, c) {
                            a(c).attr("aria-checked", a(c).prop("checked")), a(c).prop("checked") === !0 && (m.push(a(c).parent().find(".checkbox__label").text()), f.removeClass("disabled"))
                        })
                    }), f.on("click tap", function(a) {
                        a.preventDefault(), f.hasClass("disabled") || (l.eventAction = m.toString(), c._pushToGoogleAnalytics(l), c._buildQuestion(null))
                    }), g.css({
                        opacity: 0,
                        left: 60
                    }), this._setQuestionContainerHeight(), setTimeout(function() {
                        c._animateQuestion(g)
                    }, 250)
            }
        },
        _setAriaNotifications: function(a) {
            var b = /<!--.*?-->/g,
                c = a.replace(b, "");
            this.ariaNotifications.text(c)
        },
        _pushToGoogleAnalytics: function(a) {
            var b = {
                    event: "pushedEvent",
                    campaignId: this.campaignId,
                    eventCategory: "feedback submitted"
                },
                c = Object.assign(a, b);
            dataLayer.push(c)
        },
        _hasUserAlreadyInteracted: function() {
            var a = this;
            site.utils.cookieManager.checkForCookie("fw_interacted") || setTimeout(function() {
                a._show()
            }, 1e3 * this.delay)
        },
        _show: function() {
            this.$element.css("display", "block"), this.widget.addClass("FeedbackWidget--show"), "small" !== site.utils.getBreakpointSize() && b.matchMedia("(min-width: 600px)").matches ? (this.widgetHeader.removeAttr("tabindex"), this.widget.addClass("FeedbackWidget--opened")) : this._setMinimized(), this._toggleWidgetFocusTrap(!0)
        },
        _setMinimized: function() {
            var a = this;
            this.widget.addClass("FeedbackWidget--minimized"), this.widgetHeader.attr("role", "button"), this.widgetHeader.attr("tabindex", 0), this.widget.attr("aria-expanded", "false"), setTimeout(function() {
                a.questionsContainer.css({
                    visibility: "hidden"
                })
            }, 300)
        },
        _matchMedia: function(a) {
            return b.matchMedia(a)
        },
        _toggleWidgetFocusTrap: function(c) {
            var d = this,
                e = void 0;
            c ? (this.widget.on("focus.fw blur.fw", function(c) {
                e = a(document.activeElement), "small" === site.utils.getBreakpointSize() && b.matchMedia("(max-width: 599px)").matches && 0 === e.closest(".FeedbackWidget__container").length && (c.preventDefault(), d.widget.find(".FeedbackWidget__header__close").focus())
            }), this.widget.on("keydown.fw tap.fw", function(c) {
                d.widget.hasClass("FeedbackWidget--minimized") || (e = a(document.activeElement), c.shiftKey && "Tab" === c.key && e.hasClass("FeedbackWidget__header__close") && (!d.questionsContainer.find(".question__primary").length || "small" === site.utils.getBreakpointSize() && b.matchMedia("(max-width: 599px)").matches) && (c.preventDefault(), d.widget.find(".lastFocus:visible").focus()), "Tab" !== c.key || c.shiftKey || e.hasClass("lastFocus") && (d.questionsContainer.find(".question__primary").length && "small" !== site.utils.getBreakpointSize() && b.matchMedia("(min-width: 600px)").matches ? d._preventBodyFocus(!1) : (c.preventDefault(), d.widget.find(".FeedbackWidget__header__close").focus())))
            })) : this.widget.off(".fw")
        }
    };
    jQuery.createComponent("FeedbackWidget", c)
}(jQuery, window, document),
function(a) {
    var b = {
        init: function() {
            var b = this,
                c = a("body"),
                d = site.utils.aria.KeyCode;
            c.on("keydown", function(a) {
                (a.keyCode === d.TAB || a.keyCode === d.ESC || a.keyCode === d.LEFT || a.keyCode === d.UP || a.keyCode === d.RIGHT || a.keyCode === d.DOWN) && b.addFocusClass()
            }), c.on("mouseup mousedown", function() {
                return b.removeFocusClass()
            })
        },
        addFocusClass: function() {
            a("body").addClass("focusStylesOn")
        },
        removeFocusClass: function() {
            a("body").removeClass("focusStylesOn")
        }
    };
    jQuery.createComponent("FocusSwitcher", b)
}(jQuery),
function(a, b, c, d) {
    var e = {
        _defaults: {},
        uiSelectors: {
            frameSliderItems: ".frameSliderItem"
        },
        _frameSliderItemDefaults: {
            $element: !1,
            $spriteSpinElement: !1,
            spriteSpinApi: !1,
            spriteSpinData: !1,
            dragControl: !1,
            frameCount: 0,
            framesSource: [],
            frameState: {
                position: 0,
                direction: "forward"
            }
        },
        multiSliderThreshold: 34,
        currentState: "desktop",
        touchState: "touch",
        sliderElementRef: ".sliderControls",
        sliderProgressRef: ".sliderProgress",
        slider: !1,
        desktopFramesRef: ".desktopSliderFrame",
        mobileFramesRef: ".mobileSliderFrame",
        spritespinFramesRef: ".spritespin-instance",
        spriteContainerContextRef: ".spriteContainerContext",
        spriteSpinApi: {},
        spriteSpinData: {},
        $spriteContainer: a(".spriteContainer", this.$element),
        $markerElement: a(".sliderMarker", this.$element),
        $markerContainer: a(".sliderMarkers", this.$element),
        $sliderTitles: a(".sliderTitle", this.$element),
        init: function() {
            var a = this;
            a.$element.offset();
            this.activeframeSliderItem = {}, this.activatedFrameSliderItems = [], this._setCurrentState(), this._setTouchState(), this._configSpriteSpin(), this._initframeSliderItem(this.ui("frameSliderItems").first()), this.$element.data("total") > 1 ? this._initRoyalSlider() : b.richsponsiveImage(), this._initEvents()
        },
        init_rtl: function() {
            this._frameSliderItemDefaults.frameState.direction = "backward"
        },
        _initframeSliderItem: function(b) {
            var c = this;
            this.activeframeSliderItem = !1;
            var d = this.ui("frameSliderItems").index(b);
            if (d in this.activatedFrameSliderItems) {
                this.activeframeSliderItem = this.activatedFrameSliderItems[d];
                var e = this.activeframeSliderItem.dragControl.getValue(),
                    f = this.activeframeSliderItem.frameCount > this.multiSliderThreshold ? 2 : 1;
                e[0] >= .75 ? f = 3 : e[0] <= .25 && (f = 1), this.activeframeSliderItem.dragControl.setStep(f, 1, !0)
            } else this.activeframeSliderItem = a.extend(!0, {}, c._frameSliderItemDefaults), this.activeframeSliderItem.$element = b, this.activatedFrameSliderItems[d] = this.activeframeSliderItem, this._initSpriteSpin(), this._initDragDealer(), this._initBackgroundOverlay(c.activeframeSliderItem);
            a(".headingLinear", b).Headings("linearLines"), this.activeframeSliderItem.$element.addClass("active")
        },
        _uninitframeSliderItem: function(a) {
            this.activeframeSliderItem.$element.removeClass("backgroundOverlayActive"), clearTimeout(this.activeframeSliderItem.dragControl.activePauseTimout)
        },
        _configSpriteSpin: function() {
            this._checkIndexOf(), SpriteSpin.mods.noBehavior || SpriteSpin.registerModule("noBehavior", {})
        },
        _initSpriteSpin: function() {
            var b = this,
                c = 0;
            this._getFramesData(), site.rtl && (c = this.activeframeSliderItem.frameCount, this.activeframeSliderItem.frameState.position = this.activeframeSliderItemframeCount), this.activeframeSliderItem.$spriteSpinElement.spritespin({
                source: b.activeframeSliderItem.framesSource,
                frame: c,
                width: a(this.spriteContainerContextRef, b.activeframeSliderItem.$element).width(),
                height: a(this.spriteContainerContextRef, b.activeframeSliderItem.$element).height(),
                animate: !1,
                frameTime: 40,
                behavior: "noBehavior",
                renderer: "touch" !== b.touchState || site.utils.isWindowsPhone() ? "canvas" : "image",
                preloadCount: b.activeframeSliderItem.frameCount,
                onLoad: function() {
                    b.activeframeSliderItem.$element.addClass("frames-loaded")
                }
            }), this.activeframeSliderItem.spriteSpinApi = this.activeframeSliderItem.$spriteSpinElement.spritespin("api"), this.activeframeSliderItem.spriteSpinData = this.activeframeSliderItem.$spriteSpinElement.data("spritespin")
        },
        _initDragDealer: function() {
            var c = this,
                d = 0,
                e = a(this.sliderElementRef, this.activeframeSliderItem.$element).get(0),
                f = a(this.sliderProgressRef, this.activeframeSliderItem.$element);
            site.rtl && (d = 1);
            var g = new b.Dragdealer(e, {
                steps: c.activeframeSliderItem.frameCount > c.multiSliderThreshold ? 3 : 2,
                x: d,
                dragStartCallback: function(b, d) {
                    a(this.handle).addClass("active"), c.activeframeSliderItem.$element.trigger("backgroundOverlay.on")
                },
                dragStopCallback: function(b, c) {
                    a(this.handle).removeClass("active")
                },
                animationCallback: function(a, b) {
                    var d = Math.ceil(c.activeframeSliderItem.frameCount * a);
                    c.activeframeSliderItem.$element.hasClass("frames-loaded") !== !1 && (c.activeframeSliderItem.spriteSpinApi.updateFrame(d), c.activeframeSliderItem.frameState.position = d, c._titleDisplay(d), site.rtl ? f.width(100 - 100 * a + "%") : f.width(100 * a + "%"))
                }
            });
            a(e).on("mousedown touchstart pointerdown MSPointerDown", function(a) {
                a.stopPropagation()
            }), this.activeframeSliderItem.dragControl = g
        },
        _initBackgroundOverlay: function(b) {
            var c = this,
                d = b.$element,
                e = a(c.sliderElementRef, d);
            d.hasClass("backgroundOverlay") && (d.prepend(a('<div class="backgroundOverlayElement"/>')), e.on("mouseenter touchstart", function() {
                d.trigger("backgroundOverlay.on")
            }), d.on("backgroundOverlay.on", function(a) {
                c._backgroundOverlayToggle(a)
            }), d.on("backgroundOverlay.off", function(a) {
                c._backgroundOverlayToggle(a)
            }))
        },
        _backgroundOverlayToggle: function(b) {
            var c = this,
                d = a(b.target),
                e = "on" === b.namespace,
                f = "backgroundOverlayActive";
            e ? (d.addClass(f), c._backgroundOverlayScroll.add(d)) : (d.removeClass(f), c._backgroundOverlayScroll.remove(d))
        },
        _backgroundOverlayScroll: {
            $element: null,
            elementHeight: 0,
            added: !1,
            add: function(c) {
                var d = this;
                d.added || (d.$element = c, d.elementHeight = c.height(), a(b).on("throttledScroll", a.proxy(d.check, this)), d.added = !0)
            },
            remove: function() {
                var c = this;
                a(b).off("throttledScroll", c.check), c.added = !1
            },
            check: function(c) {
                var d = this,
                    e = d.$element,
                    f = d.elementHeight,
                    g = e.offset(),
                    h = a(b).scrollTop(),
                    i = a(".SubNavigation").height() + a(".headerWrapper").height(),
                    j = h + a(b).height() <= g.top,
                    k = h + i >= f + g.top;
                (j || k) && e.trigger("backgroundOverlay.off")
            }
        },
        _initEvents: function() {
            var c = this;
            a(b).smartresize(function() {
                c._sliderResize(c)
            })
        },
        _initRoyalSlider: function() {
            var c = this,
                d = a(".royalSlider", this.$element).royalSlider({
                    arrowsNav: !0,
                    loop: !0,
                    keyboardNavEnabled: !1,
                    controlsInside: !1,
                    imageScaleMode: "none",
                    arrowsNavAutoHide: !1,
                    autoHeight: !0,
                    autoScaleSlider: !0,
                    autoScaleSliderWidth: 0,
                    autoScaleSliderHeight: 0,
                    slidesSpacing: 0,
                    imgWidth: "100%",
                    imgHeight: "100%",
                    sliderDrag: !0,
                    controlNavigation: "none",
                    thumbsFitInViewport: !1,
                    navigateByClick: !1,
                    autoPlay: {
                        enabled: !1
                    },
                    numImagesToPreload: 1,
                    transitionType: "move"
                });
            d = a(".royalSlider", this.$element).data("royalSlider"), d.ev.on("rsBeforeAnimStart", function() {
                c._uninitframeSliderItem(a(this.currSlide.content))
            }), d.ev.on("rsAfterSlideChange", function() {
                c._initframeSliderItem(a(this.currSlide.content)), b.richsponsiveImage(), c._sliderResize(c)
            }), b.richsponsiveImage()
        },
        _sliderResize: function(b) {
            var c, d = a(b.spritespinFramesRef, b.activeframeSliderItem.$element);
            if (b._setCurrentState(), c = b._getTargetFrames(), d.get(0) !== c.get(0)) d.spritespin("destroy").empty().removeClass(b.spritespinFramesRef.replace(".", "")), b._initSpriteSpin();
            else {
                var e = a(this.spriteContainerContextRef, b.activeframeSliderItem.$element).width(),
                    f = c.width();
                e !== f && c.spritespin({
                    width: e,
                    height: a(this.spriteContainerContextRef, b.activeframeSliderItem.$element).height()
                })
            }
        },
        _setCurrentState: function() {
            this.currentState = a(b).width() > 740 ? "desktop" : "mobile"
        },
        _setTouchState: function() {
            this.touchState = a("html").hasClass("touchCapability") ? "touch" : "notouch"
        },
        _titleDisplay: function(a) {
            var b = this.activeframeSliderItem.frameCount,
                c = Math.round(b / 8),
                d = "x";
            1 * c >= a ? d = 0 : a >= 3 * c && 5 * c > a ? d = 1 : a >= 7 * c && (d = 2), this._showtitle(d)
        },
        _showtitle: function(a) {
            this.activeframeSliderItem.$element.find(this.$sliderTitles).not('[data-item-position="' + a + '"]').removeClass("current"), this.activeframeSliderItem.$element.find(this.$sliderTitles).filter('[data-item-position="' + a + '"]').addClass("current")
        },
        _getFramesData: function() {
            this.activeframeSliderItem.$spriteSpinElement = this._getTargetFrames(), this.activeframeSliderItem.framesSource = this.activeframeSliderItem.$spriteSpinElement.data("frames"), this.activeframeSliderItem.frameCount = this.activeframeSliderItem.framesSource.length - 1
        },
        _getTargetFrames: function() {
            return "mobile" === this.currentState ? a(this.mobileFramesRef, this.activeframeSliderItem.$element) : a(this.desktopFramesRef, this.activeframeSliderItem.$element)
        },
        _checkIndexOf: function() {
            Array.prototype.indexOf || (Array.prototype.indexOf = function(a) {
                var b = this.length >>> 0,
                    c = Number(arguments[1]) || 0;
                for (c = 0 > c ? Math.ceil(c) : Math.floor(c), 0 > c && (c += b); b > c; c++)
                    if (c in this && this[c] === a) return c;
                return -1
            })
        },
        _isDeviceLandscape: function() {
            return "undefined" != typeof b.matchMedia && b.matchMedia("(orientation: landscape)").matches
        },
        _destroy: function() {}
    };
    jQuery.createComponent("FrameSlider", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {},
        init: function() {
            var b = a(".autoIframe", this.$element),
                c = b.attr("data-src");
            b.attr("src", c), site.utils.isIOS() || b.iframeHeight({
                uuid: this.$element.attr("id")
            })
        }
    };
    jQuery.createComponent("FramedContent", e)
}(jQuery, window, document),
function(a) {
    var b = {
        _defaults: {},
        uiSelectors: {
            form: "#formDiv"
        },
        jqueryMigrate: "/resources/public/js/libs/jquery-migrate-1.2.1.js",
        init: function() {
            this.dataMode = "manual" === this.ui("form").data("mode"), this.loadJqueryMigrate()
        },
        loadJqueryMigrate: function() {
            a.getScript(this.jqueryMigrate).done(this.loadAvoka.bind(this))
        },
        loadAvoka: function() {
            a.getScript(this.ui("form").data("src")).done(this.initAvoka.bind(this))
        },
        initAvoka: function() {
            var a = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this.dataMode;
            if (a !== !0) {
                var b = this.ui("form").attr("id") || null,
                    c = this.ui("form").data("code") || null,
                    d = this.ui("form").data("attribute") || null;
                Avoka.SmartForm.WebPlugin.showEmbeddedForm({
                    id: b,
                    formCode: c,
                    prefillData: d
                })
            }
        }
    };
    jQuery.createComponent("FramedForm", b)
}(jQuery),
function(a, b, c, d) {
    var e = {
        _context: null,
        _canvas: null,
        _video: null,
        _dragger: null,
        _progressBar: null,
        _dragElement: null,
        _endHandleEl: null,
        _handleEl: null,
        _endHandleInner: null,
        _handleOuter: null,
        _infoSlides: null,
        _dragDealer: !1,
        _imageWidth: 1920,
        _imageHeight: 1080,
        _videoInitialised: !1,
        _videoPlaying: !1,
        _currentInteraction: !1,
        _videoExtension: null,
        _rotations: {
            Up: "bottom-to-top",
            Down: "top-to-bottom",
            Right: "left-to-right",
            Left: "right-to-left"
        },
        _resizeTimeout: !1,
        _element: {
            offsetX: 0,
            offsetY: 0,
            width: 0,
            height: 0
        },
        _assetLoader: {
            isLoading: !1,
            assetsLoaded: 0,
            assetsToLoad: 0,
            downloadsStarted: 0
        },
        _endHandle: {
            left: 0,
            centre: 0,
            centreDifference: 0,
            transforms: {
                scale: 1.14
            }
        },
        _handle: {
            position: 0,
            centre: 0,
            right: 0,
            height: 0,
            width: 0,
            draggerHeight: 0,
            draggerWidth: 0
        },
        _isFlyThrough: !1,
        interactions: !1,
        _currentWidth: 0,
        _currentHeight: 0,
        _videoSpeed: 1,
        _isInsideTabbedContainer: !1,
        _uniqId: null,
        _componentInitialized: !1,
        _cleanup: function() {
            a(".no-click", this._videoContainer).remove(), a("video", this._videoContainer).remove(), a(".dragdealer", this._videoContainer).remove(), a("canvas", this._videoContainer).remove(), a(".data-slides", this.$element).removeClass("gone")
        },
        _checkIfInsideTabbedContainer: function() {
            this._isInsideTabbedContainer = !!this.$element.parents(".TabbedContainer").not('[data-total="1"]').length, this._isInsideTabbedContainer && (this._tabbedContainer = this.$element.parents(".TabbedContainer"), a(".GesturedVideoSequence", this.$element).addClass("insideTabs")), this._checkTouch()
        },
        _checkTouch: function() {
            a("html").hasClass("touchCapability") && (this._isInsideTabbedContainer ? a(".GesturedVideoSequence", this.$element).addClass("touch") : this.$element.addClass("touch"))
        },
        _getInteractions: function() {
            this.interactions = [], a(".interaction-item", this.$element).each(function(b, c) {
                this.interactions.push(a(c).data("interaction"))
            }.bind(this))
        },
        init: function() {
            this._uniqId = Math.floor(100 * Math.random()), this._checkIfInsideTabbedContainer(), this._getFullscreenFunctionName(), this._getInteractions(), this._setImageSize(), this._getElements(), this._isInsideTabbedContainer && this._cleanup(), this._noClick = this._appendElement("div", "no-click", this._videoContainer), this._setElementSize(), this._getVideoExtension(), this._createVideo(), this._bindVideoEvents(), this._isFlyThrough || this._createCanvas(), a(".canvas", this.$element).css({
                opacity: 0
            }), this._clickToInteractOverlay = a(".click-to-interact-overlay", this.$element), site.utils.isBreakpointSmall() && this._clickToInteractOverlay.height(.5625 * a(b).width()), this._clickToInteract = a(".click-to-interact", this.$element), this._clickToInteract.click(function() {
                this._clickToInteract.hide(), this._loadingOverlay(), this._rId = b.requestAnimationFrame(this._drawLoader.bind(this)), this._delayedInit()
            }.bind(this)), a(b).on("resize.gesturedvideo-" + this._uniqId, this._onResize.bind(this)), this._setInitialState()
        },
        _setInitialState: function() {
            this._calculatePositions(), this._setVideoCss(), this._infoSlides.hide(), a(this._infoSlides[0]).show(), this.interactions[0].images[this._imageSize].length ? this._loadImage(this.interactions[0].images[this._imageSize][0]) : this._isFlyThrough ? this._videoEl.poster = this.interactions[0].video + "-poster.jpg" : (this._videoEl.poster = this.interactions[0].poster ? this.interactions[0].poster : "", site.utils.isIOS() && a("<div />", {
                "class": "fake-poster",
                css: {
                    "background-image": "url(" + this._videoEl.poster + ")"
                }
            }).appendTo(this._videoContainer)), site.utils.isBreakpointSmall() ? this._clickToInteract.css({
                top: .5625 * this.$element.width() / 2 - this._clickToInteract.height() / 2,
                left: this.$element.width() / 2 - this._clickToInteract.width() / 2
            }) : (this._clickToInteract.css({
                left: this._infoSlidesContainer.offset().left + this._infoSlidesContainer.width() + ((this.$element.width() - (this._infoSlidesContainer.offset().left + this._infoSlidesContainer.width())) / 2 - this._clickToInteract.width() / 2)
            }), this._centerInfoSlide())
        },
        _delayedInit: function() {
            this._currentInteraction = 0, this._setVideo(), this._loadFiles(), this._isFlyThrough || this._loadImage(this.interactions[this._currentInteraction].images[this._imageSize][0], !0), this._dragDealer && this._dragDealer.reflow(), this._isFlyThrough && this._setupPrevNext(), this._checkMobileTablet(), this._setupInfoSlides()
        },
        _loadingOverlay: function() {
            this._overlay = a("<div class='loadingOverlay'/>"), this._overlay.appendTo(this.$element), this._loadingCanvas = c.createElement("canvas"), this._loadingCtx = this._loadingCanvas.getContext("2d"), this._loadingCtx.mozImageSmoothingEnabled = this._imageSmoothing, this._loadingCtx.webkitImageSmoothingEnabled = this._imageSmoothing, this._loadingCtx.msImageSmoothingEnabled = this._imageSmoothing, this._loadingCtx.imageSmoothingEnabled = this._imageSmoothing, this._loadingCanvas.width = 100, this._loadingCanvas.height = 100, a(this._loadingCanvas).addClass("loading-canvas").appendTo(this._overlay), site.utils.isBreakpointSmall() || a(this._loadingCanvas).css({
                left: this._infoSlidesContainer.offset().left + this._infoSlidesContainer.width() + ((this.$element.width() - (this._infoSlidesContainer.offset().left + this._infoSlidesContainer.width())) / 2 - a(this._loadingCanvas).width() / 2)
            }), this._loader = new Loader(this._loadingCtx, this._loadingCanvas, 50, 50, 44, "#fff", 30, !1, "fadeOut", 1, this, this._spinnerComplete)
        },
        _drawLoader: function() {
            this._rId && this._loadingCtx.clearRect(0, 0, this._loadingCanvas.width, this._loadingCanvas.height), this._loader && this._loader.draw(), this._rId && (this._rId = b.requestAnimationFrame(this._drawLoader.bind(this)))
        },
        _fadeLoader: function() {
            this._removeLoader(), this._isFlyThrough || (this._setupDrag(), this.interactions[0].images[this._imageSize].length && (this._positionInitialDrag(), this._createDrag(), this._getEndHandleCoords(), this._positionDragdealer())), this.interactions[0].images[this._imageSize].length && setTimeout(function() {
                this._handleEl.css({
                    opacity: 1
                }), this._handleClone.remove()
            }.bind(this), 1e3)
        },
        _removeLoader: function(b) {
            site.utils.isIOS() && this._videoContainer.find(".fake-poster").hide(), this._clickToInteractOverlay.transition({
                opacity: 0
            }, 500, function() {
                this._clickToInteractOverlay.hide()
            }.bind(this)), a(this._loadingCanvas).transition({
                opacity: 0
            }, 1e3, function() {
                a(this._overlay).remove(), this._componentInitialized = !0
            }.bind(this))
        },
        _spinnerComplete: function() {
            this._rId = null, setTimeout(function() {
                this._loader = null, this._fadeLoader()
            }.bind(this), 250)
        },
        _onResize: function() {
            clearTimeout(this._resizeTimeout), this._resizeTimeout = setTimeout(function() {
                this._currentWidth !== b.innerWidth && (this._setElementSize(), this._calculatePositions(), this._clickToInteractOverlay && (site.utils.isBreakpointSmall() ? this._clickToInteractOverlay.height(.5625 * a(b).width()) : this._clickToInteractOverlay.height("")), this._isFlyThrough || this._loadImage(this.interactions[this._currentInteraction || 0].images[this._imageSize][0], !0), this._dragDealer && (this._dragDealer.reflow(), this._getEndHandleCoords()), this._dragger && this._positionNoClick(), site.utils.isBreakpointSmall() ? (this._clickToInteract.css({
                    left: ""
                }), this._clickToInteract.css({
                    left: (this.$element.width() - this._clickToInteract.width()) / 2,
                    top: .5625 * this.$element.width() / 2 - this._clickToInteract.height() / 2
                })) : this._clickToInteract.css({
                    left: this._infoSlidesContainer.offset().left + this._infoSlidesContainer.width() + ((this.$element.width() - (this._infoSlidesContainer.offset().left + this._infoSlidesContainer.width())) / 2 - this._clickToInteract.width() / 2),
                    top: ""
                }), this._setVideoCss(), this._centerInfoSlide(), this._positionDragdealer())
            }.bind(this), 500)
        },
        _positionDragdealer: function() {
            if (this._dragger) {
                var a = this._infoSlidesContainer.offset().left + this._infoSlidesContainer.width() + ((this.$element.width() - (this._infoSlidesContainer.offset().left + this._infoSlidesContainer.width())) / 2 - this._dragger.width() / 2);
                site.utils.isBreakpointSmall() ? this._dragger.css({
                    left: ""
                }) : this._dragger.css({
                    left: a
                }), this._positionNoClick(), this._videoPlaying || this._dragger.css({
                    opacity: 1
                })
            }
        },
        _setImageSize: function() {
            this._imageSize = "desktop", b.innerWidth < 600 && (this._imageSize = "mobile")
        },
        _getFullscreenFunctionName: function() {
            var a = c.createElement("video");
            a.exitFullscreen ? this._exitFullscreenFunc = "exitFullscreen" : a.msExitFullscreen ? this._exitFullscreenFunc = "msExitFullscreen" : a.mozCancelFullScreen ? this._exitFullscreenFunc = "mozCancelFullScreen" : a.webkitExitFullscreen ? this._exitFullscreenFunc = "webkitExitFullscreen" : this._exitFullscreenFunc = !1
        },
        _setElementSize: function() {
            var c;
            c = site.utils.isBreakpointSmall() ? Math.floor(9 / (16 / a(b).width())) : site.stickyNavigationEnabled ? a(b).height() - site.utils.getStickyNavHeight(this.$element.offset().top) : a(b).height() - a("#header").height(), this._videoContainer.height(Math.round(c))
        },
        _checkMobileTablet: function() {
            !site.utils.isIOS() && "undefined" == typeof site.utils.getAndroidVersion() || this._videoInitialised || this._videoFirst ? this._videoInitialised = !0 : (this._videoInitialised = !1, this._videoEl.play(), this._videoEl.pause(), this._videoEl.currentTime = 0, this._dragger && (this._handleEl.on("touchstart", this._addHoverClass.bind(this)), this._handleEl.on("touchend", this._removeHoverClass.bind(this))))
        },
        _addHoverClass: function() {
            this._handleEl.addClass("hovered")
        },
        _removeHoverClass: function() {
            this._handleEl.removeClass("hovered")
        },
        _setupInfoSlides: function() {
            this._isFlyThrough || this._infoSlidesContainer.addClass("noPagination"), this._updateInfoSlide()
        },
        _centerInfoSlide: function() {
            var a = (this._videoContainer.height() - this._infoSlidesContainer.outerHeight()) / 2;
            this._infoSlidesContainer.css({
                top: a
            })
        },
        _setupPrevNext: function() {
            this._isFlyThrough && (this._nextButton.on("click", function(a) {
                a.preventDefault(), this._nextButton.hasClass("inactive") || this._videoEl.play()
            }.bind(this)), this._prevButton.on("click", function(a) {
                a.preventDefault(), this._prevButton.hasClass("inactive") || this._reverseVideoEl.play()
            }.bind(this)), this._prevButton.addClass("inactive"))
        },
        _initFlyThrough: function() {
            a(".dragdealer", this.$element).remove()
        },
        _getAsset: function() {
            var a = new XMLHttpRequest,
                b = this.interactions[this._currentInteraction].images[this._imageSize][this._assetLoader.downloadsStarted];
            a.addEventListener("load", function(a) {
                this._assetLoader.assetsLoaded++, this._assetLoader.assetsLoaded === this._assetLoader.assetsToLoad && (this._assetLoader.isLoading = !1, this.$element.removeClass("loading"), this._loader && this._loader.loaded())
            }.bind(this)), a.open("GET", b), a.send()
        },
        _loadFiles: function() {
            var a;
            for (this._assetLoader.downloadsStarted = 0, this._assetLoader.assetsLoaded = 0, this._assetLoader.assetsToLoad = 0, !this._assetLoader.isLoading && !this._isFlyThrough && this.interactions[this._currentInteraction].images[this._imageSize].length > 0 ? (this._assetLoader.assetsToLoad = this.interactions[this._currentInteraction].images[this._imageSize].length, this._assetLoader.isLoading = !0, this.$element.addClass("loading"), this._currentInteraction > 0 && (a = new XMLHttpRequest, a.open("GET", this.interactions[this._currentInteraction].video[this._videoExtension]), a.send())) : this._currentInteraction > 0 && (a = new XMLHttpRequest, a.open("GET", this.interactions[this._currentInteraction].video[this._videoExtension]), a.send()), !this._assetLoader.assetsToLoad && this._loader && this._loader.loaded(); this._assetLoader.downloadsStarted < this._assetLoader.assetsToLoad;) this._getAsset(), this._assetLoader.downloadsStarted++
        },
        _getEndHandleCoords: function() {
            this._dragger && (this._verticalDrag ? (this._endHandle.top = parseInt(this._endHandleEl.offset().top - this._dragger.offset().top, 10), this._endHandle.centre = parseInt(this._endHandle.top + this._endHandleEl.outerHeight() / 2, 10), this._endHandle.centreDifference = parseInt(this._endHandleEl.outerHeight() / 2 + this._handleEl.height() / 2, 10), this._endHandle.initialWidth = this._endHandleEl.outerWidth()) : (this._endHandle.left = parseInt(this._endHandleEl.offset().left - this._dragger.offset().left, 10), this._endHandle.centre = parseInt(this._endHandle.left + this._endHandleEl.outerWidth() / 2, 10), this._endHandle.centreDifference = parseInt(this._endHandleEl.outerWidth() / 2 + this._handleEl.width() / 2, 10), this._endHandle.initialHeight = this._endHandleEl.outerHeight()), this._handle.height = this._handleEl.height(), this._handle.width = this._handleEl.width(), this._handle.draggerHeight = this._dragger.height(), this._handle.draggerWidth = this._dragger.width(), this._rightIndicator = a(".right-indicator", this._dragger))
        },
        _updateHandleCoords: function() {
            this._verticalDrag ? (this._handle.centre = this._handle.position + this._handle.height / 2, this._handle.bottom = this._handle.position + this._handle.height) : (this._handle.centre = this._handle.position + this._handle.width / 2, this._handle.right = this._handle.position + this._handle.width)
        },
        _setProgressLineSize: function() {
            this._verticalDrag && this._reverseDrag ? this._rightIndicator.css({
                bottom: Math.round(this._handle.draggerHeight - this._handle.position)
            }) : this._verticalDrag ? this._rightIndicator.css({
                top: Math.round(this._handle.bottom)
            }) : this._reverseDrag ? this._rightIndicator.css({
                right: Math.round(this._handle.draggerWidth - this._handle.position)
            }) : this._rightIndicator.css({
                left: Math.round(this._handle.right)
            })
        },
        _doHandleTransition: function(b) {
            var c, d = 100 / this._endHandle.centreDifference,
                e = (this._endHandle.centreDifference - b) * d;
            c = this._verticalDrag ? this._endHandle.initialWidth / (this._handle.width / 1.25) : this._endHandle.initialHeight / (this._handle.height / 1.25);
            var f = (c - 1) / 100 * e + 1,
                g = 1 - .01 * e,
                h = 1 - .02 * e;
            this._endHandleEl.css({
                transform: "scale(" + f + ")"
            }), a(".smaller", this._endHandleEl).css({
                opacity: h
            }), this._handleOuter.css({
                opacity: g
            })
        },
        _resetHandleTransition: function() {
            this._endHandleEl.css({
                transform: "scale(1)"
            }), a(".smaller", this._endHandleEl).css({
                opacity: 1
            }), this._handleOuter.css({
                opacity: 1
            })
        },
        _checkHandlePosition: function() {
            var a;
            a = this._reverseDrag ? this._handle.centre - this._endHandle.centre : this._endHandle.centre - this._handle.centre, a <= this._endHandle.centreDifference ? this._doHandleTransition(a) : this._resetHandleTransition()
        },
        _dragChange: function() {
            this._updateHandleCoords(), this._setProgressLineSize(), this._checkHandlePosition()
        },
        _addNoTransitionClass: function() {
            this._infoSlidesContainer.hasClass("noTransition") || this._infoSlidesContainer.addClass("noTransition")
        },
        _getInfoSlideOpacity: function(a) {
            return this._reverseDrag ? 1 - 2 * (1 - a) : 1 - 2 * a
        },
        _setInfoSlideOpacity: function(a) {
            site.utils.isBreakpointSmall() || this._infoSlidesContainer.css({
                opacity: this._getInfoSlideOpacity(a)
            })
        },
        _loadFrame: function(a) {
            var b, c = this.interactions[this._currentInteraction].images[this._imageSize],
                d = 1 / (c.length - 1);
            b = this._reverseDrag ? Math.round(c.length - a / d) : Math.round(a / d), this._loadImage(c[b])
        },
        _checkPlay: function(a) {
            (1 === a && !this._reverseDrag || 0 === a && this._reverseDrag) && this._videoEl.play()
        },
        _getFrame: function(a, b) {
            this._dragger.haveElementDimensions || (this._getEndHandleCoords(), this._dragger.haveElementDimensions = !0);
            var c, d = this._verticalDrag ? b : a,
                e = 100 * d;
            c = this._verticalDrag ? (this._handle.draggerHeight - this._handle.height) / 100 : (this._handle.draggerWidth - this._handle.width) / 100, this._handle.position = c * e, this._addNoTransitionClass(), this._dragChange(), this._setInfoSlideOpacity(d), this._loadFrame(d), this._checkPlay(d)
        },
        _dragStopCallback: function() {
            this._verticalDrag && this._reverseDrag ? this._dragDealer.setValue(0, 1, !1) : this._verticalDrag ? this._dragDealer.setValue(0, 0, !1) : this._reverseDrag ? this._dragDealer.setValue(1, 0) : this._dragDealer.setValue(0, 0)
        },
        _animationCallback: function(a, b) {
            !this._videoPlaying && this._componentInitialized && this._getFrame(a, b)
        },
        _getExtraDragdealerOptions: function(a) {
            return this._dragger.hasClass("bottom-to-top") ? (a.y = 1, a.vertical = !0, this._reverseDrag = !0, this._verticalDrag = !0) : this._dragger.hasClass("top-to-bottom") ? (a.vertical = !0, this._verticalDrag = !0, this._reverseDrag = !1) : this._dragger.hasClass("left-to-right") ? (this._verticalDrag = !1, this._reverseDrag = !1) : this._dragger.hasClass("right-to-left") && (a.x = 1, this._reverseDrag = !0, this._verticalDrag = !1), a
        },
        _getDragdealerOptions: function() {
            var a = {
                animationCallback: this._animationCallback.bind(this),
                dragStopCallback: this._dragStopCallback.bind(this),
                snap: !1,
                slide: !1,
                steps: 2,
                speed: .1,
                tapPauseTimeout: 0,
                animationDuration: 0
            };
            return a = this._getExtraDragdealerOptions(a)
        },
        _resetDragDealer: function() {
            this._dragDealer && this._dragDealer.unbindEventListeners(), this._dragger && this._dragger.remove(), a(".dragdealer", this._videoContainer) && a(".dragdealer", this._videoContainer).remove()
        },
        _getDragElements: function() {
            this._dragger = a(".dragdealer", this._videoContainer), this._handleEl = a(".handle", this._dragger), this._endHandleInner = a(".handle-end .handle-end-inner", this._dragger), this._handleOuter = a(".handle .handle-outer", this._dragger), this._endHandleEl = a(".handle-end", this._dragger)
        },
        _setupDrag: function() {
            if (this._resetDragDealer(), 0 === this.interactions[this._currentInteraction].images[this._imageSize].length) return this._videoEl.play(), this._noClick.css({
                zIndex: -1
            }), this._canvas.addClass("gone"), this._dragger = !1, this._videoFirst = !0, !1;
            var a = this._dragDealerTemplate.clone(),
                b = this._rotations[this.interactions[this._currentInteraction].rotation];
            a.addClass(b), (this._currentInteraction > 0 || this._lastPlayed) && a.addClass("gone"), this._videoContainer.prepend(a), this._getDragElements()
        },
        _positionInitialDrag: function() {
            var a = {
                    Up: "top",
                    Down: "bottom",
                    Right: "right",
                    Left: "left"
                },
                b = {
                    opacity: 1,
                    position: "absolute"
                };
            this._handleClone = this._handleEl.clone(), this._handleClone.addClass("handleClone"), site.utils.isBreakpointSmall() ? b[a[this.interactions[0].rotation]] = "calc(50% - 30px)" : b[a[this.interactions[0].rotation]] = "calc(50% - 42px)", this._handleClone.css(b), this._handleClone.appendTo(this._dragger), this._handleEl.css({
                opacity: 0
            }), b = {}, b[a[this.interactions[0].rotation]] = "calc(50% - 44px)", this._endHandleEl.css(b), b[a[this.interactions[0].rotation]] = "", this._endHandleEl.transition(b, 800), b = {}, ("Right" === this.interactions[0].rotation || "Left" === this.interactions[0].rotation) && (b.top = 0), site.utils.isBreakpointSmall() ? b[a[this.interactions[0].rotation]] = "calc(50% + 21px)" : b[a[this.interactions[0].rotation]] = "calc(50% + 60px)", this._handleClone.transition(b, 800)
        },
        _createDrag: function() {
            this._dragDealer = new Dragdealer(this._dragger[0], this._getDragdealerOptions()), this._positionNoClick()
        },
        _positionNoClick: function() {
            var a, b, c, d, e = this._dragger.offset(),
                f = this.$element.offset(),
                g = e.left - f.left,
                h = e.top - f.top,
                i = this._dragger.width(),
                j = this._dragger.height(),
                k = this._handleEl.width(),
                l = this._handleEl.height();
            this._verticalDrag ? (a = h + l, b = g, d = i, c = j - l) : (a = h, b = g + k, d = i - k, c = j), this._reverseDrag && this._verticalDrag ? a = h : this._reverseDrag && (b = g), this._noClick.css({
                top: a,
                left: b,
                width: d,
                height: c,
                zIndex: 3
            })
        },
        _hideElements: function() {
            this._canvas.addClass("gone"), this._dragger && this._dragger.addClass("gone")
        },
        _updateInfoSlide: function() {
            this._infoSlides.hide(), a(this._infoSlides[this._currentInteraction]).show(), site.utils.isBreakpointSmall() || this._centerInfoSlide()
        },
        _showInfoSlide: function() {
            a(this._infoSlidesContainer).removeClass("gone")
        },
        _showReverseElements: function() {
            this._reverseVideo.addClass("gone"), this._video.removeClass("gone"), this._updateInfoSlide()
        },
        _showForwardElements: function() {
            var a = 0;
            this._lastPlayed && (a = 200), setTimeout(function() {
                this._dragger && (this._canvas.removeClass("gone"), this._dragger.removeClass("gone"))
            }.bind(this), a)
        },
        _showElements: function() {
            this._showForwardElements()
        },
        _startVideo: function() {
            this._videoPlaying = !0, this._hideElements(), site.utils.isBreakpointSmall() || this._infoSlidesContainer.addClass("gone").removeClass("noTransition").css("opacity", ""), this._currentInteraction < this.interactions.length - 1 ? (this._nextInteraction(), this._setupDrag(), this._createDrag(), this._loadImage(this.interactions[this._currentInteraction].images[this._imageSize][0]), site.utils.isBreakpointSmall() || this._updateInfoSlide(), this._loadFiles()) : (this._currentInteraction = 0, this._lastPlayed = !0, this._setupDrag(), this.interactions[this._currentInteraction].images[this._imageSize].length && (this._createDrag(), this._loadImage(this.interactions[this._currentInteraction].images[this._imageSize][0])), site.utils.isBreakpointSmall() || this._updateInfoSlide())
        },
        _videoPlay: function() {
            a(".next, .prev", this.$element).removeClass("inactive"), this._videoInitialised ? this._startVideo() : (this._videoEl.pause(), this._videoEl.currentTime = 0, this._videoInitialised = !0, this.$element.addClass("videoInitialised"))
        },
        _checkLastPlayed: function() {
            return this._lastPlayed && (this._videoContainer.addClass("gone"), setTimeout(function() {
                this._videoContainer.removeClass("gone"), this._lastPlayed = !1, this._clickToInteractOverlay.css({
                    opacity: ""
                }).show(), this._clickToInteract.show()
            }.bind(this), 1e3), this._isInsideTabbedContainer) ? (this.$element.parents(".TabbedContainer").TabbedContainer("nextTab"), !0) : !1
        },
        _videoEnded: function() {
            if (this._exitFullscreenFunc && this._videoEl[this._exitFullscreenFunc](), !this._checkLastPlayed()) {
                site.utils.isBreakpointSmall() && this._updateInfoSlide(), this._videoPlaying = !1;
                var a = 0;
                this._lastPlayed && (a = 1e3), setTimeout(function() {
                    this._showInfoSlide()
                }.bind(this), a), setTimeout(function() {
                    this._showElements()
                }.bind(this), a - 150), 0 === a && (a = 200), setTimeout(function() {
                    this._setVideo()
                }.bind(this), a), this._dragger && !this._lastPlayed && (this._setupDrag(), this._positionDragdealer(), this._createDrag(), this._dragger.css({
                    opacity: 1
                }))
            }
        },
        _canPlay: function() {
            this._video.removeClass("gone"), this._videoEl.removeEventListener("canplay", this._canPlay)
        },
        _bindVideoEvents: function() {
            this._isFlyThrough ? (this._videoEl.addEventListener("play", this._startFlythrough.bind(this)), this._videoEl.addEventListener("ended", this._endFlythrough.bind(this)), this._reverseVideoEl.addEventListener("play", this._startReverseFlythrough.bind(this)), this._reverseVideoEl.addEventListener("ended", this._endReverseFlythrough.bind(this))) : (this._videoEl.addEventListener("play", this._videoPlay.bind(this)), this._videoEl.addEventListener("ended", this._videoEnded.bind(this)), this._videoEl.addEventListener("canplay", this._canPlay.bind(this)), this._videoEl.addEventListener("pause", function() {
                this._videoEl.currentTime !== this._videoEl.duration && site.utils.isIOS() && 0 !== this._videoEl.currentTime && this._videoEnded()
            }.bind(this)))
        },
        _previousInteraction: function() {
            this._currentInteraction > 0 && this._currentInteraction--
        },
        _nextInteraction: function() {
            this._currentInteraction || 0 === this._currentInteraction ? this._currentInteraction++ : this._currentInteraction = 0, 0 === this._currentInteraction && (this._setVideo(), this._loadFiles())
        },
        _setVideo: function() {
            this._videoEl.src = this._getVideo(), "" !== this.interactions[this._currentInteraction].poster && "undefined" != typeof this.interactions[this._currentInteraction].poster ? (this._videoEl.poster = this.interactions[this._currentInteraction].poster, site.utils.isIOS() && 0 === this._currentInteraction && this._videoContainer.find(".fake-poster").show()) : this._videoEl.removeAttribute("poster"), this._isFlyThrough && (this._videoEl.poster = this._getPoster()), this._videoEl.playbackRate = this._videoSpeed
        },
        _getPoster: function() {
            return this._isFlyThrough ? this.interactions[this._currentInteraction].video + "-poster.jpg" : this.interactions[this._currentInteraction].images[this._imageSize][this.interactions[this._currentInteraction].images[this._imageSize].length - 1]
        },
        _getVideo: function() {
            return this.interactions[this._currentInteraction].video[this._videoExtension]
        },
        _resetElements: function() {
            this._element.width = 0, this._element.height = 0, this._element.offsetX = 0, this._element.offsetY = 0
        },
        _getPositions: function(a) {
            this._element.width = Math.round(a.elementWidth), this._element.height = Math.round(a.elementHeight), this._element.offsetX = 0, this._element.offsetY = 0, a.elementWidth / a.ratio > a.elementHeight ? (this._element.width = Math.round(a.elementWidth), this._element.height = Math.round(a.elementWidth / a.ratio), this._element.offsetY = Math.round((a.elementHeight - a.elementWidth / a.ratio) / 2), this._element.offsetX = 0) : a.elementWidth / a.ratio < a.elementHeight && (this._element.height = Math.round(a.elementHeight), this._element.width = Math.round(a.elementHeight * a.ratio), this._element.offsetX = Math.round((a.elementWidth - a.elementHeight * a.ratio) / 2), this._element.offsetY = 0)
        },
        _setVideoCss: function() {
            this._video.css({
                height: this._element.height,
                width: this._element.width,
                top: this._element.offsetY,
                left: this._element.offsetX
            }), this._isFlyThrough && this._reverseVideo.css({
                height: this._element.height,
                width: this._element.width,
                top: this._element.offsetY,
                left: this._element.offsetX
            })
        },
        _calculatePositions: function() {
            this._currentWidth = b.innerWidth, this._currentHeight = b.innerHeight;
            var a = this._imageWidth / this._imageHeight,
                c = this._videoContainer.height(),
                d = this._videoContainer.width();
            this._isFlyThrough || (this._canvasEl.height = c, this._canvasEl.width = d), this._getPositions({
                elementWidth: d,
                elementHeight: c,
                ratio: a
            })
        },
        _getElements: function() {
            this._videoContainer = a(".video-container", this.$element), this._infoSlides = a(".info-slide", this.$element), this._infoSlidesContainer = a(".data-slides", this.$element), this._isFlyThrough ? (this._prevButton = a(".prev", this._infoSlidesContainer), this._nextButton = a(".next", this._infoSlidesContainer)) : this._dragDealerTemplate = a(".ddtemplate .dragdealer", this.$element)
        },
        _getVideoExtension: function() {
            var a = c.createElement("video"),
                d = {
                    webm: a.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/, ""),
                    mp4: a.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/, "")
                },
                e = "1080";
            b.innerWidth <= 360 ? e = "360" : b.innerWidth <= 480 ? e = "480" : b.innerWidth <= 720 && (e = "720");
            for (var f in d) "" !== d[f] && (this._videoExtension = "url" + e + f)
        },
        _appendElement: function(b, d, e, f) {
            var g = c.createElement(b);
            if (null !== f && "undefined" != typeof f)
                for (var h in f) g[h] = f[h];
            return "undefined" != typeof d && null !== d && (g.className = d), e.append(g), a(g)
        },
        _createVideo: function() {
            this._video = this._appendElement("video", "forward", this._videoContainer), this._videoEl = this._video[0], this._isFlyThrough && (this._reverseVideo = this._appendElement("video", "reverse gone", this._videoContainer), this._reverseVideoEl = this._reverseVideo[0])
        },
        _createCanvas: function() {
            this._canvas = this._appendElement("canvas", null, this._videoContainer), this._canvasEl = this._canvas[0], this._context = this._canvasEl.getContext("2d")
        },
        _drawImage: function(a) {
            this._context.clearRect(this._element.offsetX, this._element.offsetY, this._element.width, this._element.height), this._context.drawImage(a, this._element.offsetX, this._element.offsetY, this._element.width, this._element.height)
        },
        _loadImage: function(a, b) {
            if ("undefined" == typeof a) return !1;
            var c;
            ("undefined" != typeof b && b === !0 || this._loadedImage !== a) && (c = new Image, c.onload = function() {
                this._loadedImage = a, this._drawImage(c)
            }.bind(this), c.src = a)
        },
        _destroy: function() {
            a(b).off("resize.gesturedvideo-" + this._uniqId), this._videoPlaying && (this._videoEl.pause(), this._videoEl.currentTime = 0), this._videoPlaying = !1, this._videoInitialised = !1, this._currentInteraction = !1, this._clickToInteract.off(), this._cleanup(), this._componentInitialized = !1
        }
    };
    jQuery.createComponent("GesturedVideoSequence", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _googleMapsJsUrl: "//maps.googleapis.com/maps/api/js?callback=site.gmapsLoaded",
        mapObject: !1,
        zoom: 6,
        position: {
            lat: 52.4480957,
            lng: -1.7214052
        },
        controls: !0,
        init: function() {
            return this._initEvents(), this._setData(), "object" === ("undefined" == typeof google ? "undefined" : _typeof(google)) && "object" === _typeof(google.maps) ? void this._initMap() : void this.loadGoogleMaps()
        },
        _setData: function() {
            var a = ["zoom", "position", "libraries", "type", "controls", "scrollwheel", "doubleclickzoom", "clientid", "apikey"];
            for (var b in a) {
                var c = a[b],
                    d = this.$element.data(c);
                "undefined" != typeof d ? this[c] = d : this[c] = null
            }
        },
        _initMap: function() {
            var a = {
                center: this.position,
                zoom: this.zoom
            };
            null !== this.controls && (a.disableDefaultUI = !this.controls), null !== this.doubleclickzoom && (a.disableDoubleClickZoom = !this.doubleClickZoom), this.type && (a.mapTypeId = google.maps.MapTypeId[this.type.toUpperCase()]), this.scrollwheel || (a.scrollwheel = !1), this.mapObject = new google.maps.Map(this.$element.get(0), a)
        },
        _initEvents: function() {
            this.$element.on("api:ready", this._initMap.bind(this))
        },
        loadGoogleMaps: function() {
            var a = c.createElement("script");
            this.libraries && (this._googleMapsJsUrl += "&libraries=" + this.libraries), this.clientid ? this._googleMapsJsUrl += "&client=" + this.clientid : this.apikey ? this._googleMapsJsUrl += "&key=" + this.apikey : "" !== site.googleMapsClientId ? this._googleMapsJsUrl += "&client=" + site.googleMapsClientId : "" !== site.googleMapsAPIKey && (this._googleMapsJsUrl += "&key=" + site.googleMapsAPIKey), a.type = "text/javascript", a.src = this._googleMapsJsUrl, c.body.appendChild(a)
        },
        _drawRoutes: function() {},
        getMapObject: function() {
            return this.mapObject
        },
        _destroy: function() {}
    };
    jQuery.createComponent("GoogleMap", e)
}(jQuery, window, document),
function(a, b) {
    var c = {
        stickyNavigationActive: !1,
        fieldInFocus: !1,
        _$window: null,
        _$inPageNav: null,
        _reducedLayout: !1,
        _isNaaS: !1,
        init: function() {
            var c = this;
            this._isNaaS = this.$element.hasClass("dxnav-header"), this._$window = a(b), this._$inPageNav = a(".InPageNavigation"), this._setNavType(), this._setBodyPadding(), this._setNavHeight(!0), this._setNavPosition(), this._adjustHeaderOnSearchActiveForIOS(), this._$window.smartresize(function() {
                c.fieldInFocus || (c._setNavType(), c._setNavHeight(), c._setNavPosition(), c._setBodyPadding())
            }), this._$window.scroll(function() {
                c._setNavHeight(), c._setNavPosition(), c._currentBodyPadding = parseInt(a("body").css("padding-top"), 10), c._isNaaS && c._currentBodyPadding !== site.utils.getStickyNavHeight() && c._setBodyPadding()
            }), a("input, textarea").on("focus", function() {
                var a = site.utils.getBreakpointSize();
                "large" === a && site.utils.isMobileDevice() && "landscape" === site.utils.getDeviceOrientation() && (c.$element.removeClass("stickyNavigation"), c.stickyNavigationActive = !1, c._setNavHeight(!1), c._setNavPosition(), c._setBodyPadding(), c.fieldInFocus = !0)
            }).on("blur", function(b) {
                var d = site.utils.getBreakpointSize();
                "large" === d && site.utils.isMobileDevice() && "landscape" === site.utils.getDeviceOrientation() && (c.$element.addClass("stickyNavigation"), c.stickyNavigationActive = !0, c._setNavHeight(!1), c._setNavPosition(), c._setBodyPadding(), c.fieldInFocus = !1, site.utils.scrollTo(a(b.target).offset().top - 5))
            }), this._$window.on("MCQ:slideChanging", function() {
                c._setBodyPadding()
            })
        },
        _setNavType: function() {
            var a = site.utils.getBreakpointSize();
            this.$element.hasClass("dxnav-header") ? this.$element.addClass("stickyNavigation") : "large" === a && site.stickyNavigationEnabled ? (this.$element.addClass("stickyNavigation"), this.stickyNavigationActive = !0) : (this.$element.removeClass("stickyNavigation"), this.stickyNavigationActive = !1)
        },
        _setNavHeight: function(a) {
            var b = this._$window.scrollTop(),
                c = this.$element,
                d = b > site.stickyNavigationTransitionPoint,
                e = "boolean" != typeof a ? !1 : a;
            d && !this._reducedLayout ? (c.addClass("reducedStickyNavigation"), this._$window.trigger("stickyNavigationChange"), this._reducedLayout = !0) : !d && this._reducedLayout && (c.removeClass("reducedStickyNavigation"), this._$window.trigger("stickyNavigationChange"), this._reducedLayout = !1), 0 === b || e ? c.addClass("notransition") : c.removeClass("notransition")
        },
        _setNavPosition: function() {
            if (this._$inPageNav.length > 0 && this._isFixedHeader()) {
                var a = "";
                if (this._$inPageNav.first().is(":visible")) {
                    var b = this._$window.scrollTop(),
                        c = this.$element.offset().top - b,
                        d = c + this.$element.outerHeight(),
                        e = this._$inPageNav.first().offset().top - b;
                    a = c + (e - d), a = a > 0 ? 0 : a, a += "px"
                }
                this.$element.css("top", a)
            } else(this._isFixedHeader() || this._isNaaS || this.$element.hasClass("scrollingDown")) && this._setNavToElementBlocker()
        },
        _setNavToElementBlocker: function() {
            var b = a(".block-header-nav");
            if (b.length) {
                var c = void 0,
                    d = void 0,
                    e = b.offset().top;
                if (this._isNaaS) {
                    var f = this.$element.find(".dxnav__breadcrumbs"),
                        g = this.$element.find(".dxnav-unique-nav"),
                        h = g.height(),
                        i = f.length ? f.height() : h;
                    d = e - h, c = e - i
                } else {
                    var j = this.$element.height();
                    d = e - j, c = d
                }
                var k = this._$window.scrollTop();
                k >= c ? (this.$element.addClass("scrollingDown"), 0 >= d ? (this.$element.css("top", ""), k <= a(".dxnav-unique-nav").height() && this.$element.removeClass("scrollingDown")) : this.$element.css("top", d)) : d > k && (this.$element.removeClass("scrollingDown"), this.$element.css("top", ""))
            }
        },
        _setBodyPadding: function() {
            var b = 0;
            this._isFixedHeader() && (b = site.utils.getStickyNavHeight()), a("body").css("padding-top", b)
        },
        _adjustHeaderOnSearchActiveForIOS: function() {
            if (site.utils.isIOS() && site.stickyNavigationEnabled) {
                var b = this.$element,
                    c = a(".searchText", b);
                c.on("focus", function() {
                    b.addClass("searchActive")
                }), c.on("blur", function() {
                    b.removeClass("searchActive")
                })
            }
        },
        _isFixedHeader: function() {
            return "fixed" === this.$element.css("position")
        }
    };
    jQuery.createComponent("Header", c)
}(jQuery, window, document),
function(a, b) {
    var c = {
        _defaults: {
            onAtSmallBreakpoint: !1
        },
        uiSelectors: {
            headerBoxContent: ".headerBoxContent",
            headerBoxWidthElements: ".headerBox__tcoPrice, .headingTextMain, .headingTextSub .subtitle, .headingTextSub, .price, .primaryLinkWithStyle, .secondaryLinkContainer, .caveat, .bodyText, .totalCost, .bodyText, .headerBox__slug, .headerBox__heroTitle, .headerBox__title, .headerBox__heroCopy, .headerBox__copy, .headerBox__price",
            headingTextMain: ".headingTextMain, headerBox__content",
            totalCostElement: ".totalCost"
        },
        _widestElementWidth: 0,
        _resizeBound: null,
        init: function() {
            var c = this;
            this._checkTotalCostPriceWidth(), this._checkOnlyHasPrimaryHeading(), this._initRetailerPage(), a(b).on("load", function() {
                c._resizeHeaderBox()
            }), this._resizeBound = this._resizeHeaderBox.bind(this), a(b).on("resize", this._resizeBound), this._tcoOrientationCheck(), a(b).on("orientationchange", this._tcoOrientationCheck)
        },
        _initRetailerPage: function() {
            var c = a(".headerBox__heroCopy .tel", this.$element);
            c.length && b.matchMedia("(min-width: 740px)").matches && c.contents().unwrap().wrap("<span/>")
        },
        _tcoOrientationCheck: function() {
            var c = a(".headerBox__totalCost"),
                d = site.utils.isBreakpointMedium() || site.utils.isBreakpointSmall();
            c.removeClass("landscape"), d && b.matchMedia("(orientation: landscape)") && c.addClass("landscape")
        },
        _checkOnlyHasPrimaryHeading: function() {
            1 === this.$element.children().length && this.$element.find(".primaryHeading") && this.$element.addClass("onlyHasPrimaryHeading")
        },
        _onResize: function() {
            b.requestAnimationFrame(this._resizeHeaderBoxes.bind(this))
        },
        _resizeHeaderBox: function() {
            this._tcoOrientationCheck();
            var a = "small" !== site.utils.getBreakpointSize();
            if (this.$element.css("width", "auto").removeClass("maxWidthOff"), this.options.onAtSmallBreakpoint || a) {
                var b = 2 * parseInt(this.ui("headerBoxContent").css("padding-left"), 10);
                this._widestElementWidth = 0, this.ui("headerBoxWidthElements").each(this._getWidestElementWidth.bind(this)), this.$element.css("width", this._widestElementWidth + b), (this.ui("headingTextMain").width() + b) / 2 > this.$element.width() && this.$element.addClass("maxWidthOff")
            }
        },
        _getWidestElementWidth: function(b, c) {
            var d = a(c),
                e = d.hasClass("primaryLinkWithStyle") || d.hasClass("headerBoxDontInline");
            e || d.css("display", "inline");
            var f = d.outerWidth() + 1;
            e || d.css("display", ""), this._widestElementWidth = f > this._widestElementWidth ? f : this._widestElementWidth
        },
        _checkTotalCostPriceWidth: function() {
            var a = this.ui("totalCostElement");
            if (0 !== a.length) {
                var b = this.$element.find(".number")[0] || {},
                    c = b.innerHTML || "",
                    d = this.$element.find(".currency")[0] || {},
                    e = d.innerHTML || "",
                    f = site.utils.measureTextWidth(c + e, b);
                f > 160 && a.removeClass("headerBoxDontInline").addClass("stacked")
            }
        },
        removeEvents: function() {
            a(b).off("resize", this._resizeBound)
        }
    };
    jQuery.createComponent("HeaderBox", c)
}(jQuery, window),
function(a, b, c, d) {
    var e = {
        _initiated: !1,
        uiSelectors: {
            headingWrapper: ".headingWrapper",
            headingTextMain: ".headingTextMain"
        },
        init: function() {
            this._initiated || (this._layout(), this.linearLines(), a(b).smartresize(this.linearLines.bind(this)), this._initiated = !0)
        },
        _layout: function() {
            if (!this.ui("headingTextMain").length) {
                var b = a('<span class="headingTextMain"/>');
                this.ui("headingWrapper").wrapInner(b), this.uiElements.headingTextMain = a(".headingTextMain", this.$element)
            }
            this.$element.parents(".FullWidthImage").length || this.ui("headingTextMain").css("display", "inline")
        },
        linearLines: function() {
            this.ui("headingWrapper").css("width", "auto"), "small" !== site.breakpoints.current && "" !== a.trim(this.ui("headingWrapper").text()) && this.ui("headingWrapper").width(this.ui("headingTextMain").width() + 1)
        }
    };
    jQuery.createComponent("Headings", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaultHotspotWidth: 50,
        _defaultHotspotHeight: 50,
        _defaults: {},
        uiSelectors: {
            backgroundImage: "> span",
            hotspotGrid: ".hotspot-grid",
            hotspots: ".hotspot"
        },
        init: function() {
            var c = this.$element.data();
            c.grid ? this._isGrid = !0 : this._isGrid = !1, this._columns = c.columns, this._rows = c.rows, this._aspectRatio = c.aspectHeight / c.aspectWidth, this.ui("backgroundImage").css("padding-bottom", 100 * this._aspectRatio + "%"), this._isGrid ? (this._updateHotspotGrid(), this._updateHotspots()) : this._drawHotspots(), this._bindHotspotEvents(), this.ui("hotspots").show(), c.debug === !0 && this._showGrid(), a(b).smartresize(function() {
                this._isGrid ? (this._updateHotspotGrid(), this._updateHotspots()) : this._drawHotspots(), c.debug === !0 && this._showGrid()
            }.bind(this))
        },
        _bindHotspotEvents: function() {
            a(".hotspot-overlay").click(function(b) {
                a(this).css({
                    opacity: 0
                }), setTimeout(function() {
                    a(this).css({
                        zIndex: 0
                    }), a(".selected").removeClass("selected")
                }.bind(this), 400)
            }), this.ui("hotspots").each(function(b, c) {
                a(c).click(function(b) {
                    a(this).hasClass("selected") || (b.stopPropagation(), b.preventDefault(), a(".hotspot-overlay").css({
                        zIndex: 3,
                        opacity: 1
                    }), a(this).addClass("selected"))
                })
            })
        },
        _drawHotspots: function() {
            this.ui("hotspots").each(function(b, c) {
                var d = a(c),
                    e = parseInt(d.data("y"), 10),
                    f = parseInt(d.data("x"), 10),
                    g = d.data("height") || this._defaultHotspotHeight,
                    h = d.data("width") || this._defaultHotspotWidth,
                    i = {
                        h: 1125,
                        w: 2e3
                    },
                    j = this.$element.height() / i.h,
                    k = this.$element.width() / i.w;
                console.log(j, k), console.log(e - g / 2 * j, f - h / 2 * k), d.css({
                    height: g,
                    width: h,
                    top: e * j - g / 2,
                    left: f * k - h / 2
                })
            }.bind(this))
        },
        _updateHotspots: function() {
            this.ui("hotspots").each(function(b, c) {
                var d = a(c),
                    e = parseInt(d.data("row"), 10) - 1,
                    f = parseInt(d.data("column"), 10) - 1,
                    g = d.data("height") || this._defaultHotspotHeight,
                    h = d.data("width") || this._defaultHotspotWidth;
                e >= 0 && e < this._rows && f >= 0 && f < this._columns ? d.css({
                    height: g,
                    width: h,
                    top: this._oneCellHeight * e + (this._oneCellHeight / 2 - g / 2),
                    left: this._oneCellWidth * f + (this._oneCellWidth / 2 - h / 2)
                }) : d.remove()
            }.bind(this))
        },
        _updateHotspotGrid: function() {
            this._windowWidth = this.$element.width(), this._elementHeight = this._windowWidth * this._aspectRatio, this._oneCellWidth = this._windowWidth / this._columns, this._oneCellHeight = this._elementHeight / this._rows
        },
        _showGrid: function() {
            if (this._isGrid) {
                this.$element.find(".grid").remove(), this.ui("hotspotGrid").append('<div class="grid"></div>');
                for (var b = 0; b < this._rows; b++)
                    for (var c = 0; c < this._columns; c++) {
                        var d = a("<div>Col: " + (c + 1) + "<br/>Row: " + (b + 1) + "</div>");
                        d.css({
                            width: this._oneCellWidth,
                            height: this._oneCellHeight,
                            "z-index": 2,
                            position: "absolute",
                            left: this._oneCellWidth * c,
                            top: this._oneCellHeight * b
                        }), this.$element.find(".grid").append(d)
                    }
            } else this.$element.addClass("debug"), 0 === a(".coords").length && this.ui("hotspotGrid").append('<div class="coords"></div>'), this.ui("hotspotGrid").mousemove(function(b) {
                a(".coords").html(b.offsetX + "," + b.offsetY)
            }.bind(this))
        },
        _destroy: function() {}
    };
    jQuery.createComponent("Hotspots", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        init: function() {
            this.$element.HubLayout().HubFiltersController()
        }
    };
    jQuery.createComponent("Hub", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {
            listOptions: {
                valueNames: ["itemCategory", "itemNameplate", {
                    data: ["tag"]
                }]
            }
        },
        uiSelectors: {
            hubItemsWrapper: ".hubItemsWrapper",
            hubItemsList: ".hubItemsList"
        },
        _filterState: null,
        list: null,
        model: null,
        view: null,
        filterParams: {},
        init: function() {
            var b = a.Deferred();
            this.clearStorage(), this.filterParams = this.setFilterParams(["itemCategory", "itemNameplate", "itemTag"]), this.$element.HubFiltersModel(), this.model = this.$element.HubFiltersModel.bind(this.$element), this._filterState = this.model("buildFilterState", this.$element, this.filterParams), this.view = this.$element.HubFiltersView.bind(this.$element), this.initList(b), this.$element.HubFiltersView({
                controller: this
            }), b.done(this._attachEvents.bind(this))
        },
        initList: function(b) {
            var c;
            a.ajax({
                url: "?ajax=true"
            }).done(function(d) {
                c = a(d).find(".hubItem"), this.ui("hubItemsList").append(c), this.list = new List(this.ui("hubItemsWrapper").get(0), this.options.listOptions), b.resolve(), this.$element.HubInfinite(), this.view("updateCounter", this.view("getHubItemsOnPage"), "hubHeaderCounter"), this.$element.HubLayout("onResize"), this.$element.HubLayout("loadImages"), a.isEmptyObject(this.filterParams) === !1 && (this.filterOrCount(null, null, !1, this._filterState), this.view("setIntialUIState", this._filterState), this.view("scrollToHub"))
            }.bind(this))
        },
        setFilterParams: function(a) {
            var b = {};
            return a.length > 0 && a.map(function(a) {
                site.utils.getUrlParameter(a) && (b[a] = site.utils.getUrlParameter(a), this.setSession(a, b[a]))
            }.bind(this)), b
        },
        _attachEvents: function() {
            this.list.on("filterComplete", this._filterComplete.bind(this)), b.onpopstate = this.historyPopState.bind(this)
        },
        historyPopState: function(a) {
            this._filterState = this.model("buildFilterState", this.$element, this.filterParams), this.filterOrCount(null, null, !1, this._filterState)
        },
        filterOrCount: function(a, b, c, d) {
            var e, f;
            if (a && (this._filterState = this.model("updateFilterState", a, b, this._filterState)), e = this.model("getActiveFilters", this._filterState), f = this.model("filterOrCount", c, e, this.list), this.view("updateCounter", f, "hubResultsCounter"), c) JSON.stringify(d) === JSON.stringify(this._filterState) || 0 === f ? this.view("inactivateFilter") : this.view("activateFilter");
            else {
                if (JSON.stringify(d) !== JSON.stringify(this._filterState)) {
                    var g = this.buildFilterQueryString(this._filterState);
                    this.addQueryString(g)
                }
                this.$element.HubInfinite("initEnquire"), this.view("updateCounter", f, "hubHeaderTotalCounter"), this.view("updateCounter", this.view("getHubItemsOnPage"), "hubHeaderCounter"), this.$element.HubLayout("onResize"), this.$element.HubLayout("loadImages")
            }
        },
        _filterComplete: function() {
            this.view("filterComplete"), this.$element.trigger("HubFiltersController:filter_change", {
                filterState: this._filterState
            })
        },
        getFilterState: function() {
            return JSON.parse(JSON.stringify(this._filterState))
        },
        buildFilterQueryString: function(a) {
            var b = "";
            if (this.clearStorage(), "object" !== ("undefined" == typeof a ? "undefined" : _typeof(a))) return b;
            for (var c in a) {
                var d = "",
                    e = "";
                for (var f in a[c]) a[c][f] === !0 && (d += d ? "," + f : c + "=" + f, e += e ? "," + f : f);
                d && (b += b ? "&" + d : d, this.setSession(c, e)), d = "", e = ""
            }
            return b
        },
        addQueryString: function(a) {
            var d = c.location.href.split("?")[0];
            return d = site.utils.addParameterToURL(d, a), b.history.pushState && b.history.pushState({
                path: d
            }, "", d), d
        },
        setSession: function(a, b) {
            sessionStorage.setItem(a, b)
        },
        clearStorage: function() {
            sessionStorage.removeItem("itemNameplate"), sessionStorage.removeItem("itemTag"), sessionStorage.removeItem("itemCategory")
        }
    };
    jQuery.createComponent("HubFiltersController", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        init: function() {},
        buildFilterState: function(b, c) {
            var e = {
                    itemCategory: {},
                    itemNameplate: {},
                    itemTag: {}
                },
                f = c.itemCategory === d ? null : c.itemCategory,
                g = c.itemTag === d ? null : c.itemTag,
                h = c.itemNameplate === d ? null : c.itemNameplate,
                i = h ? h.split(",") : h,
                j = g ? g.split(",") : g;
            return b.find(".hubCategoryButton:not(.buttonReset)").each(function(b, c) {
                var d = a(c).text();
                e.itemCategory[d] = f === d ? !0 : !1
            }), b.find(".hubFilterButton").each(function(b, c) {
                var d = a(c),
                    f = d.text(),
                    g = !1;
                (a.inArray(f, i) > -1 || a.inArray(f, j) > -1) && (g = !0), e[d.data("filter-type")][f] = g
            }), e
        },
        filterOrCount: function(b, c, d) {
            var e;
            if (b) {
                var f = a.grep(d.items, this._filterMethod.bind(this, c));
                e = f.length
            } else d.filter(this._filterMethod.bind(this, c)), e = d.matchingItems.length;
            return e
        },
        updateFilterState: function(b, c, d) {
            return "itemCategory" === b && a.each(d, function(b, c) {
                a.each(c, function(a, b) {
                    c[a] = !1
                }.bind(this))
            }.bind(this)), b && c && (d[b][c] = !d[b][c]), "itemCategory" === b || c || a.each(d[b], function(a, c) {
                d[b][a] = !1
            }.bind(this)), d
        },
        getActiveFilters: function(a) {
            var b = {};
            for (var c in a.itemCategory)
                if (a.itemCategory[c] === !0) {
                    b.itemCategory = c;
                    break
                } for (var d in a.itemNameplate) a.itemNameplate[d] === !0 && (b.itemNameplate = b.itemNameplate || [], b.itemNameplate.push(d));
            for (var e in a.itemTag) a.itemTag[e] === !0 && (b.itemTag = b.itemTag || [], b.itemTag.push(e));
            return b
        },
        _filterMethod: function(a, b) {
            var c = "undefined" != typeof a.itemCategory,
                d = "undefined" != typeof a.itemNameplate,
                e = "undefined" != typeof a.itemTag,
                f = !c,
                g = !d,
                h = !e;
            if (c && a.itemCategory === b.values().itemCategory && (f = !0), d)
                for (var i = 0, j = a.itemNameplate.length; j > i; i++)
                    if (a.itemNameplate[i] === b.values().itemNameplate) {
                        g = !0;
                        break
                    } if (e)
                for (var k = 0, l = a.itemTag.length; l > k; k++)
                    if ("string" == typeof b.values().tag && b.values().tag.indexOf(a.itemTag[k]) >= 0) {
                        h = !0;
                        break
                    } return f && g && h
        }
    };
    jQuery.createComponent("HubFiltersModel", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {
            filterTransitionDuration: 600,
            controller: null
        },
        _$html: a("html"),
        _$window: a(b),
        _$body: a("html, body"),
        uiSelectors: {
            hubItem: ".hubItem",
            hubFilterButton: ".hubFilterButton",
            hubCategoryButton: ".hubCategoryButton",
            hubCategoryButtonReset: ".hubCategoryButton.buttonReset",
            hubCategoryButtonCategory: ".hubCategoryButton.buttonCategory",
            hubResults: ".hubResults",
            hubResultsCounter: ".hubResultsCounter",
            hubResultsButton: ".hubResultsButton",
            hubShowFilter: ".hubTogggleFilter",
            hubResetButton: ".hubResetButton",
            hubHeader: ".hubHeader",
            hubHeaderCounter: ".hubHeaderCounter",
            hubHeaderTotalCounter: ".hubHeaderTotalCounter",
            hubCategories: ".hubCategories",
            hubCategoriesList: ".hubCategoriesList",
            hubFilters: ".hubFilters",
            hubFilter: ".hubFilter.hubFiltersSection",
            hubFiltersWrapper: ".hubFiltersWrapper",
            hubFiltersHeader: ".hubFiltersHeader",
            hubFilterTitle: ".hubFiltersWrapper .hubFilterTitle",
            shelfComponent: ".shelfComponent",
            primaryLinkContainer: ".primaryLinkContainer",
            touchDropdown: ".DropdownNav",
            hubItemLink: ".hubItemLink",
            hubFilterTitleWrapper: ".hubFilterTitleWrapper"
        },
        breakpointSize: "large",
        _origFilterState: null,
        _dropInit: !1,
        mobileStickyPoint: 380,
        scrollPositon: 0,
        init: function() {
            this._attachEvents(), this._initEnquire()
        },
        _initEnquire: function() {
            var c = this;
            a(b).width();
            enquire.register("screen and (min-width: " + b.site.breakpoints.medium + "px)", {
                match: function() {
                    return c.breakpointSize = "large", c._$html.hasClass("touch") ? void c._initCateogryDrop() : void c._disableCateogryDrop()
                }
            }), enquire.register("screen and (max-width: " + (b.site.breakpoints.medium - 1) + "px)", {
                match: function() {
                    c.breakpointSize = "medium", c._initCateogryDrop()
                }
            }), enquire.register("screen and (max-width: " + b.site.breakpoints.small + "px)", {
                match: function() {
                    c.breakpointSize = "small", a(".js-nav-icon").removeClass("open")
                }
            })
        },
        _initCateogryDrop: function() {
            this.$element.find(".hubCategoryButton.filterOn");
            if (this._dropInit === !1) {
                this.ui("hubCategories").wrapInner('<div class="DropdownNav" data-dropdownnav-close-on-tap-outside="true" data-dropdownnav-stay-on-page="true"></div>');
                var a = this.$element.find(".DropdownNav");
                a.DropdownNav(), a.on("open", this._dropDownOpen.bind(this)), a.on("close", this._dropDownClose.bind(this)), this._dropInit = !0
            } else this.$element.find(".DropdownNav-disabled").toggleClass("DropdownNav DropdownNav-disabled")
        },
        _disableCateogryDrop: function() {
            var a = this.$element.find(".DropdownNav");
            0 !== a.length && (a.toggleClass("DropdownNav-disabled DropdownNav").removeClass("active"), this.ui("hubCategoriesList").removeAttr("style"))
        },
        _attachEvents: function() {
            this.ui("hubCategoryButtonReset").on("click", this._categoryResetButtonClick.bind(this)), this.ui("hubCategoryButtonCategory").on("click", this._categoryFilterButtonClick.bind(this)), this.ui("hubFilterButton").on("click", this._categoryFilterButtonClick.bind(this)), this.ui("hubResultsButton").on("click", this._hubResultsButtonClick.bind(this)), this.ui("hubFilterButton").on("mouseleave", this._removeFilterOff.bind(this)), this.ui("hubShowFilter").on("click", this._hubShowFilterButtonClick.bind(this)), this.ui("hubResetButton").on("click", this._hubResetButtonClick.bind(this)), this.ui("hubFiltersWrapper").on("scroll", this._filterScroll.bind(this)), this.ui("hubFilterTitleWrapper").on("click", this.filterScrollTo.bind(this)), this.$element.on("hubHeader:sticky", this._stickyBehaviours.bind(this)), this.$element.on("hubHeader:unsticky", this._unstickyBehaviours.bind(this)), this.$element.on("hubNavBackToTop", this._backToTopEvent.bind(this)), a(b).smartresize(this.viewResize.bind(this))
        },
        setIntialUIState: function(b) {
            a.merge(this.ui("hubCategoryButton"), this.ui("hubFilterButton")).each(function(c, e) {
                var f = a(e),
                    g = f.text(),
                    h = f.attr("data-filter-type");
                h !== d && b[h][g] === !0 && (this._highlightButton(f), "itemCategory" === h && this._checkFilterStatus())
            }.bind(this))
        },
        _categoryFilterButtonClick: function(b) {
            var c = a(b.currentTarget),
                d = c.text(),
                e = c.attr("data-filter-type");
            c.hasClass("noResults") || (this._highlightButton(c), "itemCategory" === e ? (this._transitionThenFilter(e, d), this.ui("hubFilterButton").removeClass("filterOn noResults"), this._checkFilterStatus()) : this.options.controller.filterOrCount(e, d, !0, this._origFilterState), this.$element.removeClass("categoryOpen"))
        },
        _hubResultsButtonClick: function(a) {
            a.preventDefault(), this._toggleFilterPanel(!1), this.$element.addClass("filtersLongClosing"), b.setTimeout(this._transitionThenFilter.bind(this, null, null), this.options.filterTransitionDuration), this.inactivateFilter()
        },
        _categoryResetButtonClick: function(b) {
            var c = a(b.currentTarget),
                d = c.attr("data-filter-type");
            this._highlightButton(c), this._transitionThenFilter(d, null), this.ui("hubFilterButton").removeClass("filterOn noResults"), this.$element.removeClass("categoryOpen")
        },
        _highlightButton: function(a) {
            a.hasClass("hubCategoryButton") ? (this.ui("hubCategoryButton").removeClass("filterOn"), a.addClass("filterOn")) : (a.hasClass("filterOn") && a.addClass("filterOff"), a.toggleClass("filterOn"))
        },
        _transitionThenFilter: function(a, b) {
            return "itemCategory" === a && this.$element.hasClass("filtersOpen") ? void this._closeFilterPanel(!1).done(function() {
                this._hubScrollTopAnimation(a, b)
            }.bind(this)) : void this._hubScrollTopAnimation(a, b)
        },
        _hubScrollTopAnimation: function(a, c) {
            var d = !1,
                e = this.options.controller,
                f = e.filterOrCount.bind(e, a, c, d, null);
            this.ui("hubHeader").addClass("transitioning"), this.$element.addClass("itemsFadeOut"), this.$element.hasClass("stickyMode") && (this.uiElements.hubItem = this.$element.find(this.uiSelectors.hubItem), site.utils.scrollTo(this.$element.offset().top + 2, 1.5 * this.options.filterTransitionDuration, function() {
                this.ui("hubHeader").removeClass("transitioning")
            }.bind(this), "hubSlowFadeInOut", !0)), b.setTimeout(function() {
                f()
            }.bind(this), Math.round(.666666 * this.options.filterTransitionDuration))
        },
        filterComplete: function() {
            this.$element.HubLayout("onResize"), this.$element.HubLayout("loadImages"), this.$element.removeClass("filtersOpenFadeOutItems itemsFadeOut filtersLongClosing")
        },
        updateCounter: function(a, b) {
            this.ui(b).text(a)
        },
        _hubShowFilterButtonClick: function(a) {
            this.ui("hubFilters").hasClass("active") ? this._hubResultsButtonClick(a) : this._toggleFilterPanel(!0)
        },
        _toggleFilterPanel: function(a) {
            var b = (this._$window.width(), this._$window.scrollTop());
            if (this.$element.hasClass("filtersOpen")) this.$element.removeClass("filtersAnimationComplete"), this._closeFilterPanel(a);
            else {
                if (this.ui("hubHeader").addClass("transitioning"), this.$element.hasClass("stickyMode") === !1 && ("small" === this.breakpointSize || "medium" === this.breakpointSize) || "large" === this.breakpointSize && this._$html.hasClass("touch") && this.ui("hubHeader").hasClass("sticky") === !1) {
                    var c = this.$element.offset().top + site.utils.getStickyNavHeight(this.$element.offset().top);
                    return this.$element.addClass("stickyMode"), "small" === this.breakpointSize ? void this._openFilterPanel(a, function() {
                        site.utils.scrollTo(c, 0)
                    }) : void site.utils.scrollTo(c, 400, this._openFilterPanel.bind(this, a))
                }
                var d = this.$element.height() + this.$element.offset().top - this._$window.height();
                if (b >= d) {
                    var e = d;
                    return this.ui("hubHeader").addClass("transitioning"), e < this.$element.offset().top + site.utils.getStickyNavHeight(b) && (e = this.$element.offset().top + site.utils.getStickyNavHeight(b)), void site.utils.scrollTo(e, 400, this._openFilterPanel.bind(this, a))
                }
                this._openFilterPanel(a, !1)
            }
        },
        _openFilterPanel: function(c, d) {
            this.$element.addClass("filtersOpen").removeClass("filtersClosing filtersAnimationComplete"), this._origFilterState = this.options.controller.getFilterState(), c && this.$element.addClass("filtersOpenFadeOutItems"), this._$html.hasClass("noScroll") === !1 && this._lockScroll(), this.ui("hubHeader").HubNavigation("resetHeaderPosition"), this._$html.hasClass("touch") && this.ui("hubHeader").HubNavigation("touchStickyPositioning"), this.scrollPositon = a(b).scrollTop(), this.ui("hubFiltersWrapper").scrollTop(0), b.setTimeout(function() {
                "function" == typeof d && d(), this.$element.addClass("filtersAnimationComplete")
            }.bind(this), this.options.filterTransitionDuration)
        },
        _closeFilterPanel: function(c) {
            var d = (this._$window.width(), a.Deferred());
            return this.ui("hubFilters").css("top", ""), this.$element.addClass("filtersClosing").removeClass("filtersOpen filtersAnimationComplete"), "large" !== this.breakpointSize && this._$window.scrollTop(this.scrollPositon), b.setTimeout(function() {
                this.$element.removeClass((c ? "filtersOpenFadeOutItems " : "") + "filtersClosing "), d.resolve(), this._unlockScroll()
            }.bind(this), this.options.filterTransitionDuration), this.ui("hubHeader").removeClass("transitioning"), d
        },
        _hubResetButtonClick: function(b) {
            var c = a(b.currentTarget),
                d = c.attr("data-filter-type");
            b.stopPropagation();
            var e = this.ui("hubFilterButton").filter(function() {
                return a(this).data("filter-type") === d
            });
            e.removeClass("filterOn"), this.options.controller.filterOrCount(d, !1, !0, this._origFilterState)
        },
        activateFilter: function() {
            this.ui("hubFilters").addClass("active"), this.ui("hubResultsButton").addClass("active")
        },
        inactivateFilter: function() {
            this.ui("hubFilters").removeClass("active"), this.ui("hubResultsButton").removeClass("active")
        },
        _stickyBehaviours: function() {
            this.$element.addClass("stickyMode"), this.$element.hasClass("filtersOpen") && this._$html.hasClass("noScroll") === !1 && this._lockScroll()
        },
        _unstickyBehaviours: function() {
            this.$element.hasClass("stickyMode") !== !1 && (this.$element.removeClass("stickyMode"), this.ui("hubHeader").hasClass("transitioning") || this.$element.hasClass("filtersOpen") && this._$html.hasClass("touch") && this._closeFilterPanel(!0))
        },
        viewResize: function() {
            this._$window.scrollTop() <= this.$element.offset().top && this.$element.hasClass("filterOpen") && this._unlockScroll(), this.$element.hasClass("filtersOpen") && this.ui("hubFiltersWrapper").scrollTop(0), this._$window.height() < this.mobileStickyPoint && (this.ui("hubFilterTitle").removeClass("hubFilterTitleInactive hubFilterTitleSticky"), this.ui("hubFilterTitleWrapper").attr("style", ""))
        },
        _dropDownOpen: function(a) {
            return this.ui("hubHeader").hasClass("sticky") === !1 && this.$element.hasClass("categoryOpen") === !1 && this._$html.hasClass("touch") ? (this._closeFilterPanel(!0), this.ui("hubHeader").addClass("transitioning"), void site.utils.scrollTo(this.$element.offset().top + site.utils.getStickyNavHeight(this.$element.offset().top), 400, function() {
                this.$element.addClass("categoryOpen")
            }.bind(this))) : (this.ui("hubHeader").HubNavigation("resetHeaderPosition"), this._$html.hasClass("touch") && this.ui("hubHeader").HubNavigation("touchStickyPositioning"), this.$element.addClass("categoryOpen"), void this.ui("hubHeader").removeClass("transitioning"))
        },
        _dropDownClose: function(a) {
            this.$element.removeClass("categoryOpen transitioning")
        },
        _lockScroll: function() {
            this._$html.hasClass("touch") && this._$html.hasClass("noScroll") === !1 ? (this._$html.addClass("noScroll forceScrollBar"), b.addEventListener("touchmove", this._touchMoveBlock, !1)) : this.ui("hubHeader").hasClass("sticky") && this._$html.addClass("noScroll forceScrollBar")
        },
        _unlockScroll: function() {
            this._$html.hasClass("touch") && (b.removeEventListener("touchmove", this._touchMoveBlock, !1), this.$element.find(".scrollBlock").remove()), this._$html.removeClass("noScroll forceScrollBar")
        },
        _touchMoveBlock: function(b) {
            1 !== a(b.target).parents(".hubFilters").length && b.preventDefault()
        },
        _removeFilterOff: function(b) {
            var c = a(b.currentTarget);
            c.removeClass("filterOff")
        },
        _checkFilterStatus: function() {
            var b = a(".hubCategoryButton.filterOn").text();
            this.ui("hubFilter").fadeOut(400, function() {
                this.ui("hubFilterButton").each(function(c, d) {
                    var e = a(d),
                        f = 0,
                        g = e.data("categories");
                    "object" === ("undefined" == typeof g ? "undefined" : _typeof(g)) && (f = a.inArray(b, g)), -1 === f && e.addClass("noResults")
                }.bind(this)), this.ui("hubFilter").each(function(b, c) {
                    var d = a(c),
                        e = d.find(".hubFilterButton").not(".noResults").length;
                    return 0 !== e ? void d.fadeIn(400) : void 0
                })
            }.bind(this))
        },
        getHubItemsOnPage: function() {
            return this.uiElements.hubItem = this.$element.find(this.uiSelectors.hubItem), this.ui("hubItem").length
        },
        _backToTopEvent: function() {
            this._$window.scrollTop() - this.$element.offset().top > this._$window.height() && this.$element.addClass("itemsFadeOut"), b.setTimeout(function() {
                this.$element.removeClass("itemsFadeOut")
            }.bind(this), 400)
        },
        _filterScroll: function(b) {
            if (!("large" === this.breakpointSize || this._$window.height() < this.mobileStickyPoint)) {
                var c = a(b.currentTarget),
                    d = parseFloat(c.css("paddingTop"), 10),
                    e = c.offset().top + d;
                this.ui("hubFilterTitle").each(function(b, c) {
                    var f = a(c),
                        g = 0,
                        h = f.offset().top - e;
                    0 !== b && (h -= this.ui("hubFilterTitle").eq(b - 1).find(".hubFilterTitleWrapper").outerHeight()), 0 >= h && f.hasClass("hubFilterTitleSticky") === !1 ? (f.addClass("hubFilterTitleSticky").removeClass("hubFilterTitleInactive").find(".hubFilterTitleWrapper"), g = f.find(".hubFilterTitleWrapper").outerHeight(), 0 !== b && (d += g * b, this.ui("hubFilterTitle").eq(b - 1).addClass("hubFilterTitleInactive")), f.find(".hubFilterTitleWrapper").css("top", d)) : h > 0 && f.hasClass("hubFilterTitleSticky") && (f.removeClass("hubFilterTitleSticky").find(".hubFilterTitleWrapper").attr("styles", ""), 0 !== b && this.ui("hubFilterTitle").eq(b - 1).removeClass("hubFilterTitleInactive"))
                }.bind(this))
            }
        },
        filterScrollTo: function(b, c) {
            if (!("large" === this.breakpointSize || this._$window.height() < this.mobileStickyPoint)) {
                b && (c = a(b.currentTarget), b.stopPropagation());
                var d = c.parent(),
                    e = d.offset().top,
                    f = this.ui("hubFilterTitle").index(d) + 1,
                    g = this.ui("hubFiltersWrapper").scrollTop(),
                    h = d.height(),
                    i = e + g - this.ui("hubFiltersWrapper").offset().top;
                1 !== f ? i -= h : i += h, this.ui("hubFiltersWrapper").stop().animate({
                    scrollTop: i - parseFloat(this.ui("hubFiltersWrapper").css("paddingTop"), 10)
                }, 400)
            }
        },
        scrollToHub: function() {
            this.ui("hubHeader").addClass("transitioning"), site.utils.scrollTo(this.$element.offset().top + 2, 1.5 * this.options.filterTransitionDuration, function() {
                this.ui("hubHeader").removeClass("transitioning")
            }.bind(this), "hubSlowFadeInOut", !0)
        }
    };
    jQuery.easing.hubSlowFadeInOut = function(a, b, c, d, e) {
        return (b /= e / 2) < 1 ? -d / 2 * (Math.sqrt(1 - b * b) - 1) + c : d / 2 * (Math.sqrt(1 - (b -= 2) * b) + 1) + c
    }, jQuery.createComponent("HubFiltersView", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {},
        _$window: a(b),
        uiSelectors: {
            hubItemsList: ".hubItemsList",
            hubItem: ".hubItem",
            FooterNav: ".FooterNav",
            loadMoreButton: ".primaryLinkWithStyle.moreResults",
            ctaContainer: ".ctaContainer"
        },
        _contentStoryLimits: {
            pageLoad: {
                small: 8,
                medium: 8,
                large: 24
            },
            scrollLoad: {
                small: 8,
                medium: 8,
                large: 24
            }
        },
        _largeBreakpoint: 900,
        _smallBreakpoint: 740,
        _cacheContent: [],
        _additionalStoriesLoaded: 0,
        _cookie_expiry: .00694,
        init: function() {
            this.initEnquire(), this._initCookieBehaviour()
        },
        initEnquire: function() {
            this._cacheContent = [], enquire.register("screen and (min-width: " + (this._largeBreakpoint + 1) + "px)", {
                match: this._initOrLoad.bind(this, "large")
            }).register("screen and (min-width: " + (this._smallBreakpoint + 1) + "px) and (max-width: " + this._largeBreakpoint + "px)", {
                match: this._initOrLoad.bind(this, "medium")
            }).register("screen and (max-width: " + this._smallBreakpoint + "px)", {
                match: this._initOrLoad.bind(this, "small")
            })
        },
        _initOrLoad: function(a) {
            0 === this._cacheContent.length ? this._initInfiniteScroll(a) : this._enableInfiniteScroll(a)
        },
        _initInfiniteScroll: function(b) {
            this.uiElements.hubItem = this.$element.find(this.uiSelectors.hubItem);
            var c = this._getExtraStoriesNumber(),
                d = this._contentStoryLimits.pageLoad[b] + c,
                e = this.ui("hubItem"),
                f = [];
            e.length > d ? (e.each(function(b, c) {
                b >= d && (f.push(a(c)), a(c).remove())
            }), this._cacheContent = f, this._enableInfiniteScroll(b)) : this._disableInfiniteScroll();
        },
        _initCookieBehaviour: function() {
            if (this._interactiveStoryWasVisited()) {
                var b = this.$element.offset().top,
                    d = this._getLastScrollPosition();
                (b > d || this._getFilterState() === !0) && (d = b), a(c).ready(function() {
                    site.utils.scrollTo(d, 0, null, null, !0)
                })
            }
            this._createFilterStateCookie(!1), this._additionalStoriesLoaded = this._getExtraStoriesNumber();
            var e = !1;
            this.$element.on("HubFiltersController:filter_change", function(a, b) {
                e = !1;
                for (var c in b.filterState.itemCategory) b.filterState.itemCategory[c] === !0 && (e = !0);
                for (c in b.filterState.itemNameplate) b.filterState.itemNameplate[c] === !0 && (e = !0)
            }.bind(this)), this._$window.one("unload pagehide", function() {
                this._createFilterStateCookie(e), this._createExtraStoriesNumCookie(this._additionalStoriesLoaded), this._createScrollPositionCookie()
            }.bind(this))
        },
        _createExtraStoriesNumCookie: function(a) {
            site.utils.cookieManager.createCookie("extra_stories_loaded", a, this._cookie_expiry), site.utils.cookieManager.createCookie("interactive_story_visited", !1, this._cookie_expiry)
        },
        _getExtraStoriesNumber: function() {
            var a = 0;
            return this._interactiveStoryWasVisited() && (a = parseInt(site.utils.cookieManager.readCookie("extra_stories_loaded"), 10) || 0), a
        },
        _interactiveStoryWasVisited: function() {
            return "true" === site.utils.cookieManager.readCookie("interactive_story_visited")
        },
        _createFilterStateCookie: function(a) {
            site.utils.cookieManager.createCookie("filters_applied", a, this._cookie_expiry)
        },
        _getFilterState: function() {
            return "true" === site.utils.cookieManager.readCookie("filters_applied")
        },
        _createScrollPositionCookie: function() {
            site.utils.cookieManager.createCookie("scroll_position", this._$window.scrollTop(), this._cookie_expiry)
        },
        _getLastScrollPosition: function() {
            return parseInt(site.utils.cookieManager.readCookie("scroll_position"), 10) || 0
        },
        _enableInfiniteScroll: function(c) {
            this.$element.data("infinite-scroll") === !0 ? (a(b).unbind("scroll.infinte").on("scroll.infinte", this._loadingViaScroll.bind(this, c)), this.ui("ctaContainer").hide()) : (this.ui("loadMoreButton").addClass("showInfiniteButton"), this.ui("loadMoreButton").unbind("click").on("click", this._loadingMore.bind(this, c)))
        },
        _disableInfiniteScroll: function() {
            this.ui("loadMoreButton").unbind("click").removeClass("showInfiniteButton")
        },
        _loadingMore: function(a, b) {
            var c, d = this._contentStoryLimits.scrollLoad[a];
            b.preventDefault(), c = this._loadContent(d), this._additionalStoriesLoaded += d, this._createExtraStoriesNumCookie(this._additionalStoriesLoaded), 0 === c[c.length - 1] && (c.pop(), this._disableInfiniteScroll()), this.ui("hubItemsList").append(c), this.$element.HubFiltersView("updateCounter", this.$element.HubFiltersView("getHubItemsOnPage"), "hubHeaderCounter"), this.$element.HubLayout("onResize"), this.$element.HubLayout("loadImages"), site.utils.scrollTo(c[0]), this._contentAnimation(c)
        },
        _loadContent: function(a) {
            var b, c = this._cacheContent;
            return b = c.splice(0, a), a >= c && b.push(0), b
        },
        _contentAnimation: function(b) {
            a(b).each(function(b, c) {
                a(c).css({
                    opacity: 0,
                    y: 120
                }).transition({
                    opacity: 1,
                    y: 0,
                    delay: 100 * b
                })
            })
        },
        _loadingViaScroll: function(a) {
            var b, c = this.$element.offset().top + this.$element.height(),
                d = this._$window.scrollTop(),
                e = .95 * this._$window.height(),
                f = this._contentStoryLimits.scrollLoad[a];
            e > c - d && (b = this._loadContent(f), 0 === b[b.length - 1] && (b.pop(), this._disableInfiniteScroll()), this.ui("hubItemsList").append(b), this.$element.HubLayout("onResize"), this.$element.HubLayout("loadImages"), this.$element.HubFiltersView("updateCounter", this.$element.HubFiltersView("getHubItemsOnPage"), "hubHeaderCounter"), this._contentAnimation(b))
        }
    };
    jQuery.createComponent("HubInfinite", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {
            gridMarginHorizontal: 40,
            gridMarginVertical: 30,
            imageRatio: 450 / 680,
            itemMetaHeight: 12,
            doubleHeightItems: [2, 9, 19],
            columns: [
                [1, 4, 6, 9, 14, 17, 20, 22],
                [2, 7, 10, 12, 15, 18, 21, 23],
                [3, 5, 8, 11, 13, 16, 19, 24]
            ],
            rows: [
                [1, 2, 3],
                [4, 5],
                [6, 7, 8],
                [9, 10, 11],
                [12, 13],
                [14, 15, 16],
                [17, 18, 19],
                [20, 21],
                [22, 23, 24]
            ]
        },
        uiSelectors: {
            hubItemsWrapper: ".hubItemsWrapper",
            hubItemsList: ".hubItemsList",
            hubItem: ".hubItem",
            hubItemMeta: ".hubItem .itemMeta"
        },
        _largeLayoutOn: !1,
        _largeBreakpoint: 1281,
        _hubItemWidth: 0,
        _hubItemHeight: 0,
        _hubItemDoubleHeight: 0,
        _hubItemCol1Left: 0,
        _hubItemCol2Left: 0,
        _hubItemCol3Left: 0,
        init: function() {
            this._initEnquire(), a(b).smartresize(this.onResize.bind(this)), this._largeLayoutOn || this.loadImages()
        },
        _initEnquire: function() {
            enquire.register("screen and (min-width: " + this._largeBreakpoint + "px)", {
                match: this._initRefreshLargeLayout.bind(this),
                unmatch: this._undoLargeLayout.bind(this)
            }), enquire.register("screen and (orientation:landscape) and (max-width: " + b.site.breakpoints.small + "px)", {
                match: this._multipleEqualHeights.bind(this, !0),
                unmatch: this._multipleEqualHeights.bind(this, !1)
            })
        },
        onResize: function() {
            this._largeLayoutOn && this._initRefreshLargeLayout()
        },
        _undoLargeLayout: function() {
            this._largeLayoutOn = !1, this.$element.removeClass("layoutFixed").addClass("layoutUnfixed"), this.$element.find(".hubItem.doubleHeight").removeClass("doubleHeight"), this.loadImages()
        },
        _initRefreshLargeLayout: function() {
            this._largeLayoutOn = !0, this._calculateHubItemDimensions(), this.ui("hubItemsWrapper").each(this._masonryLayout.bind(this)), this.loadImages()
        },
        _calculateHubItemDimensions: function() {
            this._hubItemWidth = this.ui("hubItemsList").width() / 3, this._hubItemHeight = this._hubItemWidth * this.options.imageRatio + this.options.gridMarginVertical / 2, this._hubItemDoubleHeight = 2 * this._hubItemHeight + this.options.itemMetaHeight, this._hubItemCol2Left = this._hubItemWidth, this._hubItemCol3Left = 2 * this._hubItemCol2Left
        },
        _masonryLayout: function(b, c) {
            var d = a(c);
            this.$element.removeClass("layoutUnfixed").addClass("layoutFixed"), this._setItemsWidthHeight(d), this._setItemsDoubleHeight(d), this._positionColumns(d), this._positionRows(d), this._resizeWrapper(d)
        },
        _setItemsDoubleHeight: function(a) {
            var b = this._getNthChilds(this.options.doubleHeightItems),
                c = a.find(b).filter(this._filterLastItem);
            c.css("height", this._hubItemDoubleHeight).addClass("doubleHeight")
        },
        _filterLastItem: function(b, c) {
            return a(c).next().length
        },
        _setItemsWidthHeight: function(a) {
            var b = a.find(".hubItem");
            b.css({
                height: this._hubItemHeight,
                width: this._hubItemWidth
            })
        },
        _positionColumns: function(b) {
            var c = this._getNthChilds(this.options.columns[0]),
                d = this._getNthChilds(this.options.columns[1]),
                e = this._getNthChilds(this.options.columns[2]),
                f = b.find(c),
                g = b.find(d),
                h = b.find(e),
                i = "left";
            "rtl" === a("html").attr("dir") && (i = "right"), f.css(i, this._hubItemCol1Left), g.css(i, this._hubItemCol2Left), h.css(i, this._hubItemCol3Left)
        },
        _positionRows: function(b) {
            this.uiElements.hubItem = this.$element.find(this.uiSelectors.hubItem);
            for (var c = 24, d = this.ui("hubItem").length, e = Math.ceil(d / c), f = 0, g = function(a, b) {
                    var d = f,
                        e = f + (c - 1);
                    return a >= d && e >= a
                }, h = 0; e > h; h++) a.each(this.options.rows, this._positionRow.bind(this, this.ui("hubItem").filter(g), h)), f += c
        },
        _positionRow: function(a, b, c, d) {
            var e = this._getNthChilds(d),
                f = this._hubItemHeight + this.options.itemMetaHeight,
                g = a.filter(e),
                h = f * c;
            b > 0 && (h += f * (this.options.rows.length * b)), g.css("top", h)
        },
        _resizeWrapper: function(a) {
            var b, c = a.find(".hubItem").last(),
                d = parseInt(c.css("top"), 10),
                e = this._getRowItems(c, d),
                f = this._getTallestItemHeight(c, e);
            b = d + f + this.options.itemMetaHeight, a.css("height", b)
        },
        _getTallestItemHeight: function(b, c) {
            var d = 0;
            return a.each(c, function(b, c) {
                var e = a(c).height();
                d = e > d ? e : d
            }), d
        },
        _getRowItems: function(a, b) {
            for (var c, d = [a], e = a, f = 2, g = 0; f > g && (e = e.prev(), e.length) && (c = parseInt(e.css("top"), 10), !(b > c));) d.push(e), g++;
            return d
        },
        loadImages: function() {
            var a = ".hubItem:not(.doubleHeight) .itemImageStandardHeight",
                b = ".hubItem.doubleHeight .itemImageDoubleHeight",
                c = this.$element.find(a + ", " + b);
            site.utils.loadIgnoredResponsiveImages(c)
        },
        _getNthChilds: function(b) {
            var c = ".hubItem",
                d = b.length,
                e = "";
            return a.each(b, function(a, b) {
                e += c + ":nth-child(24n + " + b + ")", a !== d - 1 && (e += ", ")
            }), e
        },
        _multipleEqualHeights: function(a) {
            if (a)
                for (var b = 2, c = this.ui("hubItem").length, d = Math.ceil(c / b), e = 0, f = function(a, c) {
                        var d = e,
                            f = e + (b - 1);
                        return a >= d && f >= a
                    }, g = 0; d > g; g++) this.ui("hubItem").addClass("equalHeights").filter(f).find(".hubItemInner").removeAttr("style").equalHeights(), e += b;
            else this.ui("hubItem").removeClass("equalHeights").find(".hubItemInner").removeAttr("style")
        }
    };
    jQuery.createComponent("HubLayout", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _$window: a(b),
        _$html: a("html"),
        _$content: null,
        _$header: null,
        _headerHeightAtTop: 0,
        _limitTop: null,
        _limitBottom: null,
        _scrollPosition: 0,
        _scrollDirection: "down",
        _headerPushOutPointHeight: 0,
        headerPullFlag: !1,
        breakpointSize: "large",
        uiSelectors: {
            stickyContent: ".hubNavigationWrapper",
            backToTop: ".hubNavigationBackToTop"
        },
        init: function() {
            this.$element.data("sticky") === !0 && (this._initEnquire(), this._setElements(), this._setHeights(), this._$window.scrollTop() > 0 && this._headerPositioning(), this._setPosition(!1), this._attachEvents(), this._positionCalculations())
        },
        _initEnquire: function() {
            var a = this;
            enquire.register("screen and (min-width: " + site.breakpoints.medium + "px)", {
                match: function() {
                    a.breakpointSize = "large"
                }
            }), enquire.register("screen and (max-width: " + (site.breakpoints.medium - 1) + "px)", {
                match: function() {
                    a.breakpointSize = "medium"
                }
            }), enquire.register("screen and (max-width: " + site.breakpoints.small + "px)", {
                match: function() {
                    a.breakpointSize = "small"
                }
            })
        },
        _setElements: function() {
            this._$content = a("#content"), this._$header = a("#header, .dxnav-header"), this._$header.addClass("HubStickyNav")
        },
        _attachEvents: function() {
            this._$window.on("scroll", function(a) {
                if ("large" === this.breakpointSize || !this.$element.parent().hasClass("filtersOpen")) {
                    var b = this._$window.scrollTop();
                    this._setScrollDirection(b), this._setPosition(a), this._headerPositioning(), this._toggleBackToTopIcon(), "large" === this.breakpointSize && this._headerResizeBehaviours(b)
                }
            }.bind(this)), a(b).smartresize(this.viewResize.bind(this)), a(b).on("closeNotificationBar", this._notificationBarClose.bind(this)), a(b).on("stickyNavigationChange", this._headerHeightChange.bind(this)), a(b).on("subNavigationChange", function(a) {
                if (this.$element.hasClass("sticky")) this.ui("stickyContent").css("top", this._$header.outerHeight());
                else {
                    var b = this._$header.height() - this._headerHeightAtTop;
                    0 > b && (b = 0), this.ui("stickyContent").css("top", b)
                }
                this._setHeights()
            }.bind(this)), a(b).on("scrollHighjack", this._scrollHighjack.bind(this)), this.ui("backToTop").on("click", this._backToTop.bind(this))
        },
        viewResize: function() {
            this._setHeights(), this._headerPositioning(), this._setPosition(!1)
        },
        _headerHeightChange: function() {
            "large" === this.breakpointSize && "up" === this._scrollDirection && this.headerPullFlag === !0 && this.ui("stickyContent").css("top", this._headerHeightAtTop)
        },
        _scrollHighjack: function() {
            this.$element.addClass("transitioning"), this.resetHeaderPosition(), b.setTimeout(function() {
                this.$element.removeClass("transitioning")
            }.bind(this), 400)
        },
        _notificationBarClose: function() {
            this._$html.hasClass("touch") ? this.resetHeaderPosition(!0) : (this._setHeights(), this._setHeaderPostion())
        },
        _backToTop: function(b) {
            var c = function() {
                this.$element.removeClass("transitioning")
            }.bind(this);
            b && b.preventDefault(), this._$header.removeClass("stickyQuickReverse"), this.ui("stickyContent").removeClass("stickyQuickReverse"), this.$element.addClass("transitioning");
            var d = a.Event("hubNavBackToTop");
            this.$element.trigger(d);
            var e = this.$element.offset().top + site.utils.getStickyNavHeight(this.$element.offset().top);
            site.utils.scrollTo(e, 1e3, c, "hubSlowFadeInOut")
        },
        _setScrollDirection: function(a) {
            a < this._scrollPosition ? (this._scrollDirection = "up", this.$element.addClass("scrolllUp").removeClass("scrolllDown")) : (this._scrollDirection = "down", this.$element.addClass("scrolllDown").removeClass("scrolllUp"), "large" === this.breakpointSize && a < site.stickyNavigationTransitionPoint + this.$element.height() && (this.headerPullFlag = !1)), this._scrollPosition = a
        },
        _setHeights: function() {
            this.$element.height(this.ui("stickyContent").height()), this._headerPushOutPointHeight = site.utils.getStickyNavHeight(this.$element.offset().top), this._headerHeightAtTop = site.utils.getStickyNavHeight(0), this._headerPushOutPointHeight < this._headerHeightAtTop
        },
        _positionCalculations: function() {
            if (this._limitTop = this.$element.offset().top, this._limitBottom = 0, 0 !== this._$content.length) {
                var a = this._$content.offset();
                this._limitBottom = a.top + this._$content.outerHeight()
            }
        },
        _setPosition: function(b) {
            this._positionCalculations();
            var c = this._$window.scrollTop(),
                d = !1;
            this._$html.hasClass("touch") && (this._limitTop = this._limitTop + this.ui("stickyContent").outerHeight(), this._limitBottom = this._limitBottom - this.ui("stickyContent").outerHeight()), "up" === this._scrollDirection && this.headerPullFlag === !0 && (this._limitTop -= this._$header.outerHeight());
            var e = this.$element.offset().top + this._headerPushOutPointHeight + this.ui("stickyContent").outerHeight();
            if (c > e && "large" === this.breakpointSize && c > 2 * site.stickyNavigationTransitionPoint && (this.headerPullFlag = !0), c > e && ("small" === this.breakpointSize || "medium" === this.breakpointSize) && (this.headerPullFlag = !0), c >= this._limitTop) {
                this.$element.hasClass("sticky") === !1 && (d = a.Event("hubHeader:sticky")), this.$element.addClass("sticky");
                var f = c + this.ui("stickyContent").outerHeight();
                if (f > this._limitBottom) {
                    this.$element.removeClass("stickyQuickReverse");
                    var g = this._limitBottom - f;
                    this._$html.hasClass("touch") && Math.abs(g) < this.ui("stickyContent").outerHeight() && (g = -this.ui("stickyContent").outerHeight()), this.ui("stickyContent").css("top", g)
                } else "down" === this._scrollDirection && this._$html.hasClass("no-touch") && this.ui("stickyContent").css("top", ""), this._$html.hasClass("touch") && "down" === this._scrollDirection && this.touchStickyPositioning()
            } else this.$element.hasClass("sticky") && (d = a.Event("hubHeader:unsticky")), this.$element.removeClass("sticky"), this.resetHeaderPosition(!0);
            d !== !1 && this.$element.trigger(d)
        },
        _headerPositioning: function() {
            var a = this._$window.scrollTop();
            if (site.stickyNavigationEnabled !== !1) {
                var b = "",
                    c = this._headerPushOutPointHeight;
                this.$element.offset().top < a && (c = this._$header.outerHeight());
                var d = this._$header.offset().top - a,
                    e = d + c,
                    f = this.$element.first().offset().top - a;
                f + this.$element.height();
                if (this.headerPullFlag === !0 && this.$element.hasClass("transitioning") === !1 && "up" === this._scrollDirection && a < this._limitBottom - c - this.ui("stickyContent").height()) return void(0 !== d && this._setHeaderPostion());
                this.$element.hasClass("transitioning") && this.resetHeaderPosition(!0), b = d + (f - e), b = b > 0 ? 0 : b, Math.abs(b) >= c && (b = -c), b += "px", this._$header.css("top", b)
            }
        },
        _setHeaderPostion: function() {
            var a = this._$header.height();
            this._$header.css("top", 0), this._$header.addClass("stickyQuickReverse"), this.$element.addClass("stickyQuickReverse"), this._$html.hasClass("touch") && (a -= this.ui("stickyContent").outerHeight()), this.ui("stickyContent").css("top", a)
        },
        resetHeaderPosition: function(a) {
            a && (this._$header.removeClass("stickyQuickReverse"), this.$element.removeClass("stickyQuickReverse"), this.headerPullFlag = !1), "up" === this._scrollDirection && this.$element.hasClass("sticky") && this._$header.css("top", -this._$header.height()), this.ui("stickyContent").css("top", "")
        },
        touchStickyPositioning: function() {
            this.ui("stickyContent").css("top", -this.ui("stickyContent").outerHeight())
        },
        _toggleBackToTopIcon: function() {
            this._$window.scrollTop() >= this.$element.offset().top + 10 ? this.$element.addClass("showBackToTop") : this.$element.removeClass("showBackToTop")
        },
        _headerResizeBehaviours: function(a) {
            a <= this._headerHeightAtTop ? this.$element.addClass("notransition") : (this._$header.removeClass("notransition"), this.$element.removeClass("notransition")), a <= site.stickyNavigationTransitionPoint + this.$element.height() && this.$element.addClass("notransitionDelay"), (a > site.stickyNavigationTransitionPoint + this.$element.height() || 0 === a) && this.$element.removeClass("notransitionDelay notransition")
        }
    };
    jQuery.createComponent("HubNavigation", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        init: function() {
            var b = this,
                c = this.$element.data("experiment-id"),
                d = 1;
            "undefined" != typeof cxApi && (d = cxApi.chooseVariation() + 1), this.$element.data("force-ignitev2") === !0 && (d = 2);
            var e = b._getParameterByName("ignite");
            e.length > 0 && (d = Number(e)), dataLayer.push({
                event: "contentExperimentLoaded",
                experimentID: c,
                variantID: "igniteBar" + d
            });
            var f = a(".IgniteBarV1", b.$element),
                g = a(".IgniteBarV2", b.$element),
                h = a(".IgniteBarDevice");
            2 === d ? (f.remove(), h.remove(), g.IgniteBarV2()) : (g.remove(), f.IgniteBarV1())
        },
        _getParameterByName: function(a) {
            a = a.replace(/[\[]/, "\\[").replace(/[\]]/, "\\]");
            var b = new RegExp("[\\?&]" + a + "=([^&#]*)"),
                c = b.exec(location.search);
            return null === c ? "" : decodeURIComponent(c[1].replace(/\+/g, " "))
        }
    };
    jQuery.createComponent("IgniteBar", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {},
        uiSelectors: {
            items: "li",
            mainLinks: "li > span > a",
            lastLink: "li:last-child > span > a",
            vee24Link: "li.vee24"
        },
        isHovered: !1,
        isOpen: !0,
        _isTouchDevice: !1,
        init: function() {
            this.$element.addClass("visible"), this._setTouchState(), this._initElementEvents(), this._initScroll(), this._open()
        },
        _open: function() {
            this._isTouchDevice && a(c).on("touchstart", a.proxy(this._onDocumentTouch, this)), this.$element.addClass("open"), this.isOpen = !0
        },
        _close: function() {
            this.$element.removeClass("open"), this.isOpen = !1
        },
        _initScroll: function() {
            a(b).on("scroll", site.utils.throttle(a.proxy(this._onScroll, this)))
        },
        _uninitScroll: function() {
            a(b).off("scroll", site.utils.throttle(a.proxy(this._onScroll, this)))
        },
        _onScroll: function(a) {
            a.originalEvent && !this.isHovered && this._close()
        },
        _initElementEvents: function() {
            var b = this;
            if (this._isTouchDevice) this.ui("items").find(" > a").on("touchend click", a.proxy(this._onElementTouchClick, this));
            else {
                this.ui("items").find(" > a").on("mouseenter", a.proxy(this._onLinkMouseenter, this)), this.$element.on("mouseenter", a.proxy(this._onElementMouseenter, this)), this.$element.on("mouseleave", a.proxy(this._onElementMouseleave, this));
                var c = this.ui("mainLinks");
                c.on("focus", a.proxy(this._onLinkMouseenter, this)), c.on("keydown", function(a) {
                    b._isLosingFocus(a) && b._close()
                })
            }
            this.ui("vee24Link").on("click tap", function(a) {
                a.preventDefault(), this._openVee24()
            }.bind(this)), this.$element.on("touchend click", a.proxy(this._onTouchClick, this)), this._switchLiveChat(!0)
        },
        _isTabbing: function(a) {
            return 9 === a.keyCode
        },
        _isTabbingForward: function(a) {
            return this._isTabbing(a) && a.shiftKey === !1
        },
        _isTabbingBackward: function(a) {
            return this._isTabbing(a) && a.shiftKey === !0
        },
        _isLosingFocus: function(b) {
            var c = a(b.target)[0],
                d = this.ui("mainLinks").first()[0],
                e = this.ui("lastLink")[0];
            return d === c && this._isTabbingBackward(b) || e === c && this._isTabbingForward(b)
        },
        _onLinkMouseenter: function() {
            this._open()
        },
        _onElementMouseenter: function() {
            this.isHovered = !0
        },
        _onElementMouseleave: function() {
            this.isHovered = !1
        },
        _onTouchClick: function(a) {
            this.isOpen || (a.preventDefault(), this._open())
        },
        _onDocumentTouch: function(b) {
            var d = a(b.target),
                e = d.parents(".IgniteBarV1").length || d === this.$element;
            e || (a(c).off("click touchstart", a.proxy(this._onDocumentTouch, this)), this._close())
        },
        _openVee24: function() {
            a(b).trigger("vee24_launch_chat")
        },
        _setTouchState: function() {
            this._isTouchDevice = a("html").hasClass("touchCapability") ? !0 : !1
        },
        _switchLiveChat: function(a) {
            var b = new Date,
                c = (b.getDay(), this._isOpenTime(b));
            if (a === !0) {
                if (c === !1) return this.ui("vee24Link").css("display", "none"), void setTimeout(this._switchLiveChat.bind(this, !1), 6e4)
            } else if (c === !0) return this.ui("vee24Link").css("display", "block"), void setTimeout(this._switchLiveChat.bind(this, !0), 6e4);
            b = new Date;
            var d = 6e4 - b % 6e4;
            setTimeout(this._switchLiveChat.bind(this, a), d)
        },
        _isOpenTime: function(a) {
            var b, c, d, e = this._isDST(a);
            return e ? (b = new Date(Date.UTC(a.getFullYear(), a.getMonth(), a.getDate(), 7, 30, 0)), c = new Date(Date.UTC(a.getFullYear(), a.getMonth(), a.getDate(), 16, 0, 0))) : (b = new Date(Date.UTC(a.getFullYear(), a.getMonth(), a.getDate(), 8, 30, 0)), c = new Date(Date.UTC(a.getFullYear(), a.getMonth(), a.getDate(), 17, 0, 0))), d = a.getTime() > b.getTime() && a.getTime() < c.getTime()
        },
        _isDST: function(a) {
            var b = new Date(a.getFullYear(), 0, 1),
                c = new Date(a.getFullYear(), 6, 1);
            return Math.min(b.getTimezoneOffset(), c.getTimezoneOffset()) === a.getTimezoneOffset()
        }
    };
    jQuery.createComponent("IgniteBarV1", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        uiSelectors: {
            barContainer: ".barContainer",
            toggle: ".toggle",
            toggleLabel: ".toggle .toggleLabel",
            toggleCrossIcon: ".toggle .toggleCrossIcon",
            vee24Link: ".actionItemVee24 .action a"
        },
        _$window: a(b),
        _$header: a("#header"),
        _transitionTime: 400,
        _sharingWidth: 0,
        _overlayTimeout: null,
        _idleTime: 3e4,
        _idleTimer: null,
        init: function() {
            var a = this;
            a.$element.addClass("visible"), a._setPosition(!1), a._bindEvents(), a._initialPagePopOut(), a._setIdlePop()
        },
        _setPosition: function(a) {
            var b = this;
            a = a === !0 ? !0 : !1;
            var c = b._$window.height(),
                d = b.$element.height(),
                e = (c - d) / 2,
                f = b._getHeaderBottom();
            e = f > e ? f : e, a ? b.$element.addClass("animate") : b.$element.removeClass("animate"), b.$element.css("top", e + "px")
        },
        _getHeaderBottom: function() {
            var a = this,
                b = a._$header.offset().top + a._$header.height() - a._$window.scrollTop();
            return b
        },
        _bindEvents: function() {
            var b = this;
            b.ui("toggle").on("click tap", function(a) {
                a.preventDefault(), b._toggle()
            }), a(".igniteOverlay").on("click tap", function() {
                b._close()
            }), b.ui("vee24Link").on("click tap", function(a) {
                a.preventDefault(), b._openVee24()
            }), b._$window.on("resize", function() {
                b._setPosition(!0)
            }), b._$window.on("scroll.ignitePopOut", b._closePagePopOut.bind(b)), b._$window.on("scroll click tap", b._clearIdlePop.bind(b))
        },
        _setIdlePop: function() {
            var a = this;
            a._idleTimer = setInterval(function() {
                a._idlePop()
            }, a._idleTime)
        },
        _idlePop: function() {
            var a = this;
            this.ui("toggleCrossIcon").removeClass("transition"), setTimeout(function() {
                a.ui("toggleCrossIcon").addClass("transition")
            }, 0)
        },
        _clearIdlePop: function() {
            clearInterval(this._idleTimer), this._setIdlePop()
        },
        _toggle: function() {
            var a = this;
            a.$element.hasClass("open") ? a._close() : a._open()
        },
        _open: function() {
            var a = this;
            a.$element.addClass("open"), a._openOverlay(), a._closePagePopOut()
        },
        _close: function() {
            var a = this;
            a.$element.removeClass("open"), a._closeSharing(), a._closeOverlay()
        },
        _openOverlay: function() {
            var b = this;
            b._overlayTimeout && clearTimeout(b._overlayTimeout),
             a(".igniteOverlay").addClass("visible active")
        },
        _closeOverlay: function() {
            var b = this,
                c = a(".igniteOverlay");
            c.removeClass("active"), b._overlayTimeout = setTimeout(function() {
                c.removeClass("visible")
            }, 5 * b._transitionTime)
        },
        _openVee24: function() {
            var a = this;
            a._$window.trigger("vee24_launch_chat")
        },
        _initialPagePopOut: function() {
            var a = site.utils.cookieManager.readCookie("JLR_IgniteBar");
            null === a && (site.utils.cookieManager.createCookie("JLR_IgniteBar", !0, .04), this._openPagePopOut())
        },
        _openPagePopOut: function() {
            this.ui("toggleLabel").addClass("open")
        },
        _closePagePopOut: function() {
            if (this.ui("toggleLabel").hasClass("open")) {
                if (a(b).scrollTop() <= 0) return !1;
                this.ui("toggleLabel").removeClass("open")
            }
            this._$window.off("scroll.ignitePopOut")
        }
    };
    jQuery.createComponent("IgniteBarV2", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        init: function() {
            this._bindEvents()
        },
        _bindEvents: function() {
            var b = this;
            a("a", b.$element).on("click tap", {
                that: b
            }, b._onBarClick)
        },
        _onBarClick: function(c) {
            c.data.that;
            return a(c.currentTarget).hasClass("vee24") ? (c.stopImmediatePropagation(), c.preventDefault(), void a(b).trigger("vee24_launch_chat")) : void 0
        }
    };
    jQuery.createComponent("IgniteBarDevice", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {},
        _isCheckbox: null,
        _fieldWrapperElement: null,
        init: function() {
            this._isCheckbox = this.$element.is(":checkbox"), this._label = this.$element.siblings("label"), this._createComponentElements(), this._assignChangeEvents(), this.$element.hide()
        },
        _createComponentElements: function() {
            this._fieldWrapperElement = this.$element.wrap("<div class='ImageSelect'></div>").parent(), this._fieldImage = this.$element.data("image"), this._fieldText = this.$element.siblings(".text"), this._isSelected = this.$element.data("selected"), this._fieldWrapperElement.addClass(this._fieldImage), this._isSelected && (this.$element.prop("checked", !0), this._fieldWrapperElement.addClass("selected"), this._label.addClass("selected"))
        },
        _assignChangeEvents: function() {
            this._label.off("click tap").on("click tap", function(a) {
                a.preventDefault(), this._isCheckbox && this._processClickEvent()
            }.bind(this)), this._fieldWrapperElement.off("click tap").on("click tap", function(a) {
                a.preventDefault(), this._processClickEvent()
            }.bind(this)), this.$element.off("change").on("change", function() {
                this._processChangeEvent()
            }.bind(this))
        },
        _processChangeEvent: function() {
            this.$element.is(":checked") ? (this._fieldWrapperElement.addClass("selected"), this._label.addClass("selected")) : (this._fieldWrapperElement.removeClass("selected"), this._label.removeClass("selected"))
        },
        _processClickEvent: function() {
            if (!this._isCheckbox) {
                var b = this.$element.attr("name");
                a("input[type=radio][name=" + b + "]").each(function(b, c) {
                    a(c).prop("checked", !1), a(c).trigger("change")
                }.bind(this))
            }
            this.$element.is(":checked") ? this.$element.prop("checked", !1) : this.$element.prop("checked", !0), this.$element.trigger("change")
        }
    };
    jQuery.createComponent("ImageSelect", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _$dropdown: null,
        init: function() {
            this.$element.css({
                overflow: "hidden"
            }), this._$dropdown = a(".DropdownNav", this.$element), this.bindEvents()
        },
        bindEvents: function() {
            var b = this;
            a(".chooseModel > a", this.$element).on("click tap", function(a) {
                a.stopPropagation(), a.preventDefault(), b._open()
            })
        },
        _open: function() {
            var b = this,
                c = b.$element.height();
            b.$element.height(c), a(".modelsContainer", b.$element).show(), b.$element.transition({
                height: a(".modelsContainer", b.$element).height(),
                duration: 400
            }), a(".subNavWrapper", b.$element).transition({
                y: 0 - c,
                duration: 400
            }, function() {
                b.$element.addClass("modelsOpened")
            }), a(".subNavWrapper > ul > li > a", b.$element).attr("tabindex", "-1"), a(".modelsContainer .back", b.$element).on("click tap", function(a) {
                a.preventDefault(), b._close()
            })
        },
        _close: function() {
            var b = this,
                c = a(".modelsContainer", b.$element),
                d = c.height();
            c.hide(), b.$element.height("auto");
            var e = b.$element.height();
            b.$element.height(d), c.show(), b.$element.transition({
                height: e,
                duration: 400
            }), a(".subNavWrapper", b.$element).transition({
                y: 0,
                duration: 400
            }, function() {
                a(".modelsContainer", b.$element).hide(), b.$element.height("auto"), b.$element.removeClass("modelsOpened")
            }), a(".subNavWrapper > ul > li > a", b.$element).attr("tabindex", ""), a(".modelsContainer .back", b.$element).off("click tap")
        },
        openModelsOnRotate: function() {
            var a = this;
            a._openModelsOnRotate = !0, enquire.register("screen and (min-width: 1px) and (max-width: " + site.breakpoints.small + "px)", {
                setup: function() {
                    a._openModelsOnRotate === !0 && (a._openModelsOnRotate = !1, a.$element.hasClass("modelsOpened") || (a._$dropdown.hasClass("active") ? a._open() : (a._$dropdown.DropdownNav("open"), setTimeout(function() {
                        a._open()
                    }, 500))))
                },
                deferSetup: !0
            })
        },
        closeModels: function() {
            var a = this;
            a._openModelsOnRotate = !1, this.$element.hasClass("modelsOpened") && a._close()
        }
    };
    jQuery.createComponent("InPageSubNavigation", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {
            componentIndicator: !0,
            componentIndicatorScrollDuration: 800,
            componentIndicatorScollToFitViewportWait: 2e3,
            componentIndicatorLinkRingScale: .625,
            componentIndicatorLinkRingOpacity: .8
        },
        _$window: a(b),
        _componentsInited: !1,
        _isTouchDevice: !1,
        _dimensions: {
            window: {},
            componentTriggerHook: 0,
            scollToFitViewportTriggerHook: 0,
            header: {},
            footer: {},
            componentIndicator: {},
            scrollTop: 0
        },
        uiSelectors: {
            componentIndicator: ".componentIndicator",
            component: ".components .component:not(.componentIndicatorIgnore)",
            componentIndicatorLink: ".componentIndicatorLink",
            slideReveal: ".slideReveal",
            storyHeader: ".InteractiveStoryHeader",
            titleContainer: ".InteractiveStoryHeader .titleContainer",
            StoryHero: ".StoryHero",
            headerBox: ".StoryHero .headerBox",
            HeroCarousel: ".HeroCarousel",
            articleSharing: ".interactiveStorySharing",
            exploreMoreWording: ".js-itemCategory",
            exploreMoreButton: ".InteractiveStoryHeader .navButton",
            StoryArticle: ".StoryArticle",
            StoryCredit: ".StoryCredit"
        },
        init: function() {
            this._detectDeviceType(), this._refreshDimensions(), this._bindEvents(), this._trackResize(), this._trackStoryHeader(), this._validateHubCookies(), this._getItemCategorySession(), this.options.componentIndicator && this.ui("component").length > 1 && this._componentIndicatorInit(), this.ui("slideReveal").length > 0 && this._revealInit(), this.ui("StoryCredit").length > 0 && this._setCreditAlignment(), this._initComponents()
        },
        _detectDeviceType: function() {
            this._isTouchDevice = site.utils.isMobileDevice(), this._isTouchDevice && (this.$element.addClass("touch"), this.options.componentIndicator = !1)
        },
        _setCreditAlignment: function() {
            "centre" === this.ui("StoryArticle").first().data("alignment") && this.ui("StoryCredit").parent().addClass("centre")
        },
        _getItemCategorySession: function() {
            var c = sessionStorage.getItem("itemCategory"),
                d = sessionStorage.getItem("itemNameplate"),
                e = sessionStorage.getItem("itemTag"),
                f = "",
                g = "",
                h = "";
            if (null !== c) {
                f = "itemCategory=" + c;
                this.ui("exploreMoreWording").each(function(b, d) {
                    var e = a(d),
                        f = a.trim(e.text());
                    e.hasClass("hideOnOver1024") ? e.html(f.replace("EXPLORE", c)) : e.html(f.replace("MORE", c))
                })
            }
            null !== d && (g = "itemNameplate=" + d), null !== e && (h = "itemTag=" + e);
            var i = f + ("" !== g ? "&" + g : "") + ("" !== h ? "&" + h : ""),
                j = i.replace(/^&/, "");
            if ("" !== j) {
                j = "?" + j, b.history.back && this.ui("exploreMoreButton").on("click", function(a) {
                    a.preventDefault(), b.history.back()
                });
                var k = this.ui("exploreMoreButton").attr("href");
                this.ui("exploreMoreButton").attr("href", k + j)
            }
        },
        _refreshDimensions: function() {
            var b = a("#header");
            a(".FooterNav, .SubFooter").eq(0);
            this._dimensions.window.height = this._$window.height(), this._dimensions.componentTriggerHook = this._dimensions.window.height * this._componentIndicatorComponentTriggerHook, this._dimensions.scollToFitViewportTriggerHook = this._dimensions.window.height * this._componentIndicatorScollToFitViewportTriggerHook, this._dimensions.header.bottom = b.height(), this._refreshDimensionsCompontentIndicator()
        },
        getDimension: function(a, b) {
            var c = null !== a ? this._dimensions[a][b] : this._dimensions[b];
            return "undefined" != typeof c ? c : !1
        },
        _refreshDimensionsCompontentIndicator: function() {
            this._dimensions.componentIndicator.top = this.ui("componentIndicator").offset().top
        },
        _bindEvents: function() {
            this._$window.smartresize(this._refreshDimensions.bind(this))
        },
        _initComponents: function() {
            this.ui("StoryHero").StoryHero(), this.$element.find(".StoryArticle").StoryArticle(), this.$element.find(".StoryArticleVideo").StoryArticleVideo(), this.$element.find(".StoryArticleImage").StoryArticleImage(), this.$element.find(".StoryArticleEnhancedImageBlock").StoryArticleEnhancedImageBlock(), this.$element.find(".StoryArticleQuote").StoryArticleQuote(), this.$element.find(".StoryExtract").StoryExtract(), this.$element.find(".StoryGallery").StoryGallery(), this.$element.find(".StoryCallsToAction").StoryCallsToAction(), this.$element.find(".StoryLinks").StoryLinks(), this.$element.find(".StoryArticleMap").StoryArticleMap(), this._componentsInited = !0, this.$element.trigger("componentsInited.InteractiveStory")
        },
        componentsInited: function() {
            return this._componentsInited
        },
        _trackResize: function() {
            var b = a(this._$window, this.$element.parents(".InteractiveStory").find(".component"));
            b.smartresize(this._trackedResize.bind(this))
        },
        _trackStoryHeader: function() {
            function b() {
                if (g.length) {
                    var a = f.scrollTop(),
                        b = h.offset().top - a + .5 * h.height(),
                        c = g.offset().top - a;
                    c >= b ? i.addClass("title_visible") : b > c && i.removeClass("title_visible")
                }
            }

            function d() {
                var a = g.height() ? g.height() : 0,
                    b = h.offset().top + .5 * h.height(),
                    c = f.scrollTop() + a;
                c >= b ? i.addClass("title_visible") : b > c && i.removeClass("title_visible")
            }
            if (!this.ui("headerBox").length) return !1;
            var e = !1,
                f = a(c),
                g = this.ui("storyHeader"),
                h = this.ui("headerBox"),
                i = this.ui("titleContainer"),
                j = site.utils.isMobileDevice() ? d : b;
            this._$window.on("load", j), this._$window.on("scroll", function() {
                e && clearTimeout(e), e = setTimeout(j, 17)
            })
        },
        _validateHubCookies: function() {
            if ("false" === site.utils.cookieManager.readCookie("interactive_story_visited")) {
                var a = .00694,
                    b = site.utils.cookieManager.readCookie("extra_stories_loaded"),
                    c = site.utils.cookieManager.readCookie("filters_applied"),
                    d = site.utils.cookieManager.readCookie("scroll_position");
                site.utils.cookieManager.createCookie("extra_stories_loaded", parseInt(b, 10), a), site.utils.cookieManager.createCookie("interactive_story_visited", !0, a), site.utils.cookieManager.createCookie("filters_applied", c, a),
                    site.utils.cookieManager.createCookie("scroll_position", d, a)
            }
        },
        _trackedResize: function() {
            this.$element.trigger("resize.InteractiveStory")
        },
        _$componentIndicatorList: null,
        _componentIndicatorWaypoints: {},
        _componentIndicatorIsScrolling: !1,
        _componentIndicatorStates: {
            scrolling: "componentIndicatorScrolling",
            linkActive: "active",
            linkScrollingTo: "scrollingTo"
        },
        _componentIndicatorScollToFitViewportTimeout: 0,
        _componentIndicatorComponentTriggerHook: 1,
        _componentIndicatorScollToFitViewportTriggerHook: .3,
        _componentIndicatorTransitionStylingApplied: !1,
        _componentIndicatorInit: function() {
            this._$componentIndicatorList = a('<ol class="componentIndicatorList"/>'), this.ui("componentIndicator").append(this._$componentIndicatorList), this._componentIndicatorCheckForIgnores(), this.ui("component").each(this._componentIndicatorBuildItem.bind(this)), this._componentIndicatorRefreshWaypoints(), this._refreshDimensions(), this._$window.smartresize(this._componentIndicatorRefreshWaypoints.bind(this)), this.ui("component").smartresize(this._componentIndicatorRefreshWaypoints.bind(this)), this._$window.on("scroll resize", this._componentIndicatorOnScrollResize.bind(this)), this._componentIndicatorRefresh()
        },
        componentIndicatorIsScrolling: function() {
            return this._componentIndicatorIsScrolling
        },
        _componentIndicatorCheckForIgnores: function() {
            this.ui("component").each(function(b, c) {
                var d = a(c);
                d.find(">").data("component-indicator-ignore") && d.addClass("componentIndicatorIgnore")
            }), this.uiElements.component = this.$element.find(this.uiSelectors.component)
        },
        _componentIndicatorGetLink: function(b) {
            return this.ui("componentIndicatorLink").filter(function() {
                return a(this).attr("href") === "#" + b
            })
        },
        _componentIndicatorBuildItem: function(b, c) {
            var e = a(c);
            if (e.attr("id") !== d) {
                var f = a('<li class="componentIndicatorItem"></li>'),
                    g = a('<a href="#' + e.attr("id") + '" class="componentIndicatorLink"><span class="componentIndicatorLinkRing"></span><span class="componentIndicatorLinkDot"></span></a>');
                this._$componentIndicatorList.append(f.append(g)), g.on("click", this._componentIndicatorOnClickLink.bind(this, g))
            }
        },
        _componentIndicatorHighlightLink: function(a) {
            this.ui("componentIndicatorLink").removeClass(this._componentIndicatorStates.linkActive), a && this._componentIndicatorGetLink(a).addClass(this._componentIndicatorStates.linkActive)
        },
        _componentIndicatorCheckWaypoints: function(c) {
            var d, e = !1,
                f = [],
                g = this._dimensions.componentTriggerHook;
            a.each(this._componentIndicatorWaypoints, function(a) {
                var b = this._componentIndicatorWaypoints[a];
                return c >= b.top - g && c <= b.bottom - 1 && f.push(a), f.length > 1 ? !1 : void 0
            }.bind(this)), e = f[0], b.clearTimeout(this._componentIndicatorScollToFitViewportTimeout), this._componentIndicatorTransitionStylingApplied && this._componentIndicatorRemoveTransitionStyling(), f.length > 1 && !this._componentIndicatorIsScrolling && (d = this._componentIndicatorTransitionLinks(f, c), this._componentIndicatorScrollToFitViewport(c, d)), this._componentIndicatorHighlightLink(e)
        },
        _componentIndicatorScrollToFitViewport: function(c, d) {
            var e = this._componentIndicatorWaypoints[d],
                f = e.top,
                g = e.componentTop,
                h = this._dimensions.scollToFitViewportTriggerHook,
                i = this.options.componentIndicatorScrollDuration,
                j = f + h > c && c !== f;
            j && (this._componentIndicatorScollToFitViewportTimeout = b.setTimeout(site.utils.scrollTo.bind(site.utils, g, i, a.noop, "easeOutSine", !0), this.options.componentIndicatorScollToFitViewportWait))
        },
        _componentIndicatorTransitionLinks: function(b, c) {
            var d, e = b[0],
                f = this._dimensions.componentTriggerHook,
                g = this._componentIndicatorWaypoints[e],
                h = (g.bottom - c) / f,
                i = 1 - h,
                j = h > this._componentIndicatorScollToFitViewportTriggerHook ? 0 : 1;
            return a.each(b, function(a, b) {
                var c = this._componentIndicatorGetLink(b),
                    d = a ? i : h,
                    e = this.options.componentIndicatorLinkRingScale,
                    f = d * (1 - e) + e,
                    g = this.options.componentIndicatorLinkRingOpacity + d;
                c.addClass("noTransition"), c.find(".componentIndicatorLinkRing").css({
                    transform: "scale(" + f + ") translate3d(0,0,0)",
                    opacity: g
                }), c.find(".componentIndicatorLinkDot").css("transform", "scale(" + d + ")")
            }.bind(this)), this._componentIndicatorTransitionStylingApplied = !0, d = b[j]
        },
        _componentIndicatorRemoveTransitionStyling: function() {
            this.ui("componentIndicatorLink").removeClass("noTransition").find(".componentIndicatorLinkRing, .componentIndicatorLinkDot").css({
                transform: "",
                opacity: ""
            }), this._componentIndicatorTransitionStylingApplied = !1
        },
        _componentIndicatorUpdatePosition: function(a) {
            var b, c = a + this._dimensions.window.height,
                d = Math.max(0, (this._dimensions.header.bottom - a) / 2),
                e = Math.max(0, c - this._dimensions.footer.top);
            b = d ? "translateY(-50%) translate(0, " + d + "px)" : e ? "translateY(-50%) translate(0, -" + e + "px)" : "translateY(-50%)", this.ui("componentIndicator").css("transform", b)
        },
        _componentIndicatorOnClickLink: function(a, c) {
            var d = a.attr("href").replace("#", ""),
                e = this.options.componentIndicatorScrollDuration;
            c.preventDefault(), a.addClass(this._componentIndicatorStates.linkScrollingTo), this.ui("componentIndicator").addClass(this._componentIndicatorStates.scrolling), this._componentIndicatorIsScrolling = !0, this._$window.trigger("scrolling.InteractiveStory.start"), site.utils.scrollTo(this._componentIndicatorWaypoints[d].top, e), b.setTimeout(function() {
                this._$window.trigger("scrolling.InteractiveStory.stop"), a.removeClass(this._componentIndicatorStates.linkScrollingTo), this.ui("componentIndicator").removeClass(this._componentIndicatorStates.scrolling), this.ui("componentIndicatorLink").removeClass("active"), a.addClass("active"), this._componentIndicatorIsScrolling = !1
            }.bind(this), e + 50)
        },
        _componentIndicatorOnScrollResize: function() {
            b.requestAnimationFrame(this._componentIndicatorRefresh.bind(this))
        },
        _componentIndicatorRefreshWaypoints: function() {
            this.ui("component").each(function(b, c) {
                var d = a(c),
                    e = d.attr("id"),
                    f = Math.round(d.offset().top),
                    g = Math.round(d.height() + f);
                this._componentIndicatorWaypoints[e] = {
                    top: 0 === b ? 0 : f,
                    componentTop: f,
                    bottom: g
                }
            }.bind(this))
        },
        _componentIndicatorRefresh: function() {
            var a = this._$window.scrollTop();
            this._dimensions.scrollTop = a, this._componentIndicatorCheckWaypoints(a), this._componentIndicatorUpdatePosition(a)
        },
        _revealInit: function() {
            this._isTouchDevice || this.ui("slideReveal").InteractiveStorySlideReveal().InteractiveStorySlideRevealOverlay({
                InteractiveStory: this
            })
        }
    };
    jQuery.createComponent("InteractiveStory", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _$window: a(b),
        _slideRevealWrapperRef: ".slideRevealWrapper",
        _$slideRevealWrapper: null,
        _slideRevealWrapperHeight: 0,
        _componentParentRef: ".component",
        _$componentParent: null,
        _componentParentTop: 0,
        init: function() {
            this._isTouchDevice || (this._revealAddWrapper(), this._onResize(), this._revealBindEvents())
        },
        _revealAddWrapper: function() {
            this.$element.wrap('<div class="' + this._slideRevealWrapperRef.replace(".", "") + '"></div>'), this._$slideRevealWrapper = this.$element.parents(this._slideRevealWrapperRef).eq(0), this._$componentParent = this.$element.parents(this._componentParentRef).eq(0), this._$componentParent.addClass("revealComponent")
        },
        _onResize: function() {
            this._revealSetHeights(), this._revealSetPositions()
        },
        _revealSetHeights: function() {
            this._slideRevealWrapperHeight = this._$slideRevealWrapper.height(), this._componentParentTop = this._$componentParent.offset().top, this._$componentParent.height(this._slideRevealWrapperHeight)
        },
        _getDimension: function(a, b) {
            return this.$element.parents(".InteractiveStory").eq(0).InteractiveStory("getDimension", a, b)
        },
        _revealSetPositions: function() {
            var a = this._slideRevealWrapperHeight,
                b = this._getDimension("window", "height"),
                c = this._componentParentTop - this._$window.scrollTop();
            b > c && c > -a ? a > b ? (c = c > 0 ? 0 : c, c = b - a > c ? b - a : c, c > b - a && 0 > c ? this._$slideRevealWrapper.removeClass("fixed") : this._$slideRevealWrapper.addClass("fixed").css("top", c)) : (c = 0 > c ? 0 : c, c = c > b - a ? b - a : c, c > b - a && c > 0 ? this._$slideRevealWrapper.removeClass("fixed") : this._$slideRevealWrapper.addClass("fixed").css("top", c)) : this._$slideRevealWrapper.removeClass("fixed")
        },
        _revealBindEvents: function() {
            this._$window.on("scroll", this._onScrollWrapper.bind(this)), this._$window.smartresize(this._onResize.bind(this))
        },
        _onScrollWrapper: function() {
            b.requestAnimationFrame(this._revealSetPositions.bind(this))
        }
    };
    jQuery.createComponent("InteractiveStorySlideReveal", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {
            InteractiveStory: null
        },
        _$window: a(b),
        _$positionElement: null,
        _hasRevealOverlay: !0,
        _slideRevealOverlayRef: ".slideRevealOverlay",
        _$slideRevealOverlay: null,
        _positionTop: 0,
        _positionBottom: 0,
        init: function() {
            var a = this.options.InteractiveStory;
            a && (a._componentsInited ? this._componentReadyInit() : a.$element.on("componentsInited.InteractiveStory", this._componentReadyInit.bind(this)))
        },
        _componentReadyInit: function() {
            this.$element.data("slide-reveal-overlay") && (this._getPositionElement(), this._refreshPosition(), this._initRevealOverlay(), this._revealBindEvents())
        },
        _getPositionElement: function() {
            var a = this.$element.parents(".component").eq(0);
            this._$positionElement = a
        },
        _refreshPosition: function() {
            var a = this._$positionElement.outerHeight();
            this._positionTop = this._$positionElement.offset().top, this._positionBottom = this._positionTop + a
        },
        _getDimension: function(a, b) {
            return this.$element.parents(".InteractiveStory").eq(0).InteractiveStory("getDimension", a, b)
        },
        _revealBindEvents: function() {
            this._$window.on("scroll", this._onScrollWrapper.bind(this)), this._$window.smartresize(this._refreshPosition.bind(this))
        },
        _onScrollWrapper: function() {
            b.requestAnimationFrame(this._onScroll.bind(this))
        },
        _onScroll: function() {
            var a = this._getDimension("window", "height"),
                b = this._$window.scrollTop(),
                c = b + a,
                d = this._positionTop,
                e = this._positionBottom,
                f = c >= d && e >= b;
            this._onScrollRevealOverlay(b, d, e, f)
        },
        _initRevealOverlay: function() {
            this._hasRevealOverlay && (this.$element.append('<div class="' + this._slideRevealOverlayRef.replace(".", "") + '"></div>'), this._$slideRevealOverlay = this.$element.find(this._slideRevealOverlayRef))
        },
        _onScrollRevealOverlay: function(a, b, c, d) {
            if (d) {
                var e, f;
                e = Math.abs((b - a) / (b - c) * .8), f = Math.max(0, Power2.easeInOut.getRatio(e)), this._$slideRevealOverlay.css("opacity", f)
            }
        }
    };
    jQuery.createComponent("InteractiveStorySlideRevealOverlay", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _$header: a("#header"),
        _headerHeight: 0,
        _tables: null,
        _currentTable: null,
        _scrollTopWindow: null,
        _$slideWrapperMain: null,
        _$window: a(b),
        _tableTimers: [],
        _headerVisible: !1,
        _beginAnimation: function(a) {
            b.requestAnimationFrame ? b.requestAnimationFrame(a) : a()
        },
        _createShadowTitleColumn: function() {
            var b = a(this._currentTable);
            if (!(b.find("tbody th").length < 1)) {
                b.after('<table class="sticky-column" />');
                var c = b.find("thead, tbody").clone();
                b.siblings(".sticky-column").append(c).find("thead th:gt(0)").remove().end().find("tbody td").remove().end().addClass("compare-table"), b.hasClass("vehicle-table") && b.siblings(".sticky-column").addClass("vehicle-table")
            }
        },
        _createShadowHeaderColumn: function() {
            var b = a(this._currentTable);
            b.after('<table class="sticky-header" />');
            var c = b.siblings(".sticky-header"),
                d = b.find("thead th").clone();
            c.html("<thead><tr></tr></thead>"), c.find("tr").html(d), c.addClass("compare-table"), c.wrap('<div class="sticky-header-wrapper" />')
        },
        _responsiveArrow: function(b) {
            var c = a(".KeeComparisonTool");
            b && c.hasClass("sliding-active") ? c.removeClass("sliding-active") : c.hasClass("sliding-active") || c.addClass("sliding-active"), setTimeout(function() {
                a(".Accordion").Accordion("calculateNewHeight")
            }, 100)
        },
        _updateStickyDimensions: function() {
            function b() {
                c.find("th").width(f), c.find("tbody tr").each(function(b, c) {
                    var d = e.find("tbody tr").eq(b).height();
                    a(c).height(d)
                }), c.find("thead th").height(g), d.find("th").height(g)
            }
            var c = a(this._currentTable).siblings(".sticky-column"),
                d = a(this._currentTable).siblings(".sticky-header-wrapper").find(".sticky-header"),
                e = a(this._currentTable),
                f = e.find("thead th").width(),
                g = e.find("thead th").height();
            e.find("tbody td").height(), e.find("tbody tr").height();
            this._beginAnimation(b)
        },
        _resizeHandler: function() {
            function b() {
                c._headerHeight = c._$header.height(), d.each(function(b, e) {
                    c._currentTable = a(e), c._updateStickyDimensions(), c._stickHeader(d)
                })
            }
            var c = this,
                d = a(c._tables),
                e = null;
            c._$window.resize(function() {
                e && clearTimeout(e), e = setTimeout(b, 500)
            }), b()
        },
        _stickHeader: function(b) {
            function c(b, c) {
                var e = a(c),
                    f = e.siblings(".sticky-header-wrapper");
                if (!e.hasClass("no-sticky-header-js") && e.closest(".accordion-group").hasClass("open")) {
                    var g = e.offset().top,
                        h = d._headerHeight - a('.NotificationBar[data-state="dismiss"]').height(),
                        i = g - h,
                        j = i + e.outerHeight() - e.find("tr").last().outerHeight() - f.outerHeight(),
                        k = d._scrollTopWindow > i && d._scrollTopWindow < j;
                    f.css("top", h), k ? (clearTimeout(d._tableTimers[b]), f.removeClass("transition"), f.addClass("fixed"), d._headerVisible || d._proxyScroll(), d._headerVisible = !0) : (clearTimeout(d._tableTimers[b]), f.addClass("transition"), d._tableTimers[b] = setTimeout(function() {
                        f.removeClass("transition fixed")
                    }, 200), d._headerVisible = !1)
                }
            }
            var d = this;
            b || a(d._tables);
            b.each(c)
        },
        _proxyScroll: function() {
            var b = this;
            a(".sticky-header-wrapper").scrollLeft(b._$slideWrapperMain.scrollLeft()), b._$slideWrapperMain.scrollLeft() < 1 ? b._responsiveArrow(!0) : b._responsiveArrow(!1)
        },
        _initEvents: function() {
            var b = this,
                c = a(this._tables).siblings(".sticky-column"),
                d = a(this._tables);
            b._scrollTopWindow = b._$window.scrollTop(), b._resizeHandler(), b._$slideWrapperMain.on("scroll", b._proxyScroll.bind(b));
            var e = 0;
            b._$slideWrapperMain.scroll(function() {
                var d = a(".slide-wrapper-main").scrollLeft();
                b._beginAnimation(function() {
                    c.css("transform", "translateX(" + d + "px)"), a(".accordion-group-title").css("padding-left", d + 20)
                }), e = d
            }), b._$window.scroll(function() {
                b._scrollTopWindow = b._$window.scrollTop(), b._headerHeight = b._$header.height(), b._stickHeader(d)
            }), b._$window.on("beforeCloseNotificationBar", function() {
                b._stickHeader(d)
            })
        },
        _initIndvidiualTable: function() {
            a(this._currentTable).wrap('<div class="sticky-wrapper" />'), a(this.currentTable).hasClass("no-sticky-header-js") || this._createShadowHeaderColumn(), this._updateStickyDimensions()
        },
        init: function() {
            var b = this;
            a(function() {
                a("table").length < 1 || a("table.sticky-js").length < 1 || (b._tables = a("table.sticky-js"), b._$slideWrapperMain = a(".slide-wrapper-main"), b._headerHeight = b._$header.height(), a(b._tables).each(function(a, c) {
                    b._currentTable = c, b._initIndvidiualTable()
                }), b._initEvents())
            })
        }
    };
    jQuery.createComponent("KeeComparisonTool", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = "scroll mousedown DOMMouseScroll mousewheel keyup touchstart pointerdown MSPointerDown",
        f = a("html, body"),
        g = {
            init: function() {
                var c = this,
                    d = null;
                a(b).on("resize", function() {
                    d && clearTimeout(d), d = setTimeout(function() {
                        a(".Accordion").Accordion("calculateNewHeight"), c._resetAccordionTitleWidth()
                    }, 500)
                }), a(".accordion-group-title").off(), a(".accordion-group-title").on("click", function(b) {
                    var d = a(this);
                    c._toggleSection(b);
                    a(".accordion-group-title").index(d);
                    if (d.parent().hasClass("open")) {
                        var g = a("#header").height(),
                            h = d.offset().top - g;
                        f.on(e, c._scrollStop), f.animate({
                            scrollTop: h
                        }, 700)
                    }
                }), c._closeAll(), a(".KeeComparisonTool").removeClass("not-init"), c._resetAccordionTitleWidth()
            },
            _scrollStop: function() {
                f.stop(), f.off(e, this._scrollStop)
            },
            _toggleSection: function(b, c) {
                var d = a(b.currentTarget),
                    e = d.find(".accordion-toggle-icon"),
                    f = d.siblings(".accordion-group-content");
                e.hasClass("open") ? (e.removeClass("open").addClass("closed"), d.parent().removeClass("open").addClass("closed"), f.height(0)) : (e.removeClass("closed").addClass("open"), d.parent().removeClass("closed").addClass("open"), f.height(f.find("table").height())), a(".Accordion").Accordion("calculateNewHeight")
            },
            _closeAll: function(b) {
                a(".accordion-toggle-icon").not(":eq(" + b + ")").removeClass("open").addClass("closed"), a(".accordion-group").not(":eq(" + b + ")").removeClass("open").addClass("closed"), a(".accordion-group-content").not(":eq(" + b + ")").height(0), a(".Accordion").Accordion("calculateNewHeight")
            },
            _resetAccordionTitleWidth: function() {
                var c = a(b).width() - 40;
                a(".accordion-toggle-icon-wrapper").css("max-width", c)
            }
        };
    jQuery.createComponent("KeeComparisonToolAccordion", g)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _bars: null,
        _model: null,
        _barSelector: ".vehicle-table .bar",
        _buildModel: function() {
            var b = this;
            b._model = {}, a.each(b._bars, function(c, d) {
                var e = a(d).attr("data-key"),
                    f = a(d).attr("data-value").replace(/[^\d.-]/g, "");
                b._model.hasOwnProperty(e) ? b._model[e].push(parseFloat(f, 10)) : b._model[e] = [parseFloat(f, 10)]
            })
        },
        _findOptimal: function(a) {
            var b = this,
                c = !0;
            "Fuel Consumption (EC Combined)" === a && (c = !1);
            for (var d = -1, e = -1, f = b._model[a].length, g = 0; f > g; g++) - 1 === d && (d = b._model[a][g], e = g), b._model[a][g] > d && !c && (d = b._model[a][g], e = g), b._model[a][g] < d && c && (d = b._model[a][g], e = g);
            return e
        },
        _setWidths: function(b) {
            for (var c = this, d = null, e = 50, f = c._model[b].length, g = 0; f > g; g++) {
                var h = c._model[b][g];
                100 > h && (h += 100), (null === d || h > d) && (d = h)
            }
            for (var i = 0; f > i; i++) {
                var j = c._model[b][i];
                100 > j && (j += 100);
                var k = .1 + .9 * (j - e) / (d - e);
                a(a(c._barSelector + '[data-key="' + b + '"]').get(i)).css("width", 100 * k + "%")
            }
        },
        init: function() {
            var b = this;
            a(function() {
                if (!(a(b._barSelector).length < 1)) {
                    b._bars = a(b._barSelector), b._buildModel();
                    for (var c in b._model)
                        if (b._model.hasOwnProperty(c)) {
                            var d = b._findOptimal(c);
                            if (-1 !== d) {
                                var e = a(a(b._barSelector + '[data-key="' + c + '"]').get(d));
                                e.addClass("optimal")
                            }
                            b._setWidths(c);
                            for (var f = b._model[c], g = 0; g < f.length; g++)
                                if (f[g] === b._model[c][d] && d !== g) {
                                    var h = a(a(b._barSelector + '[data-key="' + c + '"]').get(g));
                                    h.addClass("optimal")
                                }
                        }
                }
            })
        }
    };
    jQuery.createComponent("KeeComparisonToolBars", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        init: function() {
            a("html").addClass("KeeComparisonToolModals"), a(".KeeComparisonToolModals .open-popup-link").magnificPopup({
                type: "inline",
                mainClass: "mfp-animation",
                midClick: !0
            })
        }
    };
    jQuery.createComponent("KeeComparisonTooltips", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        uiSelectors: {
            toggleAll: ".ManualsTopicDetails__toggle-all",
            Accordion: ".Accordion",
            openAccordion: ".Accordion .accordion-group.open",
            closedAccordion: ".Accordion .accordion-group.closed"
        },
        _classes: {
            open: "open",
            closed: "closed"
        },
        _isToggleOpen: !1,
        _totalOpen: 0,
        _button: null,
        _linkState: function(a) {
            "open" === a ? this._button.removeClass(this._classes.open).addClass(this._classes.closed) : this._button.removeClass(this._classes.closed).addClass(this._classes.open)
        },
        _handleLinkState: function() {
            var a = this.ui("Accordion").find(".accordion-group.open").length;
            a === this.ui("Accordion").length ? this._linkState("close") : 0 === a && this._linkState("open")
        },
        _toggleAll: function() {
            this._isToggleOpen = this._button.hasClass(this._classes.open) ? !0 : !1, this._isToggleOpen ? a.each(this.ui("Accordion"), function(b, c) {
                a(c).Accordion("externalClose")
            }) : a.each(this.ui("Accordion"), function(b, c) {
                a(c).Accordion("externalOpen")
            })
        },
        init: function() {
            var a = this;
            this._button = this.ui("toggleAll"), this.ui("toggleAll").click(function(a) {
                a.preventDefault(), this._toggleAll()
            }.bind(this)), this.ui("Accordion").on("Accordion:toggled", a._handleLinkState.bind(this))
        }
    };
    jQuery.createComponent("ManualsTopicDetails", e)
}(jQuery, window, document),
function(a, b, c) {
    "use strict";
    var d = {
        init: function() {
            this._isArtOfPerformance = a(".GridCards").length && "undefined" == typeof this.$element.data("geojson"), this._isRideAndDrive = a(".FullWidthCards").length || "undefined" != typeof this.$element.data("geojson"), this._isItineraryMap = a(".GridCards").length && "undefined" != typeof this.$element.data("geojson");
            var b = void 0;
            b = this._isArtOfPerformance ? new ArtOfPerformance(this, "ArtOfPerformance") : this._isRideAndDrive ? new RideAndDrive(this, "RideAndDrive") : this._isItineraryMap ? new ItinaryMap(this, "ItinaryMap") : new MapLocation2Base(this, "MapLocation2Base"), b.init()
        }
    };
    jQuery.createComponent("MapLocation2", d)
}(jQuery, window, document),
function(a) {
    var b = {
        _defaults: {
            className: "Modal",
            selector: ".Modal",
            speed: 350,
            modalModifier: null,
            closeLabel: null
        },
        _modal: null,
        _modalContent: null,
        _elem: null,
        init_rtl: function() {},
        init: function() {
            this._elem = this.$element.get(0)
        },
        _attachModal: function() {
            var b = this,
                c = a.createElement("section"),
                d = this.options,
                e = d.className,
                f = d.modalModifier,
                g = d.closeLabel,
                h = '\n            <div class="' + e + '__content-wrapper">\n              <div class="' + e + '__header">\n                <button data-modal-close class="' + e + '__close"></button>\n              </div>\n              <div data-modal-content class="' + e + '__content"></div>\n              <div data-modal-footer class="' + e + '__footer"></div>\n            </div>\n          ';
            c.setAttribute("data-modal", ""), c.setAttribute("role", "dialog"), c.setAttribute("tabIndex", "-1"), c.classList.add(e), null !== f && (Array.isArray(f) || (this.options.modalModifier = f.split()), this.options.modalModifier.forEach(function(a) {
                return c.classList.add(e + "--" + a)
            })), c.innerHTML = h, a.body.appendChild(c), this._modal = c;
            var i = c.querySelectorAll("[data-modal-content]")[0];
            this._modalContent = i;
            var j = c.querySelectorAll("[data-modal-footer]")[0];
            this._modalFooter = j;
            var k = a.createElement("div");
            k.classList.add(e + "__background"), k.setAttribute("data-modal-close", ""), c.appendChild(k), [].concat(_toConsumableArray(this._modal.querySelectorAll("[data-modal-close]"))).forEach(function(a) {
                null !== g && a.setAttribute("aria-label", g), a.addEventListener("click", function(a) {
                    a.preventDefault(), b._close()
                })
            })
        },
        _detachModal: function() {
            var b = a.querySelectorAll(this.options.selector)[0];
            a.body.removeChild(b)
        },
        _keyboardControls: function() {
            var a = this;
            this._modal.focus();
            var b = site.utils.getTabbable(this._modal);
            this._modal.addEventListener("keydown", function(c) {
                27 === c.keyCode ? (c.preventDefault(), a._close()) : c.shiftKey && 9 === c.keyCode && (c.preventDefault(), b[0].focus())
            }), 1 === b.length ? b[0].addEventListener("keydown", function(a) {
                9 === a.keyCode && (a.preventDefault(), b[0].focus())
            }) : (b[0].addEventListener("keydown", function(a) {
                a.shiftKey && 9 === a.keyCode && (a.preventDefault(), b[b.length - 1].focus())
            }), b[b.length - 1].addEventListener("keydown", function(a) {
                a.shiftKey || 9 !== a.keyCode || (a.preventDefault(), b[0].focus())
            }))
        },
        _open: function(a) {
            var b = this;
            this._toggleContent(!0), this._attachModal(), this._modalContent.innerHTML = "", this._modalContent.appendChild(a.cloneNode(!0)), this._modal.style.display = "block", this._elem.setAttribute("data-modal-return", "true");
            var c = function() {
                b._modalContent.scrollTop === b._modalContent.scrollHeight - b._modalContent.offsetHeight ? (b._modalFooter.style.opacity = 0, requestAnimationFrame(function() {
                    setTimeout(function() {
                        b._modalFooter.style.display = "none", b.isHidden = !0
                    }, 10)
                })) : b._modalContent.scrollTop !== b._modalContent.scrollHeight - b._modalContent.offsetHeight && b.isHidden && (b.isHidden = !1, b._modalFooter.style.display = "block", requestAnimationFrame(function() {
                    setTimeout(function() {
                        b._modalFooter.style.opacity = 1
                    }, 10)
                }))
            };
            requestAnimationFrame(function() {
                setTimeout(function() {
                    b._modal.style.opacity = 1, site.utils.isElementVerticallyScrollable(b._modalContent) ? b._modalContent.addEventListener("scroll", c) : b._modalFooter.style.display = "none"
                }, 10), setTimeout(function() {
                    b._keyboardControls(), b._eventTrigger(b.options.className + ":opened")
                }, b.options.speed)
            })
        },
        _toggleContent: function(b) {
            var c = a.querySelector(".pageWrapper"),
                d = a.querySelector(".sharedNavigation");
            b ? (c.setAttribute("aria-hidden", "true"), site.utils.checkDefined(d) && d.setAttribute("aria-hidden", "true")) : (c.removeAttribute("aria-hidden"), site.utils.checkDefined(d) && d.removeAttribute("aria-hidden"))
        },
        _close: function() {
            var b = this;
            this._toggleContent(!1), requestAnimationFrame(function() {
                b._modal.style.opacity = 0, setTimeout(function() {
                    b._modal.style.display = "none", b._eventTrigger(b.options.className + ":closed"), b._detachModal(), b._elem.focus();
                    var c = a.querySelectorAll("[data-modal-return]")[0];
                    c.focus(), c.removeAttribute("data-modal-return")
                }, b.options.speed)
            })
        },
        _eventTrigger: function(a) {
            var b = new CustomEvent(a);
            this._elem.dispatchEvent(b)
        },
        open: function(a) {
            this._open(a)
        },
        close: function() {
            this._close()
        },
        resetKeyboardControls: function() {
            this._keyboardControls()
        }
    };
    jQuery.createComponent("Modal", b)
}(document),
function(a) {
    var b = {
        _defaults: {
            className: "Pagination",
            selector: ".Pagination",
            isBlack: !1,
            classes: {
                controls: "Pagination__controls",
                paused: "Pagination--paused",
                wrapper: "Pagination__button-wrapper",
                wrapperPlayPause: "Pagination__button-wrapper--play-pause",
                wrapperPip: "Pagination__button-wrapper--pip",
                pip: "Pagination__pip",
                pipActive: "Pagination__pip--active",
                play: "Pagination__play",
                pause: "Pagination__pause",
                playing: "Pagination--playing",
                pauseTimerIcon: "Pagination__pause-timer-icon",
                pauseTimerIconCountdown: "Pagination__pause-timer-icon-countdown",
                pauseTimerIconCountdownAnimating: "Pagination__pause--animation",
                pauseControlIcon: "Pagination__pause-control-icon",
                playControlIcon: "Pagination__play-control-icon"
            },
            labels: {
                play: "play",
                pause: "pause",
                pip: "go to []",
                paused: "paused",
                playing: "playing",
                slideChanged: "showing []",
                next: "next",
                previous: "previous"
            },
            autoplay: {
                enabled: !1,
                duration: 1e3,
                pauseAtStart: !1,
                delay: 0
            },
            loop: !0,
            numberOfPips: null,
            defaultSelected: 0
        },
        _elem: null,
        _pipIndexAttribute: "data-pip-index",
        _playingStatus: null,
        _allowFocusToggle: !0,
        _delayTimer: null,
        _nonHoverPaused: null,
        _events: {
            init: "init",
            beforeChange: "beforeChange",
            afterChange: "afterChange",
            play: "play",
            pause: "pause",
            loopEnd: "loopEnd",
            gotoNext: "next",
            gotoPrevious: "previous",
            countdownEnd: "countdownend",
            liveRegionUpdate: "liveRegionUpdate"
        },
        _controls: {
            play: null,
            pause: null,
            countdown: null,
            pips: null
        },
        _timer: {
            started: null,
            remaining: null
        },
        init_rtl: function() {},
        init: function() {
            this._elem = this.$element.get(0), this._elem && this.options.numberOfPips && this._createPagination()
        },
        _createPagination: function() {
            var a = this._generateHTML();
            this._appendPaginationToContainer(a), this._addPaginationEvents(), this._controls.pause && this._controls.pause.classList.add(this.options.classes.pauseTimerIconCountdownAnimating), this._fireEvent(this._events.init), this._restartAnimation()
        },
        _playButtonHTML: function(a, b) {
            return '<button class="' + a.play + '" aria-label="' + b.paused + ", " + b.play + '">' + this._playControlIconSVG() + "</button>"
        },
        _pauseButtonHTML: function(a, b) {
            return '<button class="' + a.pause + '" aria-label="' + b.playing + ", " + b.pause + '">\n        ' + this._pauseControlIconSVG() + '\n        <svg class="' + a.pauseTimerIcon + '" aria-hidden="true"><circle class="' + a.pauseTimerIconCountdown + '" r="20" cx="21" cy="21"></circle></svg>\n      </button>'
        },
        _generateHTML: function() {
            var a = this,
                b = this.options,
                c = b.classes,
                d = b.labels,
                e = function(a, b) {
                    return '<li class="' + c.wrapper + " " + b + '">' + a + "</li>"
                },
                f = function(b) {
                    return a._replacePlaceholderLabelText(d.pip, b)
                },
                g = function(b) {
                    return "<button " + a._pipIndexAttribute + '="' + b + '" class="' + c.pip + '" aria-label="' + f(b + 1) + '"></button>'
                },
                h = [].concat(_toConsumableArray(new Array(b.numberOfPips))).map(function(a, b) {
                    return e(g(b), c.wrapperPip)
                }),
                i = this._playButtonHTML(c, d),
                j = this._pauseButtonHTML(c, d),
                k = b.autoplay.enabled ? "" + e(i + j, c.wrapperPlayPause) : "",
                l = '\n        <ul class="' + c.controls + '">\n          ' + k + "\n          " + h.join(" ") + "\n        </ul>\n      ";
            return l
        },
        _appendPaginationToContainer: function(b) {
            var c = a.createElement("div");
            c.innerHTML = b, this._elem.classList.add(this.options.className), this.options.isBlack && this._elem.classList.add(this.options.className + "--black"), this._elem.appendChild(c.querySelector("." + this.options.classes.controls)), this._controls = this._cacheControls(this._elem, this.options.classes, this.options.autoplay.enabled), this._setActiveState(this.options.defaultSelected);
            var d = this.options.autoplay,
                e = d.pauseAtStart ? "paused" : "running";
            this._nonHoverPaused = d.pauseAtStart, d.enabled && (this._setPlayingStatus(e), this._controls.countdown.style.animationDuration = d.duration + "ms")
        },
        _cacheControls: function(a, b) {
            var c = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : !1,
                d = {};
            return d.pips = [].slice.call(a.querySelectorAll("." + b.pip)), c && (d.play = a.querySelector("." + b.play), d.pause = a.querySelector("." + b.pause), d.countdown = a.querySelector("." + b.pauseTimerIconCountdown)), d
        },
        _getPipsArray: function() {
            return [].slice.call(this._elem.querySelectorAll("." + this.options.classes.pip))
        },
        _setActiveState: function() {
            var a = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0;
            this._controls.pips[a].classList.add(this.options.classes.pipActive);
            var b = this._replacePlaceholderLabelText(this.options.labels.slideChanged, a + 1);
            this._updateLiveRegionText(b)
        },
        _replacePlaceholderLabelText: function(a) {
            var b = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "";
            return a.replace(/[[]]/g, b)
        },
        _updateLiveRegionText: function(a) {
            var b = {
                text: a
            };
            this._fireEvent(this._events.liveRegionUpdate, b)
        },
        _getCurrentActivePipElement: function() {
            return this._elem.querySelector("." + this.options.classes.pipActive)
        },
        _getCurrentActivePipIndex: function() {
            return this._getPipIndex(this._getCurrentActivePipElement())
        },
        _getNextPipIndex: function(a, b) {
            var c = this._getPipIndex(b) + 1;
            return c < a.length ? c : 0
        },
        _getPreviousPipIndex: function(a, b) {
            var c = this._getPipIndex(b) - 1;
            return 0 > c ? a.length - 1 : c
        },
        _getPipIndex: function(a) {
            return parseInt(a.getAttribute(this._pipIndexAttribute), 10)
        },
        _getpauseIconCountdownElement: function() {
            return this._elem.querySelector("." + this.options.classes.pauseTimerIconCountdown)
        },
        _restartAnimation: function() {
            var a = this;
            if ("true" === this._elem.getAttribute("data-playing")) {
                var b = this.options.autoplay,
                    c = this._controls,
                    d = c.countdown,
                    e = c.pause,
                    f = $(d),
                    g = 200,
                    h = b.enabled ? b.delay : 0,
                    i = this._timer.remaining ? this._timer.remaining : b.duration,
                    j = {
                        strokeDashoffset: 122
                    },
                    k = d.style.strokeDashoffset;
                d.style.strokeDashoffset = this._timer.remaining ? k : 0;
                var l = function() {
                        a._timer.started = null, a._timer.remaining = null, site.utils.eventTrigger(e, a._events.countdownEnd)
                    },
                    m = {
                        duration: i,
                        easing: "linear",
                        complete: function() {
                            return f.fadeTo(g, 0, function() {
                                return l()
                            })
                        },
                        step: function() {
                            var b = (new Date).getTime() - a._timer.started;
                            a._timer.remaining = i - b
                        }
                    },
                    n = function() {
                        a._timer.started = (new Date).getTime(), f.animate(j, m)
                    },
                    o = function() {
                        f.fadeTo(g, 1, function() {
                            return n()
                        })
                    };
                setTimeout(function() {
                    return o()
                }, h)
            }
        },
        _clearTimer: function() {
            this._timer = {
                started: null,
                remaining: null
            }
        },
        _pipEventHandler: function(a) {
            a.preventDefault();
            var b = this.options.classes.pipActive,
                c = this._controls.pips,
                d = this._getCurrentActivePipElement(),
                e = a.type,
                f = "click" === e ? a.target : c[this._getNextPipIndex(c, d)],
                g = this._getPipIndex(f);
            if (f !== d) {
                var h = this._controls.countdown;
                $(h).stop(!0), this._clearTimer();
                var i = {
                    eventType: e,
                    pipsArray: c,
                    pipFrom: this._getPipIndex(d),
                    pipTo: this._getPipIndex(f)
                };
                if (e === this._events.countdownEnd && 0 === g && !this.options.loop) return void this._fireEvent(this._events.loopEnd, i);
                this._fireEvent(this._events.beforeChange, i), c.forEach(function(a) {
                    a.classList.remove(b)
                }), this._setActiveState(this._getPipIndex(f)), this._restartAnimation(), this._fireEvent(this._events.afterChange, i)
            }
        },
        _resumeTimerAnimation: function(a, b) {
            if ("hover" !== b || !this._nonHoverPaused) {
                var c = this.options.labels.playing;
                this._updateLiveRegionText(c), this._nonHoverPaused = !1, this._setPlayingStatus(a, b), this._restartAnimation(b)
            }
        },
        _pauseTimerAnimation: function(a, b) {
            "hover" !== b && (this._nonHoverPaused = !0);
            var c = this.options.labels.paused;
            this._updateLiveRegionText(c), $(this._controls.countdown).stop(), this._setPlayingStatus(a, b)
        },
        _addPaginationEvents: function() {
            var a = this,
                b = this._controls,
                c = b.pips,
                d = b.play,
                e = b.pause,
                f = b.countdown;
            c.forEach(function(b) {
                return b.addEventListener("click", function(b) {
                    return a._pipEventHandler(b)
                }, !1)
            }), d && e && f && (e.addEventListener(this._events.countdownEnd, function(b) {
                return a._pipEventHandler(b)
            }, !1), d.addEventListener("click", function(b) {
                return a._resumeTimerAnimation("running", b)
            }, !1), e.addEventListener("click", function(b) {
                return a._pauseTimerAnimation("paused", b)
            }, !1))
        },
        _fireEvent: function(a) {
            var b = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            site.utils.eventTrigger(this._elem, a, b)
        },
        _getPlayingStatus: function() {
            return this._playingStatus
        },
        _setPlayingStatus: function() {
            var a = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "paused",
                b = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                c = this._controls,
                d = c.play,
                e = c.pause,
                f = c.countdown;
            this._playingStatus = a, this._elem.setAttribute("data-playing", "paused" === a ? "false" : "true"), d && e && "paused" === a ? (this._toggleFocus(e, d, b), this._showControl(d), this._hideControl(e), f.style.animationPlayState = "paused", this._fireEvent(this._events.pause)) : (this._toggleFocus(d, e, b), this._hideControl(d), this._showControl(e), f.style.animationPlayState = "running",
                this._fireEvent(this._events.play))
        },
        _toggleFocus: function(b, c, d) {
            this._allowFocusToggle && a.activeElement === b && d && 0 === d.detail && c.focus()
        },
        _showControl: function(a) {
            a.removeAttribute("aria-hidden"), a.removeAttribute("tabindex")
        },
        _hideControl: function(a) {
            a.setAttribute("aria-hidden", "true"), a.setAttribute("tabindex", "-1")
        },
        _playControlIconSVG: function() {
            return '\n      <svg aria-hidden="true" class="' + this.options.classes.playControlIcon + '" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 14.2 20" style="enable-background:new 0 0 14.2 20;" xml:space="preserve">\n      <g><path d="M0,0v20l14.2-10L0,0z M1.7,3.2l9.6,6.7l-9.6,6.8V3.2z"/></g></svg>\n      '
        },
        _pauseControlIconSVG: function() {
            return '\n        <svg aria-hidden="true" class="' + this.options.classes.pauseControlIcon + '" width="10px" height="16px" viewBox="0 0 10 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n          <g stroke="none" stroke-width="1" >\n            <g transform="translate(-473.000000, -299.000000)">\n              <g transform="translate(473.000000, 299.000000)"><polygon points="0 0 2 0 2 16 0 16"></polygon><polygon points="8 0 10 0 10 16 8 16"></polygon></g>\n            </g>\n          </g>\n        </svg>'
        },
        pause: function c() {
            var a = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : !1,
                c = this._controls.pause;
            if (c) {
                var b = a ? "hover" : !1;
                this._pauseTimerAnimation("paused", b)
            }
        },
        play: function d() {
            var a = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : !1,
                d = this._controls.play;
            if (d) {
                var b = a ? "hover" : !1;
                this._resumeTimerAnimation("running", b)
            }
        },
        getPlayingStatus: function() {
            return this._getPlayingStatus()
        },
        goToPip: function(a) {
            var b = this._controls.pips[a];
            b && b.click()
        },
        previousPip: function() {
            var a = this._controls.pips,
                b = this._getCurrentActivePipElement(),
                c = this._getPipIndex(b);
            if (this.options.loop || 0 !== c) {
                var d = a[this._getPreviousPipIndex(a, b)];
                this._fireEvent(this._events.gotoPrevious), d.click()
            }
        },
        nextPip: function() {
            var a = this._controls.pips,
                b = this._getCurrentActivePipElement(),
                c = a[this._getNextPipIndex(a, b)],
                d = this._getPipIndex(c);
            (this.options.loop || 0 !== d) && (this._fireEvent(this._events.gotoNext), c.click())
        },
        getCurrentPipIndex: function() {
            return this._getCurrentActivePipIndex()
        },
        updateActivePipByIndex: function(a) {
            var b = this._controls.pips,
                c = this.options.classes.pipActive;
            b.forEach(function(a) {
                return a.classList.remove(c)
            }), this._setActiveState(a)
        },
        getOptions: function() {
            return this.options
        },
        getElement: function() {
            return this._elem
        },
        clearTimer: function() {
            this._clearTimer()
        }
    };
    jQuery.createComponent("Pagination", b, !0)
}(document),
function(a, b, c, d) {
    var e = {
        _$window: a(b),
        _$header: a("#header"),
        uiSelectors: {
            screens: ".screen",
            headingContainer: ".headingContainer",
            heading: ".heading",
            copyContainer: ".copyContainer",
            copy: ".copy",
            imageContainer: ".imageContainer",
            imageLayers: ".imageContainer .layer",
            imageLayersBg: ".imageContainer .layer .layerBg",
            buttonScreenDown: ".buttonScreenDown",
            imageOverlay: ".imageContainer .imageOverlay"
        },
        _waypoints: {
            parallaxStart: null,
            parallaxEnd: null,
            headingTrigger: null,
            copyTrigger: null,
            copyFadeStart: null,
            copyFadeEnd: null
        },
        _parallaxStrength: null,
        states: {
            buttonHidden: "buttonHidden",
            showOverlay: "showOverlay",
            hideCopy: "hidden"
        },
        _checkButtonScreenDownOnScroll: !0,
        _isTouchDevice: null,
        _isCanvasDevice: null,
        _scrolledThroughCopy: !1,
        _attachedThroughCopyTimeout: !1,
        _scrolledThroughHijack: !1,
        _scrollFxOn: !0,
        _originalDimensions: {
            height: a(b).height(),
            width: a(b).width()
        },
        init: function() {
            var a = this;
            a._detectDeviceCapabilities(), a._fitToScreen(!0), a._waypointCalculations();
            var b = a._getScrollPosition();
            a._updateHeading(b), a._updateCopy(b), a.ui("imageLayers").length > 1 && (a._isTouchDevice ? (a._parallaxStrength = 100, a._imageLayerCalculations(), a._tiltParallax()) : (a._setParallaxStrength(), a._imageLayerCalculations(), a._updateImageLayers(b), a._isCanvasDevice && a._imageLayerToCanvas(!1))), a._bindEvents()
        },
        _detectDeviceCapabilities: function() {
            var a = this;
            a.$element.addClass("ParallaxHeroTouchDevice"), a._isTouchDevice = site.utils.isMobileDevice(), a._isCanvasDevice = "?canvas=false" !== b.location.search && !a._isTouchDevice
        },
        _setParallaxStrength: function() {
            var a = this,
                b = 100,
                c = 1.5 * b;
            a.$element.hasClass("ParallaxHeroImageLeft") || a.$element.hasClass("ParallaxHeroImageRight") ? a._parallaxStrength = b : a._parallaxStrength = c
        },
        _getScrollPosition: function() {
            var a = this;
            return a._$window.scrollTop()
        },
        _fitToScreen: function(b) {
            var c, d, e = this,
                f = e._$window.height(),
                g = site.utils.getBreakpointSize();
            "fixed" === e._$header.css("position") ? (c = site.utils.getStickyNavHeight(0), d = site.utils.getStickyNavHeight(site.stickyNavigationTransitionPoint + 1)) : (c = e._$header.height(), d = 0);
            var h = f - c,
                i = f - d;
            e.ui("screens").each(function() {
                var b, c = a(this);
                b = c.hasClass("headingContainer") ? h : "small" === g && c.hasClass("spacerContainer") ? 0 : i, c.css({
                    height: b + "px"
                })
            }), !b && e._isCanvasDevice && e._imageLayerToCanvas(!0)
        },
        _waypointCalculations: function() {
            var a = this,
                b = a._$window.height(),
                c = a.$element.offset().top;
            a._waypoints.parallaxStart = c, a._waypoints.parallaxEnd = a._waypoints.parallaxStart + a.$element.height() - b, a._waypoints.headingTrigger = a.ui("headingContainer").offset().top + a.ui("headingContainer").height() - b, a._waypoints.headingTrigger = a._waypoints.headingTrigger < c ? c : a._waypoints.headingTrigger, a._waypoints.copyTrigger = a.ui("copyContainer").offset().top, a._waypoints.copyFadeEnd = a.ui("copyContainer").offset().top - b / 4, a._waypoints.copyFadeStart = a._waypoints.copyFadeEnd - b / 4
        },
        _updateHeading: function(a) {
            var b = this;
            if (b._isTouchDevice) a > b._waypoints.headingTrigger ? b.ui("heading").addClass("hidden") : b.ui("heading").removeClass("hidden");
            else if (a > b._waypoints.headingTrigger) {
                var c = b._waypoints.headingTrigger - a;
                b.ui("heading").css({
                    transform: "translateY(" + c + "px)"
                })
            } else b.ui("heading").css({
                transform: ""
            })
        },
        _updateCopy: function(a) {
            var b = this;
            if (b._isTouchDevice) a > b._waypoints.copyFadeStart ? b.ui("copy").removeClass("hidden") : b.ui("copy").addClass("hidden");
            else if (b._scrolledThroughHijack) {
                var c = (a - b._waypoints.copyFadeStart) / (b._waypoints.copyFadeEnd - b._waypoints.copyFadeStart);
                c = 0 > c ? 0 : c, c = c > 1 ? 1 : c, b.ui("copy").css({
                    opacity: c
                }), b.ui("imageOverlay").css({
                    opacity: .3 * c
                })
            } else a === b._waypoints.copyTrigger ? (b.ui("imageOverlay").addClass(b.states.showOverlay), b.ui("copy").removeClass(b.states.hideCopy)) : b._scrolledThroughCopy || (b.ui("imageOverlay").removeClass(b.states.showOverlay), b.ui("copy").addClass(b.states.hideCopy))
        },
        _updateButtons: function(a) {
            var b = this;
            0 === a ? (b.ui("buttonScreenDown").removeClass(b.states.buttonHidden), b._checkButtonScreenDownOnScroll = !0) : b._checkButtonScreenDownOnScroll && (b.ui("buttonScreenDown").addClass(b.states.buttonHidden), b._checkButtonScreenDownOnScroll = !1)
        },
        _imageLayerCalculations: function() {
            var b = this;
            b.ui("imageLayers").each(function(c) {
                var d = a(this),
                    e = 2 * (c / (b.ui("imageLayers").length - 1)) - 1,
                    f = b._parallaxStrength * e;
                d.data("parallax-amount", f)
            })
        },
        _imageLayerToCanvas: function(b) {
            var c = this,
                d = "center";
            c.$element.hasClass("ParallaxHeroImageLeft") ? d = "left" : c.$element.hasClass("ParallaxHeroImageRight") && (d = "right"), c.ui("imageLayersBg").each(function() {
                var e = a(this),
                    f = b ? e.next(".layerCanvas") : a('<canvas class="layerCanvas"/>'),
                    g = f.get(0),
                    h = g.getContext("2d"),
                    i = new Image,
                    j = e.css("background-image").replace("url(", "").replace(")", "");
                f.attr({
                    width: e.width(),
                    height: e.height()
                }), e.after(f), i.onload = c._onLoadDrawCanvas.bind(c, g, h, i, d), i.src = j, e.css("display", "none"), i = null
            })
        },
        _onLoadDrawCanvas: function(a, b, c, d) {
            var e = 0;
            "left" === d ? e = -(a.width / 2) : "right" === d && (e = a.width / 2), site.utils.canvasDrawBgCover(b, c, 0, 0, a.width, a.height, e, 0)
        },
        _updateImageLayers: function(b) {
            var c = this,
                d = (b - c._waypoints.parallaxStart) / (c._waypoints.parallaxEnd - c._waypoints.parallaxStart);
            d = 0 > d ? 0 : d, d = d > 1 ? 1 : d, c.ui("imageLayers").each(function() {
                var b = a(this),
                    e = c._parallaxStrength + d * b.data("parallax-amount");
                b.css({
                    transform: "translateZ(" + e + "px)"
                })
            })
        },
        _bindEvents: function() {
            var a = this;
            a._$window.smartresize(a._onResize.bind(a)), a._$window.on("wheel scroll", function(c) {
                if (a._scrollFxOn) {
                    if (!a._isTouchDevice && !a._scrolledThroughCopy && a._$window.scrollTop() >= a._waypoints.copyTrigger) return a._$window.scrollTop(a._waypoints.copyTrigger), a._attachedThroughCopyTimeout = b.setTimeout(function() {
                        a._scrolledThroughCopy = !0, a._scrolledThroughHijack = !0
                    }, 1200), c.preventDefault() && !1;
                    b.requestAnimationFrame(a._scrollHandler.bind(a))
                }
            }), a.ui("buttonScreenDown").on("click", a._onClickButtonScreenDown.bind(this)), a._$window.on({
                "scrolling.InteractiveStory.start": a._onInteractiveStoryScrolling.bind(this),
                "scrolling.InteractiveStory.stop": a._onInteractiveStoryScrolling.bind(this)
            })
        },
        _onResize: function() {
            var a = this;
            (Math.abs(a._originalDimensions.height - a._$window.height() > 100) || a._originalDimensions.width !== a._$window.width()) && (a._fitToScreen(!1), a._waypointCalculations())
        },
        _scrollHandler: function() {
            var a = this,
                b = a._getScrollPosition();
            a._updateHeading(b), a._updateCopy(b), a._updateButtons(b), a.ui("imageLayers").length > 1 && (a._isTouchDevice || a._updateImageLayers(b))
        },
        _onClickButtonScreenDown: function(c) {
            var d = this,
                e = a(c.target),
                f = e.hasClass(".ButtonScreenDown") ? e : e.parents(".buttonScreenDown").eq(0),
                g = f.parents(".screen").next(".screen"),
                h = 0,
                i = 800;
            if (g.length && "none" === g.css("display") && (g = g.next(".screen")), g.length) h = g.offset().top;
            else {
                var j = a(c.target).parents(".component");
                h = j.offset().top + j.height()
            }
            c.preventDefault(), h > 0 && (d._checkButtonScreenDownOnScroll = !1, site.utils.scrollTo(h, i), h === d._waypoints.copyTrigger && (d._scrolledThroughCopy = !0), b.setTimeout(function() {
                d._checkButtonScreenDownOnScroll = !0, h === d._waypoints.copyTrigger && (d._scrolledThroughHijack = !0)
            }, i + 50)), f.addClass(d.states.buttonHidden)
        },
        _tiltParallax: function() {
            var b = this;
            b.ui("imageLayers").each(function() {
                var c = a(this),
                    d = b._parallaxStrength + c.data("parallax-amount");
                c.css({
                    transform: "translateZ(" + d + "px)"
                })
            });
            var c, d, e = 50,
                f = 50,
                g = 100,
                h = new Date,
                i = 0,
                j = 0;
            b._$window.on("devicemotion", function(a) {
                var k = new Date,
                    l = k - h;
                i += l * (a.originalEvent.accelerationIncludingGravity.x - i) / g, j += l * (a.originalEvent.accelerationIncludingGravity.y - j) / g, h = k, c = i / 10, c = -1 > c ? -1 : c, c = c > 1 ? 1 : c, e = 50 + 50 * c, d = j / 10, d = -1 > d ? -1 : d, d = d > 1 ? 1 : d, f = 50 + 50 * d, b.ui("imageContainer").css({
                    "perspective-origin": e + "% " + f + "%"
                })
            })
        },
        _onInteractiveStoryScrolling: function(a) {
            "InteractiveStory.start" === a.namespace ? this._scrollFxOn = !1 : this._scrollFxOn = !0
        }
    };
    jQuery.createComponent("ParallaxHero", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        init: function() {
            var a = c.createElement("script");
            a.src = this.$element.data("script-url"), this.$element.append(a)
        },
        _destroy: function() {}
    };
    jQuery.createComponent("QuickQuote", e)
}(jQuery, window, document),
function(a, b) {
    var c = {
        _windowWidth: 0,
        _windowHeight: 0,
        _$window: a(b),
        _hasImage: !1,
        init: function() {
            var b = this;
            b.$element.hasClass("Quote--with-image") && (b._hasImage = !0), b._$window.smartresize(function() {
                b._resizeImage()
            }), b._resizeImage(), a(".Quote__audio-player", b.$element).on("QuotePlayer_playing", function() {
                a(".Quote__image-overlay", b.$element).addClass("Quote__image-overlay--darken")
            }), a(".Quote__audio-player", b.$element).on("QuotePlayer_paused", function() {
                a(".Quote__image-overlay", b.$element).removeClass("Quote__image-overlay--darken")
            }), a(".Quote__audio-player", b.$element).on("QuotePlayer_finished", function() {
                a(".Quote__image-overlay", b.$element).removeClass("Quote__image-overlay--darken")
            })
        },
        _resizeImage: function() {
            var c = this;
            if (this._hasImage === !0) {
                if (c._$window.width() === c._windowWidth) return !1;
                if (c._windowWidth = c._$window.width(), c._windowHeight = c._$window.height(), c._windowWidth >= site.breakpoints.medium) {
                    var d = b.innerHeight ? b.innerHeight : c._windowHeight,
                        e = a(".SubNavigation");
                    1 === e.length ? d = d - 50 - a(".SubNavigation").height() : d -= 50, this.$element.css("height", d)
                } else this.$element.removeAttr("style")
            }
            return !0
        }
    };
    jQuery.createComponent("Quote", c)
}(jQuery, window, document),
function(a, b) {
    var c = {
        _centred: !1,
        _slidOff: !0,
        _rtl: !1,
        _player: null,
        _playLabel: null,
        _pauseLabel: null,
        _width: 0,
        init_rtl: function() {
            this._rtl = !0
        },
        init: function() {
            var c = this;
            c._playLabel = this.$element.attr("data-label-play"), c._pauseLabel = this.$element.attr("data-label-pause"), c._player = a("audio", this.$element).mediaelementplayer({
                startVolume: .8,
                features: ["playpause", "progress", "current", "duration"],
                audioWidth: "100%",
                audioHeight: 40,
                success: function(a) {
                    a.addEventListener("play", function(a) {
                        c._onPlay(a)
                    }), a.addEventListener("pause", function(a) {
                        c._onPause(a)
                    }), a.addEventListener("ended", function(a) {
                        c._onEnded(a)
                    })
                }
            }), a(b).smartresize(function() {
                a(b).width() !== c._width && (c._width = a(b).width(), a(".mejs-time-rail", c.$element).width(0), c._player[0].player.setControlsSize(), c._slidOff === !0 && c._slideOff(0))
            }).trigger("resize"), setTimeout(function() {
                a(b).trigger("resize")
            }, 2e3), this._modals(), this._assignAriaLabel(c._playLabel)
        },
        _assignAriaLabel: function(b) {
            a(".mejs-playpause-button > button", this.$element).attr("aria-label", b)
        },
        _modals: function() {
            a(".QuotePlayer__audio-alternative-button", this.$element).on("click", function() {
                var b = a(this).attr("data-close-label");
                a(this).Modal({
                    closeLabel: b
                }), a(this).Modal("open", a(this).next().get(0))
            })
        },
        _onPause: function() {
            this.$element.trigger("QuotePlayer_paused"), this.$element.removeClass("playing").addClass("paused"), this._assignAriaLabel(this._playLabel)
        },
        _onPlay: function() {
            this.$element.trigger("QuotePlayer_playing"), this.$element.removeClass("paused finished").addClass("playing"), this._assignAriaLabel(this._pauseLabel), this._slidOff = !1, this._slideOn(400)
        },
        _onEnded: function() {
            this.$element.trigger("QuotePlayer_finished"), this.$element.removeClass("playing").addClass("finished"), this._assignAriaLabel(this._playLabel), this._slidOff = !0, this._slideOff(400)
        },
        _slideOff: function(b) {
            var c = 0 - (a(".mejs-time-rail", this.$element).width() + 10),
                d = 0 - a(".mejs-time-total", this.$element).width(),
                e = (a(".mejs-controls", this.$element).width() - (a(".mejs-button", this.$element).outerWidth() + a(".mejs-time", this.$element).outerWidth())) / 2;
            a(".mejs-time", this.$element).transition({
                x: c,
                duration: b
            }), a(".mejs-time-total", this.$element).transition({
                x: d,
                duration: b
            }), this._rtl === !0 && this._centred === !1 && (e = a(".mejs-controls", this.$element).width() - (a(".mejs-button", this.$element).outerWidth() + a(".mejs-time", this.$element).outerWidth())), (this._rtl === !0 || this._centred === !0) && a(".mejs-container", this.$element).transition({
                x: e,
                duration: b
            })
        },
        _slideOn: function(b) {
            a(".mejs-time, .mejs-time-total, .mejs-container", this.$element).transition({
                x: "0px",
                duration: b
            })
        }
    };
    jQuery.createComponent("QuotePlayer", c)
}(jQuery, window, document),
function(a, b) {
    var c = {
        _slider: null,
        uiSelectors: {
            slides: ".RangeCalculatorTooltipSlide",
            sliderWrapper: ".slider-wrapper"
        },
        init: function() {
            var c = this;
            this.$element.css("visible", "hidden"), b.matchMedia("(min-width: 768px)").matches && this._initSlider(), a(b).on("resize.tooltips", function() {
                c._componentResize()
            }), this._isStashed(), this.$element.on("openTooltip", function() {
                setTimeout(function() {
                    c.$element.iosSlider("update")
                }, 100)
            }), this.$element.on("updateSlider", function() {
                c.$element.iosSlider("update")
            })
        },
        _componentResize: function() {
            this._isStashed(), b.matchMedia("(max-width: 767px)").matches ? this._destroySlider() : null === this._slider && this._initSlider()
        },
        _isStashed: function() {
            b.matchMedia("(max-width: 768px)").matches ? this.ui("sliderWrapper").attr("stashed", "true") : this.ui("sliderWrapper").removeAttr("stashed")
        },
        _initSlider: function() {
            this.ui("slides").length <= 1 || (this._slider = this.$element.iosSlider({
                autoSlideTransTimer: 1e3,
                snapToChildren: !0,
                responsiveSlideContainer: !0,
                responsiveSlides: !0,
                desktopClickDrag: !0,
                infiniteSlider: !1,
                navNextSelector: this.$element.parent().find(".carouselNavigation .next"),
                navPrevSelector: this.$element.parent().find(".carouselNavigation .prev"),
                startAtSlide: site.rtl ? this.ui("slides").length : 1,
                onSlideChange: this._slideChanged.bind(this),
                onSlideStart: this._slideStart.bind(this),
                onSliderLoaded: this._sliderLoaded.bind(this)
            }), site.rtl && (this.ui("slides").css({
                direction: "rtl"
            }), this.$element.css({
                direction: "ltr"
            })))
        },
        _sliderLoaded: function(a) {
            this._setNavigationState(a), this.ui("slides").eq(a.currentSlideNumber - 1).attr("shown", !0)
        },
        _setNavigationState: function(a) {
            this.$element.parent().find(".carouselNavigation .numbers").text(a.currentSlideNumber + " / " + this.ui("slides").length)
        },
        _slideStart: function(a) {
            a !== !1 && this._pauseVideo(a.currentSlideObject)
        },
        _pauseVideo: function(b) {
            var c = b.find(".VideoPlayer"),
                d = c.find("video").get(0),
                e = c.find(".youTubeContainer");
            if (0 !== c.length && (void 0 !== d && void 0 !== d.player && d.player.pause(), 0 !== e.length)) {
                var f = a.Event("pauseVideo");
                a(e).trigger(f)
            }
        },
        _slideChanged: function(a) {
            this._setNavigationState(a), this.ui("slides").eq(a.prevSlideNumber - 1).removeAttr("shown"), this.ui("slides").eq(a.currentSlideNumber - 1).attr("shown", !0), this._pauseVideo(a.prevSlideObject)
        },
        _destroySlider: function() {
            this.$element.iosSlider("destroy", {
                clearStyle: !0
            }), this._slider = null
        },
        _destroy: function() {
            this._destroySlider()
        }
    };
    a.createComponent("RangeCalculatorTooltip", c)
}(jQuery, window),
function(a, b) {
    var c = {
        _defaults: {},
        _screenWidth: 0,
        _currentState: "",
        init: function() {
            var c = this;
            this._setupClickEvent(), a(b).smartresize(function() {
                return c._onResize()
            }), this._onResize()
        },
        _onResize: function() {
            var c = a(b).width();
            c !== this._screenWidth && (this._screenWidth = c, this._determineBreakpoint())
        },
        _determineBreakpoint: function() {
            var a = this._currentState,
                b = navigator.userAgent.toLowerCase().indexOf("ipad") > -1;
            this._screenWidth <= site.breakpoints.small ? this._currentState = "mobile" : this._screenWidth <= site.breakpoints.medium || b ? this._currentState = "tablet" : this._currentState = "desktop", a !== this._currentState && this._switchLink()
        },
        _switchLink: function() {
            var a = this.$element.data("link-" + this._currentState);
            "undefined" == typeof a && (a = this.$element.data("link-desktop")), this.$element.attr("href", a);
            var b = this.$element.data("link-" + this._currentState + "-window");
            "undefined" != typeof b ? this.$element.attr("target", "_blank") : this.$element.attr("target", "_self"), this._setupClickEvent()
        },
        _setupClickEvent: function() {
            var a = this;
            this.$element.off("click tap");
            var b = this.$element.data("link-event-" + this._currentState);
            b === !0 && this.$element.on("click tap", function(b) {
                b.preventDefault(), a.$element.trigger("ResponsiveLinkClicked", {
                    el: b.target,
                    state: a._currentState
                })
            })
        }
    };
    jQuery.createComponent("ResponsiveLink", c)
}(jQuery, window, document),
function(a, b) {
    var c = {
        _divided: !1,
        _$container: null,
        _containerType: "article",
        _rtl: !1,
        init_rtl: function() {
            this._rtl = !0
        },
        init: function() {
            var c = this;
            if (this.$element.parent().find("> br").remove(), this.$element.wrap('<div class="ResponsiveTableContainer"><div class="ResponsiveTable"></div></div>'), this._$container = this.$element.parents(".ResponsiveTable"), !this.$element.hasClass("alternativeRussianLayout")) {
                var d = this.$element.parents(".cmp-engineSpecifications, .VehicleSpecifications, .EmissionsTable").length;
                this._containerType = d ? "spectable" : "article";
                var e = function() {
                    c._checkWidths(), c._stickToRight(), c._callMatchRowHeights()
                };
                e(), a(b).smartresize(function() {
                    e()
                })
            }
        },
        _callMatchRowHeights: function() {
            var a = this;
            setTimeout(function() {
                a._matchRowHeights()
            }, 500)
        },
        _checkWidths: function() {
            this._$container.removeAttr("style").removeClass("stickToRight"), this._divided === !0 && this._combine(), this.$element.outerWidth() > this._$container.outerWidth() && this._divided === !1 ? this._divide() : this._divided === !0 && this._combine()
        },
        _matchRowHeights: function() {
            if (this._divided === !0) {
                var b = a(".pinned table tr", this._$container),
                    c = a(".scrollable table tr", this._$container);
                b.each(function(b, d) {
                    var e = a(d),
                        f = a(c.get(b)),
                        g = Math.max(e.height(), f.height());
                    e.add(f).height(g)
                })
            }
        },
        _divide: function() {
            this.$element.wrap('<div class="tableWrapper" />'), this._$container.before('<div class="responsiveTableArrow clearfix"><div class="bar"></div></div>');
            var a = this.$element.clone();
            a.find("td:not(:first-child), th:not(:first-child)").css("display", "none"), this.$element.closest(".tableWrapper").append(a), a.wrap('<div class="pinned" />'), this.$element.wrap('<div class="scrollable" />'), this.$element.attr("tabindex", "0"), this._divided = !0
        },
        _combine: function() {
            this.$element.closest(".tableWrapper").find(".pinned").remove(), this.$element.unwrap().unwrap(), a(".responsiveTableArrow", this._$container.parent()).remove(), this._divided = !1, this.$element.attr("tabindex", "")
        },
        _stickToRight: function() {
            var c = this,
                d = function() {
                    var d = c.$element.parents(".richText").length,
                        e = d ? c.$element.parents(".richText") : c.$element.parents(".sectionWrapper"),
                        f = d ? 0 : a(b).width() - (e.offset().left + e.width());
                    return f + parseInt(e.width(), 10)
                },
                e = function() {
                    return c._$container.parents(".GridListWrapper").width()
                };
            if (this._divided === !0 && a(b).width() < site.breakpoints.medium) {
                var f = "spectable" === this._containerType ? e() : d();
                this._$container.addClass("stickToRight"), this._$container.css("width", f)
            } else this._divided !== !0 && this._$container.removeAttr("style").removeClass("stickToRight")
        }
    };
    jQuery.createComponent("ResponsiveTable", c)
}(jQuery, window),
function(a, b, c, d) {
    var e = {
        _defaults: {
            contentSource: "html"
        },
        uiSelectors: {
            ratingStarsForeground: ".ratingStarsForeground",
            links: ".ratingStarsLink, .ratingLink",
            reviewCount: ".reviewCount"
        },
        _loadValues: null,
        init: function() {
            if ("html" === this.options.contentSource) this._renderContent(this.$element);
            else {
                this._loadValues = a.Deferred(), this._loadValues.done(this._renderContentFromHtmlString.bind(this));
                var b = this.$element.data("ajax-url");
                this._loadContent(b)
            }
        },
        _loadContent: function(b) {
            a.ajax(b).done(function(a) {
                this._loadValues.resolve(a)
            }.bind(this))
        },
        _renderContentFromHtmlString: function(b) {
            var c = a(b);
            this._renderContent(c)
        },
        _renderContent: function(a) {
            var b = 10 * a.data("review-score"),
                c = a.data("review-count"),
                d = a.data("review-url");
            this.ui("ratingStarsForeground").css("width", b + "%"), this.ui("links").attr("href", d), this.ui("reviewCount").text(c), this.$element.addClass("loaded")
        }
    };
    jQuery.createComponent("ReviewRatingBadge", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {},
        uiSelectors: {
            feature: ".reviewTitle"
        },
        columnCount: 0,
        init: function() {
            this._initEnquire(), a(b).smartresize(this._resize.bind(this)), this._resize()
        },
        _initEnquire: function() {
            enquire.register("screen and (min-width: 1100px)", {
                match: function() {
                    this.columnCount = 4
                }.bind(this),
                unmatch: function() {
                    this.columnCount = 2
                }.bind(this)
            })
        },
        _resize: function() {
            this.ui("feature").removeAttr("style"), site.utils.isBreakpointSmall() || (4 === this.columnCount ? this.ui("feature").equalHeights() : (this.ui("feature").filter(function(a) {
                return 2 > a
            }).equalHeights(), this.ui("feature").filter(function(a) {
                return a >= 2
            }).equalHeights()))
        }
    };
    jQuery.createComponent("ReviewsAtAGlance", e)
}(jQuery, window, document),
function(a, b, c) {
    "use strict";
    var d = {
        map: a("#map"),
        hiddenCards: [],
        markers: [],
        country: {},
        isMobileNav: !1,
        isTouchDevice: !1,
        resize: !0,
        repositionMap: !0,
        apiReady: !1,
        disambiguationSearch: !1,
        _googleMapsJsUrl: "//maps.googleapis.com/maps/api/js?callback=site.gmapsLoaded&libraries=geometry",
        mapDraggable: !0,
        bounds: [],
        inputSearch: !1,
        mapStyles: [],
        _mapDisabled: !1,
        _language: null,
        _market: null,
        cardTop: 0,
        cardBottom: 0,
        headerOffset: "",
        zeroResultsHeading: a(".zeroResultsHeading").text(),
        multipleResultsHeading: a(".multiLocationHeading").text(),
        imageEls: !1,
        maxZoom: 6,
        init: function() {
            this._fixClasses(), this.imageEls = a(".MapLocationCards .cardContainer:not(.GridListWrapper) .width-2of3");
            var c, d = this,
                e = a(".map-page-container", this.$element),
                f = a(".MapLocationCards", this.$element).find(".card"),
                g = a(".searchInput", this.$element),
                h = a(".MapLocationSearchContainer", this.$element);
            this.mapStyles = site.utils.googleMapStyles, this._mapDisabled = this.$element.data("map-enabled") === !1, this._screenSize(), this._mapDisabled ? e.hide() : (this._mapHeight(), d._loadGoogleMaps()), f.length < 3 && (d.repositionMap = !1), a(".searchAgainCTA, .searchAgainBtn", this.$element).on("click tap", function() {
                g.val(""), a("html, body").animate({
                    scrollTop: h.offset().top - a(".utility").height()
                }, 800, function() {
                    g.focus()
                })
            }), a(b).smartresize(function() {
                a(b).width() > 740 && d._equalHeightCards(), d._screenSize(), d._mapDisabled || (d._mapHeight(), d.resize && d.apiReady && d._centreMapOnCountry()), d._hideCards(), d.inputSearch && (c = a(".MapLocationCards"), d._calculateSearchWayPoints(), d._fixHeader()), d._doImageSize()
            }), a(b).on("load", function() {
                a(b).width() > 740 && d._equalHeightCards(), d._hideCards(), d._displayCards()
            }), a(b).on("api:ready", function() {
                d._mapDisabled || (d.apiReady = !0, d.infoBox = b.loadInfoBox(), d._initMap()), a(".MapLocationSearch").on("submit", function(a) {
                    a.preventDefault(), d._geocodeInput()
                })
            }), a(b).scroll(function() {
                d.inputSearch && !d.disambiguationSearch && d._fixHeader()
            }), a(b).on("pinMobileNavHeader", function() {
                d.disambiguationSearch || (d.headerOffset = "translate(0px, 65px)", d._fixHeader())
            }), a(b).on("unpinMobileNavHeader", function() {
                d.disambiguationSearch || (d.headerOffset = "translate(0px, 0px)", d._fixHeader())
            }), a(b).on("cookieNoticeClosed", function() {
                d.inputSearch && setTimeout(function() {
                    c = a(".MapLocationCards"), d.cardTop = c.offset().top, d.cardBottom = c.offset().top + c.innerHeight(), d._fixHeader()
                }, 1e3)
            }), b.addEventListener("hashchange", function(a) {
                a.preventDefault()
            })
        },
        _doImageSize: function() {
            b.innerWidth < 901 ? this.imageEls.height(b.innerWidth / 1.77777) : this.imageEls.height("100%")
        },
        _screenSize: function() {
            var a = this;
            site.utils.isMobileDevice() && (a.isMobileNav = !0)
        },
        _mapHeight: function() {
            var c, d = this,
                e = a(b),
                f = a(".otherCountries", this.$element),
                g = a(".map-key", this.$element),
                h = a(".stickyNavigation");
            c = e.width() <= 740 || e.height() <= 640 ? "100vh" : a(b).height() - f.innerHeight() - g.innerHeight() - h.innerHeight(), d.map.css("height", c)
        },
        _loadGoogleMaps: function() {
            a(b).trigger("gmapsReady")
        },
        _initMap: function() {
            var d = this;
            a("#map-controls", this.$element).find(".locate");
            d.latlng = new google.maps.LatLng(52.4500501, -1.7214052), d.mapOptions = {
                zoom: 15,
                center: d.latlng,
                scrollwheel: !1,
                disableDefaultUI: !0,
                draggable: d.mapDraggable,
                disableDoubleClickZoom: !d.mapDraggable
            }, d.googleMap = new google.maps.Map(c.getElementById("map"), d.mapOptions), d._showZoomIcons(), d._centreMapOnCountry(), d.googleMap.setOptions({
                styles: d.mapStyles
            }), d._setupZoom(), b.innerWidth < 701 && d._toggleMapLock(), d.bounds = new google.maps.LatLngBounds, d._addPins();
            var e = d._gatherRouteCoordinates();
            d._addRoutes(e), d._doImageSize(), google.maps.event.addListenerOnce(d.googleMap, "idle", function() {
                d.googleMap.fitBounds(d.bounds)
            })
        },
        _centreMapOnCountry: function() {
            var b = this.repositionMap,
                c = this.googleMap;
            if (b) {
                var d = a(".MapLocationMap", this.$element).data("country"),
                    e = a(".MapLocationMap", this.$element).data("country-code"),
                    f = new google.maps.Geocoder;
                f.geocode({
                    address: e || d
                }, function(a, b) {
                    var d = _slicedToArray(a, 1),
                        e = d[0];
                    e = void 0 === e ? {} : e;
                    var f = e.geometry;
                    f = void 0 === f ? {} : f;
                    var g = f.location,
                        h = f.viewport;
                    b === google.maps.GeocoderStatus.OK && (c.setCenter(g), c.fitBounds(h))
                })
            }
        },
        _showZoomIcons: function() {
            var b = this,
                c = a("#map-controls", this.$element),
                d = c.find(".plus"),
                e = c.find(".minus");
            b.isTouchDevice || (d.show(), e.show())
        },
        _setupZoom: function() {
            var b = this,
                c = a("#map-controls", this.$element),
                d = c.find(".plus"),
                e = c.find(".minus");
            b.googleMap.addListener("zoom_changed", function() {
                b.googleMap.getZoom() > b.maxZoom ? (e.removeClass("disabled"), b.resize = !1) : e.addClass("disabled")
            }), d.click(function() {
                b.googleMap.setZoom(b.googleMap.zoom + 1), b.resize = !1
            }), e.click(function() {
                b.googleMap.getZoom() !== b.maxZoom && b.googleMap.setZoom(b.googleMap.zoom - 1)
            })
        },
        _toggleMapLock: function() {
            var b = this,
                c = a(".control.drag", this.$element);
            b.googleMap.set("draggable", !1), b.googleMap.set("disableDoubleClickZoom", !0), c.removeClass("active"), b.mapDraggable = !1, c.click(function() {
                b.mapDraggable ? (b.googleMap.set("draggable", !1), b.googleMap.set("disableDoubleClickZoom", !0), a(this).removeClass("active"), b.mapDraggable = !1) : (b.googleMap.set("draggable", !0), b.googleMap.set("disableDoubleClickZoom", !1), a(this).addClass("active"), b.mapDraggable = !0, b.resize = !1)
            })
        },
        _fixClasses: function() {
            this.$element.find(".MapLocationCards").hasClass("GridView") ? a(".linkContainer.GalleryLink a").each(function(b, c) {
                a(c).removeClass("secondaryLinkWithStyle plwsLight plwsDark primaryLinkWithStyle plwsTransparentLight slwsBlack slwsWhite").addClass("secondaryLinkWithStyle")
            }) : a(".linkContainer.GalleryLink a").each(function(b, c) {
                a(c).removeClass("secondaryLinkWithStyle plwsLight plwsDark primaryLinkWithStyle plwsTransparentLight slwsBlack slwsWhite"), b % 2 === 0 ? a(c).addClass("primaryLinkWithStyle") : a(c).addClass("primaryLinkWithStyle plwsLight")
            })
        },
        _gatherRouteCoordinates: function() {
            for (var b = a(".card", this.$element), c = [], d = [], e = 0; e < b.length - 1; e++) {
                var f = [],
                    g = [],
                    h = "",
                    i = "",
                    j = "",
                    k = "";
                0 === e ? (h = a(b[e]).attr("data-lat"), i = a(b[e]).attr("data-lng"), j = a(b[e + 1]).attr("data-lat"), k = a(b[e + 1]).attr("data-lng"), d.push(h), d.push(i), g.push(j), g.push(k), f.push(d), f.push(g), c.push(f), d = g) : (j = a(b[e + 1]).attr("data-lat"), k = a(b[e + 1]).attr("data-lng"), g.push(j), g.push(k), f.push(d), f.push(g), c.push(f), d = g)
            }
            return c
        },
        _addRoutes: function(b) {
            var c = this;
            a(".MapLocationMap").hasClass("EnableRoutes") && b.map(function(a) {
                var b = a[0][0],
                    d = a[0][1],
                    e = a[1][0],
                    f = a[1][1],
                    g = new google.maps.LatLng(b, d),
                    h = new google.maps.LatLng(e, f),
                    i = new google.maps.DirectionsService,
                    j = new google.maps.DirectionsRenderer({
                        suppressMarkers: !0
                    }),
                    k = {
                        origin: g,
                        destination: h,
                        travelMode: google.maps.TravelMode.DRIVING
                    };
                i.route(k, function(a, b) {
                    b === google.maps.DirectionsStatus.OK && (j.setDirections(a), j.setMap(c.googleMap))
                })
            })
        },
        _addPins: function() {
            var c, d, e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v = this,
                w = a(".card", this.$element),
                x = !1,
                y = "";
            w.each(function(w) {
                c = a(this).data("lat"), d = a(this).data("lng"), f = c + "," + d, e = new google.maps.LatLng(c, d), p = a(this).closest(".cardContainer"), k = p.attr("id"), m = a(this).data("image"), n = a(this).data("image-alt"), q = a(this).find(".eventName"), a(this).find(".eventName").text((w + 1).toString() + ". " + a(this).find(".eventName").text()), r = a(this).find(".eventInfo"), j = a(this).find(".coordinates .infobox-content"), y = a(this).data("short-desc") ? a(this).data("short-desc") : "", s = a(this).find(".linkContainer.FindOutMore").clone(), "primaryLinkWithStyle" !== s.find("a")[0].className && (s.find("a")[0].className = "primaryLinkWithStyle"), s.find("a").attr("href", "#" + a(this).attr("id")), x = !0, g = {
                    url: "/resources/public/images/DefenderJourneys/pin_black.png",
                    scaledSize: new google.maps.Size(38, 53),
                    labelOrigin: new google.maps.Point(19, 19)
                }, h = "true" === a(".map-page-container").attr("pinnumbering") ? new google.maps.Marker({
                    position: e,
                    map: v.googleMap,
                    label: {
                        text: (w + 1).toString(),
                        color: "white",
                        fontFamily: "avenir",
                        fontSize: "14px"
                    },
                    icon: g
                }) : new google.maps.Marker({
                    position: e,
                    map: v.googleMap,
                    label: {
                        text: " ",
                        color: "white",
                        fontFamily: "avenir",
                        fontSize: "14px"
                    },
                    icon: g
                }), h.elementIndex = w, u = new google.maps.Size(10, 10), a(b).width() < 740 ? (t = "280px", o = new google.maps.Size(-140, -19)) : (t = "350px", o = new google.maps.Size(-175, -25)), b.innerHeight <= 350 && (t = "350px", o = new google.maps.Size(-175, -19)), b.innerWidth >= 330 && b.innerWidth <= 375 && (u = !1), h.origIcon = g, i = "<div>", i += '<div class="event-infobox">', i += '<span class="infoboxImage" style="background-image:url(\'' + m + "')\"></span>", i += '<span class="infoboxClose"></span>', i += '<div class="infoContainer">', i += '<h3 class="infoboxName">' + q.html() + "</h3>", r.length && (i += '<div class="infoboxInfo">' + r.html() + "</div>"), j.length && (i += '<p class="coordinates">' + j.html() + "</p>"), y.length && (i += '<p class="shortDesc">' + y + "</p>"), s.length && (i += "<span>" + s.html() + "</span>"), i += "</div>", i += "</div>", i += "</div>";
                var z = a(i);
                a(".infoboxImage", z).attr("aria-label", n), l = {
                    content: z.html(),
                    disableAutoPan: !1,
                    maxWidth: 0,
                    pixelOffset: o,
                    zIndex: null,
                    boxStyle: {
                        background: "transparent",
                        width: t
                    },
                    closeBoxURL: "",
                    infoBoxClearance: u,
                    isHidden: !1,
                    pane: "floatPane",
                    alignBottom: !0,
                    enableEventPropagation: !1
                }, h.infobox = new v.infoBox(l), a(".event-infobox").append(s), v.markers.push(h), v.bounds.extend(e), google.maps.event.addListener(h, "click", function(c) {
                    return function() {
                        for (var d = 0; d < v.markers.length; d++) v.markers[d].infobox.close();
                        v.googleMap.panTo(c.getPosition()), a(b).height() < 350 ? v.googleMap.panBy(0, -5) : b.innerWidth <= 330 ? v.googleMap.panBy(0, -125) : v.googleMap.panBy(0, -200),
                            site.utils.scrollTo(v.$element), c.infobox.open(v.googleMap, this), setTimeout(function() {
                                v.closeCTA = a(".infoboxClose"), v.closeCTA.on("click", function() {
                                    a(this).closest(".infoBox").addClass("closing"), setTimeout(function() {
                                        a(".infoBox").hide()
                                    }, 200)
                                }), a(".event-infobox a.primaryLinkWithStyle").on("click", function(b) {
                                    b.preventDefault();
                                    var c = a("#" + a(b.currentTarget).attr("href").split("#")[1]);
                                    site.utils.scrollTo(c)
                                }.bind(this))
                            }, 250)
                    }
                }(h))
            })
        },
        _geolocation: function() {
            var b, c = this,
                d = a("#map-controls", this.$element).find(".locate");
            navigator.geolocation ? (d.show(), navigator.geolocation.getCurrentPosition(function(a) {
                b = new google.maps.LatLng(a.coords.latitude, a.coords.longitude), c.googleMap.panTo(b), c.bounds.extend(b), c._addUserMarker(b), c._nearestLocations(b), c._usersLocation = b
            }, function() {
                d.hide()
            })) : d.hide()
        },
        _addUserMarker: function(a) {
            var b, c = this,
                d = "/resources/public/images/DefenderJourneys/pin_green.png";
            d = new google.maps.MarkerImage(d, null, null, null, new google.maps.Size(29, 40)), b = new google.maps.Marker({
                position: a,
                map: c.googleMap,
                icon: d,
                zIndex: 0
            })
        },
        _nearestLocations: function(a) {
            var b, c, d, e, f = this;
            for (b = 0; b < f.markers.length; b++) c = google.maps.geometry.spherical.computeDistanceBetween(a, f.markers[b].position), c /= 1e3, c = .621371 * c, c = Math.round(c), f.markers[b].distanceFromUser = c;
            f.markers.sort(function(a, b) {
                return parseFloat(a.distanceFromUser) - parseFloat(b.distanceFromUser)
            }), e = f.markers.length >= 3 ? 2 : f.markers.length - 1, d = new google.maps.Circle, d.setRadius(1609 * f.markers[e].distanceFromUser), d.setCenter(a), f.googleMap.fitBounds(d.getBounds())
        },
        _equalHeightCards: function() {
            var b = 0,
                c = a(".GridCards", this.$element).find(".card");
            c.css("height", ""), c.each(function() {
                b = b > a(this).height() ? b : a(this).height()
            }), c.height(b)
        },
        _hideCards: function() {
            var c, d, e = this,
                f = a(".load-more-cta", this.$element),
                g = a(".MapLocationCards");
            if (e.hiddenCards !== !1 && !g.hasClass("FullWidthCards")) {
                d = a(".future", this.$element), e.hiddenCards = {}, c = a(b).width() < 988 ? 2 : 3;
                var h = d.slice(0, c);
                h.show();
                var i = d.slice(c);
                e.hiddenCards = i, i.hide(), e.hiddenCards.length > 0 && (f.css("display", "inline-block"), a(".MapLocationCards", this.$element).find(".ctaContainer").show())
            }
        },
        _displayCards: function() {
            var b = this,
                c = a(".load-more-cta", this.$element);
            c.on("click", function(d) {
                d.preventDefault(), b.hiddenCards.show(), b.hiddenCards.each(function(b, c) {
                    a(c).css({
                        opacity: 0,
                        y: 80
                    }).transition({
                        opacity: 1,
                        y: 0,
                        delay: 200 * b
                    })
                }), c.fadeOut(), c.parent().fadeOut(400, function() {
                    b._calculateSearchWayPoints()
                }), b.hiddenCards = !1
            })
        },
        _geocodeInput: function() {
            var b, d = this,
                e = a(".searchInput", this.$element).val(),
                f = a(".MapLocationSearchError", this.$element),
                g = f.find(".searchDisambiguation"),
                h = f.find(".searchAgainDealer"),
                i = a(".utility"),
                j = g.find("ol"),
                k = new google.maps.Geocoder,
                l = "",
                m = a(".zeroResultsHeading", this.$element),
                n = a(".multiLocationHeading", this.$element),
                o = "",
                p = a(".MapLocationSearch", this.$element),
                q = a(".MapLocationCards", this.$element),
                r = a(".MapLocationCardsHeader", this.$element),
                s = a(".TAOPT_title", this.$element),
                t = c.documentElement.lang; - 1 !== t.indexOf("-") && (this._language = t.split("-")[0], this._market = t.split("-")[1].toLowerCase());
            var u = {
                address: e,
                region: this._market,
                componentRestrictions: {
                    country: this._market
                }
            };
            b = d.isMobileNav ? 0 : i.height(), k.geocode(u, function(c, i) {
                if (i === google.maps.GeocoderStatus.OK)
                    if (1 === c.length && c[0].address_components.length < 2) h.show(), f.slideDown(), g.hide(), a("html, body").animate({
                        scrollTop: h.offset().top - b
                    }, 800, function() {
                        d._calculateSearchWayPoints()
                    }), o = d.zeroResultsHeading.substring(0, d.zeroResultsHeading.length - 2), o += "'" + e + "'", m.text(o);
                    else if (1 === c.length || d.disambiguationSearch) f.slideUp(400, function() {
                    g.hide(), h.hide(), d._calculateSearchWayPoints(), d._sortCards(c[0].geometry.location)
                }), d.disambiguationSearch = !1;
                else if (c.length > 1) {
                    g.show(), f.slideDown(), h.hide(), o = d.multipleResultsHeading.substring(0, d.multipleResultsHeading.length - 2), o += "'" + e + "'", n.text(o);
                    for (var k = 0; k < c.length; k++) l += '<li><a href="#">' + c[k].formatted_address + "</a></li>";
                    j.html(l), a("html, body").animate({
                        scrollTop: g.offset().top - b
                    }, 800, function() {
                        d._calculateSearchWayPoints(), a(".multipleResults").find("a").on("click", function(b) {
                            q.addClass("userSearch"), s.hide(), r.show(), b.preventDefault(), d.disambiguationSearch = !0, p.find(".searchInput").val(a(this).text()), p.submit()
                        })
                    })
                }
            })
        },
        _sortCards: function(b) {
            var c, d, e, f, g, h, i = this,
                j = a(".cardContainer.future", this.$element),
                k = a(".MapLocationCardsHeader", this.$element),
                l = a(".TAOPT_title", this.$element),
                m = a(".MapLocationCards", this.$element),
                n = a(".utility");
            i.isMobileNav && (n = a(".navMobile-menu")), m.addClass("userSearch"), l.hide(), k.show(), j.each(function() {
                d = a(this).find(".card").data("lat"), e = a(this).find(".card").data("lng"), g = a(this).find(".eventLocation"), h = a(this).find(".card").data("city"), c = new google.maps.LatLng(d, e), f = google.maps.geometry.spherical.computeDistanceBetween(b, c), f /= 1e3, "km" !== m.data("distance-format") && (f = .621371 * f), a(this).data("distance", f), h = h + " (" + Math.ceil(f) + " " + m.data("distance-format") + ")", g.text(h)
            }), j.detach(), j.sort(function(b, c) {
                return parseFloat(a(b).data("distance")) - parseFloat(a(c).data("distance"))
            }), a(".MapLocationCards > .row", this.$element).append(j), i.hiddenCards !== !1 && (j.show(), i._hideCards()), a("html, body").animate({
                scrollTop: m.offset().top - n.height()
            }, 800), i.inputSearch = !0
        },
        _fixHeader: function() {
            var c = this,
                d = a(".MapLocationCardsHeader", this.$element),
                e = a(".MapLocationCards", this.$element),
                f = a(".utility").height(),
                g = a(b).scrollTop();
            c.isMobileNav && (f = 0), g + a(b).height() > c.cardBottom && e.innerHeight() < a(b).height() ? (d.removeClass("headerFixed").css({
                left: "",
                top: "",
                transform: ""
            }), e.removeClass("searchResults")) : g + a(b).height() > c.cardBottom ? (d.removeClass("headerFixed").addClass("headerStop").css({
                left: "",
                top: e.innerHeight() - a(b).height() + f,
                transform: ""
            }), e.addClass("searchResults")) : g >= c.cardTop - f ? (d.addClass("headerFixed").removeClass("headerStop").css({
                left: e.offset().left,
                top: f
            }), c.isMobileNav && d.css("transform", c.headerOffset), e.addClass("searchResults")) : (d.removeClass("headerFixed headerStop").css({
                left: "",
                top: "",
                transform: ""
            }), e.removeClass("searchResults"))
        },
        _calculateSearchWayPoints: function() {
            var b = this,
                c = a(".MapLocationCards", this.$element);
            b.cardTop = c.offset().top, b.cardBottom = c.offset().top + c.innerHeight()
        }
    };
    jQuery.createComponent("RideAndDrive", d)
}(jQuery, window, document);
var DecimalFormat = function() {
        function a(b) {
            _classCallCheck(this, a), this._prefix = a._getPrefix(b);
            var c = b.substring(this._prefix.length);
            this._suffix = a._getSuffix(c);
            var d = c.substr(0, c.length - this._suffix.length);
            this._suffix = this._suffix.replace(/[']/g, ""), this._groupSize = 0, this._minInt = 1, this._minFrac = 0, this._maxFrac = 0, this._groupingSeparator = ",", this._outputDecimalSeparator = ".", -1 !== d.indexOf("#.#") ? (this._groupingSeparator = ".", this._outputDecimalSeparator = ",") : -1 !== d.indexOf("# #") ? this._groupingSeparator = " " : -1 !== d.indexOf("##") ? this._groupingSeparator = "" : -1 !== d.indexOf("#'#") && (this._groupingSeparator = "'");
            var e = "",
                f = "",
                g = d.indexOf(this._outputDecimalSeparator); - 1 != g ? (e = d.substring(0, g), f = d.substring(g + 1)) : e = d;
            var h = e.lastIndexOf(this._groupingSeparator); - 1 != h && (this._groupSize = e.length - 1 - h), e = e.replace(new RegExp("[\\" + this._groupingSeparator + "]", "g"), ""), f = f.replace(new RegExp("[\\" + this._groupingSeparator + "]|[\\" + this._outputDecimalSeparator + "]+", "g"), ""), this._maxFrac = f.length;
            var i = e.replace(/[^0]/g, "");
            i.length > this._minInt && (this._minInt = i.length), i = f.replace(/[^0]/g, ""), this._minFrac = i.length
        }
        return _createClass(a, [{
            key: "getInputDecimalSeparator",
            value: function(a) {
                return "."
            }
        }, {
            key: "format",
            value: function(a) {
                var b = this.parseDecimal(a).toLowerCase();
                if (isNaN(b) || 0 == b.length) return a;
                var c = !1;
                "-" == b.charAt(0) ? (c = !0, b = b.substring(1)) : "+" == b.charAt(0) && (b = b.substring(1));
                var d = this.getInputDecimalSeparator(a),
                    e = b.indexOf(d),
                    f = "",
                    g = "";
                if (-1 != e ? (f = b.substring(0, e), g = b.substring(e + 1)) : f = b, g = g.replace(new RegExp("[\\" + this._outputDecimalSeparator + "]"), ""), g.length > this._maxFrac) {
                    var h = new Number("0." + g);
                    h = 0 == this._maxFrac ? Math.round(h) : h.toFixed(this._maxFrac), g = h.toString(10).substr(2);
                    for (var i, j = h >= 1 ? 1 : 0, k = f.length - 1; j;) {
                        if (-1 == k) {
                            f = "1" + f;
                            break
                        }
                        i = f.charAt(k), 9 == i ? (i = "0", j = 1) : (i = ++i + "", j = 0), f = f.substring(0, k) + i + f.substring(k + 1, f.length), k--
                    }
                }
                for (var k = g.length; k < this._minFrac; k++) g += "0";
                for (; g.length > this._minFrac && "0" == g.charAt(g.length - 1);) g = g.substring(0, g.length - 1);
                for (var k = f.length; k < this._minInt; k++) f = "0" + f;
                for (; f.length > this._minInt && "0" == f.charAt(0);) f = f.substring(1);
                for (var l = 0, k = f.length; k > 0; k--) 0 != l && l % this._groupSize == 0 && (f = f.substring(0, k) + this._groupingSeparator + f.substring(k), l = 0), l++;
                var m;
                return m = g.length > 0 ? this._prefix + f + this._outputDecimalSeparator + g + this._suffix : this._prefix + f + this._suffix, c && (m = "-" + m), m
            }
        }, {
            key: "parseDecimal",
            value: function(a) {
                if ("undefined" == typeof a || null === a) return "";
                if (a += "", !isNaN(a)) return this.getNumericString(a);
                var b = a,
                    c = !1;
                "-" == a.charAt(0) && (b = b.substr(1), c = !0);
                var d = b.indexOf(this._prefix),
                    e = "" == this._suffix ? b.length : b.indexOf(this._suffix, this._prefix.length + 1);
                return 0 == d && e > 0 && (b = b.substr(0, e), b = b.substr(this._prefix.length), b = b.replace(new RegExp("\\" + this._groupingSeparator, "g"), ""), b = b.replace(new RegExp("\\" + this._outputDecimalSeparator, "g"), "."), c && (b = "-" + b), !isNaN(b)) ? this.getNumericString(b) : a
            }
        }, {
            key: "getNumericString",
            value: function(a) {
                var b = new Number(a),
                    c = b + "";
                if (a.indexOf(".") > -1 && c.indexOf(".") < 0) {
                    for (var d = a.indexOf(".") + 1; d < a.length; d++)
                        if ("0" !== a.charAt(d)) return a;
                    return c
                }
                return a
            }
        }], [{
            key: "_getPrefix",
            value: function(a) {
                for (var b = "", c = !1, d = 0; d < a.length; d++)
                    if ("'" == a.charAt(d)) c = !c;
                    else if (!c && ("#" == a.charAt(d) || "0" == a.charAt(d))) {
                    b = a.substring(0, d).replace(/[']/g, "");
                    break
                }
                return b
            }
        }, {
            key: "_getSuffix",
            value: function(a) {
                for (var b = "", c = a.length; c >= 0; c--)
                    if ("#" == a.charAt(c) || "0" == a.charAt(c)) {
                        b = a.substring(c + 1);
                        break
                    } return b
            }
        }]), a
    }(),
    JSONP = function() {
        function a(b) {
            _classCallCheck(this, a), this._callbackName = b || "rcjson", this._pool = new Pool
        }
        return _createClass(a, [{
            key: "createScriptElement",
            value: function(a, b) {
                var c = document.createElement("script"),
                    d = !1;
                return c.src = a, c.async = !0, "function" == typeof b && (c.onerror = function(c) {
                    b({
                        url: a,
                        event: c
                    })
                }), c.onload = c.onreadystatechange = function() {
                    d || this.readyState && "loaded" !== this.readyState && "complete" !== this.readyState || (d = !0, c.onload = c.onreadystatechange = null, c && c.parentNode && c.parentNode.removeChild(c))
                }, this._head || (this._head = document.getElementsByTagName("head")[0]), this._head.appendChild(c), c
            }
        }, {
            key: "get",
            value: function(a) {
                var b = this,
                    c = -1 === (a || "").indexOf("?") ? "?" : "&",
                    d = this._pool.getToken(),
                    e = this._callbackName + d,
                    f = new Promise(function(f, g) {
                        window[e] = function(a) {
                            f(a);
                            try {
                                delete window[e]
                            } catch (c) {}
                            window[e] = null, d = b._pool.releaseToken(d)
                        };
                        var h = function(a) {
                            try {
                                delete window[e]
                            } catch (c) {}
                            window[e] = null, d = b._pool.releaseToken(d), g(a)
                        };
                        b.createScriptElement(a + c + "callback=" + e, h)
                    });
                return f.uniqueName = e, f
            }
        }, {
            key: "callbackName",
            get: function() {
                return this._callbackName
            }
        }]), a
    }(),
    Pool = function() {
        function a() {
            _classCallCheck(this, a), this._count = 0, this._tokens = []
        }
        return _createClass(a, [{
            key: "getToken",
            value: function() {
                for (var a = !0, b = -1, c = 0; c < this._tokens.length; c++)
                    if (this._tokens[c] == a) {
                        this._tokens[c] = !a, b = c;
                        break
                    } return -1 === b && (this._tokens.push(!a), b = this._tokens.length - 1), 0 === b ? "" : "" + b
            }
        }, {
            key: "releaseToken",
            value: function(a) {
                var b = !0,
                    c = -1;
                return c = "" === a ? 0 : parseInt(a, 10), !isNaN(c) && c >= 0 && (this._tokens[c] = b), "notoken"
            }
        }]), a
    }(),
    ResourceBundle = function() {
        function a() {
            var b = this,
                c = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};
            _classCallCheck(this, a), Object.keys(c).forEach(function(d) {
                var e = "object" !== _typeof(c[d]) ? c[d] : new a(c[d]);
                d.split(".").reduce(function(a, b, c, d) {
                    if (_isLast(c, d)) "object" === _typeof(a[b]) ? a[b].__default = e : a[b] = e;
                    else if ("undefined" == typeof a[b]) a[b] = _createObjectOrArray(d, c);
                    else if ("object" !== _typeof(a[b])) {
                        var f = a[b];
                        a[b] = _createObjectOrArray(d, c, f)
                    }
                    return a[b]
                }, b)
            })
        }
        return _createClass(a, [{
            key: "message",
            value: function(a) {
                for (var b = arguments.length, c = Array(b > 1 ? b - 1 : 0), d = 1; b > d; d++) c[d - 1] = arguments[d];
                return _message.apply(void 0, [this, a].concat(c))
            }
        }, {
            key: "toString",
            value: function() {
                return _toString(this)
            }
        }]), a
    }(),
    RulesConnect = function() {
        function a() {
            var b = this;
            _classCallCheck(this, a), this._jsonp = new JSONP("rcjson"), this._resources = null, this._properties = null, this._metaData = null, this._language = null, this._i18nPromise = new Promise(function(a, c) {
                b._i18nResolve = a
            }), this._currencyFormats = {}, this._defaultCurrency = "default"
        }
        return _createClass(a, [{
            key: "setResources",
            value: function(a) {
                this._resources = new ResourceBundle((a["resource-bundle"] || {})["client-resources"]), this._properties = new ResourceBundle((a["resource-bundle"] || {})["client-properties"]), this._metaData = new ResourceBundle((a.metadata || {}).meta), this._language = (a["resource-bundle"] || {}).language, this._i18nResolve()
            }
        }, {
            key: "loadResources",
            value: function(a, b, c) {
                var d, e = this;
                "undefined" == typeof c && "undefined" == typeof b && "string" == typeof a ? d = a : ("string" != typeof c && (c = ""), d = c + "/rc/" + a + "/" + b + "/resources.jsonp");
                var f = this.loadJsonp(d),
                    g = f.then(function(a) {
                        return e.setResources(a), a
                    });
                return g.uniqueName = f.uniqueName, g
            }
        }, {
            key: "hasResources",
            value: function() {
                return null != this._resources
            }
        }, {
            key: "getResource",
            value: function(a) {
                var b = null;
                if (null != this._resources && (b = this._resources[a], "undefined" != typeof b)) {
                    for (var c = arguments.length, d = Array(c > 1 ? c - 1 : 0), e = 1; c > e; e++) d[e - 1] = arguments[e];
                    for (var f = 0; f < d.length; f++) b = b.replace(new RegExp("\\{" + f + "\\}", "g"), d[f]), b = b.replace(new RegExp("\\$\\$" + f + "\\$\\$", "g"), d[f])
                }
                return b
            }
        }, {
            key: "loadJsonp",
            value: function(a) {
                var b = this,
                    c = this._jsonp.get(a),
                    d = c.then(function(a) {
                        return b.readCurrencyFormats(a), b.detectDefaultCurrency(a), b.overlayResourcesWithResponse(a), a
                    });
                return d.uniqueName = c.uniqueName, d
            }
        }, {
            key: "overlayResourcesWithResponse",
            value: function(a) {
                if (this._resources) {
                    var b = ((a["feature-dictionary"] || {}).vehicle || {}).property || {},
                        c = new ResourceBundle(b);
                    this.traverseResourceTree(c, this._resources)
                }
            }
        }, {
            key: "traverseResourceTree",
            value: function(a, b) {
                var c = this;
                Object.keys(a).forEach(function(d) {
                    d in b ? "string" == typeof a[d] ? b[d] = a[d] : "string" == typeof b[d] && "object" === _typeof(a[d]) ? b[d] = a[d][c.language] : "object" === _typeof(a[d]) && c.traverseResourceTree(a[d], b[d]) : "string" == typeof a[d] ? b[d] = a[d] : "object" === _typeof(a[d]) && (void 0 !== a[d][c.language] ? b[d] = a[d][c.language] : (b[d] = {}, c.traverseResourceTree(a[d], b[d])))
                })
            }
        }, {
            key: "readCurrencyFormats",
            value: function(a) {
                if (0 == Object.keys(this._currencyFormats).length && "undefined" != typeof a) {
                    var b = ((a.metadata || {}).meta || {})["currency-format"];
                    if ("string" == typeof b)
                        for (var c = b.trim().split("~"), d = {}, e = 0; e < c.length; e++) {
                            var f = c[e].split("=", 2);
                            if (1 == f.length && (d["default"] = new DecimalFormat(f[0].trim())), 2 == f.length) {
                                var g = new DecimalFormat(f[1].trim());
                                d[f[0].toUpperCase()] = g, 0 == e && (d["default"] = g)
                            }
                        }
                    this._currencyFormats = d
                }
            }
        }, {
            key: "detectDefaultCurrency",
            value: function(a) {
                var b = (a.metadata || {}).url;
                if ("string" == typeof b) {
                    var c = b.split("/", 5);
                    if (c.length >= 4) {
                        var d = c[3],
                            e = d.split("_", 3);
                        if (3 == e.length) {
                            var f = e[2],
                                g = f.indexOf(".");
                            return -1 !== g && (f = f.substr(0, g)), void(this._defaultCurrency = f.toUpperCase())
                        }
                    }
                }
                this._defaultCurrency = "default"
            }
        }, {
            key: "getFormattedPrice",
            value: function(a, b) {
                b = b || this._defaultCurrency;
                var c = this._currencyFormats[b] || this._currencyFormats["default"];
                return c ? c.format(a) : "" + a
            }
        }, {
            key: "getFormattedDate",
            value: function(a) {
                return a.toLocaleDateString()
            }
        }, {
            key: "onResourceReady",
            value: function() {
                return this._i18nPromise
            }
        }, {
            key: "resources",
            get: function() {
                return this._resources
            }
        }, {
            key: "language",
            get: function() {
                return this._language
            }
        }, {
            key: "properties",
            get: function() {
                return this._properties
            }
        }, {
            key: "metaData",
            get: function() {
                return this._metaData
            }
        }]), a
    }();
! function() {
    var a = {
        init: function() {
            var a = this;
            this.$element.on("click", function(b) {
                b.preventDefault(), site.utils.scrollTo(a.$element.offset().top + a.$element.height() + 1)
            })
        }
    };
    jQuery.createComponent("ScrollDown", a)
}(),
function(a, b, c, d) {
    var e = {
        _optionWidth: null,
        _optionsToShow: null,
        uiSelectors: {
            options: ".select-option"
        },
        events: {
            "click .select-option": "_optionSelected"
        },
        init_rtl: function() {},
        init: function() {
            this._optionsToShow = site.utils.isBreakpointSmall() ? 3.5 : 4.5, a(b).smartresize(function() {
                this._dragSlider && (this._optionsToShow = site.utils.isBreakpointSmall() ? 3.5 : 4.5, this.updateSliderSize())
            }.bind(this), 250)
        },
        _optionSelected: function(a) {
            this._dragSlider && this._dragSlider.activity || this.$element.trigger("option-selected", a, [this.$element.data()])
        },
        initSlider: function() {
            this._dragSlider || (this.ui("options").wrapAll('<div class="selectable-slider-wrapper"></div>'), this.updateSliderSize(), this._dragSlider = new b.Dragdealer(this.$element[0], {
                steps: this.ui("options").length,
                loose: !0,
                speed: 1.5,
                handleClass: "selectable-slider-wrapper",
                requestAnimationFrame: !0,
                x: site.rtl ? 1 : 0
            }), this.$element.addClass("selectable-slider"))
        },
        updateSliderSize: function() {
            this._optionWidth = Math.ceil(parseInt(this.$element.outerWidth(), 10) / this._optionsToShow), this.ui("options").width(this._optionWidth), a(".selectable-slider-wrapper", this.$element).width(this._optionWidth * this.ui("options").length)
        }
    };
    jQuery.createComponent("Selectable", e)
}(jQuery, window, document),
function(a, b) {
    "use strict";

    function c() {
        this._componentName = d, this.init()
    }
    var d = "SidebarImage";
    c.prototype = {
        init: function() {}
    }, a.fn[d] = function(b) {
        var e = arguments,
            f = "component_" + d;
        return this.each(function() {
            var d = a.data(this, f);
            d && "string" == typeof b && "_" !== b.charAt(0) && d[b] && "function" == typeof d[b] ? d[b].apply(d, Array.prototype.slice.call(e, 1)) : d || "object" !== ("undefined" == typeof b ? "undefined" : _typeof(b)) && b || a.data(this, f, new c(this, b))
        })
    }
}(jQuery, window),
function(a, b, c, d) {
    var e = {
        uiSelectors: {},
        _html: null,
        _slider: null,
        _autoPlayTimeout: 1e4,
        _interactionTimeout: 3e4,
        _timeOutInterval: null,
        _direction: "slideFromRight",
        init_rtl: function() {
            this._direction = "slideFromLeft"
        },
        init: function() {
            var c = this;
            c._html = a(".gridHolder", c.$element).html(), a(b).smartresize(function() {
                c._onResize()
            }), c._initEnquire(), c._truncateContent()
        },
        _initEnquire: function() {
            var c = this,
                d = 1300;
            enquire.register("screen and (min-width: " + d + "px)", {
                match: function() {
                    c._createCarousel(3)
                }
            }), enquire.register("screen and (min-width: " + (b.site.breakpoints.small + 1) + "px) and (max-width: " + (d - 1) + "px)", {
                match: function() {
                    c._createCarousel(2)
                }
            }), enquire.register("screen and (max-width: " + b.site.breakpoints.small + "px)", {
                match: function() {
                    c._createCarousel(1)
                }
            }), a("html").hasClass("lt-ie9") && c._createCarousel(3)
        },
        _resetCarousel: function() {
            this._$slider && this._$slider.destroy(), this._$slider = null, this._removeControls(), a(".gridHolder", this.$element).empty().html(this._html), this.$element.removeAttr("data-total")
        },
        _createCarousel: function(b) {
            var c = this;
            this._resetCarousel();
            var d = a(".grid", this.$element),
                e = a(".grid .gridItem", this.$element).length,
                f = a(".carouselNavigation", this.$element);
            if (b >= e) return void f.hide();
            for (var g = 0; e > g; g += b) {
                var h = g / b + 1;
                a(".grid > .gridItem:lt(" + b + ")", this.$element).wrapAll("<div class='slide' data-slideid='" + h + "'></div>")
            }
            var i = Math.ceil(e / b);
            this.$element.attr("data-total", i);
            var j = 0;
            "slideFromLeft" === this._direction && (j = a(".gridItem", this.$element).length - 1), d.royalSlider({
                arrowsNav: !1,
                loop: !0,
                keyboardNavEnabled: !1,
                controlsInside: !1,
                imageScaleMode: "none",
                arrowsNavAutoHide: !1,
                autoHeight: !1,
                autoScaleSlider: !0,
                autoScaleSliderWidth: 0,
                autoScaleSliderHeight: 0,
                slidesSpacing: 0,
                imgWidth: "100%",
                imgHeight: "100%",
                sliderDrag: !0,
                controlNavigation: "none",
                thumbsFitInViewport: !1,
                navigateByClick: !1,
                startSlideId: j,
                autoPlay: {
                    enabled: !1,
                    pauseOnHover: !1,
                    stopAtAction: !1,
                    delay: this._autoPlayTimeout
                },
                transitionType: "move",
                numImagesToPreload: 1
            }), this._slider = d.data("royalSlider"), this._updatePagination(), c._updateCurrentSlide(), this._slider.ev.on("rsBeforeAnimStart", {
                that: this
            }, this._onSlideChange), this._slider.ev.on("rsDragStart", {
                that: this
            }, this._onStartDrag), this._slider.ev.on("rsAfterSlideChange", function(a) {
                a.preventDefault(), c._updateCurrentSlide()
            }), this._initAutoPlay(!1), this._initCaroucelControls(), this._truncateContent(), this._addKeyboardNavigation()
        },
        _onStartDrag: function(a) {
            var b = a ? a.data.that : this;
            b._initAutoPlay(!0)
        },
        _initAutoPlay: function(a) {
            var c = this,
                d = a ? c._interactionTimeout : c._autoPlayTimeout;
            c._timeOutInterval && b.clearInterval(c._timeOutInterval), c._timeOutInterval = b.setInterval(function() {
                "slideFromLeft" === c._direction ? c._moveCarousel({
                    that: c,
                    direction: "prev"
                }) : c._moveCarousel({
                    that: c,
                    direction: "next"
                })
            }, d)
        },
        _removeControls: function() {
            var b = a(".carouselNavigation", this.$element);
            b.find("a.prev").off("click tap", this._onNavigationClick), b.find("a.next").off("click tap", this._onNavigationClick)
        },
        _initCaroucelControls: function() {
            var b = a(".carouselNavigation", this.$element);
            b.show(), b.find("a.prev").on("click tap", {
                that: this,
                direction: "prev"
            }, this._onNavigationClick), b.find("a.next").on("click tap", {
                that: this,
                direction: "next"
            }, this._onNavigationClick)
        },
        _onNavigationClick: function(a) {
            a.preventDefault();
            var b = a.data.that;
            b._initAutoPlay(!0), b._moveCarousel(a.data)
        },
        _moveCarousel: function(a) {
            var b = this,
                c = a.direction;
            b._slider[c](), b._updateSlideLinks()
        },
        _onSlideChange: function(a) {
            var b = a.data.that;
            b._updatePagination(), b._truncateContent()
        },
        _updateCurrentSlide: function() {
            var b = this;
            a(".rsSlide", b.$element).removeClass("current"), a(b._slider.currSlide.holder).addClass("current")
        },
        _updatePagination: function() {
            var b = this,
                c = b._slider.currSlideId + 1;
            "slideFromLeft" === b._direction && (c = b._slider.numSlides - c + 1);
            var d = a(".carouselNavigation .numbers .number", b.$element),
                e = d.eq(0),
                f = d.eq(1);
            e.html(c), f.html(b._slider.numSlides)
        },
        _onResize: function() {
            var a = this;
            a._truncateContent()
        },
        _truncateContent: function() {
            var b = a(".messageContent", this.$element);
            b.trigger("destroy"), b.dotdotdot()
        },
        _addKeyboardNavigation: function() {
            var b = this,
                c = b._slider,
                d = a(".grid", b.$element),
                e = a(".carouselNavigation", b.$element);
            d.attr("tabindex", "0"), d.keydown(function(a) {
                39 === a.keyCode ? (c.next(), d.focus(), b._updateSlideLinks()) : 37 === a.keyCode && (c.prev(), d.focus(), b._updateSlideLinks())
            }), e.find("a").keydown(function(b) {
                39 === b.keyCode ? a(this).nextAll("a").first().focus() : 37 === b.keyCode ? a(this).prevAll("a").first().focus() : 13 === b.keyCode && (b.preventDefault(), a(this).trigger("click"))
            }), b._updateSlideLinks()
        },
        _updateSlideLinks: function() {
            var b = this,
                c = (b._slider, a(".carouselWrapper .mediaCarousel", b.$element), a(".rsSlide > .slide", b.$element)),
                d = b._slider.currSlide.content;
            a("a", c).attr("tabindex", "-1"), a("a", d).attr("tabindex", "")
        }
    };
    jQuery.createComponent("SocialFeed", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {},
        uiSelectors: {
            articleColumns: ".articleColumns",
            assets: ".StoryArticleImage, .StoryArticleQuote, .StoryArticleVideo, .StoryArticleMap",
            columnAssets: ".columnAssets",
            columnText: ".columnText",
            scrollTriggers: ".scrollTrigger",
            emphasisedTip: "p:has(em)"
        },
        _columnLayout: !1,
        _columnLayoutInited: !1,
        _$window: a(b),
        _scrollLibrary: null,
        _scrollScenesComponent: {},
        _scrollScenesAssets: {},
        _aniTime: 1,
        _scrolledOutOfComponentBeforeTop: !1,
        _componentTopIsBelowViewportTop: !0,
        _componentBottomIsAboveViewportBottom: !1,
        _animating: !1,
        _scrollTriggerTimeout: null,
        _scrollTriggerHook: .5,
        _assetsOffscreen: {},
        _showMultipleAssets: !0,
        _smallerThanViewport: !1,
        _desktopAlignment: "left",
        init: function() {
            return site.inXPM ? void this.$element.addClass("xpmMode") : (this._initScrollLibrary(), this._detectLayout(), this._initLayout(), this._$window.smartresize(this._resize.bind(this)), this.$element.height() < this._$window.height() && (this._smallerThanViewport = !0, this.$element.addClass("assetSmallerThanViewport").addClass("assetAbsolute")), void this._paragraphMarginBottomAdjust())
        },
        _detectLayout: function() {
            this.$element.attr("data-alignment") && (this._desktopAlignment = a(".StoryArticle").attr("data-alignment")), enquire.register("screen and (min-width: " + b.site.breakpoints.medium + "px)", {
                match: function() {
                    this._columnLayout = site.utils.isMobileDevice() ? !1 : "centre" === this.$element.attr("data-alignment") ? !1 : !0, this._initLayout()
                }.bind(this)
            }), enquire.register("screen and (max-width: " + (b.site.breakpoints.medium - 1) + "px)", {
                match: function() {
                    this._columnLayout = !1, this._initLayout()
                }.bind(this)
            })
        },
        _initScrollLibrary: function() {
            this._scrollLibrary = new ScrollMagic.Controller
        },
        _initLayout: function() {
            this._columnLayout && !this._columnLayoutInited ? (this._scrollScenesAssets = {}, this._scrollScenesComponent = {}, this.ui("articleColumns").addClass("columnLayout"), this.ui("articleColumns").removeClass("singleColumn"), this._scrollTriggerAddComponent(!0), this.ui("assets").each(this._processAsset.bind(this, !0)), this._handleAssetMovement(0, !1, !1), this._resize(), this._columnLayoutInited = !0) : !this._columnLayout && this._columnLayoutInited && (this.ui("articleColumns").removeClass("columnLayout"), this._scrollTriggerAddComponent(!1), this.ui("assets").each(this._processAsset.bind(this, !1)), this._columnLayoutInited = !1), this._columnLayout || this.ui("articleColumns").addClass("singleColumn"), this.$element.addClass("layoutReady"), this._$window.trigger("StoryArticle:layoutChange"), this.uiElements.scrollTriggers = a(this.uiSelectors.scrollTriggers, this.$element)
        },
        _processAsset: function(b, c, d) {
            var e, f = a(d),
                g = f.find(".YouTubePlayer");
            b ? (0 === c ? f.data("StoryArticle-asset-first", !0) : c === this.ui("assets").length - 1 && f.data("StoryArticle-asset-last", !0), e = a('<div class="scrollTrigger scrollTriggerAsset scrollTriggerAsset' + c + '"></div>'), e.data("index", c), f.parent(".StoryArticleParagraph").prepend(e), this._scrollTriggerWatch(f, e, c), this.ui("columnAssets").append(f), 0 !== c && this._assetFixUnFix(f, !0), g.length && g.YouTubePlayer("setIgnorePauseEvent", !0)) : (e = this.ui("scrollTriggers").filter(".scrollTriggerAsset" + c), e.parent(".StoryArticleParagraph").append(f), this._assetFixUnFix(f, !1), this._scrollScenesAssets[c] && (this._scrollScenesAssets[c].destroy(), this._scrollScenesAssets[c] = null), e.remove(), g.length && g.YouTubePlayer("setIgnorePauseEvent", !1))
        },
        _assetFixUnFix: function(a, b) {
            b ? a.addClass("assetFixed") : a.attr("style", "").removeClass("assetFixed")
        },
        _scrollTriggerWatch: function(b, c, d) {
            if (1 === d) {
                var e = 100 / this._$window.height() * (a(".StoryArticleParagraph", this.$element).eq(1).offset().top - this.$element.offset().top) / 100 - .01;
                a("<style> .StoryArticle.showScrollTriggers .scrollTrigger:before{ top: " + 100 * e + "%; }</style>").appendTo("head"), this._scrollTriggerHook = Math.min(e, 1), this._showMultipleAssets = 1 > e
            }
            var f = new ScrollMagic.Scene({
                triggerElement: c.get(0),
                triggerHook: this._scrollTriggerHook,
                reverse: !0
            }).on("enter leave", this._scrollTriggerCallback.bind(this, b, d)).addTo(this._scrollLibrary);
            this._scrollScenesAssets[d] = f
        },
        _scrollTriggerAddComponent: function(a) {
            var b = 0,
                c = 0,
                d = 0,
                e = this._scrollTriggerComponentBeforeTop.bind(this),
                f = this._scrollTriggerComponentTop.bind(this),
                g = this._scrollTriggerComponentBottom.bind(this),
                h = this._scrollTriggerComponentAfterBottom.bind(this);
            if (Modernizr.cssvhunit) c = "-22vh", d = "22vh";
            else {
                var i = this._$window.height();
                c = -(.22 * i), d = .22 * i
            }
            this._scrollTriggerWatchComponent(a, "beforeTop", c, e), this._scrollTriggerWatchComponent(a, "top", b, f), this._scrollTriggerWatchComponent(a, "bottom", b, g), this._scrollTriggerWatchComponent(a, "afterBottom", d, h)
        },
        _scrollTriggerWatchComponent: function(b, c, d, e) {
            var f, g, h = "beforeTop" === c || "top" === c;
            b ? (f = a('<div class="scrollTrigger scrollTriggerComponent scrollTrigger' + c + '"></div>'), h ? this.$element.prepend(f) : this.$element.append(f), d && f.css("top", d), g = new ScrollMagic.Scene({
                triggerElement: f.get(0),
                triggerHook: h ? 0 : 1,
                reverse: !0
            }).on("enter leave", e).addTo(this._scrollLibrary), this._scrollScenesComponent[c] = g) : (g = this._scrollScenesComponent[c], f = this.ui("scrollTriggers").filter(".scrollTrigger" + c), g && g.destroy(), f.remove())
        },
        _scrollTriggerCallback: function(a, b, c) {
            var d = !0;
            this._componentTopIsBelowViewportTop || this._componentBottomIsAboveViewportBottom || ("enter" === c.type ? (null !== this._scrollTriggerTimeout && (clearTimeout(this._scrollTriggerTimeout), d = !1), this._scrollTriggerTimeout = setTimeout(this._scrollTriggerAssetEnter.bind(this, a, b, d, c), 200)) : "leave" === c.type && this._scrollTriggerAssetLeave(a, b, c))
        },
        _scrollTriggerAssetEnter: function(a, b, c, d) {
            this._scrollTriggerTimeout = null, this._handleAssetMovement(b, !0, c, d.scrollDirection), a.trigger("StoryArticle:onEnter"), "FORWARD" === d.scrollDirection && 0 !== b && this._scrollScenesAssets[b - 1].trigger("leave", {
                scrollDirection: "FORWARD"
            })
        },
        _scrollTriggerAssetLeave: function(a, b, c) {
            a.trigger("StoryArticle:onLeave"), "REVERSE" === c.scrollDirection && 0 !== b && this._scrollScenesAssets[b - 1].trigger("enter", {
                scrollDirection: "REVERSE"
            })
        },
        _scrollTriggerComponentBeforeTop: function(a) {
            this._scrolledOutOfComponentBeforeTop = "leave" === a.type, this._scrolledOutOfComponentBeforeTop ? this.ui("assets").first().trigger("StoryArticle:onLeave") : this.$element.trigger("StoryArticle:onEnterComponentBeforeTop")
        },
        _scrollTriggerComponentTop: function(a) {
            this._componentTopIsBelowViewportTop = "leave" === a.type;
            var b = this.ui("assets").first();
            this._smallerThanViewport ? (this.ui("assets").removeClass("assetFixed").addClass("assetAbsolute").addClass("assetSmallerThanViewport"), b.trigger("StoryArticle:onEntered")) : this._componentTopIsBelowViewportTop || !this._componentTopIsBelowViewportTop && this._componentBottomIsAboveViewportBottom ? (this.ui("assets").removeClass("assetFixed"), this.ui("assets").addClass("assetAbsolute"), this._moveOnLeaveTop(), clearTimeout(this._scrollTriggerTimeout)) : (this.ui("assets").removeClass("assetAbsolute"), this.ui("assets").addClass("assetFixed"))
        },
        _scrollTriggerComponentBottom: function(a) {
            var b = this.ui("assets").last();
            this._componentBottomIsAboveViewportBottom = "enter" === a.type, this._smallerThanViewport ? (this.ui("assets").removeClass("assetFixed").addClass("assetAbsolute").addClass("assetSmallerThanViewport"), b.trigger("StoryArticle:onEntered"), this.ui("assets").css({
                top: ""
            })) : this._componentBottomIsAboveViewportBottom || !this._componentBottomIsAboveViewportBottom && this._componentTopIsBelowViewportTop ? (this.ui("assets").removeClass("assetFixed"), this.ui("assets").addClass("assetAbsolute"), this._moveOnLeaveBottom(), TweenLite.to(b, this._aniTime, {
                y: this._$window.height() - b.height() - 140
            })) : (TweenLite.to(b, this._aniTime, {
                y: 0
            }), this.ui("assets").removeClass("assetAbsolute"), this.ui("assets").addClass("assetFixed"), this.ui("assets").css({
                top: ""
            }), clearTimeout(this._scrollTriggerTimeout), b.trigger("StoryArticle:onEntered"))
        },
        _scrollTriggerComponentAfterBottom: function(a) {
            this._scrolledOutOfComponentAfterBottom = "enter" === a.type, this._scrolledOutOfComponentAfterBottom && this.ui("assets").last().trigger("StoryArticle:onLeave")
        },
        _handleAssetMovement: function(a, b, c, d) {
            this._componentTopIsBelowViewportTop && this._componentBottomIsAboveViewportBottom || (this._animating === !1 && c === !0 && this._animating === !1 ? this._moveCurrentAsset(a, d) : this._moveAssets(a, b))
        },
        _moveCurrentAsset: function(a, b) {
            var c, d, e, f, g = this._$window.height() / this._aniTime,
                h = 0 === a;
            "FORWARD" !== b || h || (f = 1 === this.ui("assets").eq(a - 1).find(".mediaHolder").length ? this.ui("assets").eq(a - 1).find(".mediaHolder").outerHeight() : this.ui("assets").eq(a - 1).find(".multiImageGrid").outerHeight(), e = this._$window.height() - f, c = f, d = e / g, TweenLite.to(this.ui("assets").eq(a), d, {
                y: c,
                ease: Linear.easeNone,
                onComplete: this._moveCurrentAssetComplete.bind(this, a, !0, !1, b)
            })), "REVERSE" === b && (f = 1 === this.ui("assets").eq(a).find(".mediaHolder").length ? this.ui("assets").eq(a).find(".mediaHolder").outerHeight() : this.ui("assets").eq(a).find(".multiImageGrid").outerHeight(), e = this._$window.height() - f, c = 0 - f, d = e / g, TweenLite.to(this.ui("assets").eq(a), d, {
                y: c,
                ease: Linear.easeNone,
                onComplete: this._moveCurrentAssetComplete.bind(this, a, !0, !1, b)
            })), this._animationDebounce()
        },
        _moveCurrentAssetComplete: function(a, b, c, d) {
            "FORWARD" === d ? this.ui("assets").eq(a - 1).trigger("StoryArticle:onCollision") : this.ui("assets").eq(a + 1).trigger("StoryArticle:onCollision"), this._handleAssetMovement(a, b, c, d)
        },
        _moveAssets: function(a, b) {
            for (var c = 0; c < this.ui("assets").length; c++) {
                var d = (c - a) * this._$window.height(),
                    e = this.ui("assets").eq(c);
                TweenLite.killTweensOf(e), b ? c === a ? TweenLite.to(e, this._aniTime, {
                    y: d,
                    onComplete: this._animationComplete.bind(this, a)
                }) : (e.trigger("StoryArticle:onDeactive"), TweenLite.to(e, this._aniTime, {
                    y: d
                }), this.ui("assets").eq(a - 1).trigger("StoryArticle:onCollision")) : TweenLite.set(e, {
                    y: d
                })
            }
        },
        _animationComplete: function(a) {
            var b = this.ui("assets").eq(a);
            TweenLite.to(this.ui("assets").eq(a), 0, {
                clearProps: "transform"
            }), this._scrolledOutOfComponentBeforeTop || this._scrolledOutOfComponentAfterBottom || b.trigger("StoryArticle:onEntered")
        },
        _moveOnLeaveBottom: function() {
            for (var a = this.ui("assets").length - 1, b = 0; a + 1 > b; b++) {
                var c = (b - a) * this._$window.height(),
                    d = this.ui("assets").eq(b);
                d.css({
                    top: this.$element.height() - this._$window.height()
                }), TweenLite.killTweensOf(d), TweenLite.to(d, this._aniTime, {
                    y: c
                })
            }
            TweenLite.to(this.ui("assets").eq(a), this._aniTime, {
                y: 0,
                onComplete: this._animationComplete.bind(this, a)
            })
        },
        _moveOnLeaveTop: function() {
            for (var a = 0; a < this.ui("assets").length; a++) {
                var b = a * this._$window.height(),
                    c = this.ui("assets").eq(a);
                TweenLite.killTweensOf(c), TweenLite.to(c, this._aniTime, {
                    y: b
                })
            }
            TweenLite.delayedCall(this._aniTime, this._animationComplete.bind(this, 0))
        },
        _animationDebounce: function() {
            var a = this;
            a._animating = !0, clearTimeout(this._animatingTimeout), this._animatingTimeout = setTimeout(function() {
                a._animating = !1
            }, 1e3 * this._aniTime * .5)
        },
        _resize: function() {
            this._columnLayout && (this.ui("assets").width(this.ui("columnAssets").width()), this._reintroduceAssetsOffscreen(), this._checkAssetsOffscreen())
        },
        _reintroduceAssetsOffscreen: function() {
            a.each(this._assetsOffscreen, function(b, c) {
                if (c) {
                    var d = c.$asset,
                        e = c.$originalParent,
                        f = c.itemIndex;
                    e.append(d), this.uiElements.assets = a(this.uiSelectors.assets, this.$element), this._processAsset(!0, f, d.get(0)), this._assetsOffscreen[b] = null
                }
            }.bind(this))
        },
        _checkAssetsOffscreen: function() {
            this.uiElements.scrollTriggers = a(this.uiSelectors.scrollTriggers, this.$element), this.uiElements.assets = a(this.uiSelectors.assets, this.$element);
            var b, c = this.$element.offset().top + this.$element.height(),
                d = c - this._$window.height() * this._scrollTriggerHook,
                e = this.ui("scrollTriggers").filter(".scrollTriggerAsset");
            b = this._showMultipleAssets ? e.filter(function(b, c) {
                var e = a(c),
                    f = e.offset().top > d;
                return f
            }.bind(this)) : e.filter(function(a, b) {
                return 0 !== a
            }.bind(this)), b.each(function(b, c) {
                var d, e = a(c),
                    f = e.data("index"),
                    g = this.ui("assets").get(f),
                    h = a(g),
                    i = e.parent(".StoryArticleParagraph");
                d = {
                    itemIndex: f,
                    $originalParent: i,
                    $asset: h
                }, this._assetsOffscreen[b] = d, this._processAsset(!1, f, g), h.remove()
            }.bind(this)), this.uiElements.assets = a(this.uiSelectors.assets, this.$element)
        },
        _paragraphMarginBottomAdjust: function() {
            this.ui("emphasisedTip").prev().css("margin-bottom", "20px")
        }
    };
    jQuery.createComponent("StoryArticle", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {
            trackInViewport: !0
        },
        uiSelectors: {
            gridEl: ".multiImageGrid",
            images: ".multiImageItem",
            credits: ".assetCreditDescription"
        },
        $sliderEl: !1,
        init: function() {
            this.options.trackadjust = this.$element.height(), this._loadImages(), this._detectScreens(), site.utils.elementInViewport(this.$element, 0) && this.ui("images").length > 1 && setTimeout(function() {
                this.$element.addClass("sliderActive")
            }.bind(this), 400), a(b).smartresize(this._resizeSlider.bind(this)), a("html").hasClass("touch") && this.$element.find(".TargetLinks").off("click.TargetLinks").on("click.ImageBlock", function(a) {
                a.preventDefault()
            })
        },
        _loadImages: function() {
            var b = a("[data-picture-ignore]", this.$element);
            site.utils.loadIgnoredResponsiveImages(b)
        },
        _detectScreens: function() {
            enquire.register("screen and (min-width: " + b.site.breakpoints.medium + "px)", {
                match: function() {
                    this.$sliderEl !== !1 && this.destroySlider()
                }.bind(this)
            }), enquire.register("screen and (max-width: " + (b.site.breakpoints.medium - 1) + "px)", {
                match: function() {
                    this.ui("images").length > 1 && (this._copyCredits(), this.ui("images").waitForImages(this._resizeSlider.bind(this)), this.$sliderEl === !1 && this.initSlider())
                }.bind(this)
            })
        },
        _onEnterViewport: function() {
            this.$element.addClass("sliderActive")
        },
        _resizeSlider: function() {
            if (this.$element.hasClass("slider") !== !1) {
                this.ui("images").css("height", "");
                var b = this.ui("images").first().height();
                this.ui("images").each(function(c, d) {
                    var e = a(d);
                    e.height() > b && (b = e.height())
                }.bind(this)), this.ui("images").height(b), this.$element.find(".rsOverflow").height(b)
            }
        },
        initSlider: function() {
            this.$element.addClass("slider"), this.ui("gridEl").addClass("royalSlider"), this.ui("images").first().addClass("multiImageItemActive"), this.$sliderEl = a(".royalSlider", this.$element).royalSlider({
                arrowsNav: !1,
                controlNavigation: "none",
                loop: !1,
                keyboardNavEnabled: !1,
                navigateByClick: !1,
                controlsInside: !1,
                imageScaleMode: "none",
                arrowsNavAutoHide: !1,
                thumbsFitInViewport: !1,
                slidesSpacing: 0,
                autoHeight: !1,
                easeOut: "easeOutSine"
            });
            var b = this.$sliderEl.data("royalSlider");
            b.ev.on("rsDragStart", function(a) {
                this.$element.addClass("slideraActive"), this.ui("images").removeClass("multiImageItemActive")
            }.bind(this)), b.ev.on("rsDragRelease", function(c) {
                setTimeout(function() {
                    var c = a(b.currSlide.holder);
                    c.find(".multiImageItem").addClass("multiImageItemActive")
                }.bind(this), 400)
            }.bind(this)), b.ev.on("rsAfterSlideChange", function(c) {
                var d = a(b.currSlide.holder);
                d.find(".multiImageItem").addClass("multiImageItemActive")
            }.bind(this))
        },
        destroySlider: function() {
            var a = this.$sliderEl.data("royalSlider");
            this.ui("gridEl").removeClass("royalSlider").removeAttr("style"), this.$element.removeClass("slider"), this.ui("images").unwrap().removeAttr("style"), this.ui("gridEl").find(".rsOverflow").replaceWith(this.ui("gridEl").find(".multiImageItem")), a.destroy(), this.$sliderEl = !1
        },
        _copyCredits: function() {
            this.ui("credits").each(function(b, c) {
                var d = a(c);
                a(this.ui("images").get(b)).find(".assetDescription").text(d.text())
            }.bind(this))
        }
    };
    jQuery.createComponent("StoryArticleEnhancedImageBlock", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {
            ignorePauseEvent: !1
        },
        uiSelectors: {
            controls: ".mejs-controls",
            rail: ".mejs-time-rail",
            playerInner: ".mejs-inner",
            text: ".imageMedia p",
            audio: "audio"
        },
        _player: null,
        _aniTime: 1,
        _audioId: null,
        _$window: a(b),
        init: function(a) {
            this._loadImages(), this._initPlayer(), this._initHandlers(), this._$window.smartresize(this._resize.bind(this)), this._resize()
        },
        _loadImages: function() {
            var b = a("[data-picture-ignore]", this.$element);
            site.utils.loadIgnoredResponsiveImages(b)
        },
        _initPlayer: function() {
            var a = this;
            this.ui("audio").length && (this._audioId = "audio" + Math.floor(1e4 * Math.random()), a._player = this.ui("audio").mediaelementplayer({
                startVolume: .8,
                features: ["playpause", "progress", "current", "duration"],
                audioWidth: "100%",
                audioHeight: 50,
                success: function(b, c, d) {
                    b.addEventListener("play", function(b) {
                        a._onPlay(b)
                    }), b.addEventListener("pause", function(b) {
                        a._onPause(b)
                    }), b.addEventListener("ended", function(b) {
                        a._onEnded(b)
                    })
                }
            }))
        },
        _initHandlers: function() {
            this.$element.on("StoryArticle:onEnter", this._onEnter.bind(this)), this.$element.on("StoryArticle:onEntered", this._onEntered.bind(this)), this.$element.on("StoryArticle:onLeave", this._onLeave.bind(this)), this.$element.on("StoryArticle:onCollision", this._onCollision.bind(this)), this.$element.on("StoryArticle:onDeactive", this._onDeactive.bind(this)), this._$window.on("VideoPlayerPause", this._onVideoPlayerPause.bind(this))
        },
        _resize: function() {
            this.ui("controls").width(this.$element.width()), this.ui("rail").width(0), this.ui("playerInner").height(this.ui("text").height()), this._player && this._player[0].player.setControlsSize()
        },
        pausePlayer: function() {
            this._player[0].player.pause()
        },
        _onPause: function(a) {
            this.$element.removeClass("playing").addClass("paused")
        },
        _onPlay: function(a) {
            this._player[0].player.setVolume(1), this.$element.removeClass("paused finished").addClass("playing"), this._$window.trigger("VideoPlayerPause", {
                videoid: this._audioId
            })
        },
        _onEnded: function(a) {
            this.$element.removeClass("playing").addClass("finished")
        },
        _onEnter: function() {},
        _onEntered: function() {
            this.$element.removeClass("collapsed")
        },
        _onCollision: function() {
            this.$element.addClass("collapsed")
        },
        _onDeactive: function() {
            this.$element.addClass("collapsed")
        },
        _onLeave: function() {
            this._player && TweenLite.fromTo(this._player[0].player, this._aniTime, {
                setVolume: 1
            }, {
                setVolume: 0,
                ease: Power2.easeIn,
                onComplete: this.pausePlayer.bind(this)
            })
        },
        _onVideoPlayerPause: function(a, b) {
            b.videoid && !this.options.ignorePauseEvent && this._player && this._player[0] && b.videoid !== this._audioId && this.pausePlayer()
        }
    };
    jQuery.createComponent("StoryArticleImage", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {},
        uiSelectors: {
            mediaHolder: ".mediaHolder",
            iframeContainer: ".iframeContainer",
            iframeOverlay: ".iframeOverlay",
            iframe: "iframe"
        },
        init: function() {
            this._initIframe(), this._mapScrollingOn(), this._mapScrollingOff(), this._initHandlers()
        },
        _initIframe: function() {
            enquire.register("screen and (min-width: " + (b.site.breakpoints.small + 1) + "px)", {
                match: function() {
                    this.ui("mediaHolder").css("height", .5625 * this.ui("mediaHolder").width()), this._adjustIframeHeight()
                }.bind(this)
            }), enquire.register("screen and (orientation:portrait) and (max-width: " + b.site.breakpoints.small + "px)", {
                match: function() {
                    this.ui("mediaHolder").css("height", 350)
                }.bind(this)
            }), enquire.register("screen and (orientation:landscape) and (max-width: " + b.site.breakpoints.small + "px)", {
                match: function() {
                    this.ui("mediaHolder").css("height", 250)
                }.bind(this)
            })
        },
        _adjustIframeHeight: function() {
            var c = a(b);
            c.resize(function() {
                c.width() > b.site.breakpoints.small && this.ui("mediaHolder").css("height", .5625 * this.ui("mediaHolder").width())
            }.bind(this))
        },
        _mapScrollingOn: function() {
            this.ui("iframeContainer").click(function() {
                this.ui("iframeOverlay").css("display", "none"), this.ui("iframe").css("pointer-events", "auto")
            }.bind(this)).hover(function() {
                "none" === this.ui("iframe").css("pointer-events") && b.setTimeout(function() {
                    this.ui("iframeOverlay").css("display", "none"), this.ui("iframe").css("pointer-events", "auto")
                }.bind(this), 3e3)
            }.bind(this))
        },
        _mapScrollingOff: function() {
            var c = a(b);
            c.on("load resize scroll", function() {
                var a = this._isElementOutViewport(this.ui("iframeContainer"));
                a || (this.ui("iframeOverlay").css("display", "block"), this.ui("iframe").css("pointer-events", "none"))
            }.bind(this))
        },
        _isElementOutViewport: function(c) {
            "function" == typeof jQuery && c instanceof jQuery && (c = c[0]);
            var d = c.getBoundingClientRect();
            return d.top >= 0 && d.left >= 0 && d.bottom <= a(b).height() && d.right <= a(b).width()
        },
        _initHandlers: function() {
            this.$element.on("StoryArticle:onEnter", this._onEnter.bind(this)), this.$element.on("StoryArticle:onEntered", this._onEntered.bind(this)), this.$element.on("StoryArticle:onLeave", this._onLeave.bind(this)), this.$element.on("StoryArticle:onCollision", this._onCollision.bind(this)), this.$element.on("StoryArticle:onDeactive", this._onDeactive.bind(this))
        },
        _onEnter: function() {},
        _onEntered: function() {
            this.$element.removeClass("collapsed")
        },
        _onLeave: function() {},
        _onCollision: function() {
            this.$element.addClass("collapsed")
        },
        _onDeactive: function() {
            this.$element.addClass("collapsed")
        }
    };
    jQuery.createComponent("StoryArticleMap", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        uiSelectors: {},
        init: function() {
            this._initHandlers()
        },
        _initHandlers: function() {
            this.$element.on("StoryArticle:onEnter", this._onEnter.bind(this)), this.$element.on("StoryArticle:onEntered", this._onEntered.bind(this)), this.$element.on("StoryArticle:onLeave", this._onLeave.bind(this)), this.$element.on("StoryArticle:onCollision", this._onCollision.bind(this)), this.$element.on("StoryArticle:onDeactive", this._onDeactive.bind(this))
        },
        _onEnter: function() {},
        _onEntered: function() {
            this.$element.removeClass("collapsed")
        },
        _onCollision: function() {
            this.$element.addClass("collapsed")
        },
        _onLeave: function() {},
        _onDeactive: function() {
            this.$element.addClass("collapsed")
        },
        _destroy: function() {}
    };
    jQuery.createComponent("StoryArticleQuote", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {},
        uiSelectors: {
            loopPlayer: ".videoContainerLoop .VideoPlayer",
            container: ".storyVideoContainer",
            player: ".YouTubePlayer",
            cta: ".mediaOverlay",
            text: ".assetDescription"
        },
        _states: {
            playerOverlay: {
                hidden: "hidden",
                showBehind: "showBehind",
                showInFront: "showInFront"
            }
        },
        $articleColumn: null,
        $playerOriginal: null,
        $playerOverlay: null,
        $playerOverlayMediaPlayer: null,
        $closeBtn: null,
        $masks: {},
        loopPlayer: !1,
        loopPlayerThumb: [],
        isMediaManager: !1,
        loopExpand: !1,
        _$window: a(b),
        _aniTime: 1,
        init: function() {
            this.isMediaManager = this.ui("container").find(".VideoPlayer").length ? !0 : !1, this.uiSelectors.player = this.isMediaManager ? ".storyVideoContainer .VideoPlayer" : this.uiSelectors.player, this.isMediaManager && this.ui("player").VideoPlayer(), this._createLayout(), site.utils.isMobileDevice() && this.$element.removeClass("withLoop"), this.$element.hasClass("withLoop") && (this.loopPlayer = !0, this._initLoopPlayer()), this._initHandlers(), this._resize(), this._$window.smartresize(this._resize.bind(this))
        },
        _createLayout: function() {
            var b, c, d = this.$element.parents(".StoryArticle");
            if (this.$articleColumn = d.find(".columnText"), b = a(this.isMediaManager ? '<div class="playerOriginal"><div class="playerContainer"></div></div>' : '<div class="playerOriginal"><div class="playerContainer"><div class="YouTubePlayer"><div class="playerWrapper"><div id="YouTubeVideo_123" class="placeholderVideo" data-video-id="A3PDXmYoF5U"></div></div></div></div></div>'), this.$playerOriginal = b.find(".playerContainer"), this.isMediaManager) {
                var e = this.ui("player").clone();
                this.$playerOriginal.append(e), e.VideoPlayer()
            }
            this.$playerOverlay = a('<div class="playerOverlay" data-visibility="hidden"><div class="player"></div></div>'), c = a('<div class="masks"><div class="mask maskV1"></div><div class="mask maskV2"></div><div class="mask maskH1"></div><div class="mask maskH2"></div></div>'), this.$masks.v1 = c.find(".maskV1"), this.$masks.v2 = c.find(".maskV2"), this.$masks.h1 = c.find(".maskH1"), this.$masks.h2 = c.find(".maskH2"), d.append(b).append(this.$playerOverlay).append(c)
        },
        _initHandlers: function() {
            this._$window.on("StoryArticle:layoutChange", this._resize.bind(this)), this.$element.on("StoryArticle:onEnter", this._onEnter.bind(this)), this.$element.on("StoryArticle:onEntered", this._onEntered.bind(this)), this.$element.on("StoryArticle:onLeave", this._onLeave.bind(this)), this.$element.on("StoryArticle:onCollision", this._onCollision.bind(this)), this.$element.on("StoryArticle:onDeactive", this._onDeactive.bind(this)), this.$element.parents(".StoryArticle").on("StoryArticle:onEnterComponentBeforeTop", this._onEnterComponentBeforeTop.bind(this))
        },
        _pauseOnInitFunction: function() {
            this.ui("loopPlayer").VideoPlayer("pause")
        },
        _pauseOnInit: null,
        _initLoopPlayer: function() {
            this.ui("loopPlayer").VideoPlayer({
                autoplay: !1,
                loop: !0,
                controls: !0,
                ignorePauseEvent: !0
            }), this.ui("cta").on("click tap", this._checkReadyToExpandLoopPlayer.bind(this))
        },
        _resize: function() {
            if (this.loopPlayer) {
                if (this.$playerOverlayMediaPlayer) {
                    this.isMediaManager || this.$playerOverlayMediaPlayer.YouTubePlayer("onResize", !0);
                    var a = this.$playerOverlayMediaPlayer.find(".playerWrapper"),
                        b = this._$window.height() - a.height(),
                        c = 0;
                    c = 0 > b ? b : b / 2, a.css({
                        "margin-top": c
                    })
                }
            } else this.isMediaManager || this.ui("player").YouTubePlayer("onResize", !0)
        },
        _createOverlayPlayer: function() {
            this.$playerOriginal.clone().appendTo(this.$playerOverlay.find(".player")), this.$playerOverlayMediaPlayer = this.isMediaManager ? this.$playerOverlay.find(".VideoPlayer") : this.$playerOverlay.find(".YouTubePlayer"), this.isMediaManager || this.$playerOverlayMediaPlayer.find(".placeholderVideo").data("video-id", this.ui("player").find(".placeholderVideo").data("video-id")), this.$playerOverlayMediaPlayer.on("onPlay", a.proxy(this._revealPlayer, this)), this.$playerOverlay.attr("data-visibility", this._states.playerOverlay.showBehind), this.isMediaManager ? this.$playerOverlayMediaPlayer.VideoPlayer("isInitiated") ? this.$playerOverlayMediaPlayer.VideoPlayer("play") : this.$playerOverlayMediaPlayer.VideoPlayer("initVideo") : this.$playerOverlayMediaPlayer.YouTubePlayer({
                ignorePauseEvent: !0
            }).YouTubePlayer("play"), this._addVideoCloseButton(), this.$playerOverlayMediaPlayer.on("videoEnded", this._fadeVideoOut.bind(this))
        },
        _addVideoCloseButton: function() {
            var b = this;
            this.$closeBtn || (this.$closeBtn = a('<a href="#" class="closeBtn mfp-close"></a>'), this.$closeBtn.css({
                opacity: 0
            }), this.$element.parents(".StoryArticle").append(this.$closeBtn), this.$closeBtn.on("click tap", function(a) {
                a.preventDefault(), b._fadeVideoOut()
            })), TweenLite.to(this.$closeBtn, .5, {
                opacity: 1
            })
        },
        _removeVideoCloseButton: function() {
            var a = this;
            TweenLite.to(a.$closeBtn, .2, {
                opacity: 0,
                onComplete: function() {
                    a.$closeBtn.remove(), a.$closeBtn = null
                }
            })
        },
        _revealPlayer: function() {
            this._resize(), this.$playerOverlay.attr("data-visibility", this._states.playerOverlay.showInFront), this._fadeVideoIn(), this.$playerOverlayMediaPlayer.off("onPlay", this._revealPlayer)
        },
        _checkReadyToExpandLoopPlayer: function(b) {
            var c = this.$element.hasClass("assetFixed"),
                d = this.$element.data("StoryArticle-asset-first");
            this.$element.data("StoryArticle-asset-last");
            if (b.preventDefault(), c) this._expandLoopPlayer();
            else {
                var e = site.utils.detectBrowsers().isExplorer,
                    f = this.$element.parents(".StoryArticle"),
                    g = f.offset(),
                    h = g.top + 1,
                    i = e ? 50 : 1,
                    j = h + f.height() - this._$window.height() - i,
                    k = d ? h : j;
                a.when(a("html, body").animate({
                    scrollTop: k
                }, 400)).then(this._checkAssetFixed.bind(this))
            }
        },
        _checkAssetFixed: function() {
            this.$element.hasClass("assetFixed") || this.$element.hasClass("assetSmallerThanViewport") ? this._expandLoopPlayer() : this.$element.one("StoryArticle:onEntered", this._expandLoopPlayer.bind(this))
        },
        _expandLoopPlayer: function() {
            var c = this,
                d = this.ui("loopPlayer"),
                e = d.find(".playerWrapper"),
                f = e.find(".mejs-video"),
                g = this.ui("text"),
                h = this.$element,
                i = (f.find("video")[0], [e.offset().top, e.offset().left + 5]),
                j = this._$window[0].innerWidth,
                k = this._$window.height(),
                l = j / (f.width() / f.height()),
                m = this.$element.parents(".InteractiveStory"),
                n = a("html"),
                o = {
                    height: k
                };
            h.hasClass("assetFixed") || (o.y = -(f.offset().top - a(b).scrollTop())), m.addClass("fullscreen"), c.loopExpand ? c.loopExpand.play().timeScale(1) : (c.loopPlayerThumb.push(e.width()), c.loopPlayerThumb.push(e.height()), c.loopPlayerThumb.push(f.width()), c.loopPlayerThumb.push(f.height()), c.loopExpand = (new TimelineLite).eventCallback("onReverseComplete", function() {
                e.css({
                    width: c.loopPlayerThumb[0],
                    height: c.loopPlayerThumb[1]
                }), f.css({
                    width: c.loopPlayerThumb[2],
                    height: c.loopPlayerThumb[3]
                }), h.css("top", ""), m.removeClass("fullscreen"), n.removeClass("noScroll")
            }).to(g, .5, {
                opacity: 0,
                onComplete: function() {
                    e.addClass("letterbox"), n.addClass("noScroll")
                }
            }).to(c.$articleColumn, 1, {
                x: -(this.$articleColumn.outerWidth() + this.$articleColumn.offset().left),
                ease: Power2.easeOut
            }).to(f, 1, {
                width: j
            }, "-=1").fromTo(e, 1, {
                width: e.width()
            }, {
                x: -i[1],
                width: j
            }, "-=1").fromTo(f, .5, {
                height: f.height()
            }, {
                height: l,
                y: (k - l) / 2,
                delay: .5
            }, "-=0.5").fromTo(e, .5, {
                height: f.height()
            }, o, "-=0.5").to(h, .5, {
                top: 0,
                onComplete: function() {
                    c._createOverlayPlayer()
                }
            }, "-=0.5")), c._addKeyboardNavigation()
        },
        _addKeyboardNavigation: function() {
            var b = this;
            a(c).on("keyup", function(c) {
                27 === c.keyCode && a("html").hasClass("noScroll") && b._fadeVideoOut()
            })
        },
        _shrinkLoopPlayer: function() {
            var a = this,
                b = this.ui("loopPlayer"),
                c = b.find(".playerWrapper"),
                d = (c.find(".mejs-video"), this.$element);
            TweenLite.to(d, 0, {
                top: 0,
                onComplete: function() {
                    (new TimelineLite).to(a.ui("text"), .2, {
                        opacity: 0,
                        onComplete: function() {
                            a._clearOverlay(), a.loopExpand.reverse().timeScale(1.2), c.removeClass("letterbox")
                        }
                    })
                }
            })
        },
        _setMaskSizes: function() {
            this.$masks.v1.height(this.$element.offset().top - this._$window.scrollTop()), this.$masks.v2.height(this._$window.height() - this.$element.height() + this.ui("text").outerHeight() - (this.$element.offset().top - this._$window.scrollTop())), this.$masks.h1.width(this.$element.offset().left), this.$masks.h2.width(this._$window.width() - this.$element.width() - this.$element.offset().left)
        },
        _fadeVideoIn: function() {
            var a = this.$playerOverlayMediaPlayer;
            this.loopPlayer && this._fadeOutPauseLoop(), TweenLite.fromTo(this.$playerOverlay, .2, {
                opacity: 0
            }, {
                opacity: 1
            });
            var b = {
                vol: 0
            };
            TweenLite.fromTo(b, .5, b, {
                vol: 100,
                onUpdate: function() {
                    this.isMediaManager || a.YouTubePlayer("setVolume", b.vol)
                }
            })
        },
        _animatePageIn: function() {
            TweenLite.to(this.$masks.h1, .5, {
                width: 0,
                delay: .1
            }), TweenLite.to(this.$masks.h2, .5, {
                width: 0,
                delay: .1
            }), TweenLite.to(this.$masks.v1, .5, {
                height: 0,
                delay: .5
            }), TweenLite.to(this.$masks.v2, .5, {
                height: 0,
                delay: .5
            })
        },
        _closeOverlayPlayer: function() {
            var a = this.$element.offset().top - this._$window.scrollTop(),
                b = this._$window.height() - this.$element.height() + this.ui("text").outerHeight() - (this.$element.offset().top - this._$window.scrollTop()),
                c = this.$element.offset().left,
                d = this._$window.width() - this.$element.width() - this.$element.offset().left;
            TweenLite.to(this.$masks.v1, .5, {
                height: a
            }), TweenLite.to(this.$masks.v2, .5, {
                height: b
            }), TweenLite.to(this.$masks.h1, .5, {
                width: c,
                delay: .4
            }), TweenLite.to(this.$masks.h2, .5, {
                width: d,
                delay: .4
            })
        },
        _fadeVideoOut: function() {
            var a = this,
                b = this.$playerOverlayMediaPlayer,
                c = {
                    vol: 100
                };
            TweenLite.fromTo(c, .2, c, {
                vol: 0,
                onUpdate: function() {
                    this.isMediaManager || b.YouTubePlayer("setVolume", c.vol)
                }
            }), this._removeVideoCloseButton(), TweenLite.fromTo(this.$playerOverlay, .2, {
                opacity: 1
            }, {
                opacity: 0,
                onComplete: function() {
                    a._clearOverlay(), a._shrinkLoopPlayer()
                }
            }), this.loopPlayer && this._fadeInPlayLoop()
        },
        _clearOverlay: function() {
            this.$masks.v1.height(0), this.$masks.v2.height(0), this.$masks.h1.width(0), this.$masks.h2.width(0), this.$playerOverlay.attr("data-visibility", this._states.playerOverlay.hidden), this.$playerOverlayMediaPlayer && (this.isMediaManager ? this.$playerOverlay.find(".player").empty() : (this.$playerOverlayMediaPlayer.YouTubePlayer("pause"), b.setTimeout(function() {
                this.$playerOverlayMediaPlayer.YouTubePlayer("destroy"), this.$playerOverlay.find(".player").empty()
            }.bind(this), 1e3)))
        },
        _onEnter: function() {
            this.loopPlayer && this._fadeInPlayLoop()
        },
        _onEntered: function() {
            this.loopPlayer && this._fadeInPlayLoop(), this.$element.removeClass("collapsed")
        },
        _onCollision: function() {
            this.$element.addClass("collapsed")
        },
        _onLeave: function() {
            this.loopPlayer ? this._fadeOutPauseLoop() : this.isMediaManager ? this._pauseMediaManagerVideo() : this._fadeOutYouTubeVolume()
        },
        _onDeactive: function() {
            this.$element.addClass("collapsed")
        },
        _onEnterComponentBeforeTop: function() {
            this.loopPlayer && !this.ui("loopPlayer").VideoPlayer("isInitiated") && (this._pauseOnInit = this._pauseOnInitFunction.bind(this), this.ui("loopPlayer").on("onPlay", this._pauseOnInit), this.ui("loopPlayer").VideoPlayer("initVideo"))
        },
        _fadeInPlayLoop: function() {
            var a = this.ui("loopPlayer"),
                b = {
                    vol: a.VideoPlayer("getVolume")
                };
            a.VideoPlayer("isInitiated") ? (a.off("onPlay", this._pauseOnInit), a.VideoPlayer("play")) : a.VideoPlayer("initVideo"), TweenLite.killTweensOf(b), TweenLite.to(b, .5, {
                vol: 100,
                onUpdate: function() {
                    a.VideoPlayer("setVolume", b.vol)
                }
            })
        },
        _fadeOutPauseLoop: function() {
            var a = this.ui("loopPlayer"),
                b = {
                    vol: a.VideoPlayer("getVolume")
                };
            TweenLite.killTweensOf(b), TweenLite.to(b, .5, {
                vol: 0,
                onUpdate: function() {
                    a.VideoPlayer("setVolume", b.vol)
                },
                onComplete: function() {
                    a.VideoPlayer("pause")
                }
            })
        },
        _fadeOutYouTubeVolume: function() {
            var a = this,
                b = this.ui("player").YouTubePlayer("getVolume"),
                c = {
                    vol: b
                };
            TweenLite.fromTo(c, this._aniTime, {
                vol: 100
            }, {
                vol: 0,
                ease: Power2.easeIn,
                onUpdate: function() {
                    a.ui("player").YouTubePlayer("setVolume", c.vol)
                },
                onComplete: function() {
                    a.ui("player").YouTubePlayer("pause"), a.ui("player").YouTubePlayer("setVolume", b)
                }
            })
        },
        _pauseMediaManagerVideo: function() {
            this.ui("player").VideoPlayer("pause")
        },
        _destroy: function() {}
    };
    jQuery.createComponent("StoryArticleVideo", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        uiSelectors: {
            ctaBlockheading: ".ctaBlock .heading",
            description: ".description"
        },
        init: function() {
            this._equalHeightsInit(), a(b).smartresize(this._equalHeightsInit.bind(this))
        },
        _equalHeightsInit: function() {
            this._equalHeightsOff(), "small" !== site.breakpoints.current && this._equalHeightsOn()
        },
        _equalHeightsOn: function() {
            "medium" === site.breakpoints.current ? (this.ui("ctaBlockheading").filter(function(a) {
                return 2 > a
            }).equalHeights(), this.ui("description").filter(function(a) {
                return 2 > a
            }).equalHeights()) : (this.ui("ctaBlockheading").equalHeights(), this.ui("description").equalHeights())
        },
        _equalHeightsOff: function() {
            this.ui("ctaBlockheading").css("height", ""), this.ui("description").css("height", "")
        }
    };
    jQuery.createComponent("StoryCallsToAction", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {
            volumeFull: .8,
            scrollHijackDuration: 1400
        },
        uiSelectors: {
            extractVideo: ".extractVideo",
            VideoPlayer: ".VideoPlayer",
            VideoPlayerVideo: ".VideoPlayer video",
            extractContent: ".extractContent"
        },
        _$window: a(b),
        _$positionElement: null,
        _isTouchDevice: !1,
        _hasMedia: !1,
        _canPlayVideoPlayerReady: !1,
        _canPlayVideoScrollPosition: !1,
        _videoOptions: {
            autoplay: !0,
            controls: [],
            loop: !0,
            muted: !1,
            clickToPlayPause: !1,
            pauseOtherPlayers: !1,
            onCanPlay: null,
            ignorePauseEvent: !0
        },
        _positionTop: 0,
        _positionBottom: 0,
        _stateIsVideoPlaying: !1,
        _stateAllowScrollHijack: !0,
        _stateScrollingDisabled: !1,
        _volumeCurrent: 0,
        _scrollEvents: !1,
        init: function() {
            this._getPositionElement(), this._detectDeviceType(), this._detectMedia(), this._setSlideRevealOverlay(), this._setScrollEvents(), this._refreshPosition(), this._loadImages(), this._initMedia(), this._attachEvents(), this._scrollEvents && this._onScroll()
        },
        _getPositionElement: function() {
            var a = this.$element.parents(".InteractiveStory > .components > .component");
            a.length > 0 ? this._$positionElement = a : this._$positionElement = this.$element
        },
        _detectDeviceType: function() {
            this._isTouchDevice = site.utils.isMobileDevice(), this._isTouchDevice ? this.$element.addClass("touch") : (this._populateText(), this.$element.addClass("desktop"))
        },
        _detectMedia: function() {
            this._hasMedia = this.$element.hasClass("withMedia")
        },
        _setSlideRevealOverlay: function() {
            this._hasMedia || this.$element.data("slide-reveal-overlay", !0)
        },
        _setScrollEvents: function() {
            this._scrollEvents = !this._isTouchDevice && this._hasMedia
        },
        _populateText: function() {
            var b = a(".prop", this.$element).html();
            a(".half .text", this.$element).html(b)
        },
        _refreshPosition: function() {
            var a = this._$positionElement.outerHeight();
            this._positionTop = this._$positionElement.offset().top, this._positionBottom = this._positionTop + a
        },
        _loadImages: function() {
            var b = a("[data-picture-ignore]", this.$element);
            site.utils.loadIgnoredResponsiveImages(b)
        },
        _initMedia: function() {
            this.ui("VideoPlayer").length && (this._isTouchDevice ? this.ui("VideoPlayer").remove() : (this._videoOptions.onCanPlay = this._onCanPlayVideo.bind(this), this.ui("VideoPlayer").VideoPlayer(this._videoOptions), this.ui("VideoPlayerVideo").coverVid(1920, 1080)))
        },
        _onCanPlayVideo: function() {
            this._canPlayVideoPlayerReady = !0, this.$element.addClass("videoPlayerReady"), this.uiElements.VideoPlayerVideo = a(".VideoPlayer video", this.$element), this._volumeCurrent = this.ui("VideoPlayerVideo").get(0).volume, this._videoReadyStateChange()
        },
        _videoReadyStateChange: function() {
            if (this._canPlayVideoPlayerReady && this._canPlayVideoScrollPosition) {
                var a = this._$window.scrollTop() + this._$window.height();
                this._changeVolumeFromScroll(a), this._playVideo()
            } else this._canPlayVideoPlayerReady && this._pauseVideo()
        },
        _playVideo: function() {
            this.ui("VideoPlayer").VideoPlayer("play"), this._stateVideoPlaying = !0
        },
        _pauseVideo: function() {
            this._changeVolume(0), this.ui("VideoPlayer").VideoPlayer("pause"), this._stateVideoPlaying = !1
        },
        _getScrollRatio: function(a, b, c) {
            var d = b - a,
                e = c - a,
                f = e / d / 2;
            return f
        },
        _changeVolumeFromScroll: function(a) {
            var b = this._calculateVolume(a);
            this._changeVolume(b)
        },
        _calculateVolume: function(a) {
            var b = 0,
                c = 0,
                d = this._defaults.volumeFull,
                e = this._positionTop,
                f = this._positionBottom;
            return c = this._getScrollRatio(e, f, a), b = site.utils.getEasingValue(c) * d
        },
        _changeVolume: function(a) {
            var b = this.ui("VideoPlayerVideo").get(0);
            a = Math.round(20 * a) / 20, a !== this._volumeCurrent && (b.setVolume(a), this._volumeCurrent = a)
        },
        _attachEvents: function() {
            this._scrollEvents && this._$window.on("scroll", this._onScrollWrapper.bind(this)), this.$element.parents(".InteractiveStory").on("resize.InteractiveStory", this._onResize.bind(this))
        },
        _onScrollWrapper: function() {
            b.requestAnimationFrame(this._onScroll.bind(this))
        },
        _onScroll: function() {
            var a = this._$window.height(),
                b = this._$window.scrollTop(),
                c = b + a,
                d = this._positionTop,
                e = this._positionBottom,
                f = c >= d && e >= b;
            this._onScrollMedia(a, b, c, d, e, f)
        },
        _onScrollMedia: function(a, b, c, d, e, f) {
            if (f !== this._canPlayVideoScrollPosition && (f ? this._canPlayVideoScrollPosition = !0 : this._canPlayVideoScrollPosition = !1, this._videoReadyStateChange()), this._canPlayVideoPlayerReady && this._canPlayVideoScrollPosition && this._changeVolumeFromScroll(c), b >= d && this._showText(), this._stateAllowScrollHijack && !this._stateScrollingDisabled && c >= e) {
                var g = e - a;
                this._componentIndicatorIsScrolling() ? this._unhijackScroll() : this._hijackScroll(g)
            }
        },
        _hijackScroll: function(a) {
            this._$window.scrollTop(a), this._$window.on("wheel scroll", this._cancelScroll), this._stateScrollingDisabled = !0, b.setTimeout(this._unhijackScroll.bind(this), this._defaults.scrollHijackDuration)
        },
        _unhijackScroll: function() {
            this._$window.off("wheel scroll", this._cancelScroll), this._stateAllowScrollHijack = !1
        },
        _cancelScroll: function(a) {
            return a.preventDefault() && !1
        },
        _componentIndicatorIsScrolling: function() {
            var a = this.$element.parents(".InteractiveStory");
            return a.InteractiveStory("componentIndicatorIsScrolling")
        },
        _onResize: function() {
            this._refreshPosition(), this._scrollEvents && this._onScroll()
        },
        _showText: function() {
            this.$element.addClass("showText")
        }
    };
    jQuery.createComponent("StoryExtract", e)
}(jQuery, window, document),
function(a, b) {
    var c = {
        _defaults: {
            trackInViewport: !0
        },
        uiSelectors: {
            directionArrows: ".directionArrow",
            storyGalleryCarousel: ".storyGalleryCarousel",
            storyGallerySlides: ".storyGallerySlides",
            frames: ".storyGalleryFrame"
        },
        _carousel: null,
        _filmStripMode: !1,
        _filmstripActiveIndex: 0,
        _initialSlide: 0,
        _orientation: !1,
        _allowResize: !1,
        _heightAdjustment: null,
        _$window: a(b),
        init: function() {
            this._loadImages(), this._initSizeCalculations(), this._switchMode()
        },
        _loadImages: function() {
            var b = a("[data-picture-ignore]", this.$element);
            site.utils.loadIgnoredResponsiveImages(b)
        },
        _switchMode: function() {
            this._isTouchDevice = site.utils.isMobileDevice(), this._isTouchDevice ? this.ui("frames").length > 1 && (this._filmStripMode = !0, this.$element.addClass("StoryGalleryFilmstrip"), this._initFilmstripMode()) : (this.$element.addClass("StoryGalleryFullscreen"), this._initFullscreenMode())
        },
        _initFilmstripMode: function() {
            this._filmstripSetOrientation(), this.ui("frames").each(function(b, c) {
                a(c).after('<div class="storyGalleryFrame storyGalleryFrameSpacer"></div>')
            }), this.uiElements.frames = a(this.uiSelectors.frames, this.$element), this._$window.on("orientationchange", this._filmstripOnOrientationChange.bind(this)), this._filmstripCarousel(this._initialSlide)
        },
        _filmstripGetNumSlidesInView: function() {
            var a = 1;
            return this._filmStripMode && "portrait" === this._orientation ? a = 2 : this._filmStripMode && "landscape" === this._orientation && (a = 4), a
        },
        _filmstripCarousel: function(a) {
            var b = 0,
                c = void 0;
            this.ui("storyGalleryCarousel").addClass("swiper-container"), this.ui("storyGallerySlides").addClass("swiper-wrapper"), this.ui("frames").addClass("swiper-slide"), this._carousel = new Swiper(this.ui("storyGalleryCarousel"), {
                initialSlide: a,
                slidesPerView: this._filmstripGetNumSlidesInView(),
                loop: !0,
                freeMode: this._filmStripMode,
                loopAdditionalSlides: 10,
                freeModeSticky: !site.rtl,
                pagination: {
                    el: this.$element.find(".carouselPagination"),
                    clickable: !0,
                    renderBullet: function(a, d) {
                        return 0 === a && (b = 0), a % 2 !== 0 ? c = '<span class="' + d + ' paginationHidden" aria-hidden="true"></span>' : (b += 1, c = '<span class="' + d + '" data-corrected-label="Go to slide ' + b + '">' + b + "</span>"), c
                    }
                },
                a11y: {
                    enabled: !0
                }
            });
            for (var d = this._carousel.pagination.bullets, e = 0; e < d.length; e += 1) {
                var f = d[e],
                    g = f.getAttribute("data-corrected-label");
                null !== g ? f.setAttribute("aria-label", g) : f.setAttribute("aria-label", "")
            }
            this._carousel.on("onSlideChangeStart", this._filmstripUpdateActiveIndex.bind(this)), this._carousel.on("onSlideChangeEnd", this._filmstripUpdateActiveIndex.bind(this)), this._filmstripUpdateActiveIndex()
        },
        _filmstripUpdateActiveIndex: function() {
            this._filmstripActiveIndex = this._carousel.activeIndex
        },
        _filmstripOnOrientationChange: function() {
            if (this._carousel) {
                var a = this.inViewport,
                    c = this._carousel,
                    d = {
                        loopedSlides: c.loopedSlides,
                        slidesPerGroup: c.params.slidesPerGroup,
                        slidesLength: c.slides.length,
                        bulletsLength: c.pagination.bullets.length
                    };
                this._carousel.destroy(), this._carousel = null, b.setTimeout(this._filmstripSetOrientationAndReset.bind(this, a, this._filmstripActiveIndex, d), 1e3)
            }
        },
        _filmstripSetOrientationAndReset: function(b, c, d) {
            var e = void 0,
                f = this._filmstripConvertActiveIndexToSlideNumber(c, d);
            if (this._filmstripSetOrientation(), this._filmstripCarousel(f), b) {
                if ("landscape" === this._orientation) e = this.$element;
                else {
                    var g = this.$element.height(),
                        h = this._$window.height();
                    e = g >= h ? this.$element : this.$element.offset().top - (h - g) / 2
                }
                site.utils.scrollTo(e, 800, a.noop, "easeOutSine", !0)
            }
        },
        _filmstripConvertActiveIndexToSlideNumber: function(a, b) {
            var c = void 0;
            c = Math.ceil(a - b.loopedSlides) / b.slidesPerGroup;
            var d = b.slidesLength - 1,
                e = 2 * b.loopedSlides;
            return c > d - e && (c -= c - (b.slidesLength - e)), c > d && (c -= c - b.bulletsLength), c
        },
        _filmstripSetOrientation: function() {
            this._orientation = site.utils.getDeviceOrientation(), this.$element.addClass(this._orientation)
        },
        _initFullscreenMode: function() {
            this.ui("frames").StoryGalleryTransitions(), this.ui("frames").length > 1 && this._fullscreenCarousel()
        },
        _fullscreenCarousel: function() {
            var b = 0;
            site.rtl && (this.ui("storyGallerySlides").append(this.ui("frames").get().reverse()), b = this.ui("frames").length - 1);
            var c = {
                arrowsNav: !1,
                loop: !0,
                autoHeight: !0,
                keyboardNavEnabled: !1,
                navigateByClick: !1,
                controlsInside: !1,
                imageScaleMode: "none",
                controlNavigation: "tabs",
                arrowsNavAutoHide: !1,
                thumbsFitInViewport: !1,
                numImagesToPreload: 100,
                startSlideId: b,
                slidesSpacing: 0
            };
            this.ui("storyGallerySlides").royalSlider(c), this._carousel = this.ui("storyGallerySlides").data("royalSlider"), this._fullscreenPagination(), this.$element.CursorAnimateRotate(), this._carousel.ev.on("rsSlideClick", a.proxy(this._fullscreenCursorClick, this)), this._carousel.ev.on("rsAfterSlideChange", a.proxy(this._fullscreenSlideChange, this)), this._resize()
        },
        _fullscreenSlideChange: function() {
            this._resize(), b.richsponsiveImage()
        },
        _fullscreenPagination: function() {
            var b = a(".rsNavItem", this.$element),
                c = b.length,
                d = void 0;
            b.each(function(b, e) {
                var f = a(e);
                d = site.rtl ? c - b : b + 1, f.html(d)
            }), this.$element.CursorAnimateRotate("refreshSelectors")
        },
        _fullscreenCursorClick: function() {
            this.$element.hasClass("cursorLeft") && this._carousel.prev(), this.$element.hasClass("cursorRight") && this._carousel.next()
        },
        _initSizeCalculations: function() {
            var c = this;
            (a("html").hasClass("no-cssvhunit") || null !== navigator.userAgent.match(/(iPad|iPhone|iPod touch);.*CPU.*OS 7_\d/i)) && (this.$element.removeClass("viewportheight"), this._allowResize = !0, this._setHeightAdjustment(), this._resize(), a(b).smartresize(function() {
                c._resize()
            }))
        },
        _resize: function() {
            if (this._allowResize) {
                var b = this._heightAdjustmnet(this._$window.height());
                this.ui("storyGalleryCarousel").height(b), a(".storyGalleryFrame", this.$element).height(b), a(".rsContainer, .rsOverflow", this.$element).height(b), this._filmStripMode && this._carousel && this._carousel.update()
            }
        },
        _setHeightAdjustment: function() {
            var a = this;
            this._heightAdjustmnet = function(a) {
                return a
            }, enquire.register("screen and (min-width: " + b.site.breakpoints.medium + "px)", {
                match: function() {
                    a._heightAdjustmnet = function(a) {
                        return a
                    }
                }
            }), enquire.register("screen and (max-width: " + (b.site.breakpoints.medium - 1) + "px)", {
                match: function() {
                    a._heightAdjustmnet = function(a) {
                        return a - site.utils.getStickyNavHeight()
                    }
                }
            }), enquire.register("screen and (orientation: portrait)", {
                match: function() {
                    a._heightAdjustmnet = function(a) {
                        return .6 * a
                    }
                }
            })
        },
        _destroy: function() {}
    };
    jQuery.createComponent("StoryGallery", c)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        uiSelectors: {
            galleryLayout: ".galleryLayout",
            galleryLayoutImage: ".galleryItem .backgroundImage"
        },
        _$window: a(b),
        _uniqueID: null,
        _layoutType: null,
        _layoutProperties: {
            index: 0,
            widthPercent: 100,
            widthOverlayPercent: 0,
            heightPercent: 100,
            heightOverlayPercent: 0,
            widthPixels: 0,
            heightPixels: 0,
            clipPathCurrent: {},
            clipPathStart: {},
            clippedSides: {},
            hoveredClipPathPositions: [],
            $galleryLayout: null,
            $svgWrapper: null,
            $svg: null,
            svgPolygon: null,
            tweenClipPath: null,
            tweenScale: null,
            nestedLayout: !1,
            nestedLayoutIndex: null,
            parentLayout: null
        },
        _layoutTemplates: {
            DualPortrait: {
                frames: 2,
                frameDimensions: {
                    widthPercent: 50,
                    widthOverlayPercent: 6
                },
                clippedSides: [{
                    start: [!1, "halfClipped", !1, !1],
                    hover: [
                        [!1, !1, !1, !1],
                        [!1, !1, !1, "clipped"]
                    ]
                }, {
                    start: [!1, !1, !1, "halfClipped"],
                    hover: [
                        [!1, "clipped", !1, !1],
                        [!1, !1, !1, !1]
                    ]
                }]
            },
            DualPanorama: {
                frames: 2,
                frameDimensions: {
                    heightPercent: 50,
                    heightOverlayPercent: 10
                },
                clippedSides: [{
                    start: [!1, !1, "halfClipped", !1],
                    hover: [
                        [!1, !1, !1, !1],
                        ["clipped", !1, !1, !1]
                    ]
                }, {
                    start: ["halfClipped", !1, !1, !1],
                    hover: [
                        [!1, !1, "clipped", !1],
                        [!1, !1, !1, !1]
                    ]
                }]
            },
            TripletLeft: {
                frames: 4,
                frameDimensions: [{
                    widthPercent: 50,
                    widthOverlayPercent: 6
                }, {
                    widthPercent: 50,
                    widthOverlayPercent: 6
                }, {
                    heightPercent: 50,
                    heightOverlayPercent: 10
                }, {
                    heightPercent: 50,
                    heightOverlayPercent: 10
                }],
                clippedSides: [{
                    start: [!1, "halfClipped", !1, !1],
                    hover: [
                        [!1, !1, !1, !1],
                        [!1, !1, !1, "clipped"],
                        [!1, !1, "halfClipped", !1],
                        ["halfClipped", !1, !1, !1]
                    ]
                }, {
                    start: [!1, !1, !1, "halfClipped"],
                    hover: [
                        [!1, "halfClipped", !1, !1],
                        [!1, !1, !1, "halfClipped"]
                    ]
                }, {
                    start: [!1, !1, "halfClipped", !1],
                    hover: [
                        [!1, "halfClipped", !1, !1],
                        [!1, !1, !1, "halfClipped"],
                        [!1, !1, !1, !1],
                        ["clipped", !1, !1, !1]
                    ]
                }, {
                    start: ["halfClipped", !1, !1, !1],
                    hover: [
                        [!1, "halfClipped", !1, !1],
                        [!1, !1, !1, "halfClipped"],
                        [!1, !1, "clipped", !1],
                        [!1, !1, !1, !1]
                    ]
                }]
            },
            TripletRight: {
                frames: 4,
                frameDimensions: [{
                    widthPercent: 50,
                    widthOverlayPercent: 6
                }, {
                    heightPercent: 50,
                    heightOverlayPercent: 10
                }, {
                    heightPercent: 50,
                    heightOverlayPercent: 10
                }, {
                    widthPercent: 50,
                    widthOverlayPercent: 6
                }],
                clippedSides: [{
                    start: [!1, "halfClipped", !1, !1],
                    hover: [
                        [!1, !1, !1, !1],
                        [!1, !1, "halfClipped", !1],
                        ["halfClipped", !1, !1, !1],
                        [!1, !1, !1, "halfClipped"]
                    ]
                }, {
                    start: [!1, !1, "halfClipped", !1],
                    hover: [
                        [!1, "halfClipped", !1, !1],
                        [!1, !1, !1, !1],
                        ["clipped", !1, !1, !1],
                        [!1, !1, !1, "halfClipped"]
                    ]
                }, {
                    start: ["halfClipped", !1, !1, !1],
                    hover: [
                        [!1, "halfClipped", !1, !1],
                        [!1, !1, "clipped", !1],
                        [!1, !1, !1, !1],
                        [!1, !1, !1, "halfClipped"]
                    ]
                }, {
                    start: [!1, !1, !1, "halfClipped"],
                    hover: [
                        [!1, "clipped", !1, !1],
                        [!1, !1, "halfClipped", !1],
                        ["halfClipped", !1, !1, !1],
                        [!1, !1, !1, !1]
                    ]
                }]
            }
        },
        _easing: Power2.easeOut,
        _durationClipPath: 40,
        _durationScale: 40,
        _supportsClipPath: !0,
        init: function() {
            return this._setLayoutType(), this._featureDetect(), this._supportsClipPath ? this._layoutType ? (this._generateID(), this._createLayoutObjects(), this._calculateClipPathLayouts(), this._processGalleryLayouts(), void this._attachEvents()) : void this._initImageHoverScaleOnly({}) : void this.$element.addClass("StoryGalleryTransitionsOff")
        },
        _createLayoutObjects: function() {
            for (var b = this._layoutTemplates[this._layoutType], c = function(a, b, c) {
                    a[b] = c
                }, d = 0; d < b.frames; d++) {
                var e = b.frameDimensions[d] ? b.frameDimensions[d] : b.frameDimensions,
                    f = b.clippedSides[d],
                    g = {};
                g = a.extend({}, this._layoutProperties), g.index = d, g.$galleryLayout = this.ui("galleryLayout").eq(d), a.each(e, c.bind(null, g)), g.clippedSides = a.extend({}, f), this._setLayout(d, g)
            }
        },
        _featureDetect: function() {
            site.utils.detectBrowsers().isExplorer && (this._supportsClipPath = !1)
        },
        _generateID: function() {
            this._uniqueID = "StoryGalleryFrame" + this._layoutType + Math.random().toString(36).substring(7)
        },
        _setLayoutType: function() {
            var a = this.$element.data("layout");
            this._layoutType = a ? a : !1
        },
        _attachEvents: function() {
            var a = this._getLayout("all");
            a % 2 === 0 && this._$window.smartresize(this._onResize.bind(this))
        },
        _updateDimensions: function(a, b) {
            var c, d, e, f = b.$svg.get(0);
            b.nestedLayout ? (d = b.parentLayout.widthPixels, c = b.parentLayout.heightPixels * ((b.heightPercent + b.heightOverlayPercent) / 100), e = b.parentLayout.heightPixels * ((b.heightPercent - b.heightOverlayPercent) / 100) * b.nestedLayoutIndex) : (d = b.$galleryLayout.width(), c = b.$galleryLayout.height()), b.widthPixels = d, b.heightPixels = c, f.setAttribute("viewBox", "0 0 " + d + " " + c), f.setAttribute("width", d), f.setAttribute("height", c), e && f.setAttribute("y", e), this._updateClipPath(b)
        },
        _onResize: function() {
            var b = this._getLayout("all");
            a.each(b, this._updateDimensions.bind(this))
        },
        _setLayout: function(a, b) {
            "undefined" == typeof site[this._uniqueID] && (site[this._uniqueID] = {
                _layouts: []
            }), site[this._uniqueID]._layouts[a] = b
        },
        _getLayout: function(a) {
            return "all" === a ? site[this._uniqueID]._layouts : site[this._uniqueID]._layouts[a]
        },
        _calculateClipPathLayouts: function() {
            var b = this._getLayout("all"),
                c = ["top", "right", "bottom", "left"];
            a.each(b, this._setStartAndHoverPositions.bind(this, c))
        },
        _setStartAndHoverPositions: function(b, c, d) {
            var e = this._calculateOverlay(d.widthOverlayPercent, d.widthPercent),
                f = this._calculateOverlay(d.heightOverlayPercent, d.heightPercent),
                g = [],
                h = {},
                i = function(a, c, d) {
                    var g = c % 2 === 0 ? f : e,
                        h = 0;
                    "halfClipped" === d ? h = g : "clipped" === d && (h = 2 * g), a[b[c]] = h
                },
                j = function(b, c, d) {
                    var g = this._getLayout(c),
                        h = {};
                    e = this._calculateOverlay(g.widthOverlayPercent, g.widthPercent), f = this._calculateOverlay(g.heightOverlayPercent, g.heightPercent), a.each(d, i.bind(null, h)), b.push(h)
                },
                k = function() {
                    a.each(d.clippedSides.start, i.bind(null, h)), d.clipPathStart = jQuery.extend({}, h), d.clipPathCurrent = jQuery.extend({}, h), a.each(d.clippedSides.hover, j.bind(this, g)), d.hoveredClipPathPositions = g
                };
            k.call(this)
        },
        _calculateOverlay: function(a, b) {
            return a / (b + a) * 100
        },
        _processGalleryLayouts: function() {
            this.ui("galleryLayout").each(this._processGalleryLayout.bind(this))
        },
        _processGalleryLayout: function(b, c) {
            var d = this._getLayout(b),
                e = d.widthPercent + d.widthOverlayPercent,
                f = d.heightPercent + d.heightOverlayPercent,
                g = a(c),
                h = g.find(this.uiSelectors.galleryLayout).length,
                i = d.nestedLayout;
            if (g.width(e + "%").height(f + "%"), h) this._processNestedLayouts(d, g);
            else if (!i) {
                var j = g.find(this.uiSelectors.galleryLayoutImage);
                this._processLayoutImages(d, j)
            }
        },
        _processLayoutImages: function(a, b) {
            this._replaceImageWithSVG(a, b), this._initImageHovers(a), this._updateDimensions(a.index, a)
        },
        _replaceImageWithSVG: function(a, b) {
            this._buildSVG(a, b), b.after(a.$svgWrapper).remove()
        },
        _processNestedLayouts: function(a, b) {
            var c;
            this._buildSVG(a, !1), c = a.$svg.find(".contents"), b.append(a.$svgWrapper), this._updateDimensions(a.index, a), b.find(this.uiSelectors.galleryLayout).each(this._processNestedLayout.bind(this, a))
        },
        _processNestedLayout: function(b, c, d) {
            var e = this._getLayout(b.index + c + 1),
                f = a(d);
            e.nestedLayout = !0, e.parentLayout = b, e.nestedLayoutIndex = c;
            var g = f.find(this.uiSelectors.galleryLayoutImage);
            this._processLayoutImages(e, g), e.$svg = f.find("svg"), b.$svg.find(" > .contents").append(e.$svg), f.remove(), this._updateDimensions(e.index, e)
        },
        _buildSVG: function(b, c) {
            var d = "",
                e = "clip-path-" + this._uniqueID + b.index,
                f = '<svg class="gallerySVG" style="overflow:hidden" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">',
                g = "</svg>",
                h = '<g class="contents" clip-path="url(#' + e + ')"><rect width="100%" height="100%" ></rect>',
                i = "</g>",
                j = '<defs><clipPath id="' + e + '" maskUnits="objectBoundingBox"><polygon></polygon></clipPath></defs>';
            if (c.length) {
                var k = c.css("background-image").match(/\((.*?)\)/)[1].replace(/('|")/g, ""),
                    l = c.attr("data-alt") ? c.attr("data-alt") : "";
                d = '<image width="100%" height="100%" alt="' + l + '" preserveAspectRatio="xMidYMid slice" xlink:href="' + k + '"></image>'
            }
            b.$svgWrapper = a('<div class="gallerySVGWrapper">' + f + j + h + d + i + g + "</div>"), b.$svg = b.$svgWrapper.find("svg"), b.svgPolygon = b.$svg.find("polygon").get(0)
        },
        _convertPercentagesToSVGPoints: function(a, b) {
            var c = {
                    top: a.heightPixels / 100 * b.top,
                    right: a.widthPixels - a.widthPixels / 100 * b.right,
                    bottom: a.heightPixels - a.heightPixels / 100 * b.bottom,
                    left: a.widthPixels / 100 * b.left
                },
                d = {
                    leftTop: c.left + "," + c.top,
                    rightTop: c.right + "," + c.top,
                    rightBottom: c.right + "," + c.bottom,
                    leftBottom: c.left + "," + c.bottom
                };
            return d
        },
        _initTweenScale: function(a, b) {
            a.tweenScale = TweenLite.to(b, this._durationScale, {
                scale: 1.2,
                rotationZ: "0.01deg",
                transformOrigin: "50% 50%",
                paused: !0
            })
        },
        _initImageHoverScaleOnly: function(a) {
            var b = this.$element.find(this.uiSelectors.galleryLayoutImage).get(0),
                c = this.$element;
            this._initTweenScale(a, b), c.on({
                mouseenter: function() {
                    a.tweenScale.play()
                },
                mouseleave: function() {
                    a.tweenScale.reverse()
                }
            })
        },
        _initImageHovers: function(a) {
            var b = a.$svg.find("image").get(0),
                c = a.$svg;
            b && this._initTweenScale(a, b), c.on({
                mouseenter: this._onImageMouseEnterLeave.bind(this, !0, a.index),
                mouseleave: this._onImageMouseEnterLeave.bind(this, !1, a.index)
            })
        },
        _updateClipPath: function(a) {
            var b = this._convertPercentagesToSVGPoints(a, a.clipPathCurrent);
            a.svgPolygon.setAttribute("points", b.leftTop + " " + b.rightTop + " " + b.rightBottom + " " + b.leftBottom)
        },
        _getClipPathProgress: function(a) {
            var b, c = function(c) {
                b = 1 - a.clipPathCurrent[c] / (2 * a.clipPathStart[c])
            };
            return 0 !== a.clipPathStart.left ? c("left") : 0 !== a.clipPathStart.right ? c("right") : 0 !== a.clipPathStart.top ? c("top") : 0 !== a.clipPathStart.bottom && c("bottom"), b
        },
        _initTweenClipPath: function(a, b, c) {
            a.tweenClipPath = TweenLite.to(a.clipPathCurrent, b, {
                top: c.top,
                right: c.right,
                bottom: c.bottom,
                left: c.left,
                ease: this._easing,
                onUpdate: this._updateClipPath.bind(this, a),
                paused: !1
            })
        },
        _onImageMouseEnterLeave: function(b, c) {
            var d = this._getLayout(c),
                e = this._getLayout("all"),
                f = this._getClipPathProgress(d),
                g = f * this._durationClipPath,
                h = this._durationClipPath - g,
                i = Math.abs(2 * (f - .5)) * (this._durationClipPath / 2);
            b ? (this._supportsClipPath && a.each(e, function(a, b) {
                var c = d.hoveredClipPathPositions[a];
                this._initTweenClipPath(b, h, c)
            }.bind(this)), d.tweenScale.play()) : (this._supportsClipPath && a.each(e, function(a, b) {
                this._initTweenClipPath(b, i, b.clipPathStart)
            }.bind(this)), d.tweenScale.reverse())
        }
    };
    jQuery.createComponent("StoryGalleryTransitions", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        uiSelectors: {
            screens: ".screen",
            headingScreen: ".screenHeading",
            headingLayer: ".headingLayer",
            copyScreen: ".screenCopy",
            copy: ".copy",
            overlay: ".overlay",
            audio: ".audio",
            scrollButtonContainers: ".scrollButtonContainer",
            scrollButtons: ".scrollButton",
            flatImage: ".flatImage",
            layeredImageLayers: ".layeredImage .layer",
            layeredImages: ".layeredImage .layer .image",
            headerBox: ".headerBox"
        },
        _$window: a(b),
        _$header: a("#header"),
        _$hubNavigation: a(".HubNavigation"),
        _oldWindowHeight: null,
        _isTouchDevice: !1,
        _isStickyHeader: null,
        _scrollPosition: null,
        _useParallax: null,
        _waypoints: {
            headingTrigger: null,
            copyFadeTop: null,
            copyFadeBottom: null,
            copyHijackTrigger: null,
            audioFadeTop: null,
            audioFadeBottom: null,
            parallaxTop: null,
            parallaxEnd: null
        },
        init: function() {
            this._headerBox(), this._detectDeviceType(), this._detectStickyHeader(), this._detectParallax(), this._resizeScreens(), this._calculateWaypoints(), this._bindEvents(), this._isTouchDevice || (this._setScrollHijack(), this._updateHeading(), this._initAudio()), this._updateCopy(), this._useParallax && (this._isTouchDevice ? this._initTiltParallax() : this._initScrollParallax())
        },
        _headerBox: function() {
            this.ui("headerBox").HeaderBox({
                onAtSmallBreakpoint: !0
            })
        },
        _detectDeviceType: function() {
            site.utils.isMobileDevice() ? (this._isTouchDevice = !0, this.$element.addClass("touch")) : this.$element.addClass("desktop")
        },
        _detectStickyHeader: function() {
            this._isStickyHeader = "fixed" === this._$header.css("position")
        },
        _detectParallax: function() {
            this.ui("layeredImageLayers").length > 2 ? (this._useParallax = !0, this.$element.addClass("parallax")) : this._useParallax = !1
        },
        _getScrollPosition: function() {
            return null === this._scrollPosition && (this._scrollPosition = this._$window.scrollTop()), this._scrollPosition
        },
        _resetScrollPosition: function() {
            this._scrollPosition = null
        },
        _bindEvents: function() {
            this._$window.smartresize(function() {
                this._detectStickyHeader(), this._resizeScreens()
            }.bind(this)), this._$window.on("closeNotificationBar", function() {
                this._resizeScreens(!0)
            }.bind(this));
            var a;
            this._isTouchDevice ? (this._$window.smartresize(function() {
                this._resetScrollPosition(), this._updateCopy()
            }.bind(this)), a = function() {
                this._resetScrollPosition(), this._updateCopy()
            }, this._$window.on("scroll", function() {
                b.requestAnimationFrame(a.bind(this))
            }.bind(this))) : (this._$window.smartresize(function() {
                this._resetScrollPosition(), this._calculateWaypoints(), this._updateHeading(), this._updateCopy(), this._updateAudioVolume()
            }.bind(this)), a = function() {
                this._resetScrollPosition(), this._checkScrollHijack(), this._updateHeading(), this._updateCopy(), this._updateButtons(), this._updateAudioVolume(), this._stopAutoscroll()
            }, this._$window.on("scroll", function() {
                b.requestAnimationFrame(a.bind(this))
            }.bind(this)), this.ui("scrollButtons").on("click", this._buttonClick.bind(this)))
        },
        _detectHeightChange: function() {
            var a, b = this._$window.height();
            if (this._isTouchDevice) {
                var c = Math.abs(b - this._oldWindowHeight);
                a = c > 100
            } else a = b !== this._oldWindowHeight;
            return a
        },
        _resizeScreens: function(b) {
            var c = this._$window.height(),
                d = b === !0 ? !0 : this._detectHeightChange();
            if (d) {
                var e = this._$header.height(),
                    f = this._isStickyHeader ? site.utils.getStickyNavHeight(site.stickyNavigationTransitionPoint + 1) : 0,
                    g = c - e,
                    h = c - f;
                this.ui("screens").each(function(b, c) {
                    var d, e = a(c);
                    e.hasClass("screenHeading") ? (d = g, this._$hubNavigation.data("sticky") === !0 && (d -= this._$hubNavigation.outerHeight())) : d = h, e.css("height", d + "px")
                }.bind(this)), this._oldWindowHeight = c
            }
        },
        _calculateWaypoints: function() {
            var a = this._$window.height(),
                b = this.$element.offset().top,
                c = b + this.$element.height();
            this._waypoints.headingTrigger = this.ui("headingScreen").offset().top + this.ui("headingScreen").height() - a, this._waypoints.headingTrigger = this._waypoints.headingTrigger < b && !this._isStickyHeader ? b : this._waypoints.headingTrigger, this._waypoints.copyFadeTop = this.ui("copyScreen").offset().top - .5 * a, this._waypoints.copyFadeBottom = this._waypoints.copyFadeTop + .25 * a, this._waypoints.copyHijackTrigger = this.ui("copyScreen").offset().top, this._waypoints.copyHijackTrigger -= this._isStickyHeader ? site.utils.getStickyNavHeight(site.stickyNavigationTransitionPoint + 1) : 0, this._waypoints.audioFadeTop = c - a, this._waypoints.audioFadeBottom = c, this._waypoints.parallaxTop = this._waypoints.headingTrigger, this._waypoints.parallaxBottom = c - a
        },
        _updateHeading: function() {
            var a = this._getScrollPosition(),
                b = a > this._waypoints.headingTrigger,
                c = "";
            b && (c = this._waypoints.headingTrigger - a, c += "px"), this.ui("headingLayer").css("top", c)
        },
        _updateCopy: function() {
            var a = this._getScrollPosition(),
                b = "";
            this._hijackThisScroll ? a >= this._waypoints.copyHijackTrigger ? (this.ui("copy").addClass("visible"), this.ui("overlay").addClass("visible")) : (this.ui("copy").removeClass("visible"), this.ui("overlay").removeClass("visible")) : (b = (a - this._waypoints.copyFadeTop) / (this._waypoints.copyFadeBottom - this._waypoints.copyFadeTop), b = 0 > b ? 0 : b, b = b > 1 ? 1 : b), this.ui("copy").css("opacity", b), this.ui("overlay").css("opacity", b)
        },
        _hijackThisScroll: null,
        _hijackDuration: 800,
        _setScrollHijack: function() {
            var a = this._getScrollPosition();
            a < this._waypoints.copyHijackTrigger ? this._hijackThisScroll = !0 : this._hijackThisScroll = !1
        },
        _checkScrollHijack: function() {
            if (this._hijackThisScroll) {
                var a = this._getScrollPosition();
                a >= this._waypoints.copyHijackTrigger && (this._componentIndicatorIsScrolling() ? this._unhijackScroll() : this._hijackScroll())
            }
        },
        _componentIndicatorIsScrolling: function() {
            var a = this.$element.parents(".InteractiveStory");
            return a.InteractiveStory("componentIndicatorIsScrolling")
        },
        _hijackScroll: function() {
            this.$element.addClass("hijackScroll"), this._$window.scrollTop(this._waypoints.copyHijackTrigger);
            var b = a.Event("scrollHighjack");
            this._$window.trigger(b), site.utils.disableScroll(), setTimeout(function() {
                this._unhijackScroll()
            }.bind(this), this._hijackDuration)
        },
        _unhijackScroll: function() {
            this._hijackThisScroll = !1, this.$element.removeClass("hijackScroll"), this._updateCopy(), site.utils.enableScroll()
        },
        _audioPlayer: null,
        _audioMaxVolume: 1,
        _audioFadeInDuration: 3200,
        _initAudio: function() {
            this.ui("audio").length && !this._audioPlayer && (this._layersLoadedAll ? (this.ui("audio").mediaelementplayer({
                loop: !0
            }), this._audioPlayer = this.ui("audio")[0].player, this._fadeAudioIn()) : this.$element.on("StoryHero:layersLoaded", this._initAudio.bind(this)))
        },
        _playAudio: function() {
            this._audioPlayer && this._audioPlayer.play()
        },
        _pauseAudio: function() {
            this._audioPlayer && this._audioPlayer.pause()
        },
        _setAudioVolume: function(a) {
            this._audioPlayer && (a = 0 > a ? 0 : a, a = a > 1 ? 1 : a, this._audioPlayer.setVolume(a))
        },
        _updateAudioVolume: function() {
            if (this._audioPlayer) {
                var a = this._getScrollPosition(),
                    b = (a - this._waypoints.audioFadeTop) / (this._waypoints.audioFadeBottom - this._waypoints.audioFadeTop);
                b = 0 > b ? 0 : b, b = b > 1 ? 1 : b;
                var c = b / 2 + .5,
                    d = this._audioMaxVolume * site.utils.getEasingValue(c);
                this._setAudioVolume(d), d > 0 ? this._playAudio() : this._pauseAudio()
            }
        },
        _fadeAudioIn: function() {
            if (this._audioPlayer) {
                var b = {
                        volume: 0
                    },
                    c = {
                        volume: this._audioMaxVolume
                    };
                a(b).animate(c, {
                    duration: this._audioFadeInDuration,
                    easing: "swing",
                    step: function(a) {
                        this._audioMaxVolume = a, this._updateAudioVolume()
                    }.bind(this),
                    complete: function() {
                        this._audioMaxVolume = c.volume, this._updateAudioVolume()
                    }.bind(this)
                })
            }
        },
        _buttonScrollDuration: 800,
        _autoscrollTimeout: null,
        _autoscrollTimeoutDuration: 7e3,
        _autoscrolling: !1,
        _buttonClick: function(b) {
            b.preventDefault();
            var c = a(b.target),
                d = c.parents(".scrollButtonContainer"),
                e = d.parents(".screen"),
                f = c.offset().top + c.height();
            f += site.utils.isIe() ? 1 : 0, this._stopAutoscroll(), this._autoscrolling = !0, d.addClass("hidden"), site.utils.scrollTo(f, this._buttonScrollDuration, function() {
                setTimeout(function() {
                    this._autoscrolling = !1
                }.bind(this), 800)
            }.bind(this)), e.hasClass("screenHeading") && this._startAutoscroll(), e.hasClass("screenCopy") && this._unhijackScroll()
        },
        _updateButtons: function() {
            var a = this._getScrollPosition();
            0 === a ? this.ui("scrollButtonContainers").removeClass("hidden") : this._autoscrolling || this.ui("scrollButtonContainers").addClass("hidden")
        },
        _startAutoscroll: function() {
            var b = a(".screenSpacer");
            if (b.is(":visible")) {
                var c = b.find(".scrollButton");
                this._autoscrollTimeout = setTimeout(function() {
                    c.trigger("click")
                }, this._autoscrollTimeoutDuration + this._buttonScrollDuration)
            }
        },
        _stopAutoscroll: function() {
            this._autoscrolling || clearTimeout(this._autoscrollTimeout)
        },
        _accelerationData: {
            oldTime: Date.now(),
            smoothedX: 0,
            smoothedY: 0
        },
        _smoothingFactor: 100,
        _touchDeviceOrientation: null,
        _initTiltParallax: function() {
            this._detectTouchDeviceOrientation(), this._updateTiltParallax(0, 0), this._bindTiltParallaxEvents()
        },
        _detectTouchDeviceOrientation: function() {
            this._touchDeviceOrientation = b.orientation
        },
        _updateTiltParallax: function(a, b) {
            var c = Date.now(),
                d = c - this._accelerationData.oldTime,
                e = this._normaliseAcceleration(a, b);
            e.x = -e.x, this._accelerationData.smoothedX += d * (e.x - this._accelerationData.smoothedX) / this._smoothingFactor, this._accelerationData.smoothedY += d * (e.y - this._accelerationData.smoothedY) / this._smoothingFactor, this._accelerationData.oldTime = c;
            var f = this._accelerationData.smoothedX / 10;
            f = site.utils.limitNumber(f, -1, 1);
            var g = 50 + 50 * f,
                h = this._accelerationData.smoothedY / 10;
            h = site.utils.limitNumber(h, -1, 1);
            var i = 50 + 50 * h;
            this.ui("flatImage").css({
                "perspective-origin": g + "% " + i + "%"
            })
        },
        _normaliseAcceleration: function(a, b) {
            var c = {
                x: null,
                y: null
            };
            switch (this._touchDeviceOrientation) {
                case -90:
                    c.x = b, c.y = -a;
                    break;
                case 90:
                    c.x = -b, c.y = a;
                    break;
                case 180:
                    c.x = -a, c.y = -b;
                    break;
                default:
                    c.x = a, c.y = b
            }
            return c
        },
        _bindTiltParallaxEvents: function() {
            this._$window.on("devicemotion", function(a) {
                var c = a.originalEvent.accelerationIncludingGravity.x,
                    d = a.originalEvent.accelerationIncludingGravity.y;
                b.requestAnimationFrame(this._updateTiltParallax.bind(this, c, d))
            }.bind(this)), this._$window.on("orientationchange", function() {
                b.requestAnimationFrame(this._detectTouchDeviceOrientation)
            }.bind(this))
        },
        _scrollParallaxStrength: null,
        _scrollParallaxLayerOffset: null,
        _initScrollParallax: function() {
            this._loadParallaxImages(), this._initCanvasImages(), this._calculateParallaxStrength(), this._calculateLayerOffset(), this._setFlatLayerOffset(), this._calculateLayerValues(), this._updateScrollParallax(), this._bindScrollParallaxEvents()
        },
        _setFlatLayerOffset: function() {
            this.ui("flatImage").find(".layer").css({
                transform: "translateZ(" + this._scrollParallaxLayerOffset + "px)"
            }), this.$element.addClass("flatImageReady")
        },
        _loadParallaxImages: function() {
            site.utils.loadIgnoredResponsiveImages(this.ui("layeredImages"))
        },
        _calculateParallaxStrength: function() {
            var a = 30;
            this.$element.hasClass("imageLeft") || this.$element.hasClass("imageRight") || (a = 1.5 * a), this._scrollParallaxStrength = a
        },
        _calculateLayerOffset: function() {
            var a = this.ui("layeredImageLayers").length;
            this._scrollParallaxLayerOffset = this._scrollParallaxStrength * (a - 1) / 2
        },
        _calculateLayerValues: function() {
            var b = this.ui("layeredImageLayers").length - 1;
            this.ui("layeredImageLayers").each(function(c, d) {
                var e = a(d),
                    f = Power1.easeOut.getRatio(c / b),
                    g = f * b * this._scrollParallaxStrength - this._scrollParallaxLayerOffset;
                e.data("max-parallax", g)
            }.bind(this))
        },
        _updateScrollParallax: function() {
            var b = this._getScrollPosition(),
                c = (b - this._waypoints.parallaxTop) / (this._waypoints.parallaxBottom - this._waypoints.parallaxTop);
            c = site.utils.limitNumber(c, 0, 1), this.ui("layeredImageLayers").each(function(b, d) {
                var e = a(d),
                    f = Math.round(100 * (this._scrollParallaxLayerOffset + c * e.data("max-parallax"))) / 100;
                e.css({
                    transform: "translateZ(" + f + "px)"
                })
            }.bind(this))
        },
        _bindScrollParallaxEvents: function() {
            this._$window.on("scroll", function() {
                b.requestAnimationFrame(this._updateScrollParallax.bind(this))
            }.bind(this))
        },
        _layersTotal: null,
        _layersLoadedCount: 0,
        _layersLoadedAll: !1,
        _loadedImage: null,
        _initCanvasImages: function() {
            this._layersTotal = this.ui("layeredImageLayers").length, this._addCanvases(), this._drawCanvases(), this._bindCanvasEvents()
        },
        _addCanvases: function() {
            this.ui("layeredImageLayers").each(function(b, c) {
                var d = a(c);
                d.append("<canvas class='canvas'></canvas>")
            })
        },
        _drawCanvases: function() {
            this._layersLoadedCount = 0, this._layersLoadedAll = !1, this.ui("layeredImageLayers").each(function(b, c) {
                var d = a(c),
                    e = a(".image", d),
                    f = a(".canvas", d),
                    g = new Image;
                g.onload = this._drawCanvasImage.bind(this, f, g), g.src = e.css("background-image").replace(/^url\(['"]?/, "").replace(/['"]?\)$/, "")
            }.bind(this))
        },
        _drawCanvasImage: function(a, b) {
            var c = a.get(0),
                d = c.getContext("2d");
            a.attr({
                width: b.width,
                height: b.height
            }), d.drawImage(b, 0, 0), this._layersLoadedCount++, this._layersLoadedCount === this._layersTotal ? (this._layersLoadedAll = !0, this.$element.trigger("StoryHero:layersLoaded"), this._scaleAndPositionCanvases(), this.$element.addClass("layersLoaded")) : this.$element.removeClass("layersLoaded")
        },
        _scaleAndPositionCanvases: function() {
            var b, c, d, e, f = a(".canvas", this.ui("layeredImageLayers")),
                g = this.$element.width(),
                h = this.$element.height(),
                i = f.first().attr("width"),
                j = f.first().attr("height"),
                k = g / h,
                l = i / j;
            k > l ? (b = g, c = g / l, e = 0, d = this.$element.hasClass("imageTop") ? 0 : this.$element.hasClass("imageBottom") ? h - c : (h - c) / 2) : (c = h, b = h * l, d = 0, e = this.$element.hasClass("imageLeft") ? 0 : this.$element.hasClass("imageRight") ? g - b : (g - b) / 2), f.css({
                width: Math.round(b),
                height: Math.round(c),
                top: Math.round(d),
                left: Math.round(e)
            })
        },
        _bindCanvasEvents: function() {
            this._$window.smartresize(this._scaleAndPositionCanvases.bind(this))
        }
    };
    jQuery.createComponent("StoryHero", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {},
        uiSelectors: {
            contentBlock: ".contentBlock",
            contentBlockNew: ".contentBlockNew",
            wrapperContentBlocks: ".wrapperContentBlocks",
            moreResultsButton: ".moreResults",
            storyCount: ".storyCount",
            storyCountTop: ".storyCountTop",
            storyCountBottom: ".storyCountBottom",
            storyCountNumber: ".storyCountNumber"
        },
        _$window: a(b),
        _currentBreakpoint: null,
        _cachedContent: [],
        _contentBlockLimit: 6,
        _contentBlockLimits: {
            pageLoad: {
                small: 1,
                medium: 2,
                large: 3
            },
            ajaxLoad: {
                small: 6,
                medium: 4,
                large: 6
            }
        },
        _noAdditionalContentLoaded: !0,
        _viewportResized: !1,
        init: function() {
            this._loadImages(), this._attachEvents(), this._checkCachedContent(), this._initButtonState()
        },
        _loadImages: function() {
            var b = a("[data-picture-ignore]", this.$element);
            site.utils.loadIgnoredResponsiveImages(b)
        },
        _checkCachedContent: function() {
            this._currentBreakpoint = site.utils.getBreakpointSize(), this._updateContentBlockLimit(), this._moveCachedContent(!1)
        },
        _initButtonState: function() {
            this._updateButton(this.ui("wrapperContentBlocks").attr("data-next-url"))
        },
        _moveCachedContent: function(a) {
            this._moveContentCacheToDom(a), this._moveContentDomToCache(a), this._updateStoryCount()
        },
        _moveContentCacheToDom: function(b) {
            this._cachedContent.length && (a.each(this._cachedContent, function(c, d) {
                b && a(d).addClass(this.uiSelectors.contentBlockNew.replace(".", "")), this.ui("wrapperContentBlocks").append(a(d))
            }.bind(this)), this._refreshContentBlockSelectors(), this._cachedContent = [])
        },
        _moveContentDomToCache: function(b) {
            if (!this._viewportResized || this._noAdditionalContentLoaded) {
                var c, d, e = this._contentBlockLimit;
                if (c = b ? this.ui("contentBlockNew") : this.ui("contentBlock"), d = e - c.length, 0 > d) {
                    var f = c.filter(function(a) {
                        return a >= e
                    });
                    f.each(function(b, c) {
                        var d = a(c);
                        d.removeClass(this.uiSelectors.contentBlockNew.replace(".", "")), this._cachedContent.push(d), d.remove()
                    }.bind(this)), this._refreshContentBlockSelectors()
                }
            }
        },
        _updateContentBlockLimit: function() {
            var a = this._currentBreakpoint;
            this._noAdditionalContentLoaded ? this._contentBlockLimit = this._contentBlockLimits.pageLoad[a] : this._contentBlockLimit = this._contentBlockLimits.ajaxLoad[a]
        },
        _attachEvents: function() {
            this.ui("moreResultsButton").on("click", this._loadContent.bind(this)), this._$window.smartresize(function() {
                site.utils.getBreakpointSize() !== this._currentBreakpoint && (this._viewportResized = !0, this._checkCachedContent(), this._viewportResized = !1, this._updateButton())
            }.bind(this))
        },
        _loadContent: function(b) {
            b.preventDefault();
            var c = this.ui("moreResultsButton").attr("data-next-url");
            this._noAdditionalContentLoaded = !1, this._updateContentBlockLimit(), "cache" === c || "" === c || "undefined" == typeof c ? this._loadContentFromCache() : a.ajax(c).done(this._addContentFromAjax.bind(this))
        },
        _loadContentFromCache: function() {
            this._moveCachedContent(!0), this._processNewContent(null)
        },
        _addContentFromAjax: function(b) {
            var c = a(b).find(".StoryLinks .items"),
                d = c.find(this.uiSelectors.contentBlock),
                e = c.attr("data-next-url");
            this._moveContentCacheToDom(!0), this.ui("wrapperContentBlocks").append(d), d.addClass(this.uiSelectors.contentBlockNew.replace(".", "")), this._refreshContentBlockSelectors(), this._moveCachedContent(!0), this._processNewContent(e)
        },
        _processNewContent: function(a) {
            var b, c = this._animateLoadedContent.bind(this);
            this._loadImages(), b = this.ui("contentBlockNew").find("img"), b.length ? b.waitForImages(!0).done(c) : c(), this._updateButton(a)
        },
        _animateLoadedContent: function() {
            this.ui("contentBlockNew").removeClass(this.uiSelectors.contentBlockNew.replace(".", "")), site.utils.scrollTo(this.ui("contentBlockNew")), this.ui("contentBlockNew").each(function(b, c) {
                a(c).css({
                    opacity: 0,
                    y: 80
                }).transition({
                    opacity: 1,
                    y: 0,
                    delay: 200 * b
                })
            }), this._refreshContentBlockSelectors()
        },
        _updateButton: function(a) {
            a && "" !== a ? this.ui("moreResultsButton").attr("data-next-url", a) : this._cachedContent.length ? (this.ui("moreResultsButton").attr("data-next-url", "cache"), this.ui("moreResultsButton").show()) : this.ui("moreResultsButton").fadeOut()
        },
        _refreshContentBlockSelectors: function() {
            this.uiElements.contentBlock = a(this.uiSelectors.contentBlock, this.$element), this.uiElements.contentBlockNew = a(this.uiSelectors.contentBlockNew, this.$element)
        },
        _updateStoryCount: function() {
            var a = this.$element.data("total"),
                b = this.ui("contentBlock").length,
                c = a - b;
            this.ui("storyCountNumber").text(c), 0 >= c ? this.ui("storyCount").addClass("hidden") : b <= this._contentBlockLimits.pageLoad[this._currentBreakpoint] ? (this.ui("storyCountTop").removeClass("hidden"), this.ui("storyCountBottom").addClass("hidden")) : this.ui("storyCount").removeClass("hidden")
        }
    };
    jQuery.createComponent("StoryLinks", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {},
        uiSelectors: {
            imageContainer: ".imageContainer",
            section: ".section",
            quoteWrapper: ".quote",
            intro: ".intro",
            sectionOne: ".storySectionOne",
            sectionTwo: ".storySectionTwo",
            sectionThree: ".storySectionThree",
            fallBackImage: ".fallBackImage",
            storySection: ".storySection",
            scrollWrapper: ".scrollWrapper",
            scrollPrompt: ".ScrollDown"
        },
        _defaultStoryObject: {
            $element: !1,
            zoomInit: !1,
            scene: !1,
            tween: !1
        },
        imageSize: {
            width: 4250,
            height: 2823
        },
        _imageRatio: 1.51,
        _imageWindowScale: 2.28,
        _vHeight: a(b).height(),
        _$window: a(b),
        _$body: a("body"),
        _$html: a("html"),
        _$header: a("#header"),
        _touchSwipeHandersActive: !1,
        player: [],
        _playerType: "youtube",
        youtube: "YouTubePlayer",
        mediamanager: "VideoPlayer",
        audio: null,
        audioMuted: !1,
        fadeVideoAudio: !1,
        scrollController: !1,
        scrollScene: !1,
        scrollSceneModifier: 30,
        closeTextInsertionPoint: "partTwo+=10",
        _touchScrollSections: [],
        _stories: [],
        activeSection: !1,
        enabled: !1,
        sectionOneSceneTween: !1,
        sectionTwoSceneTween: !1,
        sectionThreeSceneTween: !1,
        _sectionDurationPosition: {
            sceneOne: 10,
            sceneTwo: 19,
            sceneThree: 30
        },
        touchState: "notouch",
        currentState: "desktop",
        stateContainers: {
            desktop: ".desktopImageContainer",
            mobile: ".mobileImageContainer"
        },
        noVhSupport: !1,
        init: function() {
            var a = this;
            if (this._setCurrentState(), this.$element.find(this.stateContainers[this.currentState]).addClass("stateEnabled"),
                this.noVhSupport = this._checkVhSupport(), this._setTouchState(), site.inXPM) return this.$element.addClass("degraded"), void this.ui("fallBackImage").removeClass("disabled");
            "touch" === this.touchState ? (this.ui("fallBackImage").removeClass("disabled"), this._initTouchVersion()) : (this._resizeZoomImages(!1), this.scrollController = new ScrollMagic.Controller, CSSPlugin.defaultForce3D = !0, this._sectionOneTween(), this._sectionTwoTween(), this._sectionThreeTween(), this._initScene()), this._initEvents(), this._initResize();
            var b = a.$element.data("player-type");
            a._playerType = a[b], a.$element.addClass(b), a._initVideo(), this._populateText()
        },
        _initTouchVersion: function() {
            this.scrollController = new ScrollMagic.Controller({
                globalSceneOptions: {
                    container: this.ui("scrollWrapper").get(0),
                    triggerHook: .3,
                    reverse: !0
                }
            }), this._touchCreateSectionsZero(), this._touchCreateSections(), this._touchOnEnterSection(this._touchGetPosition()), jQuery.event.special.swipe.settings.threshold = 0, this._touchAddSwipeHandlers(), this.ui("storySection").on("movestart", a.proxy(this._touchMoveStart, this))
        },
        _touchAddSwipeHandlers: function() {
            this._touchSwipeHandersActive === !1 && (this.ui("storySection").on("swipedown", a.proxy(this._touchSwipeDown, this)), this.ui("storySection").on("swipeup", a.proxy(this._touchSwipeUp, this)), this._touchSwipeHandersActive = !0)
        },
        _touchRemoveSwipeHandlers: function() {
            this.ui("storySection").off("swipedown"), this.ui("storySection").off("swipeup"), this._touchSwipeHandersActive = !1
        },
        _touchCreateSectionsZero: function() {
            var a = this.ui("sectionOne").clone();
            a.find(".imageContainer").remove(), a.find(".storyContent").remove(), a.find(".storyVideo").remove(), a.find("audio").remove(), a.removeClass("storySectionOne").addClass("storySectionZero"), this.ui("sectionOne").find(".intro").remove(), this.ui("scrollWrapper").prepend(a), this._sectionSizeCalc()
        },
        _touchCreateSections: function() {
            var b = this;
            b.ui("storySection").each(function(c) {
                var d = a(this);
                b._touchOnLeaveSection(c), b._touchScrollSections.push(d), new ScrollMagic.Scene({
                    triggerElement: d[0]
                }).addTo(b.scrollController).setClassToggle(a(this)[0], "touchActive").on("enter", function(a) {
                    var c = b.ui("storySection").index(d);
                    b._touchOnEnterSection(c), b._touchOnLeaveSection(c - 1), b._sectionSizeCalc()
                }).on("leave", function(a) {
                    var c = b.ui("storySection").index(d);
                    b._touchOnEnterSection(c - 1), b._touchOnLeaveSection(c)
                })
            }), b.ui("intro").addClass("loaded")
        },
        _touchSwipeDown: function(a) {
            var b = this._touchGetPosition(!0);
            this._touchScrollToPosition(b, b - 1)
        },
        _touchSwipeUp: function(a) {
            var b = this._touchGetPosition(!1);
            this._touchScrollToPosition(b, b + 1)
        },
        _touchMoveStart: function(a) {
            var b = this._touchGetPosition(!1);
            3 === b && a.distX > a.distY && a.distX < -a.distY && a.preventDefault()
        },
        _touchGetPosition: function(a) {
            var b = this._$window.scrollTop(),
                c = this.$element.offset().top,
                d = b - c,
                e = d / this._$window.height(),
                f = a ? Math.round(e) : Math.floor(e);
            return f
        },
        _touchScrollToPosition: function(a, b) {
            var c = this._touchScrollSections.length - 1;
            0 > b ? this._touchScrollTo(this._touchScrollSections[0].offset().top - this._touchScrollSections[0].outerHeight()) : b > c ? this._touchScrollTo(this._touchScrollSections[c].offset().top + this._touchScrollSections[c].outerHeight()) : this._touchScrollTo(this._touchScrollSections[b].offset().top, a)
        },
        _touchScrollTo: function(a, b, c) {
            this._$body.clearQueue(), this._$body.animate({
                scrollTop: a
            }, 800, this._touchOnEnterSection.bind(this, c))
        },
        _touchOnEnterSection: function(a) {
            if (a >= 0) {
                var b = {
                    duration: 1,
                    linkDelay: 1.5,
                    overlayDelay: .5,
                    overlayDuration: .5,
                    textDelay: 1
                };
                0 !== a ? (this._enableSection(this.ui("storySection").eq(a)), this._openTextAnimation(this.ui("storySection").eq(a), b)) : (TweenLite.to(this.ui("storySection").eq(a).find(".introWrapper"), 2, {
                    delay: 1.2,
                    opacity: 1
                }), TweenLite.to(this.ui("storySection").find(".intro .overlay"), 1, {
                    delay: .6,
                    opacity: .6
                })), TweenLite.to(this.ui("storySection").eq(a).find(".fallBackImage"), 40, {
                    delay: 3,
                    scale: 1.3
                })
            }
        },
        _touchOnLeaveSection: function(a) {
            if (a >= 0) {
                var b = {
                    duration: .6,
                    linkDelay: 0,
                    overlayDelay: 0,
                    textDelay: 0
                };
                0 !== a ? (this._closeTextAnimation(this.ui("storySection").eq(a), b), TweenLite.to(this.ui("storySection").eq(a).find(".introWrapper"), 1, {
                    opacity: 0
                })) : (TweenLite.to(this.ui("storySection").eq(a).find(".introWrapper"), 2, {
                    opacity: 0
                }), TweenLite.to(this.ui("storySection").find(".overlay"), .6, {
                    opacity: 0
                })), TweenLite.to(this.ui("storySection").eq(a).find(".fallBackImage"), 15, {
                    scale: 1
                })
            }
        },
        _initScene: function() {
            var a = this;
            this._enableSection(a.ui("sectionOne"));
            var b = this._generateMainTimeLine();
            a.scrollScene = new ScrollMagic.Scene({
                triggerElement: a.ui("scrollWrapper").get(0),
                triggerHook: 0
            }).setPin(".scrollWrapper").duration(a._getSectionDuration(a.scrollSceneModifier)).on("enter", function(b) {
                a.ui("intro").addClass("loaded"), a._initAudio(), "REVERSE" === b.scrollDirection ? (a._enableSection(a.ui("sectionThree")), a.activeSection.tween = a.sectionThreeSceneTween) : (a._enableSection(a.ui("sectionOne")), a.activeSection.tween = a.sectionOneSceneTween), a._toggleAtmosphericAudio(!0)
            }).on("progress", function(b) {
                b.progress >= .4 && a._initZoomImages(a.ui("sectionTwo").find(a.stateContainers[a.currentState]))
            }).on("leave", function() {
                a._toggleAtmosphericAudio(!1)
            }).setTween(b).addTo(a.scrollController)
        },
        _generateMainTimeLine: function() {
            return (new TimelineLite).to(this.ui("intro").get(0), 4, {
                opacity: 0,
                delay: .4,
                ease: Cubic.easeInOut
            }).add(this.sectionOneSceneTween).add(this.sectionTwoSceneTween, "-=14").add(this.sectionThreeSceneTween, "-=11")
        },
        _sectionOneTween: function() {
            var a = this,
                b = a.ui("sectionOne").find(a.stateContainers[a.currentState]);
            this._initZoomImages(b);
            var c = {
                    duration: 7,
                    linkDelay: 0,
                    overlayDelay: 2,
                    promptDelay: 0,
                    textDelay: 4
                },
                d = {
                    duration: 14,
                    linkDelay: 13,
                    overlayDelay: 9,
                    textDelay: 6,
                    promptDelay: 16
                },
                e = this._openTextAnimation(a.ui("sectionOne"), d),
                f = this._closeTextAnimation(a.ui("sectionOne"), c),
                g = {
                    partOne: {
                        scale: 2.3,
                        xPercent: 11,
                        yPercent: "landscape" === site.utils.getDeviceOrientation() ? -101 : -99,
                        ease: Cubic.easeInOut
                    }
                },
                h = {
                    partOne: {
                        xPercent: 25,
                        yPercent: "landscape" === site.utils.getDeviceOrientation() ? -34.5 : -10,
                        scale: "landscape" === site.utils.getDeviceOrientation() ? .63 : .84,
                        ease: Cubic.easeInOut,
                        onStart: function() {
                            a.ui("intro").removeClass("loaded"), a.activeSection.tween = a.sectionOneSceneTween, a._initZoomImages(a.ui("sectionTwo").find(a.stateContainers[a.currentState]))
                        }
                    },
                    partTwo: {
                        xPercent: 31,
                        yPercent: -30,
                        scale: .6,
                        ease: Cubic.easeInOut,
                        opacity: 0,
                        onReverseComplete: function() {
                            a._enableSection(a.ui("sectionOne")), a.activeSection.tween = a.sectionOneSceneTween
                        }
                    }
                };
            site.utils.isBreakpointMedium() && (h.partOne.scale = .9, h.partOne.yPercent = -26), a.sectionOneSceneTween = (new TimelineLite).fromTo(".storySectionOne .imageContainer.stateEnabled", 14, g.partOne, h.partOne).addLabel("partOne").add(e, "partOne-=8").addLabel("partTwo").add(f, a.closeTextInsertionPoint).to(".storySectionOne .imageContainer.stateEnabled", 16, h.partTwo)
        },
        _sectionTwoTween: function() {
            var a = this,
                b = (a.ui("sectionTwo").find(this.stateContainers[this.currentState]), a.ui("sectionTwo").get(0)),
                c = {
                    duration: 7,
                    linkDelay: 0,
                    promptDelay: 0,
                    overlayDelay: 2,
                    textDelay: 4
                },
                d = {
                    duration: 14,
                    linkDelay: 15,
                    overlayDelay: 12,
                    textDelay: 9,
                    promptDelay: 16
                },
                e = this._openTextAnimation(a.ui("sectionTwo"), d),
                f = this._closeTextAnimation(a.ui("sectionTwo"), c),
                g = {
                    partOne: {
                        scale: 2,
                        xPercent: 71,
                        yPercent: -41.5,
                        ease: Cubic.easeInOut
                    }
                },
                h = {
                    partOne: {
                        xPercent: 45,
                        scale: 1,
                        ease: Cubic.easeInOut,
                        onStart: function() {
                            a._enableSection(a.ui("sectionTwo")), a.activeSection.tween = a.sectionTwoSceneTween, a._initZoomImages(a.ui("sectionThree").find(a.stateContainers[a.currentState]))
                        }
                    },
                    partTwo: {
                        xPercent: 25,
                        yPercent: -39,
                        scale: .6,
                        ease: Cubic.easeInOut,
                        onReverseComplete: function() {
                            a._enableSection(a.ui("sectionTwo")), a.activeSection.tween = a.sectionTwoSceneTween
                        }
                    }
                };
            site.utils.isBreakpointMedium() && (g.partOne.yPercent = -36, h.partTwo.yPercent = -28, h.partTwo.scale = .9), site.utils.isBreakpointSmall() && (g.partOne = {
                scale: 2,
                xPercent: 90,
                yPercent: -31
            }, h.partOne.xPercent = 70, h.partTwo.xPercent = 40), a.sectionTwoSceneTween = (new TimelineLite).addLabel("partOne").fromTo(".storySectionTwo .imageContainer.stateEnabled", 22, g.partOne, h.partOne).add(e, 0).addLabel("partTwo").add(f, a.closeTextInsertionPoint).to(".storySectionTwo .imageContainer.stateEnabled", 14, h.partTwo).to(b, 18, {
                opacity: 0
            }, "-=4")
        },
        _sectionThreeTween: function() {
            var a = this,
                b = (a.ui("sectionThree").find(this.stateContainers[this.currentState]), a.ui("sectionThree").get(0), {
                    duration: 4,
                    linkDelay: 0,
                    overlayDelay: 2,
                    textDelay: 4,
                    promptDelay: 0
                }),
                c = {
                    duration: 14,
                    linkDelay: 15,
                    overlayDelay: 12,
                    textDelay: 9,
                    promptDelay: 16
                },
                d = this._openTextAnimation(a.ui("sectionThree"), c),
                e = this._closeTextAnimation(a.ui("sectionThree"), b),
                f = {
                    partOne: {
                        scale: .9,
                        xPercent: 10,
                        yPercent: -40,
                        ease: Cubic.easeInOut
                    }
                },
                g = {
                    partOne: {
                        xPercent: 26.2,
                        yPercent: -36,
                        scale: .6,
                        ease: Cubic.easeInOut,
                        onStart: function() {
                            a._enableSection(a.ui("sectionThree")), a.activeSection.tween = a.sectionThreeSceneTween
                        }
                    }
                };
            site.utils.isBreakpointMedium() && (f.partOne.yPercent = -25, g.partOne.scale = .85, g.partOne.yPercent = -25), site.utils.isBreakpointSmall() && (g.partOne.xPercent = 40, g.partOne.yPercent = -27.2, g.partOne.scale = .55, "landscape" === site.utils.getDeviceOrientation() && (g.partOne.xPercent = 30)), a.sectionThreeSceneTween = (new TimelineLite).addLabel("partOne").fromTo(".storySectionThree .imageContainer.stateEnabled", 14, f.partOne, g.partOne).add(d, 0).addLabel("partTwo").add(e, a.closeTextInsertionPoint)
        },
        _enableSection: function(b) {
            this.activeSection = !1;
            var c = this.$element.find(".storySection").index(b.get(0));
            this._hasSectionBeenViewed(c) ? this.activeSection = this._stories[c] : (this.activeSection = a.extend(!0, {}, this._defaultStoryObject), this.activeSection.$element = b, this._stories[c] = this.activeSection), b.addClass("enabled")
        },
        _hasSectionBeenViewed: function(a) {
            var b = this.$element.index(a);
            return b in this._stories
        },
        _closeTextAnimation: function(a, b, c) {
            var d = {
                    topText: a.find(".quote .top .text"),
                    bottomText: a.find(".quote .bottom .text"),
                    overlay: a.find(".storyQuote .overlay"),
                    quoteLink: a.find(".quote a"),
                    quoteSource: a.find(".quote .source"),
                    bottomEle: a.find(".quote .bottom"),
                    scrollPrompt: a.find(".storyQuote .ScrollDown")
                },
                e = {
                    delay: b.textDelay,
                    top: "110%",
                    ease: Cubic.easeInOut,
                    onComplete: function() {
                        a.removeClass("textActive"), c && c()
                    }
                };
            return (new TimelineLite).insert(new TweenLite.to(d.scrollPrompt, b.duration, {
                delay: b.promptDelay,
                opacity: 0,
                onReverseComplete: function() {
                    a.addClass("textActive")
                }
            }, "+=4")).insert(new TweenLite.to(d.quoteLink, b.duration, {
                delay: b.linkDelay,
                opacity: 0
            }, "+=4")).insert(new TweenLite.to(d.quoteSource, b.duration, {
                delay: b.linkDelay,
                opacity: 0
            }, "+=4")).insert(new TweenLite.to(d.overlay, b.duration, {
                delay: b.overlayDelay,
                opacity: 0
            }, "+=4")).insert(new TweenLite.to(d.bottomText, b.duration, {
                delay: b.textDelay,
                top: "-201%",
                ease: Cubic.easeInOut
            }, "+=4")).insert(new TweenLite.to(d.topText, b.duration, e, "+=4"))
        },
        _openTextAnimation: function(a, b, c, d) {
            var e = {
                topText: a.find(".quote .top .text"),
                bottomText: a.find(".quote .bottom .text"),
                overlay: a.find(".storyQuote .overlay"),
                quoteLink: a.find(".quote a"),
                quoteSource: a.find(".quote .source"),
                bottomEle: a.find(".quote .bottom"),
                scrollPrompt: a.find(".storyQuote .ScrollDown")
            };
            b.overlayDuration = b.overlayDuration || b.duration;
            var f = (new TimelineLite).insert(new TweenLite.to(e.overlay, b.overlayDuration, {
                delay: b.overlayDelay,
                opacity: .65
            }, "-=4")).insert(new TweenLite.to(e.topText, b.duration, {
                delay: b.textDelay,
                top: "0%",
                ease: Cubic.easeInOut,
                onReverseComplete: function() {
                    a.removeClass("textActive")
                }
            }, "-=4")).insert(new TweenLite.to(e.bottomText, b.duration, {
                delay: b.textDelay,
                top: "-100%",
                ease: Cubic.easeInOut
            }, "-=4")).insert(new TweenLite.to(e.quoteSource, b.duration, {
                delay: b.linkDelay,
                opacity: .8
            }, "-=4"));
            return "touch" === this.touchState ? f.insert(new TweenLite.to(e.quoteLink, b.duration, {
                delay: b.linkDelay,
                opacity: 1,
                onStart: function() {
                    a.addClass("textActive"), c && c()
                },
                onComplete: function() {
                    d && d()
                }
            })) : f.insert(new TweenLite.to(e.quoteLink, b.duration, {
                delay: b.linkDelay,
                opacity: 1,
                onStart: function() {
                    a.addClass("textActive")
                }
            }, "-=4")).insert(new TweenLite.to(e.scrollPrompt, b.duration, {
                delay: b.promptDelay,
                opacity: 1,
                display: "block",
                onStart: function() {
                    c && c()
                },
                onComplete: function() {
                    d && d()
                }
            }, "-=4")), f
        },
        _resizeZoomImages: function(c) {
            var d = a(b).width(),
                e = a(b).height(),
                f = 0,
                g = 0,
                h = 5,
                i = 3;
            d >= e ? (f = Math.floor(d * this._imageWindowScale), g = Math.floor(f / this._imageRatio)) : (g = Math.floor(e * this._imageWindowScale), f = Math.floor(g * this._imageRatio));
            var j = a(this.stateContainers[this.currentState], this.$element);
            j.css({
                height: g,
                width: f
            }), j.each(function(b, c) {
                a(c).find(".zoomImage").each(function(b, c) {
                    var d = a(c),
                        e = (d.get(0).getContext("2d"), Math.floor(f / h)),
                        j = Math.floor(g / i);
                    d.css({
                        height: j,
                        width: e
                    });
                    var k = 0,
                        l = 0;
                    e -= 1, j -= 1, b > 4 && 9 >= b ? k = j : b > 9 && (k = 2 * j);
                    var m = b + 1;
                    switch (m) {
                        case 2:
                        case 7:
                        case 12:
                            l = e;
                            break;
                        case 3:
                        case 8:
                        case 13:
                            l = 2 * e;
                            break;
                        case 4:
                        case 9:
                        case 14:
                            l = 3 * e;
                            break;
                        case 5:
                        case 10:
                        case 15:
                            l = 4 * e
                    }
                    a(c).css({
                        top: parseFloat(k),
                        left: parseFloat(l)
                    })
                })
            })
        },
        _initZoomImages: function(b) {
            return b.hasClass("imagesEnabled") ? !0 : (b.find(".zoomImage").each(function(b, c) {
                var d = a(c),
                    e = d.get(0),
                    f = e.getContext("2d"),
                    g = new Image;
                g.src = a(c).data("img"), g.onload = function() {
                    site.utils.canvasDrawBgCover(f, g)
                }
            }), void b.addClass("imagesEnabled"))
        },
        _getSectionDuration: function(a) {
            return this._vHeight * a
        },
        _populateText: function() {
            a(".prop", this.$element).each(function(b, c) {
                var d = a(c).html();
                a(c).parent().find(".half .text").html(d)
            })
        },
        _initVideo: function() {
            var b = this;
            this._playerType === b.youtube ? a(".video .YouTubePlayer", this.$element).each(function(c) {
                b.player[c] = a(this), b.player[c].parent().addClass("youtubeWrapper").removeClass("YouTubeGalleryAsset galleryItem videoItem"), b.player[c].YouTubePlayer(), b.player[c].on("videoEnded", a.proxy(b._playerOnEnded, b)), b.player[c].on("onPlay", a.proxy(b._playerOnPlay, b))
            }) : a(".video .VideoPlayer", this.$element).each(function(c) {
                b.player[c] = a(this), b.player[c].VideoPlayer({
                    autoplay: !1,
                    customPauseOtherPlayers: !1,
                    loop: !1
                }), b.player[c].on("videoEnded", a.proxy(b._playerOnEnded, b)), b.player[c].on("onPlay", a.proxy(b._playerOnPlay, b))
            })
        },
        _resizePlayer: function() {
            var b = this.activeSection.$element,
                c = a(".storyVideo .playerWrapper", b),
                d = a(".storyVideo .video", b),
                e = this._$window.height() - c.height(),
                f = e > 0 ? e / 2 : 0;
            d.css({
                "margin-top": f
            })
        },
        _playerOnEnded: function() {
            return "touch" === this.touchState ? void this._touchVideoCloseEvent() : (site.utils.enableScroll(), void this._curtainClose())
        },
        _playerOnPlay: function() {
            this._resizePlayer()
        },
        _playVideo: function() {
            var a = this.activeSection.$element.index();
            return this._playerType === this.youtube ? void this.player[a].YouTubePlayer("play") : void(this.player[a].VideoPlayer("isInitiated") ? this.player[a].VideoPlayer("play") : this.player[a].VideoPlayer("initVideo"))
        },
        _pauseVideo: function() {
            var b = this.activeSection.$element,
                c = a(".storyVideo ." + this._playerType, b);
            c[this._playerType]("pause")
        },
        _killPlayerVolume: function() {
            var a = this.activeSection.$element.index();
            this.player[a][this._playerType]("setVolume", 0)
        },
        _fadePlayerVolume: function(b, c) {
            if (this.fadeVideoAudio !== !1) {
                var d = this,
                    e = this.activeSection.$element,
                    f = a(".storyVideo ." + d._playerType, e),
                    g = 100,
                    h = b ? 0 : g,
                    i = b ? 100 : 0,
                    j = {
                        vol: g
                    };
                d.fadeVideoAudio = !1, TweenLite.fromTo(j, 1.5, {
                    vol: h
                }, {
                    vol: i,
                    ease: Power2.easeIn,
                    onUpdate: function() {
                        f[d._playerType]("setVolume", j.vol)
                    },
                    onComplete: function() {
                        b || (f[d._playerType]("pause"), f[d._playerType]("setVolume", g), d._toggleAtmosphericAudio(!0), c && c())
                    }
                })
            }
        },
        _curtainOpenEvent: function(b) {
            var c = this;
            if (!(c.activeSection.$element.find(".clipFix").length > 0)) {
                var d = a(".storyContent", c.activeSection.$element),
                    e = c.activeSection.$element,
                    f = a(c.stateContainers[c.currentState], e),
                    g = {
                        overlay: ".overlay",
                        quoteLink: ".quote a",
                        quoteSource: ".quote .source",
                        storyVideo: ".storyVideo",
                        video: ".storyVideo .video",
                        content: ".storyContent",
                        curtainLeft: ".curtainLeft",
                        curtainRight: ".curtainRight",
                        topText: ".quote .top .text",
                        bottomText: ".quote .bottom .text",
                        iframe: ".storyVideo iframe"
                    };
                f.clone().insertAfter(f).addClass("curtainLeft").removeClass("imagesEnabled"), f.clone().insertAfter(f).addClass("curtainRight").removeClass("imagesEnabled"), c._initZoomImages(a(g.curtainLeft, e)), c._initZoomImages(a(g.curtainRight, e));
                a(g.curtainLeft, e).wrap('<div class="clipFix clipFixLeft"></div>').parent(), a(g.curtainRight, e).addClass("curtainRight").wrap('<div class="clipFix clipFixRight"></div>').parent();
                c.fadeVideoAudio = !0, c._killPlayerVolume(), c._playVideo(), this._fadePlayerVolume(!0), c._toggleAtmosphericAudio(!1);
                var h = {
                        duration: 1,
                        linkDelay: .5,
                        overlayDelay: .5,
                        textDelay: .2
                    },
                    i = this._closeTextAnimation(e, h);
                (new TimelineLite).add(i, 0).insert(new TweenLite.to(a(g.curtainLeft, e).parent(), 1, {
                    delay: 2,
                    xPercent: "-120%",
                    ease: Cubic.easeInOut,
                    onStart: function() {
                        e.find(g.video).addClass("active"), e.addClass("videoActive"), c.$element.addClass("videoActive"), f.hide()
                    },
                    onComplete: function() {
                        d.hide(), c._lockScroll(!0)
                    }
                }, "-=4")).insert(new TweenLite.to(a(g.curtainRight, e).parent(), 1, {
                    delay: 2,
                    xPercent: "120%",
                    ease: Cubic.easeInOut
                }, "-=4"))
            }
        },
        _touchVideoOpenEvent: function() {
            var a = this,
                b = {
                    duration: 1,
                    linkDelay: .5,
                    overlayDelay: .5,
                    textDelay: .2
                },
                c = a.activeSection.$element.find(".storyVideo .video");
            site.utils.isIos === !1 && a._playVideo();
            var d = this._closeTextAnimation(this.activeSection.$element, b);
            (new TimelineLite).add(d, 0).call(function() {
                a.activeSection.$element.find(".storyContent").hide(), a.activeSection.$element.addClass("videoActive"), a.$element.addClass("videoActive"), a._lockScroll(!0)
            });
            c.addClass("active"), this._resizePlayer(), this._touchRemoveSwipeHandlers()
        },
        _curtainClose: function() {
            var b = this,
                c = b.activeSection.$element.find(b.stateContainers[b.currentState]),
                d = {
                    storyVideo: ".storyVideo",
                    youtubePlayer: ".storyVideo .video div",
                    curtainLeft: ".curtainLeft",
                    curtainRight: ".curtainRight"
                };
            b.activeSection.tween.gotoAndPlay("partTwo"), b.fadeVideoAudio = !0, b._fadePlayerVolume(!1);
            (new TimelineLite).insert(new TweenLite.to(a(d.curtainLeft, this.activeSection.$element).parent(), 1, {
                delay: .5,
                xPercent: "0",
                ease: Cubic.easeInOut
            }, "-=4")).insert(new TweenLite.to(a(d.curtainRight, this.activeSection.$element).parent(), 1, {
                delay: .5,
                xPercent: "0",
                ease: Cubic.easeInOut,
                onComplete: function() {
                    c.show(), a(".storyContent", b.activeSection.$element).show(), b.activeSection.$element.removeClass("videoActive"), b.$element.removeClass("videoActive"), a(d.curtainLeft, b.activeSection.$element).parent().remove(), a(d.curtainRight, b.activeSection.$element).parent().remove();
                    var e = {
                            duration: 1,
                            linkDelay: 0,
                            overlayDelay: .5,
                            textDelay: 0
                        },
                        f = function() {
                            b.scrollController.update(!0), b._lockScroll(!1)
                        };
                    b._openTextAnimation(b.activeSection.$element, e, !1, f)
                }
            }, "-=4"))
        },
        _touchVideoCloseEvent: function() {
            var a = this;
            a._pauseVideo(), a._touchAddSwipeHandlers(), a.activeSection.$element.removeClass("videoActive"), a.$element.removeClass("videoActive"), a._lockScroll(!1), a.activeSection.$element.find(".storyContent").show();
            var b = {
                duration: 1,
                linkDelay: .5,
                overlayDelay: .5,
                textDelay: 0
            };
            a._openTextAnimation(a.activeSection.$element, b)
        },
        _lockScroll: function(a) {
            a ? (this._$html.addClass("noScroll forceScrollBar"), "touch" === this.touchState && this._$header.hide(), this._resizePlayer()) : (this._$html.removeClass("noScroll forceScrollBar"), "touch" === this.touchState ? (this._$header.show(), this._$body.scrollTop(this.activeSection.$element.offset().top)) : (this.scrollController.update(!0), this.scrollScene.update(!0)))
        },
        _initAudio: function() {
            var c = this,
                d = a(".intro .introWrapper audio");
            return d.length < 1 ? void(c.audio = null) : void(site.utils.isMobileDevice() || null === c.audio && (c.audio = d.mediaelementplayer({
                startVolume: .6,
                loop: !0,
                pauseOtherPlayers: !1,
                features: ["playpause", "progress", "current", "duration", "tracks", "volume"]
            }), a(b).trigger("VideoPlayerPause", "null"), c._toggleAtmosphericAudio(!0)))
        },
        _toggleAtmosphericAudio: function(a) {
            var b = this;
            null === this.audio || site.utils.isMobileDevice() || (this.audioMuted || a === !1 ? TweenLite.fromTo(this.audio[0].player, 1, {
                setVolume: .6
            }, {
                setVolume: 0,
                ease: Power2.easeIn,
                onComplete: function() {
                    b.audio[0].player.pause()
                }
            }) : (this.audio[0].player.play(), TweenLite.fromTo(this.audio[0].player, 1, {
                setVolume: 0
            }, {
                setVolume: .6,
                ease: Power2.easeIn
            })))
        },
        _fadeVideoAudio: function(a) {
            a ? TweenLite.fromTo(this.audio.player, 1, {
                setVolume: 1
            }, {
                setVolume: 0,
                ease: Power2.easeIn,
                onComplete: this._pauseAudio.bind(this, !0)
            }) : TweenLite.fromTo(this.audio.player, 1, {
                setVolume: this.audio.player.getVolume()
            }, {
                setVolume: 1,
                ease: Power2.easeIn,
                onComplete: this._pauseAudio.bind(this, !1)
            })
        },
        _pauseAudio: function(a) {
            a ? this.audio.player.pause() : this.audio.player.play()
        },
        _initResize: function() {
            var c = this;
            a(b).resize(function() {
                c._vHeight = b.innerHeight
            }), a(b).smartresize(function() {
                return c._resizePlayer(), "notouch" === c.touchState ? (c.$element.hasClass("videoActive") === !1 && c._resizeZoomImages(), c.scrollScene.duration(c._getSectionDuration(c.scrollSceneModifier)), c.scrollController.update(), void c.scrollScene.refresh()) : void c._sectionSizeCalc()
            })
        },
        _initEvents: function() {
            var b = this;
            this.ui("scrollPrompt").unbind("click"), a(".quoteCTA", this.$element).on("click tap", function(c) {
                return c.preventDefault(), "touch" === b.touchState ? void b._touchVideoOpenEvent() : (site.utils.disableScroll(), void b._curtainOpenEvent(a(this)))
            }), a(".ytClose", this.$element).on("click tap", function(a) {
                return a.preventDefault(), "touch" === b.touchState ? void b._touchVideoCloseEvent() : (site.utils.enableScroll(), void b._curtainClose())
            }), this._$window.on("HeroCarousel:mute", function(a, c) {
                b.audioMuted = c
            }), b.ui("scrollPrompt").on("click", function(c) {
                if (c.preventDefault(), "touch" !== b.touchState) {
                    var d = b._getSectionDuration(b._sectionDurationPosition.sceneTwo),
                        e = a(this),
                        f = 3700;
                    1 === e.parents(".intro").length && (d = b._getSectionDuration(b._sectionDurationPosition.sceneOne)), 1 === e.parents(".storySectionTwo").length && (d = b._getSectionDuration(b._sectionDurationPosition.sceneThree), f = 5500), 1 === e.parents(".storySectionThree").length && (d = b.$element.next().offset().top), b.scrollController.scrollTo(function(a) {
                        site.utils.scrollTo(a, f)
                    }), b.scrollController.scrollTo(d)
                }
            })
        },
        _setCurrentState: function() {
            var a = this.currentState;
            this.currentState = site.utils.isBreakpointMedium() || site.utils.isBreakpointSmall() ? "mobile" : "desktop", this.currentState !== a && this.activeSection !== !1 && this._initZoomImages(this.activeSection.$element.find(this.stateContainers[this.currentState]))
        },
        _setTouchState: function() {
            this.touchState = this._$html.hasClass("touchCapability") ? "touch" : "notouch"
        },
        _checkVhSupport: function() {
            return this._$html.hasClass("no-cssvhunit") || null !== navigator.userAgent.match(/(iPad|iPhone|iPod touch);.*CPU.*OS 7_\d/i)
        },
        _sectionSizeCalc: function() {
            if (this.noVhSupport) {
                var a = site.utils.getViewportSize().height;
                return void this.ui("storySection").height(a)
            }
        }
    };
    jQuery.createComponent("StoryScroller", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {},
        _$currentTab: null,
        _group: "",
        init: function() {
            var c = this;
            this.$element.css({
                display: "table"
            }), this._group = this.$element.attr("data-group"), this._activateTab(a("a", a("li", this.$element).first()), !1), a("li a", this.$element).on("click tap", function(b) {
                return b.preventDefault(), a(this).parent().hasClass("active") ? !1 : void c._activateTab(this, !0)
            }), c._addKeyboardNavigation(), a(b).smartresize(function() {
                c._equalHeights()
            }), c._equalHeights()
        },
        _activateTab: function(c, d) {
            var e = this,
                f = a(c),
                g = f.parent();
            if (null === e._$currentTab || e._$currentTab[0] !== g[0]) {
                e._$currentTab = g, a("li", e.$element).removeClass("active"), g.addClass("active");
                var h = f.attr("href").substring(1),
                    i = a('.tabContent[data-group="' + e._group + '"][data-tabid="' + h + '"]'),
                    j = a('.tabContent[data-group="' + e._group + '"]:visible'),
                    k = d === !0 ? 400 : 0;
                j.stop().fadeTo(k, 0, function() {
                    var c = a(this).parent(".ComparisonSlider");
                    c.css("min-height", a(this).height()), a(this).hide().removeClass("visibleTab"), i.stop().show().fadeTo(k, 1).addClass("visibleTab"), a(b).trigger("resize"), e.$element.trigger("tabAnimationComplete"), i.hasClass("withSummary") ? e.$element.addClass("withSummary") : e.$element.removeClass("withSummary"), setTimeout(function() {
                        c.css("min-height", "inherit")
                    }, 1e3)
                })
            }
            this.$element.trigger("changeTabs")
        },
        _destroy: function() {
            a("li a", this.$element).off("click tap")
        },
        _addKeyboardNavigation: function() {
            var b = this,
                c = b.$element.find("> li > a");
            c.keydown(function(b) {
                39 === b.keyCode ? a(this).parent("li").next("li").find("a").focus() : 37 === b.keyCode && a(this).parent("li").prev("li").find("a").focus()
            })
        },
        _equalHeights: function() {
            var b = this,
                c = [];
            a("li > a", b.$element).css({
                "padding-top": 0,
                "padding-bottom": 0,
                "margin-top": "12px",
                "margin-bottom": "12px"
            }).each(function() {
                c.push((a(this).parent().height() - a(this).height()) / 2)
            }).each(function(b) {
                a(this).removeAttr("style").css({
                    "padding-top": c[b],
                    "padding-bottom": c[b] - 1
                })
            })
        }
    };
    jQuery.createComponent("TabFilter", e)
}(jQuery, window, document),
function(a, b, c) {
    var d = {
        _defaults: {},
        _linkURL: null,
        init: function() {
            this.setupButtonBehaviour(), this.setupListener()
        },
        fireEvent: function(a, b) {
            var c = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
                d = new CustomEvent(b, {
                    payload: c
                });
            a.dispatchEvent(d)
        },
        setupListener: function() {
            var a = this,
                b = a.$element.find("span");
            this.$element.off("click.TargetLinks").on("click.TargetLinks", {
                that: this
            }, a.processLinkType), site.utils.isPageInXPMFrame() && b.on("click", function(a) {
                a.preventDefault(), a.stopPropogation()
            })
        },
        setupButtonBehaviour: function() {
            var a = this.element.getAttribute("data-type");
            a && "video" === a && [].concat(_toConsumableArray(this.element.querySelectorAll(".mediaOverlayVideo"))).length && this.element.parentNode.classList.add("mediaOverlay__wrapper");
            var b = this.element.getAttribute("data-target");
            if (b && "overlay" === b) {
                this.element.setAttribute("role", "button");
                var c = site.utils.aria.KeyCode.SPACE;
                this.element.addEventListener("keydown", function(a) {
                    a.keyCode === c && (a.preventDefault(), a.target.click())
                })
            }
        },
        processLinkType: function(c) {
            var d = c ? c.data.that : this;
            if (d._checkDragging(c)) {
                var e = a(this),
                    f = e.attr("data-target");
                if (site.utils.isPageInXPMFrame() && e.hasClass("primaryLinkWithStyle") === !1 || site.utils.isPageInXPMFrame() && a(c.target).get(0) !== e.get(0)) return void c.preventDefault();
                var g = e.attr("href");
                if (e.attr("href", g), null !== f) {
                    switch (f) {
                        case "overlay":
                            c.preventDefault(), d._openLinkInOverlay(g);
                            break;
                        case "new":
                            c.preventDefault(), b.open(g);
                            break;
                        case "fullscreen":
                            c.preventDefault(), d._initFullscreen(g, c)
                    }
                    a(b).trigger("VideoPlayerPause", {
                        videoid: null
                    })
                }
            }
        },
        _openLinkInOverlay: function(d, event) {
            var e = this.$element.attr("data-aria-title"),
                f = this.$element.attr("data-close-button-text");
            if (site.utils.isBreakpointSmall() || site.utils.isMobileDevice()) return void b.open(d);
            var g = d;
            g += g.indexOf("?") > -1 ? "&cnst_bnr=1" : "?cnst_bnr=1", a.magnificPopup.open({
                closeMarkup: "",
                closeOnBgClick: !0,
                fixedContentPos: !0,
                alignTop: !0,
                focus: ".mfp-close",
                type: "iframe",
                items: {
                    src: g
                },
                callbacks: {
                    open: function() {
                        a(".mfp-iframe").wrap('<div class="mfp-iframe-alt-wrap"></div>'), a('<button type="button" class="mfp-close alt"></button>').insertBefore(".mfp-iframe"), a(".mfp-bg").addClass("mfp-bg--whitened"), a(".mfp-iframe").prop("title", e).removeAttr("frameborder"), a(".mfp-close").attr("aria-label", f),
                        event.stopPropagation();
                    }
                }
            })
        },
        _checkDragging: function(b) {
            var c = !1;
            return a(b.target).parents(".SameSizeCarousel").length > 0 ? a(b.target).parents(".SameSizeCarousel").SameSizeCarousel("getDragging") ? b.preventDefault() : c = !0 : a(b.target).parents(".DualFrameCarousel").length > 0 && a(b.target).parents(".DualFrameCarousel").DualFrameCarousel("getDragging") ? b.preventDefault() : c = !0, c
        },
        _initFullscreen: function(d, e) {
            var f = a("html"),
                g = b;
            a(g).width() <= site.breakpoints.medium || f.hasClass("lt-ie10") || f.hasClass("touchCapability") ? (a(e.currentTarget).data("hash") && (g.location.hash = a(e.currentTarget).data("hash")), site.utils.cookieManager.createCookie("JLR_previousURL", c.URL), g.location = d) : this._openFullscreen(d)
        },
        _openFullscreen: function(d) {
            var e = this,
                f = c.querySelector("meta[name='build_no']").content;
            a.getScript("/resources/public/js/global/components/Fullscreen.js?v=" + f, function() {
                var f = b.Fullscreen["default"];
                a(b).trigger("fullscreenOpened"), e.fireEvent(b, "fullscreenOpened"), a.magnificPopup.open({
                    closeOnBgClick: !1,
                    fixedContentPos: !0,
                    alignTop: !0,
                    type: "ajax",
                    items: {
                        src: d
                    },
                    callbacks: {
                        beforeClose: function() {
                            a(b).off("FilmStripToggle"), a(b).trigger("fullscreenClosed"), e.fireEvent(b, "FilmStripToggle"), e.fireEvent(b, "fullscreenClosed")
                        },
                        parseAjax: function(b) {
                            b.data = a(b.data).find(".Fullscreen")
                        },
                        ajaxContentAdded: function() {
                            var b = c.querySelector(".Fullscreen");
                            new f(b);
                            var d = a(b).find(".mfp-close");
                            d.on("click", function(a) {
                                a.preventDefault()
                            }), d.attr("role", "button").find("span").text(d.data("close-button-label"))
                        }
                    }
                })
            })
        }
    };
    jQuery.createComponent("TargetLinks", d)
}(jQuery, window, document),
function(a, b) {
    var c = {
        _defaults: {},
        uiSelectors: {
            item: ".toggleLinksItem",
            link: ".toggleLinksLink"
        },
        _$toggleContent: null,
        _$toggleContentItems: null,
        _$window: a(b),
        init: function() {
            return this._$toggleContent = a("#" + this.$element.data("toggle-content")), this._$toggleContentItems = this._$toggleContent.length ? this._$toggleContent.find(".toggleContentItem") : null, this.ui("item").length < 2 ? void this.$element.remove() : (this.$element.addClass("ToggleLinksVisible"), void(this._$toggleContent.length && this._$toggleContentItems.length && (this.ui("link").on("click", this._linkClick.bind(this)), this._$toggleContent.addClass("toggleLinksActive"), this.ui("link").eq(0).trigger("click", [!0]))))
        },
        _linkClick: function(b, c) {
            var d = this,
                e = c || !1,
                f = a(b.currentTarget),
                g = a(f.attr("href")),
                h = g.index();
            b.preventDefault(), this.ui("item").removeClass("active"), f.parent(".toggleLinksItem").addClass("active"), site.utils.isBreakpointSmall() && !e ? h > 0 ? a(this.$element).animate({
                scrollLeft: this.$element.scrollLeft() + f.parent("li").position().left - (this.$element.width() - f.parent("li").width() + parseInt(this.$element.css("padding-left"), 10) + parseInt(this.$element.css("padding-right"), 10)) / 2
            }, function() {
                d._scrollAndFadeContent(h)
            }) : a(this.$element).animate({
                scrollLeft: site.rtl ? this.$element.width() : 0
            }, function() {
                d._scrollAndFadeContent(h)
            }) : this._fadeInOutContentItem(h)
        },
        _scrollAndFadeContent: function(a) {
            this.$element.parents(".ContentBlocksContainer").data("toggle-links") && site.utils.isBreakpointSmall() && site.utils.scrollTo(this.$element.parents(".ContentBlocksContainer").offset().top, 600), this._fadeInOutContentItem(a)
        },
        _fadeInOutContentItem: function(a) {
            var b = this._$toggleContentItems.filter(".active"),
                c = this._$toggleContentItems.eq(a);
            b.length ? (b.stop(), b.fadeOut(400, this._fadeInContentItem.bind(this, c))) : this._fadeInContentItem(c)
        },
        _fadeInContentItem: function(a) {
            var b = this,
                c = !1;
            a.trigger("toggleLinks:toggleContentItem:fadeInStart"), a.stop().fadeIn({
                duration: 400,
                step: function(a) {
                    a && a > .5 && 1 > a && !c && (c = !0, b.$element.trigger("toggleLinks:contentChanging"))
                },
                complete: function() {
                    b._$toggleContentItems.removeClass("active"), a.addClass("active"), b.$element.trigger("toggleLinks:changeContent"), c || b.$element.trigger("toggleLinks:contentChanging")
                }
            })
        },
        _destroy: function() {}
    };
    jQuery.createComponent("ToggleLinks", c)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {},
        uiSelectors: {
            headerBlock: ".headerBlock",
            headerBlockHeading: ".headerBlock .heading",
            toggleLinks: ".ToggleLinks",
            contentCards: ".contentCards"
        },
        _positions: {
            componentBottom: null,
            componentTop: null,
            siteHeaderHeight: null,
            componentHeaderY: null
        },
        _siteHeaderCssChanged: !1,
        _$window: a(b),
        _$header: a("#header"),
        _scrollTopStored: 0,
        _siteHeaderVisible: "visible",
        _componentHeaderFixed: !1,
        _tweenComponentHeaderFadeTitle: null,
        _tweenComponentHeaderSlideUp: null,
        _tweenComponentHeaderSlideDown: null,
        _tweenSiteHeaderSlideUp: null,
        _tweenSiteHeaderSlideDown: null,
        _componentTopPadding: 40,
        _headerBlockBottomPadding: 30,
        _events: {
            resize: null,
            toggleLinksChangeContent: null,
            scroll: null
        },
        init: function() {
            this._events.resize = this._setPositions.bind(this), this._events.toggleLinksChangeContent = this._setPositions.bind(this), this._events.scroll = this._onScroll.bind(this), this._attachDetachEvents(!0), this._setPositions()
        },
        _attachDetachEvents: function(a) {
            a ? (this._$window.on("resize", this._events.resize), this.ui("toggleLinks").on("toggleLinks:changeContent", this._events.toggleLinksChangeContent),
                this.ui("contentCards").eq(0).waitForImages(this._setPositions.bind(this, !0))) : (this._$window.off("resize", this._events.resize), this.ui("toggleLinks").off("toggleLinks:changeContent", this._events.toggleLinksChangeContent))
        },
        _onScroll: function() {
            b.requestAnimationFrame(function() {
                var a = this._$window.scrollTop(),
                    b = (Math.abs(a - this._scrollTopStored), a > this._scrollTopStored ? "forwards" : "backwards");
                this._scrollTopStored = a, this._adjustSiteHeader(a, b), this._adjustComponentHeader(a)
            }.bind(this))
        },
        _setPositions: function() {
            var a = this.$element.offset().top,
                b = 0,
                c = this._getFixedPosition(),
                d = this._componentHeaderFixed,
                e = this._positions.siteHeaderHeight ? this._positions.siteHeaderHeight : site.utils.getStickyNavHeight(),
                f = null !== f ? f : 0;
            d ? b = this.ui("headerBlock").height() : (this._fixUnfixComponentHeader(!0, null, !1), b = this.ui("headerBlock").height(), this._fixUnfixComponentHeader(!1, null, !1)), this._positions = {
                componentBottom: a + this.$element.outerHeight(),
                componentTop: a,
                componentHeaderBlockHeight: this.ui("headerBlock").outerHeight() + this._componentTopPadding,
                componentHeaderBlockFixedHeight: b,
                componentHeaderY: f,
                fixPosition: c,
                siteHeaderHeight: e
            }
        },
        _getFixedPosition: function() {
            var a = this._componentHeaderFixed;
            a && this._fixUnfixComponentHeader(!1, null, !1);
            var b = this.ui("toggleLinks").offset().top + this.ui("toggleLinks").height();
            return a && this._fixUnfixComponentHeader(!0, null, !1), b
        },
        _adjustSiteHeader: function(a, b) {
            var c = this._positions.componentTop,
                d = this._positions.componentBottom,
                e = this._positions.siteHeaderHeight,
                f = a + e,
                g = f - c,
                h = f > c,
                i = a > d;
            site.utils.isBreakpointSmall() && (h = f > c + (this.ui("headerBlock").height() - this.ui("toggleLinks").height() + parseInt(this.ui("toggleLinks").css("margin-top"), 10)), g = f - c + (this.ui("headerBlock").height() - this.ui("toggleLinks").height()), i = a > d + 20), "forwards" === b && h && !i ? e > g ? (this._moveSiteHeader(-g), this._siteHeaderVisible = "partial") : (this._moveSiteHeader(-e), this._siteHeaderVisible = "hidden") : (this._moveSiteHeader(0), this._siteHeaderVisible = "visible")
        },
        _adjustComponentHeader: function(a) {
            var b, c = this._positions.siteHeaderHeight,
                d = this._positions.componentBottom,
                e = this._positions.fixPosition,
                f = this._positions.componentHeaderBlockFixedHeight,
                g = Math.abs(a - d),
                h = -(f - g),
                i = a > e,
                j = a > d;
            site.utils.isBreakpointSmall() && (i = a > e - this._componentTopPadding - this._headerBlockBottomPadding - c, b = a > e - this._componentTopPadding - this._headerBlockBottomPadding - c - parseInt(this.ui("headerBlock").css("margin-bottom"), 10), j = a > d - 20), i && !j ? f > g ? this._fixUnfixComponentHeader(!0, h, !1) : this._fixUnfixComponentHeader(!0, 0, !0) : b ? this._fixUnfixComponentHeader(!1, 0, !1) : this._fixUnfixComponentHeader(!1, 0, !0)
        },
        _moveSiteHeader: function(a) {
            if (!site.utils.mobileAccordionsActivated() || !site.utils.isBreakpointSmall()) {
                var b = this._positions.siteHeaderHeight,
                    c = "visible" === this._siteHeaderVisible && !a,
                    d = "hidden" === this._siteHeaderVisible && a === -b,
                    e = "visible" === this._siteHeaderVisible && a === -b,
                    f = "hidden" === this._siteHeaderVisible && 0 === a,
                    g = e ? "_tweenSiteHeaderSlideUp" : "_tweenSiteHeaderSlideDown";
                c || d || (e || f ? this._tweenY(g, this._$header, .4, null, a) : TweenLite.set(this._$header, {
                    css: {
                        y: a
                    }
                }))
            }
        },
        _fixUnfixComponentHeader: function(a, b, c) {
            var d = this._positions.componentHeaderY,
                e = this._positions.componentHeaderBlockHeight,
                f = this._positions.componentHeaderBlockFixedHeight,
                g = this._positions.siteHeaderHeight,
                h = b === g,
                i = a && !this._componentHeaderFixed && 0 === b,
                j = d === g && 0 === b,
                k = h || i,
                l = i ? -f : null;
            site.utils.mobileAccordionsActivated() && site.utils.isBreakpointSmall() || (a && !this._componentHeaderFixed ? (this.$element.css("padding-top", e + this._headerBlockBottomPadding).addClass("headerFixed"), c && this._fadeComponentTitle(), this._componentHeaderFixed = !0) : !a && this._componentHeaderFixed && (this.$element.css("padding-top", "").removeClass("headerFixed"), c && this._fadeComponentTitle(), this._componentHeaderFixed = !1), null !== b && this._moveComponentHeader(l, b, j, k))
        },
        _moveComponentHeader: function(a, b, c, d) {
            if (d) {
                var e = c ? "_tweenComponentHeaderSlideUp" : "_tweenComponentHeaderSlideDown";
                this._tweenY(e, this.ui("headerBlock"), .4, a, b)
            } else c ? TweenLite.set(this.ui("headerBlock"), {
                css: {
                    y: b
                }
            }) : this._tweenComponentHeaderSlideUp || this._tweenComponentHeaderSlideDown || TweenLite.set(this.ui("headerBlock"), {
                css: {
                    y: b
                }
            });
            this._positions.componentHeaderY = b
        },
        _fadeComponentTitle: function() {
            this._tweenComponentHeaderFadeTitle || (this._tweenComponentHeaderFadeTitle = TweenLite.fromTo(this.ui("headerBlockHeading"), .4, {
                css: {
                    opacity: 0
                }
            }, {
                css: {
                    opacity: 1
                },
                onComplete: this._killTween.bind(this, "_tweenComponentHeaderFadeTitle")
            }))
        },
        _killTween: function(a) {
            this[a].kill(), this[a] = null
        },
        _tweenY: function(a, b, c, d, e) {
            null !== d ? this[a] = TweenLite.fromTo(b, c, {
                css: {
                    y: d
                }
            }, {
                css: {
                    y: e
                },
                ease: Linear.easeNone,
                onComplete: this._killTween.bind(this, a)
            }) : this[a] = TweenLite.to(b, c, {
                css: {
                    y: e
                },
                ease: Linear.easeNone,
                onComplete: this._killTween.bind(this, a)
            })
        },
        _destroy: function() {
            this._attachDetachEvents(!1), TweenLite.killTweensOf(this._$header), TweenLite.killTweensOf(this.ui("headerBlock")), this.$element.css("padding-top", "").removeClass("headerFixed")
        }
    };
    jQuery.createComponent("ToggleLinksSticky", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        init: function() {
            var a = this.element.getAttribute("data-param-string"),
                b = c.createElement("script"),
                d = this.element.querySelector(".TripAdvisorWidget__widget"),
                e = this.element.querySelector(".TripAdvisorWidget__widget-container"),
                f = this.element.getAttribute("id").split("").filter(function(a) {
                    return /[0-9]/.test(a)
                }).join(""),
                g = this.paramStringToObj(a);
            g.uniq = f, d.setAttribute("id", d.getAttribute("id") + f), a = this.paramObjToString(g), b.src = "https://www.jscache.com/wejs?" + a, e.appendChild(b)
        },
        paramObjToString: function(a) {
            return Object.keys(a).map(function(b) {
                return b + "=" + a[b]
            }).join("&")
        },
        paramStringToObj: function(a) {
            var b = {};
            return a.split("&").forEach(function(a) {
                var c = a.split("=");
                b[c[0]] = c[1]
            }), b
        }
    };
    jQuery.createComponent("TripAdvisorWidget", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        init: function() {
            var a = this.$element.attr("data-api-key");
            b.widget = ["//valuations.netdirector.co.uk/", "valuation/source/", [a, !1, !1], {}];
            var d = c.createElement("script");
            d.type = "text/javascript", d.src = b.widget[0] + b.widget[1] + "widget.js", c.head.appendChild(d)
        }
    };
    jQuery.createComponent("UsedCarValuator", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {
            overlay: !0
        },
        _vehicleSelectorVisible: !1,
        _modelSelectorVisible: !1,
        _vehicleSelectorContentLoaded: null,
        _vehicleSelectorOverlayLoaded: !1,
        _$vehicleSelector: null,
        _$modelSelector: null,
        _$window: a(b),
        _tallestVehicle: 0,
        _tallestModel: 0,
        _windowWidth: 0,
        _ltie9: !1,
        _ltie10: !1,
        _touchEnabledDevice: "ontouchstart" in b || navigator.msMaxTouchPoints ? !0 : !1,
        _slideFromRight: !1,
        _stickyNavigationEnabled: null,
        _fadeOutOverlayDeferred: null,
        init_rtl: function() {
            this._slideFromRight = !0
        },
        init: function() {
            var c = this;
            this._windowWidth = a(b).width(), a("html").hasClass("lt-ie9") && (this._ltie9 = !0, a(b).on("closeNotificationBar", function() {
                c._onResize()
            })), a("html").hasClass("lt-ie10") && (this._ltie10 = !0), c._stickyNavigationEnabled = site.stickyNavigationEnabled && !this._ltie9, this.options.overlay === !0 ? (this.$element.on("click tap", function(a) {
                a.preventDefault(), c._onVehicleSelectorToggle()
            }), setTimeout(function() {
                c._loadVehicleSelectorHTML()
            }, 3e3)) : (this._vehicleSelectorContentLoaded = !0, this._vehicleSelectorVisible = !0, this._vehicleSelectorOverlayLoaded = !0, c._loadVehicleSelector(), c._onResize(!0)), a(b).smartresize(function() {
                c._onResize(!0)
            }), c._checkContentLinks()
        },
        _checkContentLinks: function() {
            var b = this;
            if (b._touchEnabledDevice && b._$window.width() <= site.breakpoints.small) {
                var c = a(".selectorContentLink", this._$vehicleSelector);
                a.each(c, function(b, c) {
                    var d = a(c),
                        e = d.html();
                    d.replaceWith(a('<a href="' + d.attr("data-href") + '" class="selectorContentLink TargetLinks" tabindex="-1" data-href="' + d.attr("data-href") + '" data-target="' + d.attr("data-target") + '">' + e + "</div>"))
                }), a(".TargetLinks", b.$element).TargetLinks("setupListener")
            }
        },
        _onResize: function(c) {
            var d = this,
                e = a(a(".headerWrapper").length ? ".headerWrapper" : ".dxnav-header");
            if (this._vehicleSelectorVisible === !0) {
                var f = e.offset().top - a(b).scrollTop() + e.outerHeight();
                this.options.overlay === !0 && (a("#vehicleSelectorOverlay").css({
                    top: f
                }), a(".VehicleSelector").css({
                    "padding-bottom": f
                }));
                var g = 0,
                    h = 0;
                a(".VehicleSelectorWrapper", this._$vehicleSelector).removeClass("longLinks"), jQuery.each(a(".vehicleSelectorButtons span", this._$vehicleSelector), function(b, c) {
                    h = a(c).outerHeight(), h > g && (g = h)
                }), g > 20 ? a(".VehicleSelectorWrapper", this._$vehicleSelector).addClass("longLinks") : a(".VehicleSelectorWrapper", this._$vehicleSelector).removeClass("longLinks"), this._recalculateVehicleHeights(), c === !0 && (setTimeout(function() {
                    d._onResize(!1)
                }, 50), setTimeout(function() {
                    d._onResize(!1)
                }, 100)), this._checkContentLinks()
            }
        },
        _loadVehicleSelectorHTML: function() {
            var b = this;
            null === this._vehicleSelectorContentLoaded && a.ajax({
                type: "GET",
                url: b.$element.attr("href"),
                dataType: "html"
            }).done(function(c) {
                b._vehicleSelectorContentLoaded = a(".VehicleSelector", c).html();
                var d = a(b._vehicleSelectorContentLoaded),
                    e = a("span[data-picture]", d),
                    f = [];
                a.each(e, function(c, d) {
                    var e = a(d),
                        g = a("> span", e),
                        h = null;
                    a.each(g, function(c, d) {
                        var e = a(d),
                            f = e.attr("data-media");
                        "undefined" != typeof f && (f = f.substring(12).slice(0, -3), b._windowWidth >= f && (h = e))
                    }), null !== h && f.push(h.attr("data-src"))
                }), b._preloadImages(f), b._loadVehicleSelector()
            })
        },
        _onVehicleSelectorToggle: function() {
            var c = this;
            if (c._fadeOutOverlayDeferred = a.Deferred(), this._vehicleSelectorVisible === !0) c._removeKeyboardNavigation(), a(".MainNavigation .primaryNav > ul").removeClass("activeOverlay"), this.$element.parent().removeClass("activeOverlay"), a(b).trigger("overlayClosed"), c._vehicleSelectorVisible = !1, this._modelSelectorVisible === !1 ? (c._fadeOutOverlayDeferred.done(function() {
                a("html").removeClass("withVehicleSelector").height("auto"), a(b).width() > site.breakpoints.medium && !c._stickyNavigationEnabled && site.utils.scrollTo(0)
            }), c._modelSelectorVisible = !1, c._fadeOutOverlay()) : (c._fadeOutOverlayDeferred.done(function() {
                a(b).width() > site.breakpoints.medium && !c._stickyNavigationEnabled ? site.utils.scrollTo(0, 800, function() {
                    a("html").height("auto")
                }) : a("html").height("auto"), a("html").removeClass("withVehicleSelector").height("auto"), c._$modelSelector.off("onClose"), c._$modelSelector.ModelSelector("destroy"), c._$modelSelector.html("")
            }), this._$modelSelector.transition({
                opacity: "0"
            }, 400, "ease", function() {
                c._fadeOutOverlay()
            }));
            else {
                a("html").height("auto"), null === c._vehicleSelectorContentLoaded && a.ajax({
                    type: "GET",
                    url: c.$element.attr("href"),
                    dataType: "html"
                }).done(function(b) {
                    c._vehicleSelectorContentLoaded = a(".VehicleSelector", b).html(), c._loadVehicleSelector()
                });
                var d = a(b).scrollTop();
                0 !== d && a(b).width() > site.breakpoints.medium && !c._stickyNavigationEnabled ? a("body, html").stop().animate({
                    scrollTop: 0
                }, 800, "easeOutSine", function() {
                    c._createOverlay()
                }) : c._createOverlay()
            }
        },
        _createOverlay: function() {
            var c = this,
                d = a(".headerWrapper").offset().top + a(".headerWrapper").outerHeight();
            a("html").addClass("withVehicleSelector"), a(b).trigger("resize"), c._vehicleSelectorVisible = !0, a(".MainNavigation .primaryNav > ul").addClass("activeOverlay"), c.$element.parent().addClass("activeOverlay"), a(b).trigger("overlayOpened"), c._ltie10 === !0 && a("html").height(3e3), a("body").append('<div id="vehicleSelectorOverlay" class="overlay" style="display:none; top:' + d + 'px; z-index:9"></div>'), c.options.overlay === !0 && c._fadeInOverlay(), null !== c._vehicleSelectorContentLoaded && c._loadVehicleSelector()
        },
        _fadeInOverlay: function() {
            var b = this;
            a("html").addClass("noScroll"), this._ltie9 === !0 ? a("#vehicleSelectorOverlay").fadeIn(200, function() {
                b._vehicleSelectorOverlayLoaded = !0, b._loadVehicleSelector()
            }) : a("#vehicleSelectorOverlay").css({
                opacity: "0"
            }).show().transition({
                opacity: "1"
            }, 200, "ease", function() {
                b._vehicleSelectorOverlayLoaded = !0, b._loadVehicleSelector()
            })
        },
        _fadeOutOverlay: function() {
            var b = this;
            a("html").removeClass("noScroll"), this._ltie9 === !0 ? a("#vehicleSelectorOverlay").fadeOut(400, function() {
                b._fadeOutOverlayComplete()
            }) : a("#vehicleSelectorOverlay").transition({
                opacity: "0"
            }, 400, "ease", function() {
                b._fadeOutOverlayComplete()
            })
        },
        _fadeOutOverlayComplete: function() {
            var c = this;
            c._unbindEvents(), a("#vehicleSelectorOverlay").remove(), c._vehicleSelectorVisible = !1, c._modelSelectorVisible = !1, c._fadeOutOverlayDeferred.resolve(), a(b).trigger("resize")
        },
        _loadVehicleSelector: function() {
            var c = this;
            if (this._vehicleSelectorOverlayLoaded === !0 && null !== this._vehicleSelectorContentLoaded) {
                if (this._vehicleSelectorOverlayLoaded = !1, this.options.overlay === !0) {
                    var d = a("html").hasClass("lightTheme") ? "light" : "dark";
                    a("#vehicleSelectorOverlay").html('<div class="VehicleSelector ' + d + '">' + this._vehicleSelectorContentLoaded + "</div>"), b.richsponsiveImage(), a(".headingLinear", a("#vehicleSelectorOverlay")).Headings()
                }
                this._$vehicleSelector = a(".VehicleSelector"), this._$vehicleSelector.waitForImages(function() {
                    a(b).trigger("resize"), c._onResize()
                });
                var e = a(".BazaarVoiceRating", c._$vehicleSelector);
                e.length > 0 && (c._$vehicleSelector.addClass("hasRatings"), e.BazaarVoiceRating()), a(".selectorContentLink", this._$vehicleSelector).on("click tap", function(a) {
                    c._touchEnabledDevice || a.preventDefault()
                }), this.options.overlay === !0 && (this._launchVehicleSelector(), c._addKeyboardNavigation())
            }
        },
        _recalculateVehicleHeights: function() {
            var b = 0,
                c = 0;
            a(".vehicleWrapper", this._$vehicleSelector).css("height", "auto"), jQuery.each(a(".vehicleWrapper", this._$vehicleSelector), function(d, e) {
                c = a(e).height(), c > b && (b = c)
            }), this._tallestVehicle = b, a(".vehicleWrapper", this._$vehicleSelector).height(b), this.options.overlay === !0 && 0 !== a(".VehicleSelector").length && a("html").height(a("#header").outerHeight() + a(".VehicleSelector").outerHeight())
        },
        _detectTapOnOverlay: function(b) {
            var c = b.data.that;
            (b.target === a("#vehicleSelectorOverlay")[0] || b.target === a(".VehicleSelectorWrapper", c._$vehicleSelector)[0]) && c._onVehicleSelectorToggle()
        },
        _launchVehicleSelector: function() {
            a(c).on("click tap", {
                that: this
            }, this._detectTapOnOverlay), a("#vehicleSelectorOverlay").on("click tap", function(a) {});
            var e = a(".VehicleSelectorWrapper .el", this._$vehicleSelector),
                f = e.length,
                g = 0,
                h = null;
            a(b).trigger("resize"), a(".VehicleSelectorWrapper", this._$vehicleSelector).addClass("showVehicles"), a.support.transition = function() {
                var a = c.body || c.documentElement,
                    b = a.style,
                    e = b.transition !== d || b.WebkitTransition !== d || b.MozTransition !== d || b.MsTransition !== d || b.OTransition !== d;
                return e
            }(), jQuery.support.transition || (this._ltie9 === !0 ? (e.css({
                opacity: "0",
                visibility: "visible"
            }), h = setInterval(function() {
                e.eq(g).animate({
                    opacity: 1
                }, 400), g++, g >= f && clearInterval(h)
            }, 200)) : (e.css({
                opacity: "0",
                visibility: "visible"
            }).show(), h = setInterval(function() {
                e.eq(g).transition({
                    opacity: "1"
                }, 400, "ease"), g++, g >= f && clearInterval(h)
            }, 200))), this._setupModelSelector(), a(".TargetLinks", this._$element).TargetLinks("setupListener")
        },
        _setupModelSelector: function() {
            var b = this;
            a(".selectorSlider", ".VehicleSelector:not(.inPageVehicleSelector)").append('<div class="ModelSelector dark fontSmooth clearfix"></div>'), a(".chooseModel", ".VehicleSelector:not(.inPageVehicleSelector)").on("click tap", function(c) {
                c.preventDefault(), b._openModelSelector(a(this).attr("href"))
            })
        },
        _openModelSelector: function(c) {
            var d = this;
            d._$modelSelector = a(".ModelSelector", this._$vehicleSelector), d._$modelSelector.ModelSelector({
                url: c
            }), d._$modelSelector.on("onClose", function() {
                d._closeModelSelector()
            }), d._$modelSelector.on("readyToOpen", function() {
                setTimeout(function() {
                    d._$modelSelector.off("readyToOpen"), d._modelSelectorVisible = !0;
                    var c = a(b);
                    d._windowWidth = c.width();
                    var e = a("#vehicleSelectorOverlay").scrollTop(),
                        f = "";
                    a("html").hasClass("lt-ie10") ? (f = "-100%", d._slideFromRight === !0 && (f = "100%"), a(".selectorSlider", d._$vehicleSelector).animate({
                        left: f
                    }, 700, function() {
                        a(".VehicleSelectorWrapper", this._$vehicleSelector).addClass("hideVehicles")
                    })) : (f = "-50%", d._slideFromRight === !0 && (f = "50%"), a(".VehicleSelector:not(.inPageVehicleSelector) .selectorSlider", this._$vehicleSelector).transition({
                        x: f
                    }, 700, "ease", function() {
                        a(".VehicleSelector:not(.inPageVehicleSelector) .VehicleSelectorWrapper", this._$vehicleSelector).addClass("hideVehicles")
                    })), d._windowWidth > site.breakpoints.medium && 0 !== e && a("#vehicleSelectorOverlay").stop().animate({
                        scrollTop: 0
                    }, 0)
                }, 100)
            })
        },
        _closeModelSelector: function() {
            var c = this;
            a(".VehicleSelectorWrapper", this._$vehicleSelector).removeClass("hideVehicles");
            var d = a(b);
            c._windowWidth = d.width();
            var e = a("#vehicleSelectorOverlay").scrollTop();
            d.trigger("resize"), setTimeout(function() {
                a("html").hasClass("lt-ie10") ? a(".selectorSlider", this._$vehicleSelector).animate({
                    left: "0%"
                }, 700, function() {
                    c._modelSelectorVisible = !1, c._$modelSelector.off("onClose"), c._$modelSelector.ModelSelector("destroy"), c._$modelSelector.html(""), d.trigger("resize")
                }) : a(".selectorSlider", this._$vehicleSelector).transition({
                    x: 0
                }, 700, "ease", function() {
                    c._modelSelectorVisible = !1, c._$modelSelector.off("onClose"), c._$modelSelector.ModelSelector("destroy"), c._$modelSelector.html(""), d.trigger("resize")
                }), c._windowWidth > site.breakpoints.medium && 0 !== e && a("#vehicleSelectorOverlay").stop().animate({
                    scrollTop: 0
                }, 0)
            }, 100)
        },
        _preloadImages: function(b) {
            a(b).each(function() {
                a("<img/>")[0].src = this
            })
        },
        _unbindEvents: function() {
            a(c).off("click tap", this._detectTapOnOverlay), null !== this._$modelSelector && (this._$modelSelector.off("onClose"), this._$modelSelector.off("readyToOpen"), a("#vehicleSelectorOverlay").off("click tap"))
        },
        _addKeyboardNavigation: function() {
            var b = this,
                c = b.$element,
                d = a("#vehicleSelectorOverlay .selectorButton"),
                e = a("#vehicleSelectorOverlay .selectorButton:first");
            c.keydown(function(a) {
                return 40 === a.keyCode ? (e.focus(), !1) : void 0
            }), d.keydown(function(b) {
                var d = a(this);
                if (40 === b.keyCode || 39 === b.keyCode) {
                    var f = d.next(".selectorButton");
                    return f.length > 0 ? f.focus() : d.parents(".el").next(".el").find(".selectorButton:first").focus(), !1
                }
                if (38 === b.keyCode || 37 === b.keyCode) {
                    if (!d.is(e)) {
                        var g = d.prev(".selectorButton");
                        return g.length > 0 ? g.focus() : d.parents(".el").prev(".el").find(".selectorButton:last").focus(), !1
                    }
                    c.focus()
                } else if (9 === b.keyCode) return !1
            })
        },
        _removeKeyboardNavigation: function() {
            var b = this,
                c = b.$element,
                d = a("#vehicleSelectorOverlay .selectorButton");
            c.off("keydown"), d.off("keydown")
        }
    };
    jQuery.createComponent("VehicleSelector", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _brand: null,
        init: function() {
            this._setupAjax(), this._setupAccordions(), this._setupOpenAll(), a(".DropdownNav", this.$element).css({
                position: "absolute"
            }), a(".DropdownNav > span", this.$element).css({
                display: "table"
            }), this._countDropdowns(), a(b).resize(function() {
                this._resizeOpen()
            }.bind(this))
        },
        _initDropdowns: function() {
            a(".DropdownNav", this.$element).css({
                position: "absolute"
            }), a(".DropdownNav > span", this.$element).css({
                display: "table"
            }), this._countDropdowns(), this.$element.find(".DropdownNav").DropdownNav()
        },
        _countDropdowns: function() {
            a(".yourModel", this.$element).attr("data-count", a(".contentWrapper > div", this.$element).length)
        },
        _setupOpenAll: function() {
            this.$element.on("click", ".openAll", function(a) {
                a.preventDefault(), this._countOpen() ? this._closeAll() : this._openAll()
            }.bind(this))
        },
        _countOpen: function() {
            var b = this.$element.find(".specDetails > ul > li > a"),
                c = this.$element.find(".specDetails > ul > li > a.open");
            return b.length === c.length ? (a(".openAll", this.$element).find(".close").show(), a(".openAll", this.$element).find(".open").hide(), !0) : (a(".openAll", this.$element).find(".open").show(), a(".openAll", this.$element).find(".close").hide(), !1)
        },
        _openAll: function() {
            a(".specDetails > ul > li", this.$element).each(function(b, c) {
                a(c).addClass("active");
                var d = a(c).find("> a"),
                    e = a(c).find("> div");
                d.addClass("open").removeClass("closed"), this._openAccordion(e, d), this._countOpen()
            }.bind(this))
        },
        _closeAll: function() {
            a(".specDetails > ul > li", this.$element).each(function(b, c) {
                a(c).removeClass("active");
                var d = a(c).find("> a"),
                    e = a(c).find("> div");
                d.removeClass("open").addClass("closed"), this._closeAccordion(e, d), this._countOpen()
            }.bind(this))
        },
        _resizeOpen: function() {
            a(".specDetails > ul > li.active", this.$element).each(function(b, c) {
                var d = a(c).find("> a"),
                    e = a(c).find("> div");
                this._openAccordion(e, d)
            }.bind(this))
        },
        _setupAccordions: function() {
            this.$element.on("click", ".specDetails > ul > li > a", function(c) {
                c.preventDefault();
                var d = a(c.currentTarget),
                    e = d.next();
                d.hasClass("open") ? (d.parent().removeClass("active"), d.removeClass("open").addClass("closed"), this._closeAccordion(e, d)) : (d.parent().addClass("active"), d.removeClass("closed").addClass("open"), this._openAccordion(e, d), b.innerWidth < 720 && site.utils.scrollTo(d)), this._countOpen()
            }.bind(this))
        },
        _setupAjax: function() {
            this.$element.on("click", ".DropdownNav a", function(a) {
                this.$element.find(".dataTableContainer").addClass("loading"), setTimeout(function() {
                    this._doAjax(a.currentTarget)
                }.bind(this), 500)
            }.bind(this))
        },
        _doAjax: function(b) {
            var c = b.href + "&v=2";
            console.log(c), a.ajax({
                url: c,
                success: function(b) {
                    var c = a(b).find(".modelBodyStyleWrapper"),
                        d = a(b).find(".dataTableContainer");
                    this.$element.find(".modelBodyStyleWrapper").empty().append(c.html()), this.$element.find(".dataTableContainer").empty().append(d.html()).removeClass("loading"), this._initDropdowns()
                }.bind(this),
                error: function(a) {
                    console.log(a)
                }
            })
        },
        _closeAccordion: function(b, c) {
            var e = a(b),
                f = e.data("timeout"),
                g = void 0;
            e.height(0), f !== d && clearTimeout(f), g = setTimeout(function() {
                return e.hide()
            }, 500), e.data("timeout", g), this._setA11yTitlesVisability(c, !0)
        },
        _openAccordion: function(b, c) {
            var d = a(b),
                e = 0;
            d.show(), this._setA11yTitlesVisability(c, !1), d.find("> div").each(function(b, c) {
                e += a(c).outerHeight()
            }), d.height(e)
        },
        _setA11yTitlesVisability: function(b, c) {
            var d = a(b),
                e = d.find(".a11y_open"),
                f = d.find(".a11y_close");
            c === !0 ? (e.show(), f.hide()) : (e.hide(), f.show())
        }
    };
    jQuery.createComponent("VehicleSpecificationsV2", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _player: null,
        _listen: null,
        _isAutoplay: "manual",
        _post: {},
        _debugFlag: !1,
        init: function() {
            var a = this;
            a.$element.data("autoplay") === !1 && a.$element.find("video").length < 1 ? a._onStart() : (a._setPlayer(), a._onReady()), this._debugFlag = site.utils.getUrlParameter("debug-ga")
        },
        _setProperties: function() {
            if ("autoplay" !== this._isAutoplay) {
                var a = this,
                    b = a._listen;
                (a.$element.data("autoplay") === !0 || "autoplay" === a._player.getAttribute("autoplay")) && (a._isAutoplay = "autoplay"), a._post = {
                    event: "video/VideoPlayer/" + a._isAutoplay,
                    eventLabel: b.currentSrc,
                    eventAction: 0
                }
            }
        },
        _updateProperty: function(a, b) {
            if ("autoplay" !== this._isAutoplay) {
                var c = this;
                c._post[a] = b, c._postTags()
            }
        },
        _onEvent: function() {
            var a = this,
                b = a._listen;
            b.onpause = function() {
                b.currentTime !== b.duration && a._updateProperty("eventAction", "pause")
            }, b.onplay = function() {
                a._updateProperty("eventAction", "play")
            }
        },
        _onReady: function() {
            var a = this,
                b = a._listen;
            a._setProperties(), a._onEvent(), b.duration > 0 ? a._onPlaythrough() : b.onloadeddata = function() {
                a._onPlaythrough()
            }
        },
        _onStart: function() {
            var a = this;
            a.$element.find(".mejs-play, .mediaOverlayIcon").on("click", function(b) {
                a._videoInit()
            })
        },
        _videoInit: function() {
            var a = this;
            setTimeout(function() {
                a.$element.find("video").length > 0 ? (a._setPlayer(), a._onReady(), a._updateProperty("eventAction", "play")) : a._videoInit()
            }, 1e3)
        },
        _setPlayer: function() {
            var a = this;
            a._player = a.$element.find("video")[0], a._listen = a._player.player.node
        },
        _onPlaythrough: function() {
            var b = this,
                c = b._listen,
                d = Math.floor(c.duration),
                e = [25, 50, 75, 100],
                f = [],
                g = [];
            for (var h in e) {
                var i = e[h];
                f[i] = Math.floor(d / 100 * i)
            }
            c.ontimeupdate = function() {
                var d = Math.round(c.currentTime),
                    e = a.inArray(d, f); - 1 !== e && -1 === a.inArray(e, g) && (b._updateProperty("eventAction", e + "%"), g.push(e)), c.duration === c.currentTime && (g = [])
            }, c.onseeked = function() {
                g = [];
                var a = Math.round(c.currentTime),
                    d = 0;
                for (var h in e) {
                    var i = e[h];
                    if (f[i] > a) break;
                    d = i
                }
                d > 0 && (g.push(d), b._updateProperty("eventAction", d + "%"))
            }
        },
        _postTags: function() {
            var b = this;
            this._debugFlag && console.log(a.extend({}, this._post)), dataLayer.push(b._post)
        }
    };
    jQuery.createComponent("VideoAnalytics", e)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        _defaults: {},
        _videoID: null,
        init: function() {
            var a = [location.protocol, "//", location.host, location.pathname].join("");
            this._videoID = this.$element.data("video").toString();
            var b = this._getVideoIDFromURL();
            if (b && b.toString() === this._videoID) {
                if (null !== site.utils.cookieManager.checkForCookie("JDX_VideoLauncher")) {
                    var c = site.utils.cookieManager.readCookie("JDX_VideoLauncher");
                    if (null !== c) {
                        var d = c.split(",");
                        if (d[0].toString() === this._videoID && a === d[1]) return
                    }
                }
                site.utils.cookieManager.createCookie("JDX_VideoLauncher", this._videoID + "," + a), null !== site.utils.cookieManager.checkForCookie("VideoLauncher") && this._launchVideo()
            }
        },
        _getVideoIDFromURL: function() {
            for (var a = b.location.search.substring(1), c = a.split("&"), d = 0; d < c.length; d++) {
                var e = c[d].split("=");
                if ("video" === e[0]) return e[1]
            }
            return null
        },
        _launchVideo: function() {
            a(b).width() >= site.breakpoints.medium ? b.location.href = this.$element.attr("href") : site.utils.isIOS() ? b.location.href = this.$element.attr("href") : b.open(this.$element.attr("href"), "_blank")
        }
    };
    jQuery.createComponent("VideoLauncher", e)
}(jQuery, window, document),
function(a, b, c) {
    var d = {
        _defaults: {
            autoplay: !1,
            muted: !1,
            loop: !1,
            isBackgroundVideo: !1,
            controls: ["playpause", "progress", "current", "duration", "tracks", "volume", "fullscreen"],
            clickToPlayPause: !0,
            pauseOtherPlayers: !1,
            customPauseOtherPlayers: !0,
            disableTracking: !1,
            aspectRatio: 16 / 9,
            onReady: function() {},
            onCanPlay: function() {},
            ignorePauseEvent: !1,
            iPhoneUseNativeControls: !0,
            iPadUseNativeControls: !0,
            AndroidUseNativeControls: !0
        },
        mep: null,
        _$video: null,
        _$controls: null,
        _videoLoaded: !1,
        _playWhenLoaded: !1,
        _rewindWhenLoaded: !1,
        _media: null,
        _error: !1,
        _videoType: null,
        _startLanguage: "zz",
        _captions: !1,
        _firstTimePlay: !1,
        _delayedResize: null,
        _videoId: null,
        _isFullScreen: !1,
        _direction: "ltr",
        _videoInitiated: !1,
        _onLoadStartBound: null,
        _onLoadedDataBound: null,
        _onCanPlayBound: null,
        _onPlayBound: null,
        _onPauseBound: null,
        _onEndedBound: null,
        _overlayTabindex: null,
        init_rtl: function() {
            this._direction = "rtl"
        },
        init: function() {
            var b = this;
            if (b._bindMethods(), this._getAccessibilityLabels(), b._videoId = "VideoPlayer_" + Math.floor(99999 * Math.random()), b._$video = a("video", this.$element), 0 !== b._$video.length) b._setupVideo();
            else {
                b.$element.data("autoplay") === !0 && b.initVideo();
                var c = this.$element.find(".posterImage"),
                    d = site.utils.aria.KeyCode.SPACE;
                c.on("keydown", function(a) {
                    a.keyCode === d && (a.preventDefault(), c.click())
                }), c.on("ResponsiveLinkClicked", function() {
                    b.initVideo()
                })
            }
            var e = this.$element.find(".playerWrapper .ResponsiveLink");
            e.length ? (e.addClass("mediaOverlay__wrapper"), e.attr("role", "button"), e.attr("aria-label", e.attr("aria-label") || this.labels.play)) : this.$element.find(".mediaOverlayVideo").attr("aria-label", this.labels.play), b.$element.VideoAnalytics()
        },
        _getAccessibilityLabels: function() {
            var b = a(".a11yResourceLabels");
            this.labels = {
                play: b.attr("data-a11y-video-play") || "",
                pause: b.attr("data-a11y-video-pause") || "",
                progress: b.attr("data-a11y-video-progress") || "",
                enter: b.attr("data-a11y-video-fullscreen-enter") || "",
                exit: b.attr("data-a11y-video-fullscreen-exit") || "",
                mute: b.attr("data-a11y-video-audio-disable") || "",
                unmute: b.attr("data-a11y-video-audio-enable") || ""
            }
        },
        _setAccessibilityLabels: function() {
            var a = this,
                b = function() {
                    return a.$element.find(".mejs-volume-button").hasClass("mejs-mute") ? a.labels.unmute : a.labels.mute
                };
            this.$element.find(".mejs-fullscreen-button button").attr("aria-label", this.labels.enter), this.$element.find(".mejs-volume-button button").attr("aria-label", b())
        },
        _bindMethods: function() {
            this._onLoadStartBound = this._onLoadStart.bind(this), this._onLoadedDataBound = this._onLoadedData.bind(this), this._onCanPlayBound = this._onCanPlay.bind(this), this._onPlayBound = this._onPlay.bind(this), this._onPauseBound = this._onPause.bind(this), this._onEndedBound = this._onEnded.bind(this)
        },
        initVideo: function() {
            this._createVideoTag(), this._setupVideo()
        },
        _videoExists: function() {
            return 0 === this._$video.length ? !1 : !0
        },
        _createVideoTag: function() {
            var b = a("videoplaceholder", this.$element),
                c = b.clone(),
                d = c[0].outerHTML;
            d = d.replace(new RegExp("placeholder", "g"), ""), d = d.replace(new RegExp("data-data", "g"), "data"), d = d.replace(new RegExp("data-type", "g"), "type"), d = d.replace(new RegExp("<:", "g"), "<"), d = d.replace(new RegExp("</:", "g"), "</"), a(".playerWrapper", this.$element).append(d), a(".posterImage", this.$element).hide(), this._$video = a("video", this.$element)
        },
        _setupVideo: function() {
            var c = this;
            0 === this.options.controls.length && c._$video.removeAttr("controls"), this.options.autoplay === !0 && this._$video.attr("autoplay", "true");
            var d = a("track", this._$video);
            d.length > 0 && d.each(function(b, d) {
                "undefined" != typeof a(d).attr("src") ? "undefined" != typeof a(d).data("autoplay") && a(d).data("autoplay") === !0 && (c._startLanguage = a(d).attr("srclang")) : a(d).remove()
            });
            var e = "100%",
                f = "100%";
            this.$element.parents(".HeroCarousel, .HeroSlide, .StoryExtract, .FullFrameCarousel").length && c._detectHTML5Video() === !0 && (e = 640, f = 360);
            var g = this.$element.parents(".RangeCalculatorTooltip");
            g.length && c._detectHTML5Video() === !0 && (f = g.height()), c._selectCorrectVideo(), c.mep = new MediaElementPlayer(c._$video, {
                videoWidth: e,
                videoHeight: f,
                enableAutosize: !0,
                plugins: ["flash"],
                pluginPath: "/resources/public/flash/mediaelement/",
                flashName: "flashmediaelement.swf",
                enableKeyboard: !1,
                pauseOtherPlayers: c.options.pauseOtherPlayers,
                clickToPlayPause: c.options.clickToPlayPause,
                keyActions: [],
                autoRewind: c.options.loop,
                alwaysShowControls: !1,
                iPadUseNativeControls: c.options.iPadUseNativeControls,
                iPhoneUseNativeControls: c.options.iPhoneUseNativeControls,
                AndroidUseNativeControls: c.options.AndroidUseNativeControls,
                features: c.options.controls,
                autosizeProgress: !0,
                startVolume: .8,
                startLanguage: c._startLanguage,
                toggleCaptionsButtonWhenOnlyOne: !0,
                success: function(d, e, f) {
                    var g = d;
                    if (c._addMediaOverlay(), c._media = g, site.utils.isIOS() && (g.player = f), g.addEventListener("loadstart", c._onLoadStartBound), g.addEventListener("loadeddata", c._onLoadedDataBound), g.addEventListener("canplay", c._onCanPlayBound), g.addEventListener("play", c._onPlayBound), g.addEventListener("pause", c._onPauseBound), g.addEventListener("ended", c._onEndedBound), c.$element.addClass("paused"), c._adjustControlsState(), c.options.muted === !0 && c.mute(!0), c.options.autoplay === !1) {
                        var h = site.utils.aria.KeyCode,
                            i = h.SPACE,
                            j = h.RETURN;
                        a(".mejs-poster", c.$element).on("keydown", function(a) {
                            (a.keyCode === i || a.keyCode === j) && (a.preventDefault(), c.play())
                        }), a(".mejs-poster", c.$element).on("click tap", function(a) {
                            a.preventDefault(), c.play()
                        })
                    }
                    c.options.onReady(g), setTimeout(function() {
                        a(b).trigger("HeroCarouselForceResize"), a(b).trigger("resize")
                    }, 200), c._addKeyboardNavigation(), c._videoInitiated = !0
                },
                error: function() {
                    a(".me-cannotplay", c.$element).html(a(".fallbackImage", c.$element));
                    var d = a("[data-picture-ignore]", this.$element);
                    site.utils.loadIgnoredResponsiveImages(d), c._error = !0, a(b).trigger("HeroCarouselForceResize"), a(b).trigger("resize")
                }
            }), c._setFullScreenInGallery(), a(b).on("VideoPlayerPause", function(a, b) {
                null === b.videoid || c.options.ignorePauseEvent || b.videoid !== c._videoId && c.pause()
            }), a(b).trigger("HeroCarouselForceResize"), a(b).trigger("resize"), this._setAccessibilityLabels()
        },
        _adjustControlsState: function() {
            var b = this;
            b._$controls = a(".mejs-controls", b.$element).mouseenter(function() {
                b.mep.options.alwaysShowControls = !0
            }).mouseleave(function() {
                b.mep.options.alwaysShowControls = !1
            })
        },
        _selectCorrectVideo: function() {
            var c = a("source", this.$element),
                d = a(b).width(),
                e = null;
            a.each(c, function(b, c) {
                e = a(c);
                var f = "";
                f = d > 1280 ? e.data("1080") : d > 854 ? e.data("720") : d > 640 ? e.data("480") : e.data("360"), e.attr("src", f)
            })
        },
        _onLoadStart: function() {
            a(b).trigger("HeroCarouselForceResize"), a(b).trigger("resize"), setTimeout(function() {
                a(b).trigger("HeroCarouselForceResize"), a(b).trigger("resize")
            }, 300), setTimeout(function() {
                a(b).trigger("HeroCarouselForceResize"), a(b).trigger("resize")
            }, 500), setTimeout(function() {
                a(b).trigger("HeroCarouselForceResize"), a(b).trigger("resize")
            }, 1e3);
            var c = this.$element.find("video"),
                d = site.utils.aria.KeyCode,
                e = d.SPACE,
                f = d.RETURN;
            c.on("keydown", function(a) {
                (a.keyCode === e || a.keyCode === f) && c.click()
            })
        },
        _onLoadedData: function() {
            var a = this;
            a._videoLoaded = !0, a._$video.css({
                visibility: "visible"
            })
        },
        _onCanPlay: function() {
            this._detectHTML5Video() && (a(b).trigger("HeroCarouselForceResize"),
                a(b).trigger("resize"), "rtl" === this._direction && a(".mejs-captions-layer", this.$element).attr("dir", "rtl"), this.options.autoplay === !0 ? this._rewindWhenLoaded === !0 ? this.rewind() : this._playWhenLoaded === !0 && this.play() : (this._rewindWhenLoaded === !0 && this.rewind(), this._rewindWhenLoaded !== !0 && this._playWhenLoaded === !0 && this.play())), this._$video.css({
                visibility: "visible"
            }), this.options.onCanPlay(this._media)
        },
        _onPlay: function() {
            this.options.customPauseOtherPlayers && a(b).trigger("VideoPlayerPause", {
                videoid: this._videoId
            }), a(b).trigger("HeroCarouselForceResize"), a(b).trigger("resize"), this.$element.trigger("onPlay"), this.$element.removeClass("paused"), this.$element.removeClass("finished"), this._firstTimePlay === !1 && (this._firstTimePlay = !0, this.options.disableTracking === !1 && site.tracking.video_play(this.$element.data("title")));
            var c = this.$element.find("video"),
                d = this.$element.find(".mejs-playpause-button button");
            d.attr("aria-label", this.labels.pause), c.attr("aria-label", this.labels.pause), c.attr("tabindex", 0), c.removeAttr("aria-hidden"), this.options.isBackgroundVideo || setTimeout(function() {
                return c.focus()
            }, 50)
        },
        _onPause: function() {
            this.$element.trigger("onPause"), this.$element.addClass("paused"), this._returnOverlayFocusOnPlay()
        },
        _returnOverlayFocusOnPlay: function() {
            var a = this.$element.find("video"),
                b = this.$element.find(".mejs-playpause-button button");
            b.attr("aria-label", this.labels.play), a.attr("aria-label", this.labels.play);
            var c = this.$element.find(".mediaOverlayVideo"),
                d = c.attr("data-swiper-tabindex") || 0;
            setTimeout(function() {
                c.is(":visible") && (a.attr("tabindex", -1), a.attr("aria-hidden", "true"), c.attr("tabindex", d), c.focus())
            }, 50)
        },
        _onEnded: function() {
            return this.$element.trigger("videoEnded"), this.options.disableTracking === !1 && site.tracking.video_ended(this.$element.data("title")), this.options.loop !== !1 ? void this.play() : (this.$element.addClass("finished"), void(this._$video[0].player.isFullScreen === !0 && this._$video[0].player.exitFullScreen()))
        },
        isInitiated: function() {
            return this._videoInitiated
        },
        mute: function(a) {
            this._error === !1 && this._$video[0].player.setMuted(a)
        },
        play: function() {
            if (this._videoExists() === !0 && this._error === !1) {
                if (this._videoLoaded === !1) return void(this._playWhenLoaded = !0);
                this._playWhenLoaded = !1, this._$video[0].player.play()
            }
        },
        pause: function(a) {
            if (this._videoExists() === !0) {
                var b = a ? a.data.that : this;
                b._error === !1 && (b._playWhenLoaded = !1, b._$video[0].player.pause())
            }
        },
        rewind: function() {
            if (this._videoExists() === !0 && this._error === !1) {
                if (this._videoLoaded === !1) return void(this._rewindWhenLoaded = !0);
                this._rewindWhenLoaded = !1, a("html").hasClass("lt-ie10") ? this._$video[0].player.media.paused ? (this._$video[0].player.play(), this.setCurrentTime(0), this._$video[0].player.pause()) : (this._$video[0].player.play(), this.setCurrentTime(0)) : this.setCurrentTime(0)
            }
        },
        setCurrentTime: function(a) {
            this._videoExists() === !0 && this._error === !1 && this._$video[0].player.setCurrentTime(a)
        },
        canBeResumed: function() {
            return this._videoExists() === !0 ? null === this._media ? !1 : this._media.paused === !0 && this._videoLoaded === !0 : !1
        },
        setVolume: function(a) {
            if (this._videoExists() === !0) {
                var b = a / 100;
                this._$video[0].player.setVolume(b)
            }
        },
        getVolume: function() {
            if (this._videoExists() === !0) {
                var a = this._$video[0].player.getVolume();
                return 100 * a
            }
            return 0
        },
        _addMediaOverlay: function() {
            var b = this;
            b._removeMediaOverlay();
            var c = a('<div class="mediaOverlay mediaOverlayVideo"><div class="mediaOverlayBg"></div><div class="mediaOverlayIcon"></div></div>');
            a(".mejs-overlay-play", b.$element).append(c)
        },
        _removeMediaOverlay: function() {
            var b = this;
            a(".mediaOverlay", b.$element).remove()
        },
        _destroy: function() {
            var b = this;
            b._media && (b._media.removeEventListener("loadstart", this._onLoadStartBound), b._media.removeEventListener("loadeddata", this._onLoadedDataBound), b._media.removeEventListener("canplay", this._onCanPlayBound), b._media.removeEventListener("play", this._onPlayBound), b._media.removeEventListener("pause", this._onPauseBound), b._media.removeEventListener("ended", this._onEndedBound)), a(".mejs-poster", b.$element).off("click tap")
        },
        _detectHTML5Video: function() {
            var a = this,
                b = c.createElement("video");
            return b.canPlayType && b.canPlayType('video/webm; codecs="vp8, vorbis"') ? (a._videoType = "webm", !0) : b.canPlayType && b.canPlayType("video/mp4").replace(/no/, "") ? (a._videoType = "mp4", !0) : (a._videoType = "flash", a.$element.addClass("flash"), !1)
        },
        _addKeyboardNavigation: function() {
            var b = this,
                c = this,
                d = a(".mejs-container", c.$element),
                e = a(".mediaOverlay", c.$element),
                f = a(".mejs-controls", d),
                g = a(".mejs-playpause-button button", f),
                h = a(".mejs-time-rail", f),
                i = a(".mejs-captions-button button", f),
                j = a(".mejs-volume-button button", f),
                k = a(".mejs-volume-button .mejs-volume-slider", f),
                l = a(".mejs-fullscreen-button button", f),
                m = c._$video[0].player,
                n = site.utils.aria.KeyCode,
                o = n.LEFT,
                p = n.RIGHT,
                q = n.UP,
                r = n.DOWN,
                s = n.SPACE,
                t = n.RETURN;
            e.attr("tabindex", "0"), h.attr("tabindex", "0"), e.keydown(function(b) {
                (b.keyCode === t || b.keyCode === s) && (b.preventDefault(), a(b.currentTarget).trigger("click"), setTimeout(function() {
                    g.focus()
                }, 1))
            }), g.keydown(function(b) {
                (b.keyCode === t || b.keyCode === s) && (b.preventDefault(), a(b.currentTarget).trigger("click"), setTimeout(function() {
                    e.focus()
                }, 1))
            }), h.keydown(function(a) {
                if ((a.keyCode === o || a.keyCode === p) && (a.preventDefault(), !Number.isNaN(m.media.duration) && m.media.duration > 0)) {
                    var b = 0;
                    a.keyCode === o && (b = Math.max(m.media.currentTime - m.options.defaultSeekBackwardInterval(m.media), 0)), a.keyCode === p && (b = Math.min(m.media.currentTime + m.options.defaultSeekForwardInterval(m.media), m.media.duration)), m.media.setCurrentTime(b)
                }
            }), i.keydown(function(b) {
                (b.keyCode === t || b.keyCode === s) && (b.preventDefault(), a(b.currentTarget).trigger("click"))
            }), j.focus(function() {
                k.show()
            }), j.blur(function() {
                k.hide()
            }), j.keydown(function(a) {
                if (a.keyCode === q || a.keyCode === r || a.keyCode === t || a.keyCode === s) {
                    a.preventDefault();
                    var b = void 0;
                    a.keyCode === q && (b = Math.min(m.media.volume + .1, 1), m.media.setVolume(b)), a.keyCode === r && (b = Math.max(m.media.volume - .1, 0), m.media.setVolume(b)), (a.keyCode === t || a.keyCode === s) && j.click()
                }
            }), j.click(function() {
                b._addMuteLabel()
            }), l.keydown(function(a) {
                if (a.keyCode === t || a.keyCode === s) {
                    if (a.preventDefault(), "undefined" == typeof m.enterFullScreen) return;
                    m.isFullScreen && (c._addFullscreenLabel(c.labels.enter), m.exitFullScreen()), m.isFullScreen || (c._addFullscreenLabel(c.labels.exit), m.enterFullScreen())
                }
            }), l.click(function() {
                "undefined" != typeof m.enterFullScreen && (m.isFullScreen && c._addFullscreenLabel(c.labels.enter), m.isFullScreen || c._addFullscreenLabel(c.labels.exit))
            })
        },
        _addFullscreenLabel: function(a) {
            this.$element.find(".mejs-fullscreen-button button").attr("aria-label", a)
        },
        _addMuteLabel: function() {
            var a = this.$element.find(".mejs-volume-button button");
            a.parent().hasClass("mejs-mute") ? a.attr("aria-label", this.labels.mute) : a.attr("aria-label", this.labels.unmute)
        },
        _setFullScreenInGallery: function() {
            var b = this,
                d = a(".mejs-container", b.$element),
                e = a(".mejs-controls", d),
                f = a(".mejs-fullscreen-button button", e);
            a("html").is(".ie10, .lt-ie10") && 0 !== b.$element.parents(".Fullscreen").length && (f.on("click", function() {
                b._toggleFullScreenIE()
            }), f.keydown(function(a) {
                (13 === a.keyCode || 32 === a.keyCode) && b._toggleFullScreenIE()
            }), a(c).keydown(function(a) {
                27 === a.keyCode && b._removeFullScreenIE()
            }))
        },
        _applyFullScreenIE: function() {
            var c = this;
            c.$element.parents(".Fullscreen").addClass("fullScreenVideo"), c.$element.css({
                height: a(b).height(),
                width: a(b).width()
            }), c._isFullScreen = !0
        },
        _removeFullScreenIE: function() {
            var a = this;
            a.$element.parents(".Fullscreen").removeClass("fullScreenVideo"), a.$element.css({
                height: "auto",
                width: "auto"
            }), a._isFullScreen = !1
        },
        _toggleFullScreenIE: function() {
            var a = this;
            a._isFullScreen === !1 ? a._applyFullScreenIE() : a._removeFullScreenIE()
        }
    };
    jQuery.createComponent("VideoPlayer", d)
}(jQuery, window, document),
function(a, b, c, d) {
    var e = {
        uiSelectors: {
            videoPlayer: ".VideoPlayer",
            video: ".VideoPlayer video",
            ctaContainer: ".ctaContainer",
            posterImage: ".videoContainer > span"
        },
        init: function() {
            this.ui("video").attr("preload", "none"), this.ui("video").removeAttr("controls"), this.ui("videoPlayer").VideoPlayer({
                autoplay: !1,
                loop: !1,
                AndroidUseNativeControls: !1
            }), this._resizeVideoCover(), this._playOrPauseVideo(), this._videoOnEnded(), this._videoOnPlay(), this._videoOnPause(), this.ui("video").get(0).player.tracks.length > 0 && this.ui("video").get(0).player.setTrack(this.ui("video").get(0).player.tracks[0].srclang)
        },
        _showSubtitles: function() {
            a(".mejs-captions-position", this.$element).fadeIn()
        },
        _hideSubtitles: function() {
            a(".mejs-captions-position", this.$element).fadeOut()
        },
        _resizeVideoCover: function() {
            a(b).resize(function() {
                a(".videoCover").css("height", .3125 * a(".videoCover").width()), a(".mejs-captions-position", this.$element).css({
                    top: this.ui("video").height() - this.$element.height()
                })
            }.bind(this))
        },
        _playOrPauseVideo: function() {
            a(".videoOverlay, .ctaContainer", this.$element).click(function(a) {
                this.ui("video").get(0).paused ? (a.preventDefault(), this.ui("video").get(0).play(), this._showSubtitles()) : (this.ui("video").get(0).pause(), this._hideSubtitles())
            }.bind(this))
        },
        _videoOnEnded: function() {
            this.ui("video").get(0).addEventListener("ended", function() {
                this.ui("ctaContainer").removeClass("videoPlaying")
            }.bind(this))
        },
        _videoOnPlay: function() {
            this.ui("video").get(0).addEventListener("play", function() {
                (site.utils.isIe() || site.utils.isMsEdge()) && this.ui("posterImage").hide(), this.ui("ctaContainer").addClass("videoPlaying")
            }.bind(this))
        },
        _videoOnPause: function() {
            this.ui("video").get(0).addEventListener("pause", function() {
                this.ui("ctaContainer").removeClass("videoPlaying")
            }.bind(this))
        }
    };
    jQuery.createComponent("VideoWithText", e)
}(jQuery, window, document),
function(a, b) {
    var c = {
        _defaults: {
            expandToWidthOnly: !0,
            inGallery: !1,
            ignorePauseEvent: !1,
            playerVars: {},
            inFullFrameCarousel: !1
        },
        _touchDevice: !1,
        _onlyItem: !1,
        _aspectRatio: 16 / 9,
        _player: null,
        _waitingAPILoad: !1,
        _windowWidth: null,
        _windowHeight: null,
        playerVars: {
            rel: 0,
            showinfo: 0,
            enablejsapi: 1,
            controls: 1
        },
        _coverImage: null,
        init_rtl: function() {},
        init: function() {
            var c = this;
            Object.keys(this.options.playerVars).forEach(function(a) {
                c.playerVars[a] = c.options.playerVars[a]
            }), "ontouchstart" in b ? this._touchDevice = !0 : navigator.msMaxTouchPoints && (this._touchDevice = !0), this._onlyItem = this.$element.parent().data("only-item"), this._deeplinkedItem = this.$element.parent().data("show"), "undefined" == typeof this._onlyItem && (this._onlyItem = !1), this._onlyItem === !0 || this._deeplinkedItem === !0 ? (this._addPlayer(1), this._hideCoverImage()) : this._touchDevice === !0 ? (this._addPlayer(0), this._hideCoverImage()) : this._bindCoverEvents(), this.onResize(), a(b).on("resize", function() {
                c.onResize()
            }), a(b).on("YouTubePlayerLoaded", function() {
                c._waitingAPILoad && c._addPlayer(1)
            }), a(b).on("VideoPlayerPause", function(b, d) {
                null === d.videoid || c.options.ignorePauseEvent || d.videoid !== a(".placeholderVideo iframe", c.$element).attr("id") && c.pause()
            }), this._addAccessibilityLabels()
        },
        _addAccessibilityLabels: function() {
            var b = this._getCoverImageEl(),
                c = b.find(".coverImgBtn");
            b.addClass("mediaOverlay__wrapper"), c.attr("aria-label", a(".a11yResourceLabels").attr("data-a11y-video-youtube-samePage") || "")
        },
        _getCoverImageEl: function() {
            return null === this._coverImage && (this._coverImage = a(".playerWrapper > .coverImgWrapper", this.$element)), this._coverImage
        },
        _addPlayer: function(c) {
            var d = this,
                e = this;
            if (this._player = null, site.youTubeIframeAPIReady) {
                var f = a(".placeholderVideo", this.$element),
                    g = f.data("video-id").trim(),
                    h = a(".a11yResourceLabels").attr("data-a11y-video-youtube-iframetitle"),
                    i = "https://www.youtube-nocookie.com/embed/" + g + "?autoplay=" + c + "&wmode=opaque&iv_load_policy=3&color=white&probably_logged_in=0";
                Object.keys(this.playerVars).forEach(function(a) {
                    i += "&" + a + "=" + d.playerVars[a]
                }), navigator.userAgent.toLowerCase().indexOf("firefox") > -1 && (i += "&html5=1");
                var j = f.attr("id") + "Video";
                a(".placeholderVideo", this.$element).html('<iframe title="' + h + '" id="' + j + '" width="640" height="360" src="' + i + '" allowFullScreen>'), 1 === c && a(b).trigger("VideoPlayerPause", {
                    videoid: j
                }), this._player = new YT.Player(j, {
                    events: {
                        onStateChange: function(c) {
                            var d = {},
                                f = "";
                            0 === c.data && e.$element.trigger("videoEnded"), 2 === c.data ? (e.options.inGallery === !0 && site.utils.isIOS() && (a(".placeholderVideo", this.$element).empty(), e._addPlayer()), d = c.target.getVideoData(), f = d.video_id + ":" + d.title, c.target.getCurrentTime() !== c.target.getDuration() && site.tracking.youtube_pause(f)) : c.data === YT.PlayerState.PLAYING && null !== j && (a(b).trigger("VideoPlayerPause", {
                                videoid: j
                            }), e.$element.trigger("onPlay"), setTimeout(e._onPlayerPercent, 1e3, c.target, e), d = c.target.getVideoData(), f = d.video_id + ":" + d.title, site.tracking.youtube_play(f));
                            var g = a(e._player.a);
                            g.focus()
                        }
                    }
                }), e._waitingAPILoad = !1
            } else e._waitingAPILoad = !0, a.getScript("//www.youtube.com/iframe_api");
            a("body").append('<div class="temp">&nbsp;</div>'), a("iframe").load(function() {
                a(".temp").remove()
            })
        },
        pause: function() {
            if (this._player && this._player.pauseVideo) {
                var a = this._player.getPlayerState();
                if (a !== YT.PlayerState.PLAYING && a !== YT.PlayerState.BUFFERING) return;
                this._player.pauseVideo()
            }
        },
        play: function() {
            this._player ? this._player.playVideo() : (this._addPlayer(1), this._hideCoverImage())
        },
        getPlayingState: function() {
            return this._player && this._player.getPlayerState ? this._player.getPlayerState() : null
        },
        getVolume: function() {
            return this._player && this._player.getVolume ? this._player.getVolume() : null
        },
        setVolume: function(a) {
            this._player && this._player.setVolume && this._player.setVolume(a)
        },
        _onPlayerPercent: function(a, b) {
            if (a.getPlayerState() === YT.PlayerState.PLAYING) {
                var c = a.getDuration() - a.getCurrentTime() <= 1.5 ? 1 : (Math.floor(a.getCurrentTime() / a.getDuration() * 4) / 4).toFixed(2);
                if (!a.lastP || c > a.lastP) {
                    var d = a.getVideoData(),
                        e = d.video_id + ":" + d.title;
                    a.lastP = c, c > 0 && (site.tracking.youtube_progress(e, 100 * c), 100 * c === 100 && delete a.lastP)
                }
                1 !== a.lastP && setTimeout(b._onPlayerPercent, 1e3, a, b)
            }
        },
        forceResize: function() {
            this.onResize(!0)
        },
        onResize: function(b) {
            if (this._windowSizeChanged() === !0 || b === !0) {
                a(".playerWrapper", this.$element).css({
                    height: "auto",
                    width: "auto"
                });
                var c = this.$element.width(),
                    d = site.utils.isBreakpointSmall() || site.utils.isBreakpointMedium() ? c / 16 * 9 : this.$element.height(),
                    e = Math.ceil(c / this._aspectRatio),
                    f = this.options.inFullFrameCarousel === !0 ? "100%" : "auto";
                if (this.options.inFullFrameCarousel === !0) {
                    var g = a(".playerWrapper", this.$element).closest(".YouTubeGalleryAsset").find(".youTubePlayerFFCMask").eq(0);
                    g.css("height", e - 50)
                }
                this.options.expandToWidthOnly === !1 && e > d && (e = d, f = Math.ceil(d * this._aspectRatio)), a(".playerWrapper", this.$element).css({
                    height: e,
                    width: f
                })
            }
        },
        _windowSizeChanged: function() {
            var c = a(b).width(),
                d = a(b).height(),
                e = this._windowWidth,
                f = this._windowHeight;
            return this._windowWidth = c, this._windowHeight = d, c !== e || d !== f
        },
        _hideCoverImage: function() {
            this._getCoverImageEl().hide();
        },
        _bindCoverEvents: function() {
            var a = this,
                b = function(b) {
                    b.preventDefault(), b.stopPropagation(), a._addPlayer(1), a._hideCoverImage(), setTimeout(function() {
                        var b = a.$element.find("iframe");
                        b.attr("tabindex", b.attr("tabindex") || -1), b.focus()
                    }, 100)
                },
                c = site.utils.aria.KeyCode,
                d = c.SPACE,
                e = c.RETURN,
                f = this._getCoverImageEl().find(".coverImgBtn");

                const validateYoutubeGalleryCookie = function (b,a) {
                    if(window.jlr_consent && !window.jlr_consent.categories.analytics){
                        const COOKIE_MODAL = '.cookie-modal';
                        const COOKIE_MODAL_VISIBILITY_CLASS = 'cookie-modal--visible';
                        if (document.querySelector(COOKIE_MODAL)) {
                            document.querySelector(COOKIE_MODAL).classList.add(COOKIE_MODAL_VISIBILITY_CLASS);
                        }
                    } else {
                        b(a); // load and play youtube video
                    }
                }

            f.on("keydown", function(a) {
                if (a.keyCode === d || a.keyCode === e) {
                    // check analytics cookie consent
                    validateYoutubeGalleryCookie(b,a);
                }
            }), f.off("click tap").on("click tap", function(a) {
                // check analytics cookie consent
                validateYoutubeGalleryCookie(b,a);
            })
        },
        setIgnorePauseEvent: function(a) {
            this.options.ignorePauseEvent = a
        },
        _destroy: function() {
            this._player = null, this._waitingAPILoad = !1, this._getCoverImageEl().find(".coverImgBtn").off("click tap"), a("iframe", this.$element).remove(), this._touchDevice === !1 && this._getCoverImageEl().show()
        }
    };
    jQuery.createComponent("YouTubePlayer", c)
}(jQuery, window, document), ("undefined" == typeof console || "undefined" == typeof console.log) && (console = {}, console.log = function() {});
var site = {
    scrollPosition: 0,
    scrollDirection: "up",
    youTubeIframeAPIReady: !1,
    fullScreenMode: !1,
    rtl: !1,
    inXPM: !1,
    breakpoints: {
        small: 740,
        medium: 900,
        wider: 1e3,
        current: null
    },
    colours: {
        error: "#f2681d"
    },
    stickyNavigationTransitionPoint: 200,
    stickyNavigationEnabled: !1,
    cookiesAccepted: !1,
    googleMapsAPIKey: "",
    googleMapsGeolocationAPIKey: "AIzaSyAXwLJc64BMjGBcvfg1FwlRtJ7BXgAPBIA",
    googleMapsClientId: "gme-jaguarlandrover",
    googleMapsLoadedPromise: new Promise(function(a, b) {
        document.body.addEventListener("GoogleMapsApiReady", a), document.body.addEventListener("GoogleMapsApiFailed", b)
    }),
    init: function() {
        var a = $("html");
        if (a.hasClass("lt-ie9")) {
            var b = document.getElementsByTagName("head")[0],
                c = document.createElement("style");
            c.type = "text/css", c.styleSheet.cssText = ":before,:after{content:none !important", b.appendChild(c), setTimeout(function() {
                b.removeChild(c)
            }, 0)
        }
        10 === document.documentMode && (document.documentElement.className += " ie10"), "undefined" != typeof window.Tridion && site.utils.isPageInIframe() && (site.inXPM = !0, setTimeout(function() {
            "undefined" == typeof window.Tridion.Web.UI.SiteEdit && (site.inXPM = !1)
        }, 1e3)), (window.ActiveXObject || "ActiveXObject" in window) && a.addClass("ie"), site.utils.isMsEdge() && a.addClass("ms-edge"), site.utils.isMobileDevice() && a.addClass("touchCapability"), a.hasClass("rtl") && (site.rtl = !0), $(".dxnav-unique-nav").length > 0 && $("header").prepend($(".notificationBarsWrapper")), this.initEnquire();
        var d = $("#header, .dxnav-header");
        site.stickyNavigationEnabled = "sticky" === d.attr("data-nav-type"), d.Header(), $(".VehicleSummary, .storyGalleryFrame").ComponentName(), $(".EmailCapture").EmailCapture(), $(".ChargeQualifier").ChargeQualifier(), $(".FeedbackWidget").FeedbackWidget(), $(".ComparisonSlider").ComparisonSlider(), window.richsponsiveImage(), $(".ResponsiveLink").ResponsiveLink(), $(".TargetLinks").TargetLinks(), $("body").FocusSwitcher(), $(".DropdownNav").DropdownNav(), $(".InPageSubNavigation").InPageSubNavigation(), $(".DropdownSelect").DropdownSelect(), $(".IgniteBar").IgniteBar(), $(".IgniteBarDevice").IgniteBarDevice();
        var e = $(".VehicleSelector:not(.inPageVehicleSelector)"),
            f = $(".VehicleSelector.inPageVehicleSelector"),
            g = !0;
        1 === e.length && (g = !1, e.VehicleSelector({
            overlay: !1
        })), 0 !== f.length && f.VehicleSelector({
            overlay: !1
        }), g === !0 && 0 === $(".ModelSelector:not(.inPageModelSelector)").length && $(".MainNavigation .vehicles a").VehicleSelector({
            overlay: !0
        }), e = null, $(".QuickQuote").QuickQuote(), $(".ScrollDown").ScrollDown(), $(".SidebarImage").SidebarImage(), $(".DualFrameCarousel").DualFrameCarousel(), $(".DualFrameCarousel2").DualFrameCarousel2();
        var h = $(".Article table:not(.nonResponsive), .cmp-engineSpecifications table:not(.nonResponsive), .VehicleSpecifications table:not(.nonResponsive)");
        h.ResponsiveTable(), $(".TabFilter", this.$element).TabFilter(), $(".ApprovedUsedVehicle").ApprovedUsedVehicle(), $(".MapLocation2").MapLocation2(), $(".VehicleSpecificationsV2").VehicleSpecificationsV2(), $(".AtAGlance").AtAGlance(), $(".FrameSlider").FrameSlider(), $(".Quote").Quote(), $(".QuotePlayer").QuotePlayer(), $(".YouTubePlayer").filter(function() {
            return 0 === $(this).parent(".galleryItem, .Gallery__item").length
        }).YouTubePlayer(), site.utils.assignYouTubeIframeAPIReady(), $(".VideoPlayer").filter(function() {
            return !$(this).parents(".heroItem, .HeroSlide, .FullFrameCarousel, .StoryExtract, .StoryArticleVideo, .StoryScroller, .VideoWithText").length
        }).VideoPlayer({
            autoplay: !1,
            loop: !1
        }), site.utils.campaignTrackingPersistance.setTracking("GoogleCampaign", ["utm_source", "utm_medium", "utm_term", "keywords", "utm_content", "utm_campaign"]), $(".FramedContent").FramedContent(), $(".GoogleMap").GoogleMap(), $(".VideoLauncher").VideoLauncher(), $(".SocialFeed").SocialFeed(), $(".StoryScroller").StoryScroller(), $(".FramedForm").FramedForm(), $(".BazaarVoiceRating").BazaarVoiceRating(), $(".Hub").Hub(), $(".HubNavigation").HubNavigation(), $(".ReviewRatingBadge").ReviewRatingBadge(), $(".ReviewsAtAGlance").ReviewsAtAGlance(), $(".ToggleLinks").ToggleLinks(), $(".headingLinear").Headings(), $(".DefenderJourneyMap").DefenderJourneyMap(), $(".DefenderJourneyCarousel").DefenderJourneyCarousel(), $(".DefenderJourneyStoryMap").DefenderJourneyStoryMap(), $(".DefenderJourneyStoryDetail").DefenderJourneyStoryDetail(), $(".Hotspots").Hotspots(), $(".GesturedVideoSequence").each(function() {
            var a = $(this);
            a.parents(".TabbedContainer").length || a.GesturedVideoSequence()
        }), $(".UsedCarValuator").UsedCarValuator(), $(".VideoWithText").VideoWithText(), $(".Compare").Compare(), $(".CompareTwo").CompareTwo(), $(".Accordion").Accordion(), $("#content").AccordionContainer(), $(".Selectable").Selectable(), $(".ComparisonTable").ComparisonTable();
        var i = $(".KeeComparisonTool");
        i.KeeComparisonTool(), i.KeeComparisonToolBars(), i.KeeComparisonToolAccordion(), i.KeeComparisonTooltips(), $(".EUEmissions").EUEmissions(), $(".RideAndDrive").RideAndDrive(), $(".BookATestDriveRedirect").BookATestDriveRedirect(), $(".ManualsTopicDetails").ManualsTopicDetails(), $(".ExperienceDriveMapAndLocator").ExperienceDriveMapAndLocator(), $(".TripAdvisorWidget").TripAdvisorWidget(), $(window).debounce("scroll", function(a) {
            $(window).trigger({
                type: "throttledScroll",
                event: a
            })
        }, 250), $(window).smartresize(function() {
            window.richsponsiveImage()
        }), $(document).on("webkitfullscreenchange mozfullscreenchange fullscreenchange", function() {
            var a = document.fullScreen || document.mozFullScreen || document.webkitIsFullScreen;
            site.fullScreenMode = !site.fullScreenMode, a ? $("#header, .FooterNav, .IgniteBar").hide() : $("#header, .FooterNav, .IgniteBar").show(), $(window).trigger("resize")
        }), document.addEventListener("curationsReady", site.utils.assignYouTubeIframeAPIReady), deepLink.init(), $(".InteractiveStory").InteractiveStory()
    },
    initEnquire: function() {
        enquire.register("screen and (min-width: " + window.site.breakpoints.medium + "px)", {
            match: function() {
                site.breakpoints.current = "large"
            }
        }), enquire.register("screen and (min-width: " + (window.site.breakpoints.small + 1) + "px) and (max-width: " + (window.site.breakpoints.medium - 1) + "px)", {
            match: function() {
                site.breakpoints.current = "medium"
            }
        }), enquire.register("screen and (max-width: " + window.site.breakpoints.small + "px)", {
            match: function() {
                site.breakpoints.current = "small"
            }
        })
    },
    gmapsLoaded: function() {
        var a = $.Event("api:ready");
        $(".GoogleMap").trigger(a);
        var b = document.createEvent("Event");
        b.initEvent("GoogleMapsApiReady", !1, !1), document.body.dispatchEvent(b)
    },
    gmapsLoadFailed: function() {
        var a = document.createEvent("Event");
        a.initEvent("GoogleMapsApiFailed", !1, !1), document.body.dispatchEvent(a)
    }
};
if (window.onpageshow = function(a) {
        a.persisted && window.location.reload()
    }, "undefined" == typeof dataLayer) var dataLayer = {
    push: function() {}
};
site.tracking = {
    video_play: function(a) {
        var b = {
            event: "video",
            action: "play",
            video_id: a
        };
        dataLayer.push(b)
    },
    video_ended: function(a) {
        var b = {
            event: "video",
            action: "complete",
            video_id: a
        };
        dataLayer.push(b)
    },
    youtube_play: function(a) {
        var b = {
            event: "youtube",
            action: "play",
            label: a
        };
        dataLayer.push(b)
    },
    youtube_pause: function(a) {
        var b = {
            event: "youtube",
            action: "pause",
            label: a
        };
        dataLayer.push(b)
    },
    youtube_progress: function(a, b) {
        var c = {
            event: "youtube",
            action: b + "%",
            label: a
        };
        dataLayer.push(c)
    }
}, site.utils = {
    googleMapStyles: [{
        featureType: "administrative.locality",
        elementType: "labels.text.fill",
        stylers: [{
            color: "#666666"
        }]
    }, {
        featureType: "landscape.man_made",
        elementType: "geometry.fill",
        stylers: [{
            color: "#f8f6f4"
        }]
    }, {
        featureType: "poi",
        elementType: "labels",
        stylers: [{
            visibility: "off"
        }]
    }, {
        featureType: "road.highway",
        elementType: "geometry.fill",
        stylers: [{
            color: "#afaba4"
        }]
    }, {
        featureType: "road.highway",
        elementType: "geometry.stroke",
        stylers: [{
            color: "#e6e6e6"
        }]
    }, {
        featureType: "road.highway",
        elementType: "labels",
        stylers: [{
            saturation: -15
        }]
    }, {
        featureType: "road.highway.controlled_access",
        elementType: "geometry.fill",
        stylers: [{
            color: "#afaba4"
        }]
    }, {
        featureType: "road.highway.controlled_access",
        elementType: "labels.icon",
        stylers: [{
            saturation: -100
        }]
    }, {
        featureType: "road.local",
        elementType: "geometry.fill",
        stylers: [{
            color: "#ffffff"
        }]
    }, {
        featureType: "road.local",
        elementType: "labels.icon",
        stylers: [{
            saturation: "77"
        }]
    }, {
        featureType: "transit",
        elementType: "labels.icon",
        stylers: [{
            saturation: "-100"
        }]
    }, {
        featureType: "water",
        elementType: "geometry.fill",
        stylers: [{
            color: "#c5d7de"
        }, {
            lightness: -9
        }]
    }],
    aria: {
        KeyCode: {
            BACKSPACE: 8,
            DELETE: 46,
            DOWN: 40,
            END: 35,
            ESC: 27,
            HOME: 36,
            LEFT: 37,
            PAGE_DOWN: 34,
            PAGE_UP: 33,
            RETURN: 13,
            RIGHT: 39,
            SPACE: 32,
            TAB: 9,
            UP: 38
        }
    },
    _templateCache: {},
    cookieManager: {
        checkForCookie: function(a) {
            var b = this,
                c = b.readCookie(a);
            return null !== c ? !0 : !1
        },
        readCookie: function(a) {
            var b = document.cookie.split(";");
            if (b.length < 1) return null;
            for (var c = 0; c < b.length; c++) {
                var d = b[c].split("=");
                if (d[0].replace(/\s/g, "") == a) return d[1]
            }
            return null
        },
        createCookie: function(a, b, c) {
            var d = "";
            if (c) {
                var e = new Date;
                e.setTime(e.getTime() + 24 * c * 60 * 60 * 1e3), d = "; expires=" + e.toGMTString()
            } else d = "";
            document.cookie = a + "=" + b + d + "; path=/"
        },
        deleteCookie: function(a) {
            var b = this;
            b.createCookie(a, "", -1)
        }
    },
    getCachedScript: function(a, b) {
        return b = $.extend(b || {}, {
            dataType: "script",
            cache: !0,
            url: a
        }), $.ajax(b)
    },
    scrollTo: function(a, b, c, d, e) {
        var f = this,
            g = 0;
        b = "number" != typeof b ? 800 : b, c = "function" != typeof c ? null : c, d = "string" != typeof d ? "easeOutSine" : d, "number" == typeof a ? g = a : ($targetEl = a || $("body"), g = $targetEl.offset().top), e !== !0 && (g -= f.getStickyNavHeight(g)), $("html, body").stop().animate({
            scrollTop: g
        }, b, d).promise().done(c)
    },
    checkDeepLink: function(a) {
        var b = this,
            c = !1,
            d = 2.5,
            e = a.indexOf("#");
        if (e + 1 < a.length && -1 != e) {
            var f = a.substring(e, a.length);
            if (1 === $(f).length) {
                var g = $(f),
                    h = g.offset().top / d;
                if ($('head [name="accordionOnMobile"]').length && b.isBreakpointSmall()) {
                    var i = g.closest(".accordion-group"),
                        j = i.find(".accordion-group-title");
                    if (i.length && j.length) return i.hasClass("open") || j.click(), g = g.offset().top - j.outerHeight(), b.scrollTo(g, 800, null, "easeOutSine"), void(c = !0)
                }
                if (g.parents(".TabbedContainer").length) {
                    var k = g.closest(".TabbedContainer"),
                        l = k.find(".tab"),
                        m = k.find(".tab-link"),
                        n = 0;
                    return l.each(function(a) {
                        var b = $(this).find(g);
                        b.length && (n = a)
                    }), m.each(function(a) {
                        a === n && $(this).click()
                    }), g = k.offset().top, h = g / d, b.scrollTo(g, 800, null, "easeStartFastEndSlow"), !0
                }
                if ($("body").hasClass("vehiclesDiscovery")) {
                    var i = g.parents(".AccordionContainer"),
                        o = $(g);
                    if (i.length) {
                        var p = i.find(".header");
                        p.hasClass("accordion-open") || p.click(), p.is(":visible") && (g.is(":visible") ? g = g.offset().top - p.outerHeight() : (o.css("display", "block"), g = g.offset().top - p.outerHeight(), o.css("display", "")))
                    }
                }
                b.scrollTo(g, h, null, "easeStartFastEndSlow"), c = !0
            } else console.error("Could not find deep link element with id: " + f)
        }
        return c
    },
    isPageInIframe: function() {
        return self !== top
    },
    getDeviceOrientation: function() {
        var a = $(window),
            b = "portrait";
        return a.width() > a.height() && (b = "landscape"), b
    },
    getBreakpointSize: function() {
        var a = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : !0,
            b = a ? $(window).width() : window.innerWidth;
        return b <= site.breakpoints.small ? "small" : b <= site.breakpoints.medium ? "medium" : "large"
    },
    isBreakpointSmall: function() {
        var a = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : !0,
            b = this;
        return "small" == b.getBreakpointSize(a) ? !0 : !1
    },
    isBreakpointMedium: function() {
        var a = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : !0,
            b = this;
        return "medium" == b.getBreakpointSize(a) ? !0 : !1
    },
    isMobileDevice: function() {
        var a;
        return a = "ontouchstart" in window || window.DocumentTouch && document instanceof DocumentTouch || navigator.msMaxTouchPoints ? !0 : !1
    },
    isIOS: function() {
        return /(ipad|iphone|ipod)/i.test(navigator.userAgent.toLowerCase())
    },
    isWindowsPhone: function() {
        return -1 != navigator.userAgent.toLowerCase().indexOf("windows phone")
    },
    getAndroidVersion: function() {
        var a = navigator.userAgent;
        return a.indexOf("Android") >= 0 ? parseFloat(a.slice(a.indexOf("Android") + 8)) : void 0
    },
    insideTabbedContainer: function(a) {
        var b = !!a.parents(".TabbedContainer").not('[data-total="1"]').length;
        return b ? a.parents(".TabbedContainer") : !1
    },
    mobileAccordionsActivated: function() {
        return $('head [name="accordionOnMobile"]').length
    },
    removeHTMLTags: function(a) {
        var b = a.toString().replace(/[<>=;]/g, "");
        return b
    },
    getUrlParameter: function(a) {
        function b(a) {
            return decodeURIComponent((a || "").replace(/\+/g, " "))
        }
        for (var c = window.location.search.substring(1), d = c.split("&"), e = 0; e < d.length; e++) {
            var f = d[e].split("=");
            if (b(f[0]) === a) return b(f[1])
        }
        return null
    },
    addParameterToURL: function(a, b) {
        return "" != b && (a += (a.split("?")[1] ? "&" : "?") + b), a
    },
    campaignTrackingPersistance: {
        setTracking: function(a, b) {
            for (var c = {}, d = 0; d < b.length; d++) {
                var e = b[d],
                    f = site.utils.getUrlParameter(e);
                f && (c[e] = f)
            }
            if (site.utils.getObjectKeys(c).length > 0) {
                var g = "JLR_Campaign_Tracking_" + a;
                site.utils.cookieManager.deleteCookie(g), site.utils.cookieManager.createCookie(g, JSON.stringify(c))
            }
        },
        getTracking: function(a) {
            var b = "JLR_Campaign_Tracking_" + a,
                c = "";
            return site.utils.cookieManager.readCookie(b) && (c = $.param($.parseJSON(site.utils.cookieManager.readCookie(b)))), c
        }
    },
    getObjectKeys: function(a) {
        var b = [];
        for (var c in a) a.hasOwnProperty(c) && b.push(c);
        return b
    },
    canvasDrawBgCover: function(a, b, c, d, e, f, g, h) {
        2 === arguments.length && (c = d = 0, e = a.canvas.width, f = a.canvas.height), g = "number" == typeof g ? g : .5, h = "number" == typeof h ? h : .5, 0 > g && (g = 0), 0 > h && (h = 0), g > 1 && (g = 1), h > 1 && (h = 1);
        var i, j, k, l, m = b.width,
            n = b.height,
            o = Math.min(e / m, f / n),
            p = m * o,
            q = n * o,
            r = 1;
        e > p && (r = e / p), f > q && (r = f / q), p *= r, q *= r, k = m / (p / e), l = n / (q / f), i = (m - k) * g, j = (n - l) * h, 0 > i && (i = 0), 0 > j && (j = 0), k > m && (k = m), l > n && (l = n), a.drawImage(b, i, j, k, l, c, d, e, f)
    },
    isIe: function() {
        return $("html").hasClass("ie")
    },
    isMsEdge: function() {
        return site.utils.detectBrowsers().isMsEdge
    },
    isIe11: function() {
        return !window.ActiveXObject && "ActiveXObject" in window
    },
    isIe9: function() {
        return -1 !== navigator.appVersion.indexOf("MSIE 9.") ? !0 : !1
    },
    hasPlaceholderSupport: function() {
        var a = document.createElement("input");
        return "placeholder" in a
    },
    isPageInXPMFrame: function() {
        return "undefined" != typeof window.Tridion && "undefined" != typeof window.Tridion.Web.UI.SiteEdit ? (site.inXPM = !0, !0) : !1
    },
    elementInViewport: function(a, b, c) {
        if ($element = a instanceof jQuery ? a : $(a), !$element.length) return !1;
        var d, e, f = $(window),
            g = f.scrollTop(),
            h = f.height(),
            i = $element.offset(),
            j = i.top,
            k = j + $element.height(),
            l = 0,
            m = "small" === this.getBreakpointSize() ? 20 : 50;
        return "undefined" != typeof c && c && (h = window.innerHeight ? window.innerHeight : h), l = g + h, "object" === ("undefined" == typeof b ? "undefined" : _typeof(b)) ? (d = b.top, e = b.bottom) : (d = b || m, e = b || m), !(j + d > l || g > k - e)
    },
    detectBrowsers: function() {
        var a = navigator.userAgent,
            b = {
                isChrome: a.indexOf("Chrome") > -1,
                isMsEdge: a.indexOf("Edge") > -1,
                isExplorer: a.indexOf("MSIE") > -1 || a.indexOf("Trident") > -1,
                isFirefox: a.indexOf("Firefox") > -1,
                isSafari: a.indexOf("Safari") > -1,
                isOpera: a.toLowerCase().indexOf("op") > -1
            };
        return b.isChrome && b.isSafari && (b.isSafari = !1), b.isChrome && b.isOpera && (b.isChrome = !1), b
    },
    getRandomString: function(a) {
        a = parseInt(a, 10) || 0, a = 0 > a ? 0 : a;
        for (var b = "abcdefghijklmnopqrstuvwxyz0123456789", c = [], d = 0; a > d; d++) c.push(b.charAt(Math.floor(Math.random() * b.length)));
        var e = c.join("");
        return e
    },
    getViewportSize: function() {
        var a = document.createElement("div");
        a.style.cssText = "position: fixed;top: 0;left: 0;bottom: 0;right: 0;", document.documentElement.insertBefore(a, document.documentElement.firstChild);
        var b = {
            width: a.offsetWidth,
            height: a.offsetHeight
        };
        return document.documentElement.removeChild(a), b
    },
    getEasingValue: function(a) {
        a = 0 > a ? 0 : a, a = a > 1 ? 1 : a;
        var b = a * (2 * Math.PI) - Math.PI,
            c = (Math.cos(b) + 1) / 2;
        return c
    },
    disableScroll: function() {
        var a = $(window),
            b = a.scrollTop();
        a.on("scroll.disableScroll mousewheel.disableScroll DOMMouseScroll.disableScroll touchmove.disableScroll", function(c) {
            c.preventDefault(), a.scrollTop(b)
        })
    },
    enableScroll: function() {
        var a = $(window);
        a.off("scroll.disableScroll mousewheel.disableScroll DOMMouseScroll.disableScroll touchmove.disableScroll")
    },
    limitNumber: function(a, b, c) {
        if (b > c) {
            var d = b;
            b = c, c = d
        }
        return Math.max(b, Math.min(c, a))
    },
    loadIgnoredResponsiveImages: function(a) {
        a.removeAttr("data-picture-ignore"), window.richsponsiveImage()
    },
    throttle: function(a, b, c) {
        b || (b = 250);
        var d, e;
        return function() {
            var f = c || this,
                g = +new Date,
                h = arguments;
            d && d + b > g ? (clearTimeout(e), e = setTimeout(function() {
                d = g, a.apply(f, h)
            }, b)) : (d = g, a.apply(f, h))
        }
    },
    measureTextWidth: function(a, b) {
        if (!a) return 0;
        var b = b || document.body,
            c = document.createElement("div");
        c.style.position = "absolute", c.style.visibility = "hidden", c.style.height = "auto", c.style.width = "auto", c.style.padding = "0", c.style.whiteSpace = "nowrap", c.textContent = a, b.appendChild(c);
        var d = c.clientWidth;
        return b.removeChild(c), d
    },
    getTransitionEndEvent: function() {
        var a = document.createElement("fakeelement"),
            b = {
                transition: "transitionend",
                OTransition: " oTransitionEnd",
                MozTransition: "transitionend",
                WebkitTransition: "webkitTransitionEnd"
            };
        for (var c in b)
            if (void 0 !== a.style[c]) return b[c];
    },
    template: function(a, b) {
        var c = /\W/.test(a) ? new Function("obj", "var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('" + a.replace(/[\r\t\n]/g, " ").replace(/'(?=[^%]*%>)/g, "	").split("'").join("\\'").split("	").join("'").replace(/<%=(.+?)%>/g, "',$1,'").split("<%").join("');").split("%>").join("p.push('") + "');}return p.join('');") : site.utils._templateCache[a] = site.utils._templateCache[a] || site.utils.template(document.getElementById(a).innerHTML);
        return b ? c(b) : c
    },
    scrollToElement: function(a, b, c) {
        return $element = a instanceof jQuery ? a : $(a), b = b || {}, b = $.extend({
            adjustment: 0,
            ease: "easeOutSine",
            duration: 800,
            container: $("body, html")
        }, b), 0 === $element.length ? !1 : (b.container.stop().animate({
            scrollTop: $element.offset().top - b.adjustment
        }, b.duration, b.ease, function() {
            c && c()
        }), b)
    },
    scrollIfNotInViewport: function(a, b) {
        a.offset().top - $(window).scrollTop();
        if (!this.isInViewport(a)) {
            var c = b ? a.offset().top - $(window).innerHeight() : a.offset().top - this.getStickyNavHeight();
            return $("html,body").animate({
                scrollTop: c
            }, 800), !0
        }
        return !1
    },
    isInViewport: function(a) {
        var b = $(window),
            c = this,
            d = {
                top: b.scrollTop() + c.getStickyNavHeight(),
                bottom: b.scrollTop() + b.height(),
                left: b.scrollLeft()
            };
        d.right = d.left + b.width();
        var e = a.offset();
        return e.right = e.left + a.outerWidth(), e.bottom = e.top + a.outerHeight(), !(d.right < e.left || d.left > e.right || d.bottom < e.top || d.top > e.bottom)
    },
    isLandRover: function() {
        return !!$("body#landrover").length
    },
    getTabbable: function(a) {
        var b = ["input:not([disabled]):not([hidden])", "select", "a[href]", "textarea", "button", '[tabindex]:not([tabindex^="-"])'],
            c = a.querySelectorAll(b.join(","));
        return c = site.utils.convertElementCollectionToArray(c), c = c.filter(function(a) {
            function b(a) {
                "hidden" === a.style.visibility || "none" === a.style.display ? c = !1 : a.parentNode && a.parentNode !== document.body && b(a.parentNode)
            }
            var c = !0;
            return a.offsetParent && 0 !== a.offsetWidth && 0 !== a.offsetHeight || (c = !1), b(a), c ? a : !1
        })
    },
    balanceElementHeight: function(a) {
        var b = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
            c = {};
        if (!a) return c;
        var d = [].slice.call(a),
            e = 0,
            f = d.map(function(a) {
                var b = a.getBoundingClientRect().height;
                return e += b, b
            }),
            g = function i(a, c) {
                var d = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                    e = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0,
                    f = !!a[e] && d + a[e] <= c - b;
                return f ? i(a, c, d + a[e], e + 1) : e
            },
            h = g(f, e / 2) + 1;
        return c.columns1 = d.slice(0, h), c.columns2 = d.slice(h, d.length), c.heightsArray = f, c
    },
    eventTrigger: function(a, b) {
        var c = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {},
            d = new CustomEvent(b, {
                detail: c
            });
        a.dispatchEvent(d)
    },
    convertElementCollectionToArray: function(a) {
        return a instanceof NodeList || a instanceof jQuery ? a instanceof NodeList ? [].slice.call(a) : a.get() : !1
    },
    randomiseElements: function(a) {
        var b = site.utils.convertElementCollectionToArray(a);
        if (b && b.length) {
            var c = b.map(function(a) {
                return a.cloneNode(!0)
            });
            c.sort(function() {
                return Math.random() - .5
            }), b.forEach(function(a, b) {
                return a.parentNode.replaceChild(c[b], a)
            })
        }
    },
    swiperEmitEventsOnElement: function(a) {
        a.on("init", function() {
            return site.utils.eventTrigger(a.el, "onInit")
        }), a.on("slideChangeTransitionStart", function() {
            return site.utils.eventTrigger(a.el, "onSlideChangeTransitionStart")
        }), a.on("slideChangeTransitionEnd", function() {
            return site.utils.eventTrigger(a.el, "onSlideChangeTransitionEnd")
        }), a.on("slidePrevTransitionEnd", function() {
            return site.utils.eventTrigger(a.el, "onSlidePrevTransitionEnd")
        }), a.on("slideNextTransitionEnd", function() {
            return site.utils.eventTrigger(a.el, "onSlideNextTransitionEnd")
        }), a.on("touchStart", function() {
            return site.utils.eventTrigger(a.el, "onTouchStart")
        }), a.on("touchEnd", function() {
            return site.utils.eventTrigger(a.el, "onTouchEnd")
        }), a.on("touchMove", function() {
            return site.utils.eventTrigger(a.el, "onTouchMove")
        })
    },
    swiperPreventTabbingIssues: function(a) {
        var b = site.utils.getTabbable(a.wrapperEl);
        b.forEach(function(a) {
            var b = a.getAttribute("tabindex");
            b && a.setAttribute("data-swiper-tabindex", b)
        });
        var c = [].slice.call(a.slides),
            d = function(a, b) {
                a.style.visibility = b
            },
            e = function() {
                c.forEach(function(a) {
                    return d(a, "visible")
                }), b.forEach(function(a) {
                    return a.setAttribute("tabindex", -1)
                })
            },
            f = function() {
                b.forEach(function(a) {
                    var b = a.getAttribute("data-swiper-tabindex");
                    a.removeAttribute("tabindex"), b && a.setAttribute("tabindex", b)
                }), c.forEach(function(b) {
                    b.classList.contains(a.params.slideActiveClass) || d(b, "hidden")
                })
            };
        a.el.addEventListener("onSlideChangeTransitionStart", function() {
            return e()
        }), a.el.addEventListener("onTouchMove", function() {
            return e()
        }), a.el.addEventListener("onSlideChangeTransitionEnd", function() {
            return f()
        }), a.el.addEventListener("onTouchEnd", function() {
            setTimeout(function() {
                f()
            }, 1e3)
        })
    },
    swiperDisableAutoplayOnSlideFocus: function(a) {
        if (a.originalParams.autoplay.enabled) {
            var b = function() {
                    return a.autoplay.stop()
                },
                c = function() {
                    return a.autoplay.start()
                };
            a.el.addEventListener("focusin", b, !1), a.el.addEventListener("focusout", c, !1)
        }
    },
    swiperIntegrateCustomPagination: function(a, b) {
        var c = b.pagination;
        if (c) {
            var d = a.params.loop ? 1 : 0,
                e = c.Pagination("getElement");
            e.addEventListener("afterChange", function(b) {
                return a.slideTo(parseInt(b.detail.pipTo, 10) + d)
            }, !1), e.addEventListener("liveRegionUpdate", function(b) {
                var c = a.a11y.liveRegion[0],
                    d = b.detail && b.detail.text;
                c && d && (c.innerHTML = d)
            }, !1), a.el.addEventListener("onTouchStart", function() {
                return c.Pagination("pause")
            }, !1);
            var f = function i() {
                    a.el.removeEventListener("onSlideChangeTransitionEnd", i, !1);
                    var b = "running" === c.Pagination("getPlayingStatus"),
                        d = a.realIndex !== c.Pagination("getCurrentPipIndex");
                    !b && d && (c.Pagination("clearTimer"), c.Pagination("updateActivePipByIndex", a.realIndex))
                },
                g = a.navigation.nextEl,
                h = a.navigation.prevEl;
            g && g.addEventListener("click", function() {
                return a.el.addEventListener("onSlideChangeTransitionEnd", f, !1)
            }), h && h.addEventListener("click", function() {
                return a.el.addEventListener("onSlideChangeTransitionEnd", f, !1)
            }), a.el.addEventListener("onTouchMove", function() {
                return a.el.addEventListener("onSlideChangeTransitionEnd", f, !1)
            })
        }
    },
    swiperSetAriaLiveOnFocusIn: function(a, b) {
        var c = a.a11y.liveRegion[0];
        b.arialiveOnFocusIn && c && (c.removeAttribute("aria-live"), a.el.parentNode.addEventListener("focusin", function() {
            return c.setAttribute("aria-live", "polite")
        }), a.el.parentNode.addEventListener("focusout", function() {
            return c.removeAttribute("aria-live")
        }))
    },
    swiperModifyNavigation: function(a, b) {
        var c = a.navigation.prevEl,
            d = a.navigation.nextEl;
        if (c && d) {
            var e = b.labels,
                f = b.isBlack,
                g = f ? "#000000" : "#FFFFFF",
                h = '\n      <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 14 24" style="enable-background:new 0 0 14 24;" xml:space="preserve">\n      <style type="text/css">.st0{fill-rule:evenodd;clip-rule:evenodd;fill:' + g + ';}</style><polygon class="st0" points="12.7,0 0,12 12.7,24 14,22.5 2.9,12 14,1.5 "/>\n      </svg>\n    ',
                i = '\n      <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 14 24" style="enable-background:new 0 0 14 24;" xml:space="preserve">\n      <style type="text/css">.st0{fill-rule:evenodd;clip-rule:evenodd;fill:' + g + ';}</style><polygon class="st0" points="1.3,24 14,12 1.3,0 0,1.5 11.1,12 0,22.5 "/>\n      </svg>\n    ',
                j = function(a, b, c) {
                    c && a.setAttribute("aria-label", c);
                    var d = document.createElement("div");
                    d.innerHTML = b, a.appendChild(d.querySelector("svg"))
                };
            j(c, h, e.previous), j(d, i, e.next)
        }
    },
    swiperA11yHelper: function(a) {
        var b = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
        if (a) {
            var c = $.extend({
                pagination: null,
                arialiveOnFocusIn: !0,
                labels: {},
                isBlack: !1
            }, b);
            site.utils.swiperIntegrateCustomPagination(a, c), site.utils.swiperEmitEventsOnElement(a), site.utils.swiperPreventTabbingIssues(a), site.utils.swiperDisableAutoplayOnSlideFocus(a), site.utils.swiperSetAriaLiveOnFocusIn(a, c), site.utils.swiperModifyNavigation(a, c)
        }
    },
    assignYouTubeIframeAPIReady: function() {
        window.onYouTubeIframeAPIReady = function() {
            site.youTubeIframeAPIReady = !0, site.utils.eventTrigger(window, "YouTubePlayerLoaded")
        }
    },
    isElementVerticallyScrollable: function(a) {
        return a && a.scrollHeight > a.offsetHeight
    },
    checkDefined: function(a) {
        return void 0 !== a && null !== a
    },
    tablistNavigation: function(a) {
        var b = a.getAttribute("aria-orientation"),
            c = b && "vertical" === b,
            d = a.querySelectorAll('[role="tab"]'),
            e = site.utils.aria.KeyCode,
            f = function() {
                return d[0].focus()
            },
            g = function() {
                return d[d.length - 1].focus()
            },
            h = function(a) {
                var b = [].concat(_toConsumableArray(d)).findIndex(function(b) {
                    return b === a
                });
                0 === b ? g() : d[b - 1].focus()
            },
            i = function(a) {
                var b = [].concat(_toConsumableArray(d)).findIndex(function(b) {
                        return b === a
                    }),
                    c = d.length - 1;
                b === c ? f() : d[b + 1].focus()
            },
            j = function(a) {
                var b = a.keyCode;
                switch (b) {
                    case e.END:
                        a.preventDefault(), g();
                        break;
                    case e.HOME:
                        a.preventDefault(), f();
                        break;
                    case e.LEFT:
                    case e.UP:
                        c && (a.preventDefault(), h(a.currentTarget));
                        break;
                    case e.RIGHT:
                    case e.DOWN:
                        c && (a.preventDefault(), i(a.currentTarget))
                }
            },
            k = function(a) {
                var b = a.keyCode;
                switch (b) {
                    case e.LEFT:
                        h(a.currentTarget);
                        break;
                    case e.RIGHT:
                        i(a.currentTarget)
                }
            };
        d.forEach(function(a) {
            a.addEventListener("keydown", j, !1), c || a.addEventListener("keyup", k, !1)
        })
    },
    getStickyNavHeight: function(a) {
        var b = this,
            c = "number" != typeof a ? 0 : a,
            d = $(".dxnav-header"),
            e = d.length ? d : $("#header"),
            f = $(".InPageNavigation"),
            g = b.getBreakpointSize(),
            h = e.length > 0 ? "fixed" === e.css("position") : !1,
            i = f.length > 0 ? f.offset().top : null,
            j = d.length ? !0 : h,
            k = 0;
        if (!j) return k;
        var l = 960;
        if (null !== i && c >= i && "large" === g && "none" !== f.css("display")) return f.outerHeight();
        var m = window.innerWidth,
            n = function() {
                return m >= l && 200 > c ? 106 : 50
            },
            o = function() {
                var a = function(a) {
                        return a ? a.clientHeight : 0
                    },
                    b = a(document.querySelector(".dxnav__primary")),
                    c = a(document.querySelector(".dxnav__breadcrumbs-container")),
                    d = a(document.querySelector(".notificationBarsWrapper"));
                return b + c + d
            };
        return k = d.length ? o() : n()
    },
    dxSetTimeout: function(a, b) {
        setTimeout(a, b), window.appReadyEvent.initiated ? appReadyTimer.add(b) : window.appReadyEvent.timeout += b
    },
    addScriptForBazaarVoice: function(a) {
        if ("" !== a.trim() && 0 === document.querySelectorAll("script[src='" + a + "']").length) {
            var b = document.createElement("script");
            b.setAttribute("src", a), document.head.appendChild(b)
        }
    }
}, site.init();
//# sourceMappingURL=app.map
function openOverlay(event, url) {
    var evnt = event;
    event.preventDefault();
    var modalUrl = url;
    if (isBreakpointSmall() || isMobileDevice())
        return window.open(url);

    if (modalUrl.indexOf('?') > -1) {
        modalUrl += '&cnst_bnr=1';
    } else {
        modalUrl += '?cnst_bnr=1';
    }
    $.magnificPopup.open({
        closeMarkup: '',
        closeOnBgClick: true,
        fixedContentPos: true,
        alignTop: true,
        focus: '.mfp-close',
        type: 'iframe',
        items: {
            src: modalUrl
        },
        callbacks: {
            beforeClose: function beforeClose() {
                //document.querySelector('.pageWrapper').removeAttribute('aria-hidden');
            },
            open: function open() {
                $('.mfp-iframe').wrap('<div class="mfp-iframe-alt-wrap"></div>');
                $('<button type="button" class="mfp-close alt"></button>').insertBefore('.mfp-iframe');
                $('.mfp-bg').addClass('mfp-bg--whitened');
                //document.querySelector('.pageWrapper').setAttribute('aria-hidden', 'true');
                evnt.stopImmediatePropagation();
            }
        }
    });
}
var getLargerBreakpoint = width => (
    width <= breakpoints.medium ? 'medium' : 'large'
);

var getBreakpointSize = (oldCalc = true) => {
    const width = oldCalc ? $(window).width() : window.innerWidth;
    return (width <= breakpoints.small) ? 'small' : getLargerBreakpoint(width);
};

var isBreakpointSmall = (oldCalc = true) => {
    return getBreakpointSize(oldCalc) === 'small';
};
var breakpoints = {
    small: 740,
    medium: 900,
    wider: 1000,
    current: null
};
var isMobileDevice = () => {
    return (('ontouchstart' in window) || window.DocumentTouch && document instanceof DocumentTouch || navigator.msMaxTouchPoints); // eslint-disable-line
};
$(document).ready(function() {
    $("a[data-target=overlay]").click(function(event) {
        var url = $(this).attr('href');
        openOverlay(event, url);
    });
});
